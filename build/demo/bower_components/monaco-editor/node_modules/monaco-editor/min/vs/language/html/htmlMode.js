!function(a){if("object"==typeof module&&"object"==typeof module.exports){var b=a(require,exports);void 0!==b&&(module.exports=b)}else"function"==typeof define&&define.amd&&define("vs/language/html/workerManager",["require","exports"],a)}(function(a,b){function c(a){var b,c,e=new d(function(a,d){b=a,c=d},function(){});return a.then(b,c),e}Object.defineProperty(b,"__esModule",{value:!0});var d=monaco.Promise,e=function(){function a(a){var b=this;this._defaults=a,this._worker=null,this._idleCheckInterval=setInterval(function(){return b._checkIfIdle()},3e4),this._lastUsedTime=0,this._configChangeListener=this._defaults.onDidChange(function(){return b._stopWorker()})}return a.prototype._stopWorker=function(){this._worker&&(this._worker.dispose(),this._worker=null),this._client=null},a.prototype.dispose=function(){clearInterval(this._idleCheckInterval),this._configChangeListener.dispose(),this._stopWorker()},a.prototype._checkIfIdle=function(){if(this._worker){var a=Date.now()-this._lastUsedTime;a>12e4&&this._stopWorker()}},a.prototype._getClient=function(){return this._lastUsedTime=Date.now(),this._client||(this._worker=monaco.editor.createWebWorker({moduleId:"vs/language/html/htmlWorker",createData:{languageSettings:this._defaults.options,languageId:this._defaults.languageId},label:this._defaults.languageId}),this._client=this._worker.getProxy()),this._client},a.prototype.getLanguageServiceWorker=function(){for(var a=this,b=[],d=0;d<arguments.length;d++)b[d]=arguments[d];var f;return c(this._getClient().then(function(a){f=a}).then(function(){return a._worker.withSyncedResources(b)}).then(function(){return f}))},a}();b.WorkerManager=e}),function(a){if("object"==typeof module&&"object"==typeof module.exports){var b=a(require,exports);void 0!==b&&(module.exports=b)}else"function"==typeof define&&define.amd&&define("vscode-languageserver-types/main",["require","exports"],a)}(function(j,e){Object.defineProperty(e,"__esModule",{value:!0});var q;!function(a){function b(a,b){return{line:a,character:b}}a.create=b,a.is=function(a){var b=a;return H.defined(b)&&H.number(b.line)&&H.number(b.character)}}(q=e.Position||(e.Position={}));var n;!function(a){function b(a,b,c,d){if(H.number(a)&&H.number(b)&&H.number(c)&&H.number(d))return{start:q.create(a,b),end:q.create(c,d)};if(q.is(a)&&q.is(b))return{start:a,end:b};throw new Error("Range#create called with invalid arguments["+a+", "+b+", "+c+", "+d+"]")}a.create=b,a.is=function(a){var b=a;return H.defined(b)&&q.is(b.start)&&q.is(b.end)}}(n=e.Range||(e.Range={}));var r;!function(a){function b(a,b){return{uri:a,range:b}}a.create=b,a.is=function(a){var b=a;return H.defined(b)&&n.is(b.range)&&(H.string(b.uri)||H.undefined(b.uri))}}(r=e.Location||(e.Location={}));var i;!function(a){a.Error=1,a.Warning=2,a.Information=3,a.Hint=4}(i=e.DiagnosticSeverity||(e.DiagnosticSeverity={}));var o;!function(a){function b(a,b,c,d,f){var g={range:a,message:b};return H.defined(c)&&(g.severity=c),H.defined(d)&&(g.code=d),H.defined(f)&&(g.source=f),g}a.create=b,a.is=function(a){var b=a;return H.defined(b)&&n.is(b.range)&&H.string(b.message)&&(H.number(b.severity)||H.undefined(b.severity))&&(H.number(b.code)||H.string(b.code)||H.undefined(b.code))&&(H.string(b.source)||H.undefined(b.source))}}(o=e.Diagnostic||(e.Diagnostic={}));var a;!function(a){function b(a,b){for(var c=[],d=2;d<arguments.length;d++)c[d-2]=arguments[d];var f={title:a,command:b};return H.defined(c)&&0<c.length&&(f.arguments=c),f}a.create=b,a.is=function(a){var b=a;return H.defined(b)&&H.string(b.title)&&H.string(b.title)}}(a=e.Command||(e.Command={}));var u;!function(a){function b(a,b){return{range:a,newText:b}}a.replace=b,a.insert=function(a,b){return{range:{start:a,end:a},newText:b}},a.del=function(a){return{range:a,newText:""}}}(u=e.TextEdit||(e.TextEdit={}));var s;!function(a){function b(a,b){return{textDocument:a,edits:b}}a.create=b,a.is=function(a){var b=a;return H.defined(b)&&l.is(b.textDocument)&&Array.isArray(b.edits)}}(s=e.TextDocumentEdit||(e.TextDocumentEdit={}));var c=function(){function a(a){this.edits=a}return a.prototype.insert=function(a,b){this.edits.push(u.insert(a,b))},a.prototype.replace=function(a,b){this.edits.push(u.replace(a,b))},a.prototype["delete"]=function(a){this.edits.push(u.del(a))},a.prototype.add=function(a){this.edits.push(a)},a.prototype.all=function(){return this.edits},a.prototype.clear=function(){this.edits.splice(0,this.edits.length)},a}(),d=function(){function a(a){var b=this;this._textEditChanges=Object.create(null),a&&(this._workspaceEdit=a,a.documentChanges?a.documentChanges.forEach(function(a){var d=new c(a.edits);b._textEditChanges[a.textDocument.uri]=d}):a.changes&&Object.keys(a.changes).forEach(function(d){var e=new c(a.changes[d]);b._textEditChanges[d]=e}))}return Object.defineProperty(a.prototype,"edit",{get:function(){return this._workspaceEdit},enumerable:!0,configurable:!0}),a.prototype.getTextEditChange=function(a){if(l.is(a)){if(this._workspaceEdit||(this._workspaceEdit={documentChanges:[]}),!this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for versioned document changes.");var b=a,d=this._textEditChanges[b.uri];if(!d){var e=[];this._workspaceEdit.documentChanges.push({textDocument:b,edits:e}),d=new c(e),this._textEditChanges[b.uri]=d}return d}if(this._workspaceEdit||(this._workspaceEdit={changes:Object.create(null)}),!this._workspaceEdit.changes)throw new Error("Workspace edit is not configured for normal text edit changes.");var d=this._textEditChanges[a];if(!d){var e=[];this._workspaceEdit.changes[a]=e,d=new c(e),this._textEditChanges[a]=d}return d},a}();e.WorkspaceChange=d;var f;!function(a){a.create=function(a){return{uri:a}},a.is=function(a){var b=a;return H.defined(b)&&H.string(b.uri)}}(f=e.TextDocumentIdentifier||(e.TextDocumentIdentifier={}));var l;!function(a){function b(a,b){return{uri:a,version:b}}a.create=b,a.is=function(a){var b=a;return H.defined(b)&&H.string(b.uri)&&H.number(b.version)}}(l=e.VersionedTextDocumentIdentifier||(e.VersionedTextDocumentIdentifier={}));var g;!function(a){function b(a,b,c,d){return{uri:a,languageId:b,version:c,text:d}}a.create=b,a.is=function(a){var b=a;return H.defined(b)&&H.string(b.uri)&&H.string(b.languageId)&&H.number(b.version)&&H.string(b.text)}}(g=e.TextDocumentItem||(e.TextDocumentItem={}));var m;!function(a){a.Text=1,a.Method=2,a.Function=3,a.Constructor=4,a.Field=5,a.Variable=6,a.Class=7,a.Interface=8,a.Module=9,a.Property=10,a.Unit=11,a.Value=12,a.Enum=13,a.Keyword=14,a.Snippet=15,a.Color=16,a.File=17,a.Reference=18}(m=e.CompletionItemKind||(e.CompletionItemKind={}));var p;!function(a){a.PlainText=1,a.Snippet=2}(p=e.InsertTextFormat||(e.InsertTextFormat={}));var h;!function(a){a.create=function(a){return{label:a}}}(h=e.CompletionItem||(e.CompletionItem={}));var t;!function(a){function b(a,b){return{items:a?a:[],isIncomplete:!!b}}a.create=b}(t=e.CompletionList||(e.CompletionList={}));var v;!function(a){a.fromPlainText=function(a){return a.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}}(v=e.MarkedString||(e.MarkedString={}));var y;!function(a){function b(a,b){return b?{label:a,documentation:b}:{label:a}}a.create=b}(y=e.ParameterInformation||(e.ParameterInformation={}));var b;!function(a){function b(a,b){for(var c=[],d=2;d<arguments.length;d++)c[d-2]=arguments[d];var f={label:a};return H.defined(b)&&(f.documentation=b),f.parameters=H.defined(c)?c:[],f}a.create=b}(b=e.SignatureInformation||(e.SignatureInformation={}));var x;!function(a){a.Text=1,a.Read=2,a.Write=3}(x=e.DocumentHighlightKind||(e.DocumentHighlightKind={}));var z;!function(a){function b(a,b){var c={range:a};return H.number(b)&&(c.kind=b),c}a.create=b}(z=e.DocumentHighlight||(e.DocumentHighlight={}));var A;!function(a){a.File=1,a.Module=2,a.Namespace=3,a.Package=4,a.Class=5,a.Method=6,a.Property=7,a.Field=8,a.Constructor=9,a.Enum=10,a.Interface=11,a.Function=12,a.Variable=13,a.Constant=14,a.String=15,a.Number=16,a.Boolean=17,a.Array=18}(A=e.SymbolKind||(e.SymbolKind={}));var k;!function(a){function b(a,b,c,d,f){var g={name:a,kind:b,location:{uri:d,range:c}};return f&&(g.containerName=f),g}a.create=b}(k=e.SymbolInformation||(e.SymbolInformation={}));var w;!function(a){a.create=function(a){return{diagnostics:a}},a.is=function(a){var b=a;return H.defined(b)&&H.typedArray(b.diagnostics,o.is)}}(w=e.CodeActionContext||(e.CodeActionContext={}));var B;!function(b){function c(a,b){var c={range:a};return H.defined(b)&&(c.data=b),c}b.create=c,b.is=function(b){var c=b;return H.defined(c)&&n.is(c.range)&&(H.undefined(c.command)||a.is(c.command))}}(B=e.CodeLens||(e.CodeLens={}));var C;!function(a){function b(a,b){return{tabSize:a,insertSpaces:b}}a.create=b,a.is=function(a){var b=a;return H.defined(b)&&H.number(b.tabSize)&&H.boolean(b.insertSpaces)}}(C=e.FormattingOptions||(e.FormattingOptions={}));var D=function(){return function(){}}();e.DocumentLink=D,function(a){function b(a,b){return{range:a,target:b}}a.create=b,a.is=function(a){var b=a;return H.defined(b)&&n.is(b.range)&&(H.undefined(b.target)||H.string(b.target))}}(D=e.DocumentLink||(e.DocumentLink={})),e.DocumentLink=D,e.EOL=["\n","\r\n","\r"];var E;!function(a){function b(a,b,c,d){return new I(a,b,c,d)}a.create=b,a.is=function(a){var b=a;return!!(H.defined(b)&&H.string(b.uri)&&(H.undefined(b.languageId)||H.string(b.languageId))&&H.number(b.lineCount)&&H.func(b.getText)&&H.func(b.positionAt)&&H.func(b.offsetAt))}}(E=e.TextDocument||(e.TextDocument={}));var G;!function(a){a.Manual=1,a.AfterDelay=2,a.FocusOut=3}(G=e.TextDocumentSaveReason||(e.TextDocumentSaveReason={}));var H,I=function(){function a(a,b,c,d){this._uri=a,this._languageId=b,this._version=c,this._content=d,this._lineOffsets=null}var b=Math.max,c=Math.min;return Object.defineProperty(a.prototype,"uri",{get:function(){return this._uri},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"languageId",{get:function(){return this._languageId},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"version",{get:function(){return this._version},enumerable:!0,configurable:!0}),a.prototype.getText=function(){return this._content},a.prototype.update=function(a,b){this._content=a.text,this._version=b,this._lineOffsets=null},a.prototype.getLineOffsets=function(){if(null===this._lineOffsets){for(var a=[],b=this._content,c=!0,d=0;d<b.length;d++){c&&(a.push(d),c=!1);var e=b.charAt(d);c="\r"===e||"\n"===e,"\r"===e&&d+1<b.length&&"\n"===b.charAt(d+1)&&d++}c&&0<b.length&&a.push(b.length),this._lineOffsets=a}return this._lineOffsets},a.prototype.positionAt=function(d){d=b(c(d,this._content.length),0);var e=this.getLineOffsets(),f=0,g=e.length;if(0===g)return q.create(0,d);for(;f<g;){var h=Math.floor((f+g)/2);e[h]>d?g=h:f=h+1}var i=f-1;return q.create(i,d-e[i])},a.prototype.offsetAt=function(a){var d=this.getLineOffsets();if(a.line>=d.length)return this._content.length;if(0>a.line)return 0;var e=d[a.line],f=a.line+1<d.length?d[a.line+1]:this._content.length;return b(c(e+a.character,f),e)},Object.defineProperty(a.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!0,configurable:!0}),a}();!function(a){var b=Object.prototype.toString;a.defined=function(a){return"undefined"!=typeof a},a.undefined=function(a){return"undefined"==typeof a},a.boolean=function(a){return!0===a||!1===a},a.string=function(a){return"[object String]"===b.call(a)},a.number=function(a){return"[object Number]"===b.call(a)},a.func=function(a){return"[object Function]"===b.call(a)},a.typedArray=function(a,b){return Array.isArray(a)&&a.every(b)}}(H||(H={}))}),define("vscode-languageserver-types",["vscode-languageserver-types/main"],function(a){return a}),function(a){if("object"==typeof module&&"object"==typeof module.exports){var b=a(require,exports);void 0!==b&&(module.exports=b)}else"function"==typeof define&&define.amd&&define("vs/language/html/languageFeatures",["require","exports","vscode-languageserver-types"],a)}(function(b,e){function j(a){switch(a){case f.DiagnosticSeverity.Error:return monaco.Severity.Error;case f.DiagnosticSeverity.Warning:return monaco.Severity.Warning;case f.DiagnosticSeverity.Information:case f.DiagnosticSeverity.Hint:default:return monaco.Severity.Info;}}function k(a,b){var c="number"==typeof b.code?b.code+"":b.code;return{severity:j(b.severity),startLineNumber:b.range.start.line+1,startColumn:b.range.start.character+1,endLineNumber:b.range.end.line+1,endColumn:b.range.end.character+1,message:b.message,code:c,source:b.source}}function n(a){if(a)return{character:a.column-1,line:a.lineNumber-1}}function q(a){if(a)return{start:n(a.getStartPosition()),end:n(a.getEndPosition())}}function i(a){if(a)return new l(a.start.line+1,a.start.character+1,a.end.line+1,a.end.character+1)}function a(a){var b=monaco.languages.CompletionItemKind;return a===f.CompletionItemKind.Text?b.Text:a===f.CompletionItemKind.Method?b.Method:a===f.CompletionItemKind.Function?b.Function:a===f.CompletionItemKind.Constructor?b.Constructor:a===f.CompletionItemKind.Field?b.Field:a===f.CompletionItemKind.Variable?b.Variable:a===f.CompletionItemKind.Class?b.Class:a===f.CompletionItemKind.Interface?b.Interface:a===f.CompletionItemKind.Module?b.Module:a===f.CompletionItemKind.Property?b.Property:a===f.CompletionItemKind.Unit?b.Unit:a===f.CompletionItemKind.Value?b.Value:a===f.CompletionItemKind.Enum?b.Enum:a===f.CompletionItemKind.Keyword?b.Keyword:a===f.CompletionItemKind.Snippet?b.Snippet:a===f.CompletionItemKind.Color?b.Color:a===f.CompletionItemKind.File?b.File:a===f.CompletionItemKind.Reference?b.Reference:b.Property}function o(a){if(a)return{range:i(a.range),text:a.newText}}function r(a){var b=monaco.languages.DocumentHighlightKind;return a===f.DocumentHighlightKind.Read?b.Read:a===f.DocumentHighlightKind.Write?b.Write:a===f.DocumentHighlightKind.Text?b.Text:b.Text}function c(a){return{tabSize:a.tabSize,insertSpaces:a.insertSpaces}}function d(a,b){return b.cancel&&a.onCancellationRequested(function(){return b.cancel()}),b}Object.defineProperty(e,"__esModule",{value:!0});var f=b("vscode-languageserver-types"),l=(monaco.Uri,monaco.Range),g=function(){function a(a,b){var c=this;this._languageId=a,this._worker=b,this._disposables=[],this._listener=Object.create(null);var d=function(a){var b=a.getModeId();if(b===c._languageId){var d;c._listener[a.uri.toString()]=a.onDidChangeContent(function(){clearTimeout(d),d=setTimeout(function(){return c._doValidate(a.uri,b)},500)}),c._doValidate(a.uri,b)}},f=function(a){monaco.editor.setModelMarkers(a,c._languageId,[]);var b=a.uri.toString(),d=c._listener[b];d&&(d.dispose(),delete c._listener[b])};this._disposables.push(monaco.editor.onDidCreateModel(d)),this._disposables.push(monaco.editor.onWillDisposeModel(function(a){f(a)})),this._disposables.push(monaco.editor.onDidChangeModelLanguage(function(a){f(a.model),d(a.model)})),this._disposables.push({dispose:function(){for(var a in c._listener)c._listener[a].dispose()}}),monaco.editor.getModels().forEach(d)}return a.prototype.dispose=function(){this._disposables.forEach(function(a){return a&&a.dispose()}),this._disposables=[]},a.prototype._doValidate=function(a,b){this._worker(a).then(function(c){return c.doValidation(a.toString()).then(function(c){var d=c.map(function(b){return k(a,b)});monaco.editor.setModelMarkers(monaco.editor.getModel(a),b,d)})}).then(void 0,function(a){console.error(a)})},a}();e.DiagnostcsAdapter=g;var m=function(){function b(a){this._worker=a}return Object.defineProperty(b.prototype,"triggerCharacters",{get:function(){return[".",":","<","\"","=","/"]},enumerable:!0,configurable:!0}),b.prototype.provideCompletionItems=function(b,c,e){var g=(b.getWordUntilPosition(c),b.uri);return d(e,this._worker(g).then(function(a){return a.doComplete(g.toString(),n(c))}).then(function(b){if(b){var c=b.items.map(function(b){var c={label:b.label,insertText:b.insertText,sortText:b.sortText,filterText:b.filterText,documentation:b.documentation,detail:b.detail,kind:a(b.kind)};return b.textEdit&&(c.range=i(b.textEdit.range),c.insertText=b.textEdit.newText),b.insertTextFormat===f.InsertTextFormat.Snippet&&(c.insertText={value:c.insertText}),c});return{isIncomplete:b.isIncomplete,items:c}}}))},b}();e.CompletionAdapter=m;var p=function(){function a(a){this._worker=a}return a.prototype.provideDocumentHighlights=function(a,b,c){var f=a.uri;return d(c,this._worker(f).then(function(a){return a.findDocumentHighlights(f.toString(),n(b))}).then(function(a){if(a)return a.map(function(a){return{range:i(a.range),kind:r(a.kind)}})}))},a}();e.DocumentHighlightAdapter=p;var h=function(){function a(a){this._worker=a}return a.prototype.provideLinks=function(a,b){var c=a.uri;return d(b,this._worker(c).then(function(a){return a.findDocumentLinks(c.toString())}).then(function(a){if(a)return a.map(function(a){return{range:i(a.range),url:a.target}})}))},a}();e.DocumentLinkAdapter=h;var s=function(){function a(a){this._worker=a}return a.prototype.provideDocumentFormattingEdits=function(a,b,e){var f=a.uri;return d(e,this._worker(f).then(function(a){return a.format(f.toString(),null,c(b)).then(function(a){if(a&&0!==a.length)return a.map(o)})}))},a}();e.DocumentFormattingEditProvider=s;var t=function(){function a(a){this._worker=a}return a.prototype.provideDocumentRangeFormattingEdits=function(a,b,f,e){var g=a.uri;return d(e,this._worker(g).then(function(a){return a.format(g.toString(),q(b),c(f)).then(function(a){if(a&&0!==a.length)return a.map(o)})}))},a}();e.DocumentRangeFormattingEditProvider=t}),function(a){if("object"==typeof module&&"object"==typeof module.exports){var b=a(require,exports);void 0!==b&&(module.exports=b)}else"function"==typeof define&&define.amd&&define("vs/language/html/htmlMode",["require","exports","./workerManager","./languageFeatures"],a)}(function(a,b){function c(b){var c=[],g=new d.WorkerManager(b);c.push(g);var e=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return g.getLanguageServiceWorker.apply(g,a)},h=b.languageId;c.push(monaco.languages.registerCompletionItemProvider(h,new f.CompletionAdapter(e))),c.push(monaco.languages.registerDocumentHighlightProvider(h,new f.DocumentHighlightAdapter(e))),c.push(monaco.languages.registerLinkProvider(h,new f.DocumentLinkAdapter(e))),"html"===h&&(c.push(monaco.languages.registerDocumentFormattingEditProvider(h,new f.DocumentFormattingEditProvider(e))),c.push(monaco.languages.registerDocumentRangeFormattingEditProvider(h,new f.DocumentRangeFormattingEditProvider(e))),c.push(new f.DiagnostcsAdapter(h,e)))}Object.defineProperty(b,"__esModule",{value:!0});var d=a("./workerManager"),f=a("./languageFeatures");b.setupMode=c});