(function(){function C(t){this.tokens=[],this.tokens.links={},this.options=t||u.defaults,this.rules=p.normal,this.options.gfm&&(this.options.tables?this.rules=p.tables:this.rules=p.gfm)}function b(o,e){if(this.options=e||u.defaults,this.links=o,this.rules=g.normal,this.renderer=this.options.renderer||new S,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.gfm?this.options.breaks?this.rules=g.breaks:this.rules=g.gfm:this.options.pedantic&&(this.rules=g.pedantic)}function S(t){this.options=t||{}}function E(t){this.tokens=[],this.token=null,this.options=t||u.defaults,this.options.renderer=this.options.renderer||new S,this.renderer=this.options.renderer,this.renderer.options=this.options}function L(o,e){return o.replace(e?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function t(t){return t.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/g,function(o,e){return"colon"===(e=e.toLowerCase())?":":"#"===e.charAt(0)?"x"===e.charAt(1)?k(parseInt(e.substring(2),16)):k(+e.substring(1)):""})}function e(r,e){return r=r.source,e=e||"",function t(n,i){return n?(i=i.source||i,i=i.replace(/(^|[^\[])\^/g,"$1"),r=r.replace(n,i),t):new RegExp(r,e)}}function o(){}function i(o){for(var e=1,i,t;e<arguments.length;e++)for(t in i=arguments[e],i)Object.prototype.hasOwnProperty.call(i,t)&&(o[t]=i[t]);return o}function u(e,o,l){if(l||"function"==typeof o){l||(l=o,o=null);var r=(o=i({},u.defaults,o||{})).highlight,t=0,d,s;try{d=C.lex(e,o)}catch(t){return l(t)}s=d.length;var p=function(n){if(n)return o.highlight=r,l(n);var e;try{e=E.parse(d,o)}catch(e){n=e}return o.highlight=r,n?l(n):l(null,e)};if(!r||3>r.length)return p();if(delete o.highlight,!s)return p();for(;t<d.length;t++)!function(o){"code"===o.type?r(o.text,o.lang,function(e,t){return e?p(e):null==t||t===o.text?--s||p():(o.text=t,o.escaped=!0,void(--s||p()))}):--s||p()}(d[t])}else try{return o&&(o=i({},u.defaults,o)),E.parse(C.lex(e,o),o)}catch(t){if(t.message+="\nPlease report this to https://github.com/chjj/marked.",(o||u.defaults).silent)return"<p>An error occurred:</p><pre>"+L(t.message+"",!0)+"</pre>";throw t}}var l=Math.ceil,T=Number.MAX_VALUE,r=Math.pow,I=Math.abs,w=Math.round,M=Math.floor,q=Math.min,G=Math.max,k=String.fromCharCode,s=["exports","require","vs/editor/common/core/range","vs/base/common/lifecycle","vs/base/browser/dom","vs/css!vs/editor/editor.main","vs/nls","vs/base/common/winjs.base","vs/nls!vs/editor/editor.main","vs/base/common/strings","vs/base/common/errors","vs/base/common/event","vs/editor/common/core/position","vs/editor/common/editorCommonExtensions","vs/platform/theme/common/themeService","vs/base/common/platform","vs/platform/instantiation/common/instantiation","vs/editor/common/modes","vs/base/common/async","vs/platform/contextkey/common/contextkey","vs/editor/common/editorCommon","vs/editor/common/editorContextKeys","vs/editor/common/core/selection","vs/platform/theme/common/colorRegistry","vs/base/common/uri","vs/editor/browser/editorBrowser","vs/base/common/objects","vs/base/browser/fastDomNode","vs/base/browser/browser","vs/base/common/types","vs/editor/browser/editorBrowserExtensions","vs/platform/commands/common/commands","vs/base/common/color","vs/base/common/arrays","vs/editor/common/model/textModelWithDecorations","vs/editor/browser/view/viewPart","vs/base/common/severity","vs/editor/common/view/editorColorRegistry","vs/base/common/eventEmitter","vs/editor/common/controller/cursorCommon","vs/base/common/keyCodes","vs/base/browser/ui/widget","vs/editor/common/services/codeEditorService","vs/editor/common/modes/languageConfigurationRegistry","vs/platform/registry/common/platform","vs/base/common/paths","vs/platform/keybinding/common/keybinding","vs/base/browser/mouseEvent","vs/base/common/scrollable","vs/editor/common/config/editorOptions","vs/platform/message/common/message","vs/base/browser/ui/aria/aria","vs/base/browser/builder","vs/base/common/actions","vs/editor/common/controller/cursorEvents","vs/editor/common/model/textModelEvents","vs/editor/common/services/modelService","vs/editor/common/view/viewEvents","vs/platform/telemetry/common/telemetry","vs/editor/common/core/editOperation","vs/editor/common/modes/languageConfiguration","vs/editor/common/services/editorWorkerService","vs/platform/configuration/common/configuration","vs/base/browser/ui/scrollbar/scrollableElement","vs/platform/editor/common/editor","vs/base/browser/keyboardEvent","vs/editor/browser/config/configuration","vs/editor/browser/view/dynamicViewOverlay","vs/editor/common/modes/nullMode","vs/platform/contextview/browser/contextView","vs/base/common/network","vs/platform/opener/common/opener","vs/base/common/assert","vs/editor/common/commands/replaceCommand","vs/base/browser/touch","vs/base/browser/ui/actionbar/actionbar","vs/platform/storage/common/storage","vs/editor/standalone/common/standaloneThemeService","vs/editor/common/view/renderingContext","vs/base/common/events","vs/base/common/map","vs/base/common/filters","vs/editor/common/viewModel/viewEventHandler","vs/base/browser/globalMouseMoveMonitor","vs/platform/instantiation/common/serviceCollection","vs/platform/actions/common/actions","vs/editor/common/viewModel/viewModel","vs/editor/common/services/resolverService","vs/editor/common/services/modeService","vs/editor/common/core/characterClassifier","vs/editor/common/core/viewLineToken","vs/editor/common/modes/supports","vs/editor/contrib/zoneWidget/browser/peekViewWidget","vs/editor/common/model/textModel","vs/editor/common/controller/wordCharacterClassifier","vs/editor/common/model/wordHelper","vs/editor/common/core/uint","vs/editor/common/core/token","vs/editor/common/modes/supports/richEditBrackets","vs/base/browser/ui/sash/sash","vs/base/parts/quickopen/common/quickOpen","vs/editor/common/model/textSource","vs/base/browser/htmlContentRenderer","vs/platform/markers/common/markers","vs/editor/common/viewModel/prefixSumComputer","vs/platform/keybinding/common/keybindingsRegistry","vs/editor/common/viewLayout/viewLineRenderer","vs/base/common/iterator","vs/base/common/idGenerator","vs/editor/contrib/suggest/browser/suggest","vs/base/browser/ui/highlightedlabel/highlightedLabel","vs/editor/common/view/minimapCharRenderer","vs/editor/browser/view/viewLayer","vs/editor/browser/viewParts/glyphMargin/glyphMargin","vs/editor/browser/editorDom","vs/base/browser/ui/inputbox/inputBox","vs/editor/common/model/tokensBinaryEncoding","vs/base/browser/ui/scrollbar/scrollbarArrow","vs/editor/common/model/modelLine","vs/editor/common/controller/cursorTypeOperations","vs/base/parts/quickopen/browser/quickOpenModel","vs/editor/contrib/find/common/findModel","vs/editor/common/modes/textToHtmlTokenizer","vs/base/common/cancellation","vs/base/browser/event","vs/editor/contrib/referenceSearch/browser/referencesModel","vs/editor/common/modes/modesRegistry","vs/platform/configuration/common/configurationRegistry","vs/base/parts/tree/browser/treeDefaults","vs/editor/standalone/browser/simpleServices","vs/editor/common/core/lineTokens","vs/editor/common/core/editorState","vs/editor/common/config/fontInfo","vs/base/common/htmlContent","vs/editor/common/controller/coreCommands","vs/editor/common/config/editorZoom","vs/base/common/functional","vs/platform/theme/common/styler","vs/editor/common/viewLayout/lineDecorations","vs/base/common/diff/diff","vs/editor/common/view/overviewZoneManager","vs/editor/browser/codeEditor","vs/editor/contrib/snippet/browser/snippetParser","vs/editor/standalone/browser/quickOpen/editorQuickOpen","vs/platform/workspace/common/workspace","vs/editor/standalone/common/monarch/monarchCommon","vs/editor/common/services/resourceConfiguration","vs/editor/common/services/editorWorkerServiceImpl","vs/base/browser/iframe","vs/editor/common/editorAction","vs/base/browser/ui/scrollbar/scrollbarState","vs/editor/browser/controller/textAreaState","vs/editor/common/standalone/standaloneBase","vs/base/browser/ui/findinput/findInputCheckboxes","vs/editor/browser/controller/textAreaInput","vs/base/common/keybindingLabels","vs/platform/environment/common/environment","vs/base/common/collections","vs/editor/common/model/textModelSearch","vs/platform/keybinding/common/keybindingResolver","vs/base/browser/ui/contextview/contextview","vs/base/parts/tree/browser/treeImpl","vs/base/browser/ui/iconLabel/iconLabel","vs/platform/progress/common/progress","vs/editor/browser/widget/diffNavigator","vs/base/common/glob","vs/base/common/mime","vs/editor/common/commands/shiftCommand","vs/editor/common/config/commonEditorConfig","vs/editor/common/controller/cursorMoveOperations","vs/editor/common/controller/cursorDeleteOperations","vs/css!vs/editor/contrib/goToDeclaration/browser/goToDeclarationMouse","vs/editor/common/controller/cursorWordOperations","vs/editor/common/controller/cursorMoveCommands","vs/base/common/labels","vs/editor/common/model/model","vs/editor/contrib/find/common/findController","vs/editor/contrib/goToDeclaration/browser/goToDeclaration","vs/editor/contrib/parameterHints/common/parameterHints","vs/editor/common/viewModel/splitLinesCollection","vs/editor/contrib/snippet/browser/snippetController2","vs/editor/contrib/toggleTabFocusMode/common/toggleTabFocusMode","vs/editor/browser/viewParts/margin/margin","vs/editor/contrib/zoneWidget/browser/zoneWidget","vs/base/browser/ui/scrollbar/abstractScrollbar","vs/editor/browser/viewParts/lines/viewLine","vs/editor/browser/controller/mouseTarget","vs/platform/instantiation/common/descriptors","vs/editor/browser/viewParts/lineNumbers/lineNumbers","vs/editor/contrib/comment/common/blockCommentCommand","vs/editor/browser/viewParts/overviewRuler/overviewRulerImpl","vs/editor/browser/widget/codeEditorWidget","vs/editor/contrib/goToDeclaration/browser/clickLinkGesture","vs/editor/browser/widget/diffEditorWidget","vs/editor/browser/widget/embeddedCodeEditorWidget","vs/editor/contrib/hover/browser/hoverOperation","vs/editor/contrib/hover/browser/hoverWidgets","vs/base/common/worker/simpleWorker","vs/editor/contrib/referenceSearch/browser/referencesController","vs/editor/contrib/goToDeclaration/browser/goToDeclarationCommands","vs/editor/standalone/browser/standaloneServices","vs/css!vs/base/browser/ui/countBadge/countBadge","vs/editor/common/modes/supports/tokenization","vs/editor/common/modes/tokenizationRegistry","vs/base/browser/ui/countBadge/countBadge","vs/css!vs/base/browser/ui/findinput/findInput","vs/css!vs/base/browser/ui/findinput/findInputCheckboxes","vs/editor/common/modes/supports/electricCharacter","vs/css!vs/base/browser/ui/iconLabel/iconlabel","vs/base/common/marked/marked","vs/editor/common/services/abstractCodeEditorService","vs/css!vs/base/browser/ui/inputbox/inputBox","vs/css!vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/css!vs/base/browser/ui/list/list","vs/editor/browser/viewParts/lines/rangeUtil","vs/editor/common/view/runtimeMinimapCharRenderer","vs/editor/common/view/viewContext","vs/editor/common/view/viewEventDispatcher","vs/css!vs/base/browser/ui/menu/menu","vs/css!vs/base/browser/ui/progressbar/progressbar","vs/base/browser/ui/progressbar/progressbar","vs/editor/common/viewLayout/viewLinesViewportData","vs/editor/common/viewLayout/whitespaceComputer","vs/editor/common/viewLayout/linesLayout","vs/css!vs/base/browser/ui/sash/sash","vs/editor/common/model/mirrorModel","vs/editor/common/services/editorSimpleWorker","vs/editor/standalone/browser/standaloneLanguages","vs/css!vs/base/browser/ui/scrollbar/media/scrollbars","vs/base/common/comparers","vs/editor/browser/viewParts/contentWidgets/contentWidgets","vs/editor/browser/viewParts/decorations/decorations","vs/base/browser/ui/list/listView","vs/editor/browser/viewParts/linesDecorations/linesDecorations","vs/base/browser/ui/list/listWidget","vs/editor/browser/viewParts/marginDecorations/marginDecorations","vs/editor/browser/viewParts/overlayWidgets/overlayWidgets","vs/editor/browser/viewParts/viewZones/viewZones","vs/base/parts/tree/browser/treeView","vs/editor/common/viewLayout/viewLayout","vs/editor/common/viewModel/viewModelDecorations","vs/editor/contrib/caretOperations/common/moveCaretCommand","vs/editor/contrib/colorPicker/browser/colorPickerModel","vs/editor/contrib/colorPicker/browser/elements/colorPickerBody","vs/editor/contrib/colorPicker/browser/elements/colorPickerHeader","vs/editor/contrib/colorPicker/browser/colorPickerWidget","vs/editor/contrib/colorPicker/common/color","vs/editor/contrib/colorPicker/common/colorFormatter","vs/editor/contrib/colorPicker/common/colorPicker","vs/css!vs/base/browser/ui/selectBox/selectBox","vs/editor/contrib/comment/common/lineCommentCommand","vs/editor/contrib/dnd/common/dragAndDropCommand","vs/editor/contrib/find/common/find","vs/editor/contrib/find/common/findState","vs/editor/contrib/find/common/replaceAllCommand","vs/editor/contrib/find/common/replacePattern","vs/editor/contrib/folding/common/folding","vs/editor/contrib/folding/common/indentFoldStrategy","vs/editor/contrib/format/common/formatCommand","vs/base/browser/ui/selectBox/selectBox","vs/css!vs/base/parts/quickopen/browser/quickopen","vs/css!vs/base/parts/tree/browser/tree","vs/editor/contrib/inPlaceReplace/common/inPlaceReplaceCommand","vs/editor/contrib/indentation/common/indentUtils","vs/editor/contrib/linesOperations/common/copyLinesCommand","vs/editor/contrib/linesOperations/common/deleteLinesCommand","vs/editor/contrib/linesOperations/common/sortLinesCommand","vs/editor/contrib/quickFix/browser/lightBulbWidget","vs/editor/contrib/quickFix/browser/quickFixWidget","vs/editor/contrib/smartSelect/common/tokenTree","vs/css!vs/editor/browser/controller/textAreaHandler","vs/editor/contrib/snippet/browser/snippetVariables","vs/editor/contrib/suggest/browser/completionModel","vs/editor/standalone/browser/colorizer","vs/css!vs/editor/browser/viewParts/currentLineHighlight/currentLineHighlight","vs/editor/standalone/common/monarch/monarchCompile","vs/editor/standalone/common/monarch/monarchLexer","vs/css!vs/editor/browser/viewParts/currentLineMarginHighlight/currentLineMarginHighlight","vs/css!vs/editor/browser/viewParts/decorations/decorations","vs/css!vs/editor/browser/viewParts/glyphMargin/glyphMargin","vs/css!vs/editor/browser/viewParts/indentGuides/indentGuides","vs/base/browser/ui/menu/menu","vs/nls!vs/base/browser/ui/aria/aria","vs/css!vs/editor/browser/viewParts/lineNumbers/lineNumbers","vs/nls!vs/base/browser/ui/findinput/findInput","vs/nls!vs/base/browser/ui/findinput/findInputCheckboxes","vs/css!vs/editor/browser/viewParts/lines/viewLines","vs/nls!vs/base/browser/ui/inputbox/inputBox","vs/css!vs/editor/browser/viewParts/linesDecorations/linesDecorations","vs/base/browser/ui/findinput/findInput","vs/nls!vs/base/common/keybindingLabels","vs/css!vs/editor/browser/viewParts/marginDecorations/marginDecorations","vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/nls!vs/base/common/severity","vs/css!vs/editor/browser/viewParts/minimap/minimap","vs/nls!vs/base/parts/quickopen/browser/quickOpenModel","vs/css!vs/editor/browser/viewParts/overlayWidgets/overlayWidgets","vs/nls!vs/base/parts/quickopen/browser/quickOpenWidget","vs/nls!vs/base/parts/tree/browser/treeDefaults","vs/css!vs/editor/browser/viewParts/rulers/rulers","vs/css!vs/editor/browser/viewParts/scrollDecoration/scrollDecoration","vs/base/parts/quickopen/browser/quickOpenWidget","vs/nls!vs/editor/browser/widget/diffEditorWidget","vs/nls!vs/editor/browser/widget/diffReview","vs/nls!vs/editor/common/config/commonEditorConfig","vs/nls!vs/editor/common/config/editorOptions","vs/css!vs/editor/browser/viewParts/selections/selections","vs/css!vs/editor/browser/viewParts/viewCursors/viewCursors","vs/css!vs/editor/browser/widget/media/diffEditor","vs/css!vs/editor/browser/widget/media/diffReview","vs/css!vs/editor/browser/widget/media/editor","vs/editor/common/controller/cursorColumnSelection","vs/css!vs/editor/browser/widget/media/tokens","vs/css!vs/editor/contrib/bracketMatching/browser/bracketMatching","vs/css!vs/editor/contrib/clipboard/browser/clipboard","vs/css!vs/editor/contrib/codelens/browser/codelensWidget","vs/css!vs/editor/contrib/colorPicker/browser/colorPicker","vs/editor/common/controller/oneCursor","vs/editor/common/controller/cursorCollection","vs/editor/contrib/linesOperations/common/moveLinesCommand","vs/nls!vs/editor/common/controller/cursor","vs/editor/common/controller/cursor","vs/nls!vs/editor/common/model/textModelWithTokens","vs/editor/common/model/textModelWithTokens","vs/editor/common/model/textModelWithMarkers","vs/css!vs/editor/contrib/dnd/browser/dnd","vs/editor/common/model/editableTextModel","vs/css!vs/editor/contrib/find/browser/findWidget","vs/css!vs/editor/contrib/folding/browser/folding","vs/editor/common/viewModel/characterHardWrappingLineMapper","vs/editor/common/viewModel/viewModelImpl","vs/editor/contrib/find/common/findDecorations","vs/base/common/diff/diffChange","vs/editor/contrib/folding/common/foldingModel","vs/editor/contrib/snippet/browser/snippetSession","vs/css!vs/editor/contrib/goToDeclaration/browser/messageController","vs/nls!vs/editor/common/modes/modesRegistry","vs/nls!vs/editor/common/services/bulkEdit","vs/editor/common/services/bulkEdit","vs/nls!vs/editor/common/services/modelServiceImpl","vs/nls!vs/editor/common/view/editorColorRegistry","vs/nls!vs/editor/contrib/bracketMatching/common/bracketMatching","vs/nls!vs/editor/contrib/caretOperations/common/caretOperations","vs/nls!vs/editor/contrib/caretOperations/common/transpose","vs/nls!vs/editor/contrib/clipboard/browser/clipboard","vs/nls!vs/editor/contrib/comment/common/comment","vs/nls!vs/editor/contrib/contextmenu/browser/contextmenu","vs/nls!vs/editor/contrib/find/browser/findWidget","vs/nls!vs/editor/contrib/find/common/findController","vs/nls!vs/editor/contrib/folding/browser/folding","vs/nls!vs/editor/contrib/format/browser/formatActions","vs/nls!vs/editor/contrib/goToDeclaration/browser/goToDeclarationCommands","vs/nls!vs/editor/contrib/goToDeclaration/browser/goToDeclarationMouse","vs/nls!vs/editor/contrib/gotoError/browser/gotoError","vs/nls!vs/editor/contrib/hover/browser/hover","vs/nls!vs/editor/contrib/hover/browser/modesContentHover","vs/nls!vs/editor/contrib/inPlaceReplace/common/inPlaceReplace","vs/nls!vs/editor/contrib/linesOperations/common/linesOperations","vs/nls!vs/editor/contrib/links/browser/links","vs/nls!vs/editor/contrib/multicursor/common/multicursor","vs/nls!vs/editor/contrib/parameterHints/browser/parameterHints","vs/nls!vs/editor/contrib/parameterHints/browser/parameterHintsWidget","vs/nls!vs/editor/contrib/quickFix/browser/quickFixCommands","vs/nls!vs/editor/contrib/referenceSearch/browser/referenceSearch","vs/nls!vs/editor/contrib/referenceSearch/browser/referencesController","vs/nls!vs/editor/contrib/referenceSearch/browser/referencesModel","vs/css!vs/editor/contrib/gotoError/browser/gotoError","vs/nls!vs/editor/contrib/referenceSearch/browser/referencesWidget","vs/nls!vs/editor/contrib/rename/browser/rename","vs/nls!vs/editor/contrib/rename/browser/renameInputField","vs/nls!vs/editor/contrib/smartSelect/common/smartSelect","vs/nls!vs/editor/contrib/suggest/browser/suggestController","vs/nls!vs/editor/contrib/suggest/browser/suggestWidget","vs/nls!vs/editor/contrib/toggleTabFocusMode/common/toggleTabFocusMode","vs/nls!vs/editor/contrib/wordHighlighter/common/wordHighlighter","vs/nls!vs/editor/contrib/zoneWidget/browser/peekViewWidget","vs/nls!vs/editor/standalone/browser/inspectTokens/inspectTokens","vs/nls!vs/editor/standalone/browser/quickOpen/gotoLine","vs/nls!vs/editor/standalone/browser/quickOpen/quickCommand","vs/nls!vs/editor/standalone/browser/quickOpen/quickOutline","vs/nls!vs/editor/standalone/browser/standaloneCodeEditor","vs/nls!vs/editor/standalone/browser/toggleHighContrast/toggleHighContrast","vs/nls!vs/platform/configuration/common/configurationRegistry","vs/nls!vs/platform/keybinding/common/abstractKeybindingService","vs/nls!vs/platform/message/common/message","vs/nls!vs/platform/theme/common/colorRegistry","vs/platform/contextview/browser/contextMenuHandler","vs/platform/contextview/browser/contextMenuService","vs/css!vs/editor/contrib/hover/browser/hover","vs/css!vs/editor/contrib/links/browser/links","vs/css!vs/editor/contrib/parameterHints/browser/parameterHints","vs/css!vs/editor/contrib/quickFix/browser/lightBulbWidget","vs/css!vs/editor/contrib/referenceSearch/browser/referencesWidget","vs/css!vs/editor/contrib/rename/browser/renameInputField","vs/css!vs/editor/contrib/snippet/browser/snippetSession","vs/css!vs/editor/contrib/suggest/browser/media/suggest","vs/css!vs/editor/contrib/zoneWidget/browser/peekViewWidget","vs/editor/common/services/webWorker","vs/editor/contrib/smartSelect/common/tokenSelectionSupport","vs/css!vs/editor/contrib/zoneWidget/browser/zoneWidget","vs/css!vs/editor/standalone/browser/accessibilityHelp/accessibilityHelp","vs/editor/contrib/links/common/links","vs/css!vs/editor/standalone/browser/iPadShowKeyboard/iPadShowKeyboard","vs/css!vs/editor/standalone/browser/inspectTokens/inspectTokens","vs/css!vs/editor/standalone/browser/quickOpen/gotoLine","vs/css!vs/editor/standalone/browser/quickOpen/quickOutline","vs/editor/common/modes/editorModeContext","vs/platform/actions/common/menu","vs/css!vs/editor/standalone/browser/standalone-tokens","vs/css!vs/platform/contextview/browser/contextMenuHandler","vs/editor/browser/config/charWidthReader","vs/platform/files/common/files","vs/editor/browser/config/elementSizeObserver","vs/platform/instantiation/common/instantiationService","vs/platform/keybinding/common/abstractKeybindingService","vs/base/browser/ui/list/rangeMap","vs/base/browser/ui/list/rowCache","vs/platform/contextkey/browser/contextKeyService","vs/platform/keybinding/common/resolvedKeybindingItem","vs/platform/keybinding/common/usLayoutResolvedKeybinding","vs/platform/lifecycle/common/lifecycle","vs/platform/markers/common/markerService","vs/editor/standalone/browser/standaloneEditor","vs/base/common/scorer","vs/base/common/callbackList","vs/editor/contrib/hover/browser/modesGlyphHover","vs/base/common/stopwatch","vs/nls!vs/base/browser/ui/actionbar/actionbar","vs/base/common/graph","vs/base/browser/ui/scrollbar/scrollbarVisibilityController","vs/editor/common/services/modelServiceImpl","vs/editor/contrib/dnd/browser/dnd","vs/editor/standalone/browser/iPadShowKeyboard/iPadShowKeyboard","vs/platform/jsonschemas/common/jsonContributionRegistry","vs/base/common/history","vs/editor/common/commands/trimTrailingWhitespaceCommand","vs/editor/common/services/languagesRegistry","vs/editor/common/services/modeServiceImpl","vs/platform/configuration/common/model","vs/base/browser/ui/scrollbar/horizontalScrollbar","vs/base/browser/ui/scrollbar/verticalScrollbar","vs/editor/common/commands/surroundSelectionCommand","vs/base/common/json","vs/editor/browser/view/viewOverlays","vs/editor/browser/viewParts/viewCursors/viewCursor","vs/base/parts/quickopen/browser/quickOpenViewer","vs/base/common/decorators","vs/editor/common/commonCodeEditor","vs/base/parts/tree/browser/tree","vs/editor/browser/view/viewController","vs/editor/contrib/caretOperations/common/caretOperations","vs/editor/contrib/caretOperations/common/transpose","vs/editor/contrib/clipboard/browser/clipboard","vs/editor/contrib/codelens/browser/codelens","vs/editor/contrib/comment/common/comment","vs/editor/contrib/contextmenu/browser/contextmenu","vs/editor/contrib/cursorUndo/browser/cursorUndo","vs/editor/common/diff/diffComputer","vs/editor/contrib/folding/browser/folding","vs/editor/contrib/format/common/format","vs/editor/contrib/format/browser/formatActions","vs/base/parts/tree/browser/treeDnd","vs/editor/contrib/hover/common/hover","vs/editor/contrib/hover/browser/modesContentHover","vs/editor/contrib/linesOperations/common/linesOperations","vs/editor/contrib/multicursor/common/multicursor","vs/base/parts/tree/browser/treeModel","vs/editor/contrib/quickFix/browser/quickFix","vs/editor/contrib/quickFix/browser/quickFixModel","vs/editor/contrib/quickFix/browser/quickFixCommands","vs/editor/contrib/quickOpen/common/quickOpen","vs/editor/contrib/smartSelect/common/smartSelect","vs/base/parts/tree/browser/treeViewModel","vs/base/worker/defaultWorkerFactory","vs/editor/contrib/suggest/browser/suggestModel","vs/editor/common/model/editStack","vs/editor/contrib/wordOperations/common/wordOperations","vs/editor/standalone/browser/toggleHighContrast/toggleHighContrast","vs/platform/contextview/browser/contextViewService","vs/platform/telemetry/common/telemetryUtils","vs/platform/opener/browser/openerService","vs/editor/common/model/indentRanges","vs/editor/common/model/indentationGuesser","vs/editor/standalone/browser/quickOpen/quickOpenEditorWidget","vs/css!vs/base/browser/builder","vs/editor/browser/services/codeEditorServiceImpl","vs/editor/browser/viewParts/editorScrollbar/editorScrollbar","vs/base/common/marshalling","vs/base/common/hash","vs/editor/browser/controller/mouseHandler","vs/editor/browser/controller/pointerHandler","vs/editor/browser/view/viewOutgoingEvents","vs/editor/browser/viewParts/lines/viewLines","vs/editor/browser/viewParts/minimap/minimap","vs/editor/browser/viewParts/scrollDecoration/scrollDecoration","vs/editor/browser/viewParts/selections/selections","vs/css!vs/base/browser/ui/actionbar/actionbar","vs/editor/browser/viewParts/currentLineHighlight/currentLineHighlight","vs/editor/browser/viewParts/currentLineMarginHighlight/currentLineMarginHighlight","vs/editor/browser/viewParts/indentGuides/indentGuides","vs/css!vs/base/browser/ui/aria/aria","vs/editor/browser/controller/textAreaHandler","vs/editor/browser/viewParts/rulers/rulers","vs/editor/browser/viewParts/viewCursors/viewCursors","vs/editor/browser/widget/diffReview","vs/css!vs/base/browser/ui/checkbox/checkbox","vs/base/browser/ui/checkbox/checkbox","vs/editor/browser/viewParts/overviewRuler/decorationsOverviewRuler","vs/editor/browser/viewParts/overviewRuler/overviewRuler","vs/editor/browser/view/viewImpl","vs/css!vs/base/browser/ui/contextview/contextview","vs/editor/common/modes/abstractMode","vs/base/browser/ui/octiconLabel/octiconLabel","vs/editor/common/modes/languageSelector","vs/editor/contrib/bracketMatching/common/bracketMatching","vs/editor/contrib/codelens/browser/codelensWidget","vs/editor/contrib/codelens/browser/codelensController","vs/editor/contrib/colorPicker/browser/colorPicker","vs/editor/contrib/find/browser/findOptionsWidget","vs/editor/contrib/find/browser/findWidget","vs/editor/contrib/find/browser/find","vs/editor/contrib/goToDeclaration/browser/messageController","vs/editor/contrib/gotoError/browser/gotoError","vs/editor/contrib/hover/browser/hover","vs/editor/contrib/inPlaceReplace/common/inPlaceReplace","vs/editor/contrib/links/browser/links","vs/editor/contrib/parameterHints/browser/parameterHintsWidget","vs/editor/contrib/parameterHints/browser/parameterHints","vs/editor/contrib/rename/browser/renameInputField","vs/editor/contrib/rename/browser/rename","vs/editor/contrib/suggest/browser/suggestWidget","vs/editor/contrib/suggest/browser/suggestController","vs/editor/contrib/wordHighlighter/common/wordHighlighter","vs/editor/common/modes/languageFeatureRegistry","vs/editor/standalone/browser/accessibilityHelp/accessibilityHelp","vs/editor/standalone/browser/inspectTokens/inspectTokens","vs/editor/common/modes/linkComputer","vs/editor/standalone/browser/quickOpen/gotoLine","vs/editor/standalone/browser/quickOpen/quickCommand","vs/editor/standalone/browser/quickOpen/quickOutline","vs/editor/standalone/browser/standaloneCodeEditor","vs/editor/standalone/common/themes","vs/editor/standalone/browser/standaloneThemeServiceImpl","vs/editor/common/modes/supports/characterPair","vs/editor/contrib/referenceSearch/browser/referencesWidget","vs/editor/common/modes/supports/indentRules","vs/editor/common/modes/supports/inplaceReplaceSupport","vs/editor/contrib/goToDeclaration/browser/goToDeclarationMouse","vs/editor/contrib/referenceSearch/browser/referenceSearch","vs/editor/editor.all","vs/editor/common/modes/supports/onEnter","vs/base/common/winjs.base.raw","vs/base/common/marked/raw.marked","vs/editor/edcore.main"],n=function(o){for(var e=[],t=0,n=o.length;t<n;t++)e[t]=s[o[t]];return e},d;!function(o){function e(){define("vs/css",new n)}var t=function(){function t(){this._pendingLoads=0}return t.prototype.attachListeners=function(a,e,t,n){var i=function(){e.removeEventListener("load",o),e.removeEventListener("error",r)},o=function(){i(),t()},r=function(t){i(),n(t)};e.addEventListener("load",o),e.addEventListener("error",r)},t.prototype._onLoad=function(o,e){this._pendingLoads--,e()},t.prototype._onLoadError=function(o,e,t){this._pendingLoads--,e(t)},t.prototype._insertLinkNode=function(o){this._pendingLoads++;var e=document.head||document.getElementsByTagName("head")[0],t=e.getElementsByTagName("link")||document.head.getElementsByTagName("script");0<t.length?e.insertBefore(o,t[t.length-1]):e.appendChild(o)},t.prototype.createLinkTag=function(a,e,t,n){var i=this,o=document.createElement("link");return o.setAttribute("rel","stylesheet"),o.setAttribute("type","text/css"),o.setAttribute("data-name",a),(this.attachListeners(a,o,function(){return i._onLoad(a,t)},function(e){return i._onLoadError(a,n,e)}),o.setAttribute("href",e),o)},t.prototype._linkTagExists=function(a,e){var t=document.getElementsByTagName("link"),s,n,i,o;for(s=0,n=t.length;s<n;s++)if(i=t[s].getAttribute("data-name"),o=t[s].getAttribute("href"),i===a||o===e)return!0;return!1},t.prototype.load=function(r,e,t,n){if(this._linkTagExists(r,e))t();else{var i=this.createLinkTag(r,e,t,n);this._insertLinkNode(i)}},t}(),n=function(){function o(){this._cssLoader=new t}return o.prototype.load=function(o,e,t){var n=e.toUrl(o+".css");this._cssLoader.load(o,n,function(){t({})},function(){"function"==typeof t.error&&t.error("Could not find "+n+" or it was empty")})},o}();o.CSSPlugin=n,o.init=e,"undefined"==typeof doNotInitLoader&&e()}(d||(d={}));var c;!function(d){function l(o,r,e){var n;return n=0===r.length?o:o.replace(/\{(\d+)\}/g,function(t,e){var o=e[0];return void 0===r[o]?t:r[o]}),e.isPseudo&&(n="\uFF3B"+n.replace(/[aouei]/g,"$&$&")+"\uFF3D"),n}function p(o,e){var t=o[e];return t||(t=o["*"])||null}function c(t,e,n){for(var a=[],o=3;o<arguments.length;o++)a[o-3]=arguments[o];return l(n,a,t)}function n(t,e){return function(o){var n=Array.prototype.slice.call(arguments,2);return l(t[o],n,e)}}function e(){define("vs/nls",new o(t.detect()))}var t=function(){function t(t){this.isPseudo=t}return t.detect=function(){return new t("undefined"!=typeof document&&document.location&&0<=document.location.hash.indexOf("pseudo=true"))},t}(),o=function(){function o(o){var i=this;this._env=o,this.localize=function(t,e){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];return c.apply(void 0,[i._env,t,e].concat(n))}}return o.prototype.setPseudoTranslation=function(o){this._env=new t(o)},o.prototype.create=function(o,e){return{localize:n(e[o],this._env)}},o.prototype.load=function(d,e,t,i){var r=this;if(i=i||{},d&&0!==d.length){var a=i["vs/nls"]||{},s=a.availableLanguages?p(a.availableLanguages,d):null,l=".nls";null!==s&&s!==o.DEFAULT_TAG&&(l=l+"."+s),e([d+l],function(o){o.localize=Array.isArray(o)?n(o,r._env):n(o[d],r._env),t(o)})}else t({localize:this.localize})},o}();o.DEFAULT_TAG="i-default",d.NLSPlugin=o,d.init=e,"undefined"==typeof doNotInitLoader&&e()}(c||(c={})),define(s[148],n([1,0]),function(a,e){"use strict";function d(o){if(!o.parent||o.parent===o)return null;try{var e=o.location,t=o.parent.location;if(e.protocol!==t.protocol||e.hostname!==t.hostname||e.port!==t.port)return i=!0,null}catch(t){return i=!0,null}return o.parent}function n(a,e){for(var t=a.document.getElementsByTagName("iframe"),s=0,o=t.length,r;s<o;s++)if((r=t[s]).contentWindow===e)return r;return null}Object.defineProperty(e,"__esModule",{value:!0});var i=!1,o=null,t=function(){function t(){}return t.getSameOriginWindowChain=function(){if(!o){o=[];var i=window,a;do(a=d(i))?o.push({window:i,iframeElement:n(a,i)}):o.push({window:i,iframeElement:null}),i=a;while(i)}return o.slice(0)},t.hasDifferentOriginAncestor=function(){return o||this.getSameOriginWindowChain(),i},t.getPositionOfChildWindowRelativeToAncestorWindow=function(d,e){if(!e||d===e)return{top:0,left:0};for(var l=0,p=0,c=this.getSameOriginWindowChain(),o=0,r;o<c.length&&(r=c[o],r.window!==e)&&!!r.iframeElement;o++){var s=r.iframeElement.getBoundingClientRect();l+=s.top,p+=s.left}return{top:l,left:p}},t}();e.IframeUtils=t}),define(s[415],n([1,0]),function(d,e){"use strict";function t(o,e){if(o.start>=e.end||e.start>=o.end)return null;var t=G(o.start,e.start),r=q(o.end,e.end);return 0>=r-t?null:{start:t,end:r}}function l(t){return 0>=t.end-t.start}function p(n,e){for(var d=[],i=0,l=e,r;i<l.length;i++)if(r=l[i],!(n.start>=r.range.end)){if(n.end<r.range.start)break;var s=t(n,r.range);s&&d.push({range:s,size:r.size})}return d}function o(o,e){return{start:o.start+e,end:o.end+e}}function n(d){for(var e=[],t=null,n=0,i=d;n<i.length;n++){var o=i[n],r=o.range.start,l=o.range.end,p=o.size;t&&p===t.size?t.range.end=l:(t={range:{start:r,end:l},size:p},e.push(t))}return e}function r(){for(var o=[],e=0;e<arguments.length;e++)o[e]=arguments[e];return n(o.reduce(function(o,e){return o.concat(e)},[]))}Object.defineProperty(e,"__esModule",{value:!0}),e.intersect=t,e.isEmpty=l,e.relativeComplement=function(i,e){var t=[],n={start:i.start,end:q(e.start,i.end)},o={start:G(e.end,i.start),end:i.end};return l(n)||t.push(n),l(o)||t.push(o),t},e.each=function(o,e){for(var t=o.start;t<o.end;t++)e(t)},e.groupIntersect=p,e.consolidate=n;var i=function(){function t(){this.groups=[],this._size=0}return t.prototype.splice=function(a,d){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];var i=t.length-d,s=p({start:0,end:a},this.groups),u=p({start:a+d,end:Number.POSITIVE_INFINITY},this.groups).map(function(t){return{range:o(t.range,i),size:t.size}}),l=t.map(function(e,t){return{range:{start:a+t,end:a+t+1},size:e.size}});this.groups=r(s,l,u),this._size=this.groups.reduce(function(o,e){return o+e.size*(e.range.end-e.range.start)},0)},Object.defineProperty(t.prototype,"count",{get:function(){var t=this.groups.length;return t?this.groups[t-1].range.end:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),t.prototype.indexAt=function(d){if(0>d)return-1;for(var e=0,t=0,n=0,i=this.groups;n<i.length;n++){var o=i[n],r=o.range.end-o.range.start,s=t+r*o.size;if(d<s)return e+M((d-t)/o.size);e+=r,t=s}return e},t.prototype.indexAfter=function(t){return q(this.indexAt(t)+1,this.count)},t.prototype.positionAt=function(d){if(0>d)return-1;for(var e=0,t=0,n=0,i=this.groups;n<i.length;n++){var o=i[n],r=o.range.end-o.range.start,s=t+r;if(d<s)return e+(d-t)*o.size;e+=r*o.size,t=s}return-1},t.prototype.dispose=function(){this.groups=null},t}();e.RangeMap=i}),define(s[150],n([1,0]),function(o,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function o(o,i,t){this._scrollbarSize=w(i),this._oppositeScrollbarSize=w(t),this._arrowSize=w(o),this._visibleSize=0,this._scrollSize=0,this._scrollPosition=0,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}return o.prototype.clone=function(){var e=new o(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize);return e.setVisibleSize(this._visibleSize),e.setScrollSize(this._scrollSize),e.setScrollPosition(this._scrollPosition),e},o.prototype.setVisibleSize=function(o){var e=w(o);return this._visibleSize!==e&&(this._visibleSize=e,this._refreshComputedValues(),!0)},o.prototype.setScrollSize=function(o){var e=w(o);return this._scrollSize!==e&&(this._scrollSize=e,this._refreshComputedValues(),!0)},o.prototype.setScrollPosition=function(o){var e=w(o);return this._scrollPosition!==e&&(this._scrollPosition=e,this._refreshComputedValues(),!0)},o._computeValues=function(d,e,t,n,i){var o=G(0,t-d),r=G(0,o-2*e),s=0<n&&n>t;if(!s)return{computedAvailableSize:w(o),computedIsNeeded:s,computedSliderSize:w(r),computedSliderRatio:0,computedSliderPosition:0};var p=w(G(20,M(t*r/n))),c=(r-p)/(n-t);return{computedAvailableSize:w(o),computedIsNeeded:s,computedSliderSize:w(p),computedSliderRatio:c,computedSliderPosition:w(i*c)}},o.prototype._refreshComputedValues=function(){var e=o._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=e.computedAvailableSize,this._computedIsNeeded=e.computedIsNeeded,this._computedSliderSize=e.computedSliderSize,this._computedSliderRatio=e.computedSliderRatio,this._computedSliderPosition=e.computedSliderPosition},o.prototype.getArrowSize=function(){return this._arrowSize},o.prototype.getScrollPosition=function(){return this._scrollPosition},o.prototype.getRectangleLargeSize=function(){return this._computedAvailableSize},o.prototype.getRectangleSmallSize=function(){return this._scrollbarSize},o.prototype.isNeeded=function(){return this._computedIsNeeded},o.prototype.getSliderSize=function(){return this._computedSliderSize},o.prototype.getSliderPosition=function(){return this._computedSliderPosition},o.prototype.getSliderCenter=function(){return this._computedSliderPosition+this._computedSliderSize/2},o.prototype.getDesiredScrollPositionFromOffset=function(o){if(!this._computedIsNeeded)return 0;var e=o-this._arrowSize-this._computedSliderSize/2;return w(e/this._computedSliderRatio)},o.prototype.getDesiredScrollPositionFromDelta=function(o){if(!this._computedIsNeeded)return 0;var e=this._computedSliderPosition+o;return w(e/this._computedSliderRatio)},o}();e.ScrollbarState=t}),define(s[33],n([1,0]),function(r,e){"use strict";function s(r,e){var t=0,a=r.length;if(0===a)return 0;for(;t<a;){var i=M((t+a)/2);e(r[i])?a=i:t=i+1}return t}function d(i,e){if(!(1>=i.length)){var t=0|i.length/2,n=i.slice(0,t),o=i.slice(t);d(n,e),d(o,e);for(var r=0,s=0,a=0,p;r<n.length&&s<o.length;)p=e(n[r],o[s]),i[a++]=0>=p?n[r++]:o[s++];for(;r<n.length;)i[a++]=n[r++];for(;s<o.length;)i[a++]=o[s++]}}function a(o,e){for(var t=0;t<o.length;t++)if(e(o[t]))return t;return-1}Object.defineProperty(e,"__esModule",{value:!0}),e.tail=function(o,e){return void 0===e&&(e=0),o[o.length-(1+e)]},e.equals=function(r,e,t){if(void 0===t&&(t=function(o,e){return o===e}),r.length!==e.length)return!1;for(var n=0,i=r.length;n<i;n++)if(!t(r[n],e[n]))return!1;return!0},e.binarySearch=function(a,e,t){for(var n=0,i=a.length-1;n<=i;){var o=0|(n+i)/2,r=t(a[o],e);if(0>r)n=o+1;else{if(!(0<r))return o;i=o-1}}return-(n+1)},e.findFirst=s,e.mergeSort=function(o,e){return d(o,e),o},e.groupBy=function(a,e){for(var t=[],i=0,o=a.slice(0).sort(e),r,n;i<o.length;i++)n=o[i],r&&0===e(r[0],n)?r.push(n):(r=[n],t.push(r));return t},e.delta=function(d,e,t){for(var n=[],p=[],c=0,r=0;;){if(c===d.length){p.push.apply(p,e.slice(r));break}if(r===e.length){n.push.apply(n,d.slice(c));break}var s=d[c],a=e[r],u=t(s,a);0===u?(c+=1,r+=1):0>u?(n.push(s),c+=1):0<u&&(p.push(a),r+=1)}return{removed:n,added:p}},e.top=function(n,d,e){if(0===e)return[];for(var t=n.slice(0,e).sort(d),o=e,i=n.length;o<i;o++)!function(o){var i=n[o];if(0>d(i,t[e-1])){t.pop();var r=s(t,function(t){return 0>d(i,t)});t.splice(r,0,i)}}(o);return t},e.coalesce=function(t){return t?t.filter(function(t){return!!t}):t},e.move=function(o,e,t){o.splice(t,0,o.splice(e,1)[0])},e.isFalsyOrEmpty=function(t){return!Array.isArray(t)||0===t.length},e.distinct=function(o,r){if(!r)return o.filter(function(e,t){return o.indexOf(e)===t});var a=Object.create(null);return o.filter(function(t){var e=r(t);return!a[e]&&(a[e]=!0,!0)})},e.uniqueFilter=function(o){var e=Object.create(null);return function(t){var n=o(t);return!e[n]&&(e[n]=!0,!0)}},e.firstIndex=a,e.first=function(o,e,t){void 0===t&&(t=null);var n=a(o,e);return 0>n?t:o[n]},e.commonPrefixLength=function(a,e,t){void 0===t&&(t=function(o,e){return o===e});for(var n=0,i=0,o=q(a.length,e.length);i<o&&t(a[i],e[i]);i++)n++;return n},e.flatten=function(t){return t.reduce(function(o,e){return o.concat(e)},[])},e.range=function(o,e){void 0===e&&(e=0);for(var t=[],n=e;n<o;n++)t.push(n);return t},e.fill=function(o,e,t){void 0===t&&(t=[]);for(var n=0;n<o;n++)t[n]=e();return t},e.index=function(o,r,t){return void 0===t&&(t=function(t){return t}),o.reduce(function(n,e){var i=r(e);return n[i]=t(e,n[i]),n},Object.create(null))},e.insert=function(o,e){return o.push(e),function(){var t=o.indexOf(e);-1<t&&o.splice(t,1)}},e.arrayInsert=function(r,e,t){var n=r.slice(0,e),i=r.slice(e);return n.concat(t,i)}}),define(s[72],n([1,0]),function(o,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ok=function(o,n){if(!o||null===o)throw new Error(n?"Assertion failed ("+n+")":"Assertion Failed")}}),define(s[157],n([1,0]),function(o,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Object.prototype.hasOwnProperty;e.values=function(o){var e=[];for(var t in o)r.call(o,t)&&e.push(o[t]);return e},e.size=function(o){var e=0;for(var t in o)r.call(o,t)&&(e+=1);return e},e.forEach=function(n,e){for(var t in n){var i=function(t){if(r.call(n,t)&&!1===e({key:t,value:n[t]},function(){delete n[t]}))return{value:void 0}}(t);if("object"==typeof i)return i.value}},e.remove=function(o,e){return!!r.call(o,e)&&(delete o[e],!0)},e.groupBy=function(d,e){for(var t=Object.create(null),n=0,i=d;n<i.length;n++){var o=i[n],r=e(o),s=t[r];s||(s=t[r]=[]),s.push(o)}return t}}),define(s[32],n([1,0]),function(d,e){"use strict";function p(i){if(!i)return null;var a=i.length;if(0===a)return null;if(35!==i.charCodeAt(0))return null;if(7===a){var d=16*t(i.charCodeAt(1))+t(i.charCodeAt(2)),l=16*t(i.charCodeAt(3))+t(i.charCodeAt(4)),o=16*t(i.charCodeAt(5))+t(i.charCodeAt(6));return new m(d,l,o,255)}if(9===a){var d=16*t(i.charCodeAt(1))+t(i.charCodeAt(2)),l=16*t(i.charCodeAt(3))+t(i.charCodeAt(4)),o=16*t(i.charCodeAt(5))+t(i.charCodeAt(6)),r=16*t(i.charCodeAt(7))+t(i.charCodeAt(8));return new m(d,l,o,r)}if(4===a){var d=t(i.charCodeAt(1)),l=t(i.charCodeAt(2)),o=t(i.charCodeAt(3));return new m(16*d+d,16*l+l,16*o+o)}if(5===a){var d=t(i.charCodeAt(1)),l=t(i.charCodeAt(2)),o=t(i.charCodeAt(3)),r=t(i.charCodeAt(4));return new m(16*d+d,16*l+l,16*o+o,16*r+r)}return null}function t(t){return 48===t?0:49===t?1:50===t?2:51===t?3:52===t?4:53===t?5:54===t?6:55===t?7:56===t?8:57===t?9:97===t||65===t?10:98===t||66===t?11:99===t||67===t?12:100===t||68===t?13:101===t||69===t?14:102===t||70===t?15:0}function n(p){var e=p.r/255,t=p.g/255,n=p.b/255,i=p.a/255,u=G(e,t,n),r=q(e,t,n),s=0,a=0,l=w(1e3*((r+u)/2))/1e3,c=u-r;if(0<c){switch(a=q(w(1e3*(.5>=l?c/(2*l):c/(2-2*l)))/1e3,1),u){case e:s=(t-n)/c+(t<n?6:0);break;case t:s=(n-e)/c+2;break;case n:s=(e-t)/c+4;}s*=60,s=w(s)}return new h(s,a,l,i)}function o(a){var e=a.h/360,o=q(a.s,1),s=q(a.l,1),p=a.a,l,t,n;if(0===o)l=t=n=s;else{var i=.5>s?s*(1+o):s+o-s*o,c=2*s-i;l=g(c,i,e+1/3),t=g(c,i,e),n=g(c,i,e-1/3)}return new m(w(255*l),w(255*t),w(255*n),w(255*p))}function g(o,e,t){return 0>t&&(t+=1),1<t&&(t-=1),t<1/6?o+6*(e-o)*t:.5>t?e:t<2/3?o+6*((e-o)*(2/3-t)):o}Object.defineProperty(e,"__esModule",{value:!0});var m=function(){function r(e,t,n,i){void 0===i&&(i=255),this.r=r._clampInt_0_255(e),this.g=r._clampInt_0_255(t),this.b=r._clampInt_0_255(n),this.a=r._clampInt_0_255(i)}return r.equals=function(o,e){return o.r===e.r&&o.g===e.g&&o.b===e.b&&o.a===e.a},r._clampInt_0_255=function(t){return 0>t?0:255<t?255:0|t},r.prototype.toString=function(){return 255===this.a?"rgb("+this.r+", "+this.g+", "+this.b+")":"rgba("+this.r+", "+this.g+", "+this.b+", "+(this.a/255).toFixed(2)+")"},r}();e.RGBA=m;var h=function(){function r(e,t,n,i){this.h=r._clampFloat_0_360(e),this.s=r._clampFloat_0_1(t),this.l=r._clampFloat_0_1(n),this.a=r._clampFloat_0_1(i)}return r._clampFloat_0_360=function(t){return 0>t?0:360<t?360:t},r._clampFloat_0_1=function(t){return 0>t?0:1<t?1:t},r.prototype.toString=function(){var o=(100*this.s).toFixed(2),e=(100*this.l).toFixed(2);return 1===this.a?"hsl("+this.h+", "+o+"%, "+e+"%)":"hsla("+this.h+", "+o+"%, "+e+"%, "+this.a.toFixed(2)+")"},r}();e.HSLA=h;var i=/^#[0-9A-Fa-f]{3,8}$/i;e.isValidHexColor=function(t){return i.test(t)&&6!==t.length&&8!==t.length};var a=function(){function a(t){this.rgba=t}return a.fromRGBA=function(e){return new a(e)},a.fromHex=function(e,t){void 0===t&&(t=a.red);var n=p(e);return n?new a(n):t},a.fromHSLA=function(e){return new a(o(e))},a.fromHSV=function(e,t,n,i,o){if(void 0===i&&(i=255),void 0===o&&(o=a.red),0>e||360<=e||0>t||1<t||0>n||1<n)return o;var r=n*t,s=r*(1-I(e/60%2-1)),u=n-r,l=[0,0,0],c=l[0],d=l[1],g=l[2];return 60>e?(c=r,d=s):120>e?(c=s,d=r):180>e?(d=r,g=s):240>e?(d=s,g=r):300>e?(c=s,g=r):360>e&&(c=r,g=s),c=255*(c+u),d=255*(d+u),g=255*(g+u),a.fromRGBA(new m(c,d,g,i))},a.prototype.equals=function(t){return!!t&&m.equals(this.rgba,t.rgba)},a.prototype.getLuminosity=function(){var e=.2126*a._luminosityFor(this.rgba.r)+.7152*a._luminosityFor(this.rgba.g)+.0722*a._luminosityFor(this.rgba.b);return w(1e4*e)/1e4},a._luminosityFor=function(o){var e=o/255;return .03928>=e?e/12.92:r((e+.055)/1.055,2.4)},a.prototype.getContrast=function(o){var e=this.getLuminosity(),t=o.getLuminosity();return e>t?(e+.05)/(t+.05):(t+.05)/(e+.05)},a.prototype.getHue=function(){var a=[this.rgba.r/255,this.rgba.g/255,this.rgba.b/255],t=a[0],n=a[1],i=a[2],o=G(t,n,i),r=o-q(t,n,i),s;return 0>(s=0===r?0:o===t?60*((n-i)/r%6):o===n?60*((i-t)/r+2):60*((t-n)/r+4))&&(s+=360),s},a.prototype.getSaturation=function(){var a=[this.rgba.r/255,this.rgba.g/255,this.rgba.b/255],e=a[0],t=a[1],n=a[2],i=G(e,t,n),o=q(e,t,n);return 0===i?0:(i-o)/i},a.prototype.getValue=function(){return G(this.rgba.r/255,this.rgba.g/255,this.rgba.b/255)},a.prototype.isDarker=function(){return 128>(299*this.rgba.r+587*this.rgba.g+114*this.rgba.b)/1e3},a.prototype.isLighter=function(){return 128<=(299*this.rgba.r+587*this.rgba.g+114*this.rgba.b)/1e3},a.prototype.isLighterThan=function(t){return this.getLuminosity()>t.getLuminosity()},a.prototype.isDarkerThan=function(t){return this.getLuminosity()<t.getLuminosity()},a.prototype.lighten=function(e){var t=this.toHSLA();return new a(o(new h(t.h,t.s,t.l+t.l*e,t.a)))},a.prototype.darken=function(e){var t=this.toHSLA();return new a(o(new h(t.h,t.s,t.l-t.l*e,t.a)))},a.prototype.transparent=function(e){var t=this.rgba;return new a(new m(t.r,t.g,t.b,w(t.a*e)))},a.prototype.isTransparent=function(){return 0===this.rgba.a},a.prototype.opposite=function(){return new a(new m(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))},a.prototype.blend=function(e){var t=e.toRGBA(),n=this.rgba.a/255,i=t.a/255,o=n+i*(1-n);if(1e-6>o)return a.transparent;var r=this.rgba.r*n/o+t.r*i*(1-n)/o,s=this.rgba.g*n/o+t.g*i*(1-n)/o,d=this.rgba.b*n/o+t.b*i*(1-n)/o;return o*=255,new a(new m(r,s,d,o))},a.prototype.toString=function(){var t=this.rgba;return 255===t.a?this.toRGBHex():"rgba("+t.r+", "+t.g+", "+t.b+", "+ +(t.a/255).toFixed(2)+")"},a.prototype.toRGBHex=function(){var e=this.rgba;return"#"+a._toTwoDigitHex(e.r)+a._toTwoDigitHex(e.g)+a._toTwoDigitHex(e.b)},a.prototype.toRGBAHex=function(e){void 0===e&&(e=!1);var t=this.rgba;return e&&255===t.a?this.toRGBHex():"#"+a._toTwoDigitHex(t.r)+a._toTwoDigitHex(t.g)+a._toTwoDigitHex(t.b)+a._toTwoDigitHex(t.a)},a._toTwoDigitHex=function(o){var e=o.toString(16);return 2===e.length?e:"0"+e},a.prototype.toHSLA=function(){return n(this.rgba)},a.prototype.toRGBA=function(){return this.rgba},a.getLighterColor=function(r,e,t){if(r.isLighterThan(e))return r;t=t||.5;var n=r.getLuminosity(),i=e.getLuminosity();return t=t*(i-n)/i,r.lighten(t)},a.getDarkerColor=function(o,e,t){if(o.isDarkerThan(e))return o;t=t||.5;var n=o.getLuminosity();return t=t*(n-e.getLuminosity())/n,o.darken(t)},a.white=new a(new m(255,255,255,255)),a.black=new a(new m(0,0,0,255)),a.red=new a(new m(255,0,0,255)),a.blue=new a(new m(0,0,255,255)),a.green=new a(new m(0,255,0,255)),a.cyan=new a(new m(0,255,255,255)),a.lightgrey=new a(new m(211,211,211,255)),a.transparent=new a(new m(0,0,0,0)),a}();e.Color=a}),define(s[446],n([1,0]),function(o,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createDecorator=function(a){return function(e,t,n){var i=null,o=null;if("function"==typeof n.value?(i="value",o=n.value):"function"==typeof n.get&&(i="get",o=n.get),!o)throw new Error("not supported");n[i]=a(o)}},e.memoize=function(a,e,t){var n=null,i=null;if("function"==typeof t.value?(n="value",i=t.value):"function"==typeof t.get&&(n="get",i=t.get),!i)throw new Error("not supported");var s="$memoize$"+e;t[n]=function(){for(var o=[],e=0;e<arguments.length;e++)o[e]=arguments[e];return this.hasOwnProperty(s)||Object.defineProperty(this,s,{configurable:!1,enumerable:!1,writable:!1,value:i.apply(this,o)}),this[s]}}}),define(s[332],n([1,0]),function(o,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DifferenceType={Add:0,Remove:1,Change:2};var t=function(){function t(o,r,t,n){this.originalStart=o,this.originalLength=r,this.modifiedStart=t,this.modifiedLength=n}return t.prototype.getChangeType=function(){return 0===this.originalLength?e.DifferenceType.Add:0===this.modifiedLength?e.DifferenceType.Remove:e.DifferenceType.Change},t.prototype.getOriginalEnd=function(){return this.originalStart+this.originalLength},t.prototype.getModifiedEnd=function(){return this.modifiedStart+this.modifiedLength},t}();e.DiffChange=t}),define(s[139],n([1,0,332]),function(d,e,D){"use strict";function l(o){return{getLength:function(){return o.length},getElementHash:function(e){return o[e]}}}Object.defineProperty(e,"__esModule",{value:!0}),e.stringDiff=function(o,e,t){return new i(l(o),l(e)).ComputeDiff(t)};var n=function(){function t(){}return t.Assert=function(o,n){if(!o)throw new Error(n)},t}();e.Debug=n;var o=function(){function t(){}return t.Copy=function(a,e,t,n,i){for(var o=0;o<i;o++)t[n+o]=a[e+o]},t}();e.MyArray=o;var R=function(){function t(){this.m_changes=[],this.m_originalStart=T,this.m_modifiedStart=T,this.m_originalCount=0,this.m_modifiedCount=0}return t.prototype.MarkNextChange=function(){(0<this.m_originalCount||0<this.m_modifiedCount)&&this.m_changes.push(new D.DiffChange(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=T,this.m_modifiedStart=T},t.prototype.AddOriginalElement=function(o,e){this.m_originalStart=q(this.m_originalStart,o),this.m_modifiedStart=q(this.m_modifiedStart,e),this.m_originalCount++},t.prototype.AddModifiedElement=function(o,e){this.m_originalStart=q(this.m_originalStart,o),this.m_modifiedStart=q(this.m_modifiedStart,e),this.m_modifiedCount++},t.prototype.getChanges=function(){return(0<this.m_originalCount||0<this.m_modifiedCount)&&this.MarkNextChange(),this.m_changes},t.prototype.getReverseChanges=function(){return(0<this.m_originalCount||0<this.m_modifiedCount)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes},t}(),t=Object.prototype.hasOwnProperty,i=function(){function i(o,i,t){void 0===t&&(t=null),this.OriginalSequence=o,this.ModifiedSequence=i,this.ContinueProcessingPredicate=t,this.m_originalIds=[],this.m_modifiedIds=[],this.m_forwardHistory=[],this.m_reverseHistory=[],this.ComputeUniqueIdentifiers()}return i.prototype.ComputeUniqueIdentifiers=function(){var a=this.OriginalSequence.getLength(),e=this.ModifiedSequence.getLength();this.m_originalIds=Array(a),this.m_modifiedIds=Array(e);var d={},i=1,o;for(o=0;o<a;o++){var n=this.OriginalSequence.getElementHash(o);t.call(d,n)?this.m_originalIds[o]=d[n]:(this.m_originalIds[o]=i++,d[n]=this.m_originalIds[o])}for(o=0;o<e;o++){var r=this.ModifiedSequence.getElementHash(o);t.call(d,r)?this.m_modifiedIds[o]=d[r]:(this.m_modifiedIds[o]=i++,d[r]=this.m_modifiedIds[o])}},i.prototype.ElementsAreEqual=function(o,e){return this.m_originalIds[o]===this.m_modifiedIds[e]},i.prototype.OriginalElementsAreEqual=function(o,e){return this.m_originalIds[o]===this.m_originalIds[e]},i.prototype.ModifiedElementsAreEqual=function(o,e){return this.m_modifiedIds[o]===this.m_modifiedIds[e]},i.prototype.ComputeDiff=function(t){return this._ComputeDiff(0,this.OriginalSequence.getLength()-1,0,this.ModifiedSequence.getLength()-1,t)},i.prototype._ComputeDiff=function(r,e,t,n,i){var o=this.ComputeDiffRecursive(r,e,t,n,[!1]);return i?this.ShiftChanges(o):o},i.prototype.ComputeDiffRecursive=function(o,e,t,i,r){for(r[0]=!1;o<=e&&t<=i&&this.ElementsAreEqual(o,t);)o++,t++;for(;e>=o&&i>=t&&this.ElementsAreEqual(e,i);)e--,i--;if(o>e||t>i){var s;return t<=i?(n.Assert(o===e+1,"originalStart should only be one more than originalEnd"),s=[new D.DiffChange(o,0,t,i-t+1)]):o<=e?(n.Assert(t===i+1,"modifiedStart should only be one more than modifiedEnd"),s=[new D.DiffChange(o,e-o+1,t,0)]):(n.Assert(o===e+1,"originalStart should only be one more than originalEnd"),n.Assert(t===i+1,"modifiedStart should only be one more than modifiedEnd"),s=[]),s}var a=[0],u=[0],l=this.ComputeRecursionPoint(o,e,t,i,a,u,r),c=a[0],d=u[0];if(null!==l)return l;if(!r[0]){var g=this.ComputeDiffRecursive(o,c,t,d,r),p=[];return p=r[0]?[new D.DiffChange(c+1,e-(c+1)+1,d+1,i-(d+1)+1)]:this.ComputeDiffRecursive(c+1,e,d+1,i,r),this.ConcatenateChanges(g,p)}return[new D.DiffChange(o,e-o+1,t,i-t+1)]},i.prototype.WALKTRACE=function(n,e,t,i,o,r,a,s,l,c,d,u,p,h,g,m,f,_){var y=null,b=null,v=new R,S=e,E=t,L=p[0]-m[0]-i,w=Number.MIN_VALUE,x=this.m_forwardHistory.length-1,N;do(N=L+n)===S||N<E&&l[N-1]<l[N+1]?(h=(d=l[N+1])-L-i,d<w&&v.MarkNextChange(),w=d,v.AddModifiedElement(d+1,h),L=N+1-n):(h=(d=l[N-1]+1)-L-i,d<w&&v.MarkNextChange(),w=d-1,v.AddOriginalElement(d,h+1),L=N-1-n),0<=x&&(n=(l=this.m_forwardHistory[x])[0],S=1,E=l.length-1);while(-1<=--x);if(y=v.getReverseChanges(),_[0]){var C=p[0]+1,M=m[0]+1;if(null!==y&&0<y.length){var k=y[y.length-1];C=G(C,k.getOriginalEnd()),M=G(M,k.getModifiedEnd())}b=[new D.DiffChange(C,u-C+1,M,g-M+1)]}else{v=new R,S=r,E=a,L=p[0]-m[0]-s,w=T,x=f?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do(N=L+o)===S||N<E&&c[N-1]>=c[N+1]?(h=(d=c[N+1]-1)-L-s,d>w&&v.MarkNextChange(),w=d+1,v.AddOriginalElement(d+1,h+1),L=N+1-o):(h=(d=c[N-1])-L-s,d>w&&v.MarkNextChange(),w=d,v.AddModifiedElement(d+1,h+1),L=N-1-o),0<=x&&(o=(c=this.m_reverseHistory[x])[0],S=1,E=c.length-1);while(-1<=--x);b=v.getChanges()}return this.ConcatenateChanges(y,b)},i.prototype.ComputeRecursionPoint=function(n,e,t,i,r,s,a){var u=0,h=0,p=0,f=0,g,l,c;n--,t--,r[0]=0,s[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];var d=e-n+(i-t),m=d+1,v=Array(m),_=Array(m),y=i-t,C=e-n,b=n-t,w=e-i,S=0==(C-y)%2;v[y]=n,_[C]=e,a[0]=!1;var R,L;for(c=1;c<=d/2+1;c++){var x=0,N=0;for(u=this.ClipDiagonalBound(y-c,c,y,m),h=this.ClipDiagonalBound(y+c,c,y,m),R=u;R<=h;R+=2){for(l=(g=R===u||R<h&&v[R-1]<v[R+1]?v[R+1]:v[R-1]+1)-(R-y)-b,L=g;g<e&&l<i&&this.ElementsAreEqual(g+1,l+1);)g++,l++;if(v[R]=g,g+l>x+N&&(x=g,N=l),!S&&I(R-C)<=c-1&&g>=_[R])return r[0]=g,s[0]=l,L<=_[R]&&1448>=c?this.WALKTRACE(y,u,h,b,C,p,f,w,v,_,g,e,r,l,i,s,S,a):null}var M=(x-n+(N-t)-c)/2;if(null!==this.ContinueProcessingPredicate&&!this.ContinueProcessingPredicate(x,this.OriginalSequence,M))return a[0]=!0,r[0]=x,s[0]=N,0<M&&1448>=c?this.WALKTRACE(y,u,h,b,C,p,f,w,v,_,g,e,r,l,i,s,S,a):(n++,t++,[new D.DiffChange(n,e-n+1,t,i-t+1)]);for(p=this.ClipDiagonalBound(C-c,c,C,m),f=this.ClipDiagonalBound(C+c,c,C,m),R=p;R<=f;R+=2){for(l=(g=R===p||R<f&&_[R-1]>=_[R+1]?_[R+1]-1:_[R-1])-(R-C)-w,L=g;g>n&&l>t&&this.ElementsAreEqual(g,l);)g--,l--;if(_[R]=g,S&&I(R-y)<=c&&g<=v[R])return r[0]=g,s[0]=l,L>=v[R]&&1448>=c?this.WALKTRACE(y,u,h,b,C,p,f,w,v,_,g,e,r,l,i,s,S,a):null}if(1447>=c){var T=Array(h-u+2);T[0]=y-u+1,o.Copy(v,u,T,1,h-u+1),this.m_forwardHistory.push(T),(T=Array(f-p+2))[0]=C-p+1,o.Copy(_,p,T,1,f-p+1),this.m_reverseHistory.push(T)}}return this.WALKTRACE(y,u,h,b,C,p,f,w,v,_,g,e,r,l,i,s,S,a)},i.prototype.ShiftChanges=function(_){var e;do{for(e=!1,u=0;u<_.length;u++)for(var t=_[u],n=u<_.length-1?_[u+1].originalStart:this.OriginalSequence.getLength(),i=u<_.length-1?_[u+1].modifiedStart:this.ModifiedSequence.getLength(),o=0<t.originalLength,y=0<t.modifiedLength;t.originalStart+t.originalLength<n&&t.modifiedStart+t.modifiedLength<i&&(!o||this.OriginalElementsAreEqual(t.originalStart,t.originalStart+t.originalLength))&&(!y||this.ModifiedElementsAreEqual(t.modifiedStart,t.modifiedStart+t.modifiedLength));)t.originalStart++,t.modifiedStart++;for(var C=[],a=[null],u=0;u<_.length;u++)u<_.length-1&&this.ChangesOverlap(_[u],_[u+1],a)?(e=!0,C.push(a[0]),u++):C.push(_[u]);_=C}while(e);for(u=_.length-1;0<=u;u--){var t=_[u],n=0,i=0;if(0<u){var l=_[u-1];0<l.originalLength&&(n=l.originalStart+l.originalLength),0<l.modifiedLength&&(i=l.modifiedStart+l.modifiedLength)}for(var o=0<t.originalLength,y=0<t.modifiedLength,c=0,d=this._boundaryScore(t.originalStart,t.originalLength,t.modifiedStart,t.modifiedLength),h=1;;h++){var p=t.originalStart-h,f=t.modifiedStart-h;if(p<n||f<f)break;if(o&&!this.OriginalElementsAreEqual(p,p+t.originalLength))break;if(y&&!this.ModifiedElementsAreEqual(f,f+t.modifiedLength))break;var g=this._boundaryScore(p,t.originalLength,f,t.modifiedLength);g>d&&(d=g,c=h)}t.originalStart-=c,t.modifiedStart-=c}return _},i.prototype._OriginalIsBoundary=function(t){return 0>=t||t>=this.OriginalSequence.getLength()-1||/^\s*$/.test(this.OriginalSequence.getElementHash(t))},i.prototype._OriginalRegionIsBoundary=function(o,e){if(this._OriginalIsBoundary(o)||this._OriginalIsBoundary(o-1))return!0;if(0<e){var t=o+e;if(this._OriginalIsBoundary(t-1)||this._OriginalIsBoundary(t))return!0}return!1},i.prototype._ModifiedIsBoundary=function(t){return 0>=t||t>=this.ModifiedSequence.getLength()-1||/^\s*$/.test(this.ModifiedSequence.getElementHash(t))},i.prototype._ModifiedRegionIsBoundary=function(o,e){if(this._ModifiedIsBoundary(o)||this._ModifiedIsBoundary(o-1))return!0;if(0<e){var t=o+e;if(this._ModifiedIsBoundary(t-1)||this._ModifiedIsBoundary(t))return!0}return!1},i.prototype._boundaryScore=function(o,e,t,n){return(this._OriginalRegionIsBoundary(o,e)?1:0)+(this._ModifiedRegionIsBoundary(t,n)?1:0)},i.prototype.ConcatenateChanges=function(r,e){var t=[],n=null;return 0===r.length||0===e.length?0<e.length?e:r:this.ChangesOverlap(r[r.length-1],e[0],t)?(n=Array(r.length+e.length-1),o.Copy(r,0,n,0,r.length-1),n[r.length-1]=t[0],o.Copy(e,1,n,r.length,e.length-1),n):(n=Array(r.length+e.length),o.Copy(r,0,n,0,r.length),o.Copy(e,0,n,r.length,e.length),n)},i.prototype.ChangesOverlap=function(o,e,t){if(n.Assert(o.originalStart<=e.originalStart,"Left change is not less than or equal to right change"),n.Assert(o.modifiedStart<=e.modifiedStart,"Left change is not less than or equal to right change"),o.originalStart+o.originalLength>=e.originalStart||o.modifiedStart+o.modifiedLength>=e.modifiedStart){var i=o.originalStart,r=o.originalLength,s=o.modifiedStart,a=o.modifiedLength;return o.originalStart+o.originalLength>=e.originalStart&&(r=e.originalStart+e.originalLength-o.originalStart),o.modifiedStart+o.modifiedLength>=e.modifiedStart&&(a=e.modifiedStart+e.modifiedLength-o.modifiedStart),t[0]=new D.DiffChange(i,r,s,a),!0}return t[0]=null,!1},i.prototype.ClipDiagonalBound=function(o,e,t,n){if(0<=o&&o<n)return o;var i=0==e%2;return 0>o?i===(0==t%2)?0:1:i===(0==(n-t-1)%2)?n-1:n-2},i}();e.LcsDiff=i});var Z=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,e){o.__proto__=e}||function(o,e){for(var t in e)e.hasOwnProperty(t)&&(o[t]=e[t])};return function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}();define(s[79],n([1,0]),function(r,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(){return function(t){this.time=new Date().getTime(),this.originalEvent=t,this.source=null}}();e.Event=t;var n=function(a){function e(e,s,n,i){var o=a.call(this,i)||this;return o.key=e,o.oldValue=s,o.newValue=n,o}return Z(e,a),e}(t);e.PropertyChangeEvent=n;var i=function(o){function e(e,r){var n=o.call(this,r)||this;return n.element=e,n}return Z(e,o),e}(t);e.ViewerEvent=i,e.EventType={PROPERTY_CHANGED:"propertyChanged",SELECTION:"selection",FOCUS:"focus",BLUR:"blur",HIGHLIGHT:"highlight",EXPAND:"expand",COLLAPSE:"collapse",TOGGLE:"toggle",BEFORE_RUN:"beforeRun",RUN:"run",EDIT:"edit",SAVE:"save",CANCEL:"cancel",CHANGE:"change",DISPOSE:"dispose"}}),define(s[136],n([1,0]),function(o,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.not=function(o){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return!o.apply(void 0,e)}},e.once=function(o){var e=this,n=!1,i;return function(){return n?i:(n=!0,i=o.apply(e,arguments))}}}),define(s[488],n([1,0]),function(d,e){"use strict";function l(a,s){switch(void 0===s&&(s=0),typeof a){case"object":return null===a?p(349,s):Array.isArray(a)?i(a,s):r(a,s);case"string":return o(a,s);case"boolean":return n(a,s);case"number":return p(a,s);case"undefined":return p(a,937);default:return p(a,617);}}function p(o,e){return 0|(e<<5)-e+o}function n(o,e){return p(o?433:863,e)}function o(i,e){e=p(149417,e);for(var t=0,n=i.length;t<n;t++)e=p(i.charCodeAt(t),e);return e}function i(o,e){return e=p(104579,e),o.reduce(function(o,e){return l(e,o)},e)}function r(n,e){return e=p(181387,e),Object.keys(n).sort().reduce(function(e,t){return e=o(t,e),l(n[t],e)},e)}Object.defineProperty(e,"__esModule",{value:!0}),e.hash=l}),define(s[133],n([1,0]),function(o,e){"use strict";function r(i,e){var t=i.length;if(t!==e.length)return!1;for(var r=0;r<t;r++)if(!a(i[r],e[r]))return!1;return!0}function a(o,n){return!o&&!n||o&&n&&("string"==typeof o||"string"==typeof n?"string"==typeof o&&"string"==typeof n&&o===n:o.language===n.language&&o.value===n.value)}Object.defineProperty(e,"__esModule",{value:!0}),e.markedStringsEquals=function(o,n){return!o&&!n||o&&n&&(Array.isArray(o)?!!Array.isArray(n)&&r(o,n):a(o,n))},e.textToMarkedString=function(t){return t.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")},e.removeMarkdownEscapes=function(t){return t?t.replace(/\\([\\`*_{}[\]()#+\-.!])/g,"$1"):t}}),define(s[108],n([1,0]),function(o,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function t(t){this._prefix=t,this._lastId=0}return t.prototype.nextId=function(){return this._prefix+ ++this._lastId},t}();e.IdGenerator=t,e.defaultGenerator=new t("id#")}),define(s[107],n([1,0]),function(a,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function t(o,i,t){void 0===i&&(i=0),void 0===t&&(t=o.length),this.items=o,this.start=i,this.end=t,this.index=i-1}return t.prototype.first=function(){return this.index=this.start,this.current()},t.prototype.next=function(){return this.index=q(this.index+1,this.end),this.current()},t.prototype.current=function(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]},t}();e.ArrayIterator=t;var n=function(o){function e(e,r,n){return void 0===r&&(r=0),void 0===n&&(n=e.length),o.call(this,e,r,n)||this}return Z(e,o),e.prototype.current=function(){return o.prototype.current.call(this)},e.prototype.previous=function(){return this.index=G(this.index-1,this.start-1),this.current()},e.prototype.first=function(){return this.index=this.start,this.current()},e.prototype.last=function(){return this.index=this.end-1,this.current()},e.prototype.parent=function(){return null},e}(t);e.ArrayNavigator=n;var i=function(){function t(o,n){this.iterator=o,this.fn=n}return t.prototype.next=function(){return this.fn(this.iterator.next())},t}();e.MappedIterator=i;var o=function(o){function e(e,r){var n=o.call(this,e,r)||this;return n.navigator=e,n}return Z(e,o),e.prototype.current=function(){return this.fn(this.navigator.current())},e.prototype.previous=function(){return this.fn(this.navigator.previous())},e.prototype.parent=function(){return this.fn(this.navigator.parent())},e.prototype.first=function(){return this.fn(this.navigator.first())},e.prototype.last=function(){return this.fn(this.navigator.last())},e.prototype.next=function(){return this.fn(this.navigator.next())},e}(i);e.MappedNavigator=o}),define(s[434],n([1,0,107]),function(o,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function o(o,n){void 0===o&&(o=[]),void 0===n&&(n=10),this._initialize(o),this._limit=n,this._onChange()}return o.prototype.getHistory=function(){return this._elements},o.prototype.add=function(t){this._history.add(t),this._onChange()},o.prototype.addIfNotPresent=function(t){this._history.has(t)||this.add(t)},o.prototype.next=function(){return this._navigator.next()?this._navigator.current():(this.last(),null)},o.prototype.previous=function(){return this._navigator.previous()?this._navigator.current():(this.first(),null)},o.prototype.current=function(){return this._navigator.current()},o.prototype.parent=function(){return null},o.prototype.first=function(){return this._navigator.first()},o.prototype.last=function(){return this._navigator.last()},o.prototype._onChange=function(){this._reduceToLimit(),this._navigator=new t.ArrayNavigator(this._elements),this._navigator.last()},o.prototype._reduceToLimit=function(){var t=this._elements;t.length>this._limit&&this._initialize(t.slice(t.length-this._limit))},o.prototype._initialize=function(o){this._history=new Set;for(var e=0,t=o,n;e<t.length;e++)n=t[e],this._history.add(n)},Object.defineProperty(o.prototype,"_elements",{get:function(){var o=[];return this._history.forEach(function(e){return o.push(e)}),o},enumerable:!0,configurable:!0}),o}();e.HistoryNavigator=n}),define(s[442],n([1,0]),function(p,e){"use strict";function N(l,e){function i(e,t){for(var a=0,i=0,o;a<e||!t;){if(o=l.charCodeAt(d),48<=o&&57>=o)i=16*i+o-48;else if(65<=o&&70>=o)i=16*i+o-65+10;else{if(!(97<=o&&102>=o))break;i=16*i+o-97+10}d++,a++}return a<e&&(i=-1),i}function r(){var e=d;if(48===l.charCodeAt(d))d++;else for(d++;d<l.length&&o(l.charCodeAt(d));)d++;if(d<l.length&&46===l.charCodeAt(d)){if(!(++d<l.length&&o(l.charCodeAt(d))))return m=b.UnexpectedEndOfNumber,l.substring(e,d);for(d++;d<l.length&&o(l.charCodeAt(d));)d++}var t=d;if(d<l.length&&(69===l.charCodeAt(d)||101===l.charCodeAt(d)))if((++d<l.length&&43===l.charCodeAt(d)||45===l.charCodeAt(d))&&d++,d<l.length&&o(l.charCodeAt(d))){for(d++;d<l.length&&o(l.charCodeAt(d));)d++;t=d}else m=b.UnexpectedEndOfNumber;return l.substring(e,t)}function s(){for(var e="",t=d;;){if(d>=c){e+=l.substring(t,d),m=b.UnexpectedEndOfString;break}var o=l.charCodeAt(d);if(34===o){e+=l.substring(t,d),d++;break}if(92!==o){if(0<=o&&31>=o){if(C(o)){e+=l.substring(t,d),m=b.UnexpectedEndOfString;break}m=b.InvalidCharacter}d++}else{if(e+=l.substring(t,d),++d>=c){m=b.UnexpectedEndOfString;break}switch(o=l.charCodeAt(d++)){case 34:e+="\"";break;case 92:e+="\\";break;case 47:e+="/";break;case 98:e+="\b";break;case 102:e+="\f";break;case 110:e+="\n";break;case 114:e+="\r";break;case 116:e+="\t";break;case 117:var n=i(4,!0);0<=n?e+=k(n):m=b.InvalidUnicode;break;default:m=b.InvalidEscapeCharacter;}t=d}}return e}function t(){if(p="",m=b.None,u=d,d>=c)return u=c,g=T.EOF;var e=l.charCodeAt(d);if(y(e)){do d++,p+=k(e),e=l.charCodeAt(d);while(y(e));return g=T.Trivia}if(C(e))return d++,p+=k(e),13===e&&10===l.charCodeAt(d)&&(d++,p+="\n"),g=T.LineBreakTrivia;switch(e){case 123:return d++,g=T.OpenBraceToken;case 125:return d++,g=T.CloseBraceToken;case 91:return d++,g=T.OpenBracketToken;case 93:return d++,g=T.CloseBracketToken;case 58:return d++,g=T.ColonToken;case 44:return d++,g=T.CommaToken;case 34:return d++,p=s(),g=T.StringLiteral;case 47:var t=d-1;if(47===l.charCodeAt(d+1)){for(d+=2;d<c&&!C(l.charCodeAt(d));)d++;return p=l.substring(t,d),g=T.LineCommentTrivia}if(42===l.charCodeAt(d+1)){d+=2;for(var n=!1;d<c-1;){if(42===l.charCodeAt(d)&&47===l.charCodeAt(d+1)){d+=2,n=!0;break}d++}return n||(d++,m=b.UnexpectedEndOfComment),p=l.substring(t,d),g=T.BlockCommentTrivia}return p+=k(e),d++,g=T.Unknown;case 45:if(p+=k(e),++d===c||!o(l.charCodeAt(d)))return g=T.Unknown;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return p+=r(),g=T.NumericLiteral;default:for(;d<c&&a(e);)d++,e=l.charCodeAt(d);if(u!==d){switch(p=l.substring(u,d)){case"true":return g=T.TrueKeyword;case"false":return g=T.FalseKeyword;case"null":return g=T.NullKeyword;}return g=T.Unknown}return p+=k(e),d++,g=T.Unknown;}}function a(t){if(y(t)||C(t))return!1;return 125===t||93===t||123===t||91===t||34===t||58===t||44===t?!1:!0}void 0===e&&(e=!1);var d=0,c=l.length,p="",u=0,g=T.Unknown,m=b.None;return{setPosition:function(t){d=t,p="",u=0,g=T.Unknown,m=b.None},getPosition:function(){return d},scan:e?function(){var o;do o=t();while(o>=T.LineCommentTrivia&&o<=T.Trivia);return o}:t,getToken:function(){return g},getTokenValue:function(){return p},getTokenOffset:function(){return u},getTokenLength:function(){return d-u},getTokenError:function(){return m}}}function y(t){return 32===t||9===t||11===t||12===t||160===t||5760===t||8192<=t&&8203>=t||8239===t||8287===t||12288===t||65279===t}function C(t){return 10===t||13===t||8232===t||8233===t}function o(t){return 48<=t&&57>=t}function g(t){switch(typeof t){case"boolean":return"boolean";case"number":return"number";case"string":return"string";default:return"null";}}function r(a){if("array"===a.type)return a.children.map(r);if("object"===a.type){for(var e={},t=0,n=a.children,i;t<n.length;t++)i=n[t],e[i.children[0].value]=r(i.children[1]);return e}return a.value}function m(c,e,t){function i(t){return t?function(){return t(g.getTokenOffset(),g.getTokenLength())}:function(){return!0}}function o(o){return o?function(e){return o(e,g.getTokenOffset(),g.getTokenLength())}:function(){return!0}}function r(){for(;;){var t=g.scan();switch(t){case T.LineCommentTrivia:case T.BlockCommentTrivia:E&&s(n.InvalidSymbol);break;case T.Unknown:s(n.InvalidSymbol);break;case T.Trivia:case T.LineBreakTrivia:break;default:return t;}}}function s(o,e,t){if(void 0===e&&(e=[]),void 0===t&&(t=[]),S(o),0<e.length+t.length)for(var n=g.getToken();n!==T.EOF;){if(-1!==e.indexOf(n)){r();break}if(-1!==t.indexOf(n))break;n=r()}}function a(o){var e=g.getTokenValue();return o?b(e):v(e),r(),!0}function h(){switch(g.getToken()){case T.NumericLiteral:var t=0;try{"number"!=typeof(t=JSON.parse(g.getTokenValue()))&&(s(n.InvalidNumberFormat),t=0)}catch(t){s(n.InvalidNumberFormat)}b(t);break;case T.NullKeyword:b(null);break;case T.TrueKeyword:b(!0);break;case T.FalseKeyword:b(!1);break;default:return!1;}return r(),!0}function l(){return g.getToken()===T.StringLiteral?(a(!1),g.getToken()===T.ColonToken?(w(":"),r(),f()||s(n.ValueExpected,[],[T.CloseBraceToken,T.CommaToken])):s(n.ColonExpected,[],[T.CloseBraceToken,T.CommaToken]),!0):(s(n.PropertyNameExpected,[],[T.CloseBraceToken,T.CommaToken]),!1)}function d(){m(),r();for(var t=!1;g.getToken()!==T.CloseBraceToken&&g.getToken()!==T.EOF;){if(!(g.getToken()===T.CommaToken))t&&s(n.CommaExpected,[],[]);else if(t||s(n.ValueExpected,[],[]),w(","),r(),g.getToken()===T.CloseBraceToken&&L)break;l()||s(n.ValueExpected,[],[T.CloseBraceToken,T.CommaToken]),t=!0}return _(),g.getToken()===T.CloseBraceToken?r():s(n.CloseBraceExpected,[T.CloseBraceToken],[]),!0}function p(){y(),r();for(var t=!1;g.getToken()!==T.CloseBracketToken&&g.getToken()!==T.EOF;)g.getToken()===T.CommaToken?(t||s(n.ValueExpected,[],[]),w(","),r()):t&&s(n.CommaExpected,[],[]),f()||s(n.ValueExpected,[],[T.CloseBracketToken,T.CommaToken]),t=!0;return C(),g.getToken()===T.CloseBracketToken?r():s(n.CloseBracketExpected,[T.CloseBracketToken],[]),!0}function f(){switch(g.getToken()){case T.OpenBracketToken:return p();case T.OpenBraceToken:return d();case T.StringLiteral:return a(!0);default:return h();}}var g=N(c,!1),m=i(e.onObjectBegin),v=o(e.onObjectProperty),_=i(e.onObjectEnd),y=i(e.onArrayBegin),C=i(e.onArrayEnd),b=o(e.onLiteralValue),w=o(e.onSeparator),S=o(e.onError),E=t&&t.disallowComments,L=t&&t.allowTrailingComma;return r(),g.getToken()===T.EOF||(f()?(g.getToken()!==T.EOF&&s(n.EndOfFileExpected,[],[]),!0):(s(n.ValueExpected,[],[]),!1))}Object.defineProperty(e,"__esModule",{value:!0});var b;!function(t){t[t.None=0]="None",t[t.UnexpectedEndOfComment=1]="UnexpectedEndOfComment",t[t.UnexpectedEndOfString=2]="UnexpectedEndOfString",t[t.UnexpectedEndOfNumber=3]="UnexpectedEndOfNumber",t[t.InvalidUnicode=4]="InvalidUnicode",t[t.InvalidEscapeCharacter=5]="InvalidEscapeCharacter",t[t.InvalidCharacter=6]="InvalidCharacter"}(b=e.ScanError||(e.ScanError={}));var T;!function(t){t[t.Unknown=0]="Unknown",t[t.OpenBraceToken=1]="OpenBraceToken",t[t.CloseBraceToken=2]="CloseBraceToken",t[t.OpenBracketToken=3]="OpenBracketToken",t[t.CloseBracketToken=4]="CloseBracketToken",t[t.CommaToken=5]="CommaToken",t[t.ColonToken=6]="ColonToken",t[t.NullKeyword=7]="NullKeyword",t[t.TrueKeyword=8]="TrueKeyword",t[t.FalseKeyword=9]="FalseKeyword",t[t.StringLiteral=10]="StringLiteral",t[t.NumericLiteral=11]="NumericLiteral",t[t.LineCommentTrivia=12]="LineCommentTrivia",t[t.BlockCommentTrivia=13]="BlockCommentTrivia",t[t.LineBreakTrivia=14]="LineBreakTrivia",t[t.Trivia=15]="Trivia",t[t.EOF=16]="EOF"}(T=e.SyntaxKind||(e.SyntaxKind={})),e.createScanner=N;var t;!function(t){t[t.nullCharacter=0]="nullCharacter",t[t.maxAsciiCharacter=127]="maxAsciiCharacter",t[t.lineFeed=10]="lineFeed",t[t.carriageReturn=13]="carriageReturn",t[t.lineSeparator=8232]="lineSeparator",t[t.paragraphSeparator=8233]="paragraphSeparator",t[t.nextLine=133]="nextLine",t[t.space=32]="space",t[t.nonBreakingSpace=160]="nonBreakingSpace",t[t.enQuad=8192]="enQuad",t[t.emQuad=8193]="emQuad",t[t.enSpace=8194]="enSpace",t[t.emSpace=8195]="emSpace",t[t.threePerEmSpace=8196]="threePerEmSpace",t[t.fourPerEmSpace=8197]="fourPerEmSpace",t[t.sixPerEmSpace=8198]="sixPerEmSpace",t[t.figureSpace=8199]="figureSpace",t[t.punctuationSpace=8200]="punctuationSpace",t[t.thinSpace=8201]="thinSpace",t[t.hairSpace=8202]="hairSpace",t[t.zeroWidthSpace=8203]="zeroWidthSpace",t[t.narrowNoBreakSpace=8239]="narrowNoBreakSpace",t[t.ideographicSpace=12288]="ideographicSpace",t[t.mathematicalSpace=8287]="mathematicalSpace",t[t.ogham=5760]="ogham",t[t._=95]="_",t[t.$=36]="$",t[t._0=48]="_0",t[t._1=49]="_1",t[t._2=50]="_2",t[t._3=51]="_3",t[t._4=52]="_4",t[t._5=53]="_5",t[t._6=54]="_6",t[t._7=55]="_7",t[t._8=56]="_8",t[t._9=57]="_9",t[t.a=97]="a",t[t.b=98]="b",t[t.c=99]="c",t[t.d=100]="d",t[t.e=101]="e",t[t.f=102]="f",t[t.g=103]="g",t[t.h=104]="h",t[t.i=105]="i",t[t.j=106]="j",t[t.k=107]="k",t[t.l=108]="l",t[t.m=109]="m",t[t.n=110]="n",t[t.o=111]="o",t[t.p=112]="p",t[t.q=113]="q",t[t.r=114]="r",t[t.s=115]="s",t[t.t=116]="t",t[t.u=117]="u",t[t.v=118]="v",t[t.w=119]="w",t[t.x=120]="x",t[t.y=121]="y",t[t.z=122]="z",t[t.A=65]="A",t[t.B=66]="B",t[t.C=67]="C",t[t.D=68]="D",t[t.E=69]="E",t[t.F=70]="F",t[t.G=71]="G",t[t.H=72]="H",t[t.I=73]="I",t[t.J=74]="J",t[t.K=75]="K",t[t.L=76]="L",t[t.M=77]="M",t[t.N=78]="N",t[t.O=79]="O",t[t.P=80]="P",t[t.Q=81]="Q",t[t.R=82]="R",t[t.S=83]="S",t[t.T=84]="T",t[t.U=85]="U",t[t.V=86]="V",t[t.W=87]="W",t[t.X=88]="X",t[t.Y=89]="Y",t[t.Z=90]="Z",t[t.ampersand=38]="ampersand",t[t.asterisk=42]="asterisk",t[t.at=64]="at",t[t.backslash=92]="backslash",t[t.bar=124]="bar",t[t.caret=94]="caret",t[t.closeBrace=125]="closeBrace",t[t.closeBracket=93]="closeBracket",t[t.closeParen=41]="closeParen",t[t.colon=58]="colon",t[t.comma=44]="comma",t[t.dot=46]="dot",t[t.doubleQuote=34]="doubleQuote",t[t.equals=61]="equals",t[t.exclamation=33]="exclamation",t[t.greaterThan=62]="greaterThan",t[t.lessThan=60]="lessThan",t[t.minus=45]="minus",t[t.openBrace=123]="openBrace",t[t.openBracket=91]="openBracket",t[t.openParen=40]="openParen",t[t.percent=37]="percent",t[t.plus=43]="plus",t[t.question=63]="question",t[t.semicolon=59]="semicolon",t[t.singleQuote=39]="singleQuote",t[t.slash=47]="slash",t[t.tilde=126]="tilde",t[t.backspace=8]="backspace",t[t.formFeed=12]="formFeed",t[t.byteOrderMark=65279]="byteOrderMark",t[t.tab=9]="tab",t[t.verticalTab=11]="verticalTab"}(t||(t={})),e.stripComments=function(n,e){var t=N(n),r=[],s=0,a,i;do switch(i=t.getPosition(),a=t.scan()){case T.LineCommentTrivia:case T.BlockCommentTrivia:case T.EOF:s!==i&&r.push(n.substring(s,i)),void 0!==e&&r.push(t.getTokenValue().replace(/[^\r\n]/g,e)),s=t.getPosition();}while(a!==T.EOF);return r.join("")};var n;!function(t){t[t.InvalidSymbol=0]="InvalidSymbol",t[t.InvalidNumberFormat=1]="InvalidNumberFormat",t[t.PropertyNameExpected=2]="PropertyNameExpected",t[t.ValueExpected=3]="ValueExpected",t[t.ColonExpected=4]="ColonExpected",t[t.CommaExpected=5]="CommaExpected",t[t.CloseBraceExpected=6]="CloseBraceExpected",t[t.CloseBracketExpected=7]="CloseBracketExpected",t[t.EndOfFileExpected=8]="EndOfFileExpected"}(n=e.ParseErrorCode||(e.ParseErrorCode={})),e.getLocation=function(s,d){function t(r,e,t,a){u.value=r,u.offset=e,u.length=t,u.type=a,u.columnOffset=void 0,o=u}var p=[],c={},o=void 0,u={value:void 0,offset:void 0,length:void 0,type:void 0},h=!1;try{m(s,{onObjectBegin:function(t){if(d<=t)throw c;o=void 0,h=d>t,p.push("")},onObjectProperty:function(o,e,n){if(d<e)throw c;if(t(o,e,n,"property"),p[p.length-1]=o,d<=e+n)throw c},onObjectEnd:function(t){if(d<=t)throw c;o=void 0,p.pop()},onArrayBegin:function(t){if(d<=t)throw c;o=void 0,p.push(0)},onArrayEnd:function(t){if(d<=t)throw c;o=void 0,p.pop()},onLiteralValue:function(o,e,n){if(d<e)throw c;if(t(o,e,n,g(o)),d<=e+n)throw c},onSeparator:function(t,e){if(d<=e)throw c;if(":"===t&&"property"===o.type)o.columnOffset=e,h=!1,o=void 0;else if(","===t){var n=p[p.length-1];"number"==typeof n?p[p.length-1]=n+1:(h=!0,p[p.length-1]=""),o=void 0}}})}catch(t){if(t!==c)throw t}return{path:p,previousNode:o,isAtPropertyKey:h,matches:function(o){for(var e=0,t=0;e<o.length&&t<p.length;t++)if(o[e]===p[t]||"*"===o[e])e++;else if("**"!==o[e])return!1;return e===o.length}}},e.parse=function(a,d,e){function t(t){Array.isArray(o)?o.push(t):n&&(o[n]=t)}void 0===d&&(d=[]);var n=null,o=[],r=[];return m(a,{onObjectBegin:function(){var i={};t(i),r.push(o),o=i,n=null},onObjectProperty:function(t){n=t},onObjectEnd:function(){o=r.pop()},onArrayBegin:function(){var i=[];t(i),r.push(o),o=i,n=null},onArrayEnd:function(){o=r.pop()},onLiteralValue:t,onError:function(t){d.push({error:t})}},e),o[0]},e.parseTree=function(s,d,e){function l(t){"property"===o.type&&(o.length=t-o.offset,o=o.parent)}function i(t){return o.children.push(t),t}void 0===d&&(d=[]);var o={type:"array",offset:-1,length:-1,children:[]};m(s,{onObjectBegin:function(t){o=i({type:"object",offset:t,length:-1,parent:o,children:[]})},onObjectProperty:function(a,s,d){(o=i({type:"property",offset:s,length:-1,parent:o,children:[]})).children.push({type:"string",value:a,offset:s,length:d,parent:o})},onObjectEnd:function(n,e){o.length=n+e-o.offset,o=o.parent,l(n+e)},onArrayBegin:function(t){o=i({type:"array",offset:t,length:-1,parent:o,children:[]})},onArrayEnd:function(n,e){o.length=n+e-o.offset,o=o.parent,l(n+e)},onLiteralValue:function(a,s,d){i({type:g(a),offset:s,length:d,parent:o,value:a}),l(s+d)},onSeparator:function(n,e){"property"===o.type&&(":"===n?o.columnOffset=e:","===n&&l(e))},onError:function(t){d.push({error:t})}},e);var t=o.children[0];return t&&delete t.parent,t},e.findNodeAtLocation=function(d,e){if(d){for(var t=d,n=0,i=e,o;n<i.length;n++)if(o=i[n],"string"==typeof o){if("object"!==t.type)return;for(var p=!1,g=0,a=t.children,u;g<a.length;g++)if(u=a[g],u.children[0].value===o){t=u.children[1],p=!0;break}if(!p)return}else{var l=o;if("array"!==t.type||0>l||l>=t.children.length)return;t=t.children[l]}return t}},e.getNodeValue=r,e.visit=m}),define(s[40],n([1,0]),function(p,e){"use strict";function g(o,e){var t=!!(2048&o),r=!!(256&o);return new a(2===e?r:t,!!(1024&o),!!(512&o),2===e?t:r,255&o)}Object.defineProperty(e,"__esModule",{value:!0}),!function(t){t[t.Unknown=0]="Unknown",t[t.Backspace=1]="Backspace",t[t.Tab=2]="Tab",t[t.Enter=3]="Enter",t[t.Shift=4]="Shift",t[t.Ctrl=5]="Ctrl",t[t.Alt=6]="Alt",t[t.PauseBreak=7]="PauseBreak",t[t.CapsLock=8]="CapsLock",t[t.Escape=9]="Escape",t[t.Space=10]="Space",t[t.PageUp=11]="PageUp",t[t.PageDown=12]="PageDown",t[t.End=13]="End",t[t.Home=14]="Home",t[t.LeftArrow=15]="LeftArrow",t[t.UpArrow=16]="UpArrow",t[t.RightArrow=17]="RightArrow",t[t.DownArrow=18]="DownArrow",t[t.Insert=19]="Insert",t[t.Delete=20]="Delete",t[t.KEY_0=21]="KEY_0",t[t.KEY_1=22]="KEY_1",t[t.KEY_2=23]="KEY_2",t[t.KEY_3=24]="KEY_3",t[t.KEY_4=25]="KEY_4",t[t.KEY_5=26]="KEY_5",t[t.KEY_6=27]="KEY_6",t[t.KEY_7=28]="KEY_7",t[t.KEY_8=29]="KEY_8",t[t.KEY_9=30]="KEY_9",t[t.KEY_A=31]="KEY_A",t[t.KEY_B=32]="KEY_B",t[t.KEY_C=33]="KEY_C",t[t.KEY_D=34]="KEY_D",t[t.KEY_E=35]="KEY_E",t[t.KEY_F=36]="KEY_F",t[t.KEY_G=37]="KEY_G",t[t.KEY_H=38]="KEY_H",t[t.KEY_I=39]="KEY_I",t[t.KEY_J=40]="KEY_J",t[t.KEY_K=41]="KEY_K",t[t.KEY_L=42]="KEY_L",t[t.KEY_M=43]="KEY_M",t[t.KEY_N=44]="KEY_N",t[t.KEY_O=45]="KEY_O",t[t.KEY_P=46]="KEY_P",t[t.KEY_Q=47]="KEY_Q",t[t.KEY_R=48]="KEY_R",t[t.KEY_S=49]="KEY_S",t[t.KEY_T=50]="KEY_T",t[t.KEY_U=51]="KEY_U",t[t.KEY_V=52]="KEY_V",t[t.KEY_W=53]="KEY_W",t[t.KEY_X=54]="KEY_X",t[t.KEY_Y=55]="KEY_Y",t[t.KEY_Z=56]="KEY_Z",t[t.Meta=57]="Meta",t[t.ContextMenu=58]="ContextMenu",t[t.F1=59]="F1",t[t.F2=60]="F2",t[t.F3=61]="F3",t[t.F4=62]="F4",t[t.F5=63]="F5",t[t.F6=64]="F6",t[t.F7=65]="F7",t[t.F8=66]="F8",t[t.F9=67]="F9",t[t.F10=68]="F10",t[t.F11=69]="F11",t[t.F12=70]="F12",t[t.F13=71]="F13",t[t.F14=72]="F14",t[t.F15=73]="F15",t[t.F16=74]="F16",t[t.F17=75]="F17",t[t.F18=76]="F18",t[t.F19=77]="F19",t[t.NumLock=78]="NumLock",t[t.ScrollLock=79]="ScrollLock",t[t.US_SEMICOLON=80]="US_SEMICOLON",t[t.US_EQUAL=81]="US_EQUAL",t[t.US_COMMA=82]="US_COMMA",t[t.US_MINUS=83]="US_MINUS",t[t.US_DOT=84]="US_DOT",t[t.US_SLASH=85]="US_SLASH",t[t.US_BACKTICK=86]="US_BACKTICK",t[t.US_OPEN_SQUARE_BRACKET=87]="US_OPEN_SQUARE_BRACKET",t[t.US_BACKSLASH=88]="US_BACKSLASH",t[t.US_CLOSE_SQUARE_BRACKET=89]="US_CLOSE_SQUARE_BRACKET",t[t.US_QUOTE=90]="US_QUOTE",t[t.OEM_8=91]="OEM_8",t[t.OEM_102=92]="OEM_102",t[t.NUMPAD_0=93]="NUMPAD_0",t[t.NUMPAD_1=94]="NUMPAD_1",t[t.NUMPAD_2=95]="NUMPAD_2",t[t.NUMPAD_3=96]="NUMPAD_3",t[t.NUMPAD_4=97]="NUMPAD_4",t[t.NUMPAD_5=98]="NUMPAD_5",t[t.NUMPAD_6=99]="NUMPAD_6",t[t.NUMPAD_7=100]="NUMPAD_7",t[t.NUMPAD_8=101]="NUMPAD_8",t[t.NUMPAD_9=102]="NUMPAD_9",t[t.NUMPAD_MULTIPLY=103]="NUMPAD_MULTIPLY",t[t.NUMPAD_ADD=104]="NUMPAD_ADD",t[t.NUMPAD_SEPARATOR=105]="NUMPAD_SEPARATOR",t[t.NUMPAD_SUBTRACT=106]="NUMPAD_SUBTRACT",t[t.NUMPAD_DECIMAL=107]="NUMPAD_DECIMAL",t[t.NUMPAD_DIVIDE=108]="NUMPAD_DIVIDE",t[t.KEY_IN_COMPOSITION=109]="KEY_IN_COMPOSITION",t[t.ABNT_C1=110]="ABNT_C1",t[t.ABNT_C2=111]="ABNT_C2",t[t.MAX_VALUE=112]="MAX_VALUE"}(e.KeyCode||(e.KeyCode={}));var t=function(){function t(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}return t.prototype.define=function(o,e){this._keyCodeToStr[o]=e,this._strToKeyCode[e.toLowerCase()]=o},t.prototype.keyCodeToStr=function(t){return this._keyCodeToStr[t]},t.prototype.strToKeyCode=function(t){return this._strToKeyCode[t.toLowerCase()]||0},t}(),m=new t,o=new t,r=new t;!function(){function t(a,s,t,n){void 0===t&&(t=s),void 0===n&&(n=t),m.define(a,s),o.define(a,t),r.define(a,n)}t(0,"unknown"),t(1,"Backspace"),t(2,"Tab"),t(3,"Enter"),t(4,"Shift"),t(5,"Ctrl"),t(6,"Alt"),t(7,"PauseBreak"),t(8,"CapsLock"),t(9,"Escape"),t(10,"Space"),t(11,"PageUp"),t(12,"PageDown"),t(13,"End"),t(14,"Home"),t(15,"LeftArrow","Left"),t(16,"UpArrow","Up"),t(17,"RightArrow","Right"),t(18,"DownArrow","Down"),t(19,"Insert"),t(20,"Delete"),t(21,"0"),t(22,"1"),t(23,"2"),t(24,"3"),t(25,"4"),t(26,"5"),t(27,"6"),t(28,"7"),t(29,"8"),t(30,"9"),t(31,"A"),t(32,"B"),t(33,"C"),t(34,"D"),t(35,"E"),t(36,"F"),t(37,"G"),t(38,"H"),t(39,"I"),t(40,"J"),t(41,"K"),t(42,"L"),t(43,"M"),t(44,"N"),t(45,"O"),t(46,"P"),t(47,"Q"),t(48,"R"),t(49,"S"),t(50,"T"),t(51,"U"),t(52,"V"),t(53,"W"),t(54,"X"),t(55,"Y"),t(56,"Z"),t(57,"Meta"),t(58,"ContextMenu"),t(59,"F1"),t(60,"F2"),t(61,"F3"),t(62,"F4"),t(63,"F5"),t(64,"F6"),t(65,"F7"),t(66,"F8"),t(67,"F9"),t(68,"F10"),t(69,"F11"),t(70,"F12"),t(71,"F13"),t(72,"F14"),t(73,"F15"),t(74,"F16"),t(75,"F17"),t(76,"F18"),t(77,"F19"),t(78,"NumLock"),t(79,"ScrollLock"),t(80,";",";","OEM_1"),t(81,"=","=","OEM_PLUS"),t(82,",",",","OEM_COMMA"),t(83,"-","-","OEM_MINUS"),t(84,".",".","OEM_PERIOD"),t(85,"/","/","OEM_2"),t(86,"`","`","OEM_3"),t(110,"ABNT_C1"),t(111,"ABNT_C2"),t(87,"[","[","OEM_4"),t(88,"\\","\\","OEM_5"),t(89,"]","]","OEM_6"),t(90,"'","'","OEM_7"),t(91,"OEM_8"),t(92,"OEM_102"),t(93,"NumPad0"),t(94,"NumPad1"),t(95,"NumPad2"),t(96,"NumPad3"),t(97,"NumPad4"),t(98,"NumPad5"),t(99,"NumPad6"),t(100,"NumPad7"),t(101,"NumPad8"),t(102,"NumPad9"),t(103,"NumPad_Multiply"),t(104,"NumPad_Add"),t(105,"NumPad_Separator"),t(106,"NumPad_Subtract"),t(107,"NumPad_Decimal"),t(108,"NumPad_Divide")}(),!function(t){t.toString=function(t){return m.keyCodeToStr(t)},t.fromString=function(t){return m.strToKeyCode(t)},t.toUserSettingsUS=function(t){return o.keyCodeToStr(t)},t.toUserSettingsGeneral=function(t){return r.keyCodeToStr(t)},t.fromUserSettings=function(t){return o.strToKeyCode(t)||r.strToKeyCode(t)}}(e.KeyCodeUtils||(e.KeyCodeUtils={}));var n;!function(t){t[t.CtrlCmd=2048]="CtrlCmd",t[t.Shift=1024]="Shift",t[t.Alt=512]="Alt",t[t.WinCtrl=256]="WinCtrl",t[t.KeyCode=255]="KeyCode"}(n||(n={})),!function(t){t[t.CtrlCmd=2048]="CtrlCmd",t[t.Shift=1024]="Shift",t[t.Alt=512]="Alt",t[t.WinCtrl=256]="WinCtrl"}(e.KeyMod||(e.KeyMod={})),e.KeyChord=function(o,e){return(o|(65535&e)<<16>>>0)>>>0},e.createKeybinding=function(n,e){if(0===n)return null;var t=(65535&n)>>>0,i=(4294901760&n)>>>16;return 0===i?g(t,e):new s(g(t,e),g(i,e))},e.createSimpleKeybinding=g,!function(t){t[t.Simple=1]="Simple",t[t.Chord=2]="Chord"}(e.KeybindingType||(e.KeybindingType={}));var a=function(){function t(r,a,t,n,i){this.type=1,this.ctrlKey=r,this.shiftKey=a,this.altKey=t,this.metaKey=n,this.keyCode=i}return t.prototype.equals=function(t){return 1===t.type&&this.ctrlKey===t.ctrlKey&&this.shiftKey===t.shiftKey&&this.altKey===t.altKey&&this.metaKey===t.metaKey&&this.keyCode===t.keyCode},t.prototype.isModifierKey=function(){return 0===this.keyCode||5===this.keyCode||57===this.keyCode||6===this.keyCode||4===this.keyCode},t.prototype.isDuplicateModifierCase=function(){return this.ctrlKey&&5===this.keyCode||this.shiftKey&&4===this.keyCode||this.altKey&&6===this.keyCode||this.metaKey&&57===this.keyCode},t}();e.SimpleKeybinding=a;var s=function(){return function(o,e){this.type=2,this.firstPart=o,this.chordPart=e}}();e.ChordKeybinding=s;var i=function(){return function(a,e,t,n,i,o){this.ctrlKey=a,this.shiftKey=e,this.altKey=t,this.metaKey=n,this.keyLabel=i,this.keyAriaLabel=o}}();e.ResolvedKeybindingPart=i;var l=function(){return function(){}}();e.ResolvedKeybinding=l}),define(s[3],n([1,0,136]),function(d,e,l){"use strict";function p(o){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return Array.isArray(o)?(o.forEach(function(t){return t&&t.dispose()}),[]):0===e.length?o?(o.dispose(),o):void 0:(p(o),p(e),[])}Object.defineProperty(e,"__esModule",{value:!0}),e.empty=Object.freeze({dispose:function(){}}),e.dispose=p,e.combinedDisposable=function(t){return{dispose:function(){return p(t)}}},e.toDisposable=function(){for(var o=[],e=0;e<arguments.length;e++)o[e]=arguments[e];return{dispose:function(){for(var e=0,t=o;e<t.length;e++)(0,t[e])()}}};var t=function(){function t(){this._toDispose=[]}return t.prototype.dispose=function(){this._toDispose=p(this._toDispose)},t.prototype._register=function(t){return this._toDispose.push(t),t},t}();e.Disposable=t;var o=function(){function t(){}return Object.defineProperty(t.prototype,"value",{set:function(t){this._value&&this._value.dispose(),this._value=t},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this.value=null},t}();e.OneDisposable=o;var n=function(){function t(){this.references=Object.create(null)}return t.prototype.acquire=function(n){var e=this,t=this.references[n];t||(t=this.references[n]={counter:0,object:this.createReferencedObject(n)});var i=t.object,a=l.once(function(){0==--t.counter&&(e.destroyReferencedObject(t.object),delete e.references[n])});return t.counter++,{object:i,dispose:a}},t}();e.ReferenceCollection=n;var i=function(){function t(t){this.object=t}return t.prototype.dispose=function(){},t}();e.ImmortalReference=i});var p={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:o,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:o,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n(?!def)[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:o,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/};p.bullet=/(?:[*+-]|\d+\.)/,p.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,p.item=e(p.item,"gm")(/bull/g,p.bullet)(),p.list=e(p.list)(/bull/g,p.bullet)("hr","\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))")("def","\\n+(?="+p.def.source+")")(),p.blockquote=e(p.blockquote)("def",p.def)(),p._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b",p.html=e(p.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,p._tag)(),p.paragraph=e(p.paragraph)("hr",p.hr)("heading",p.heading)("lheading",p.lheading)("blockquote",p.blockquote)("tag","<"+p._tag)("def",p.def)(),p.normal=i({},p),p.gfm=i({},p.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\s*\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),p.gfm.paragraph=e(p.paragraph)("(?!","(?!"+p.gfm.fences.source.replace("\\1","\\2")+"|"+p.list.source.replace("\\1","\\3")+"|")(),p.tables=i({},p.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),C.rules=p,C.lex=function(e,t){return new C(t).lex(e)},C.prototype.lex=function(t){return t=t.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(t,!0)},C.prototype.token=function(g,e,t){for(var g=g.replace(/^ +$/gm,""),m,i,o,r,s,a,u,l,c;g;)if((o=this.rules.newline.exec(g))&&(g=g.substring(o[0].length),1<o[0].length&&this.tokens.push({type:"space"})),o=this.rules.code.exec(g))g=g.substring(o[0].length),o=o[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?o:o.replace(/\n+$/,"")});else if(o=this.rules.fences.exec(g))g=g.substring(o[0].length),this.tokens.push({type:"code",lang:o[2],text:o[3]||""});else if(o=this.rules.heading.exec(g))g=g.substring(o[0].length),this.tokens.push({type:"heading",depth:o[1].length,text:o[2]});else if(e&&(o=this.rules.nptable.exec(g))){for(g=g.substring(o[0].length),a={type:"table",header:o[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3].replace(/\n$/,"").split("\n")},l=0;l<a.align.length;l++)a.align[l]=/^ *-+: *$/.test(a.align[l])?"right":/^ *:-+: *$/.test(a.align[l])?"center":/^ *:-+ *$/.test(a.align[l])?"left":null;for(l=0;l<a.cells.length;l++)a.cells[l]=a.cells[l].split(/ *\| */);this.tokens.push(a)}else if(o=this.rules.lheading.exec(g))g=g.substring(o[0].length),this.tokens.push({type:"heading",depth:"="===o[2]?1:2,text:o[1]});else if(o=this.rules.hr.exec(g))g=g.substring(o[0].length),this.tokens.push({type:"hr"});else if(o=this.rules.blockquote.exec(g))g=g.substring(o[0].length),this.tokens.push({type:"blockquote_start"}),o=o[0].replace(/^ *> ?/gm,""),this.token(o,e,!0),this.tokens.push({type:"blockquote_end"});else if(o=this.rules.list.exec(g)){for(g=g.substring(o[0].length),r=o[2],this.tokens.push({type:"list_start",ordered:1<r.length}),m=!1,c=(o=o[0].match(this.rules.item)).length,l=0;l<c;l++)u=(a=o[l]).length,~(a=a.replace(/^ *([*+-]|\d+\.) +/,"")).indexOf("\n ")&&(u-=a.length,a=this.options.pedantic?a.replace(/^ {1,4}/gm,""):a.replace(new RegExp("^ {1,"+u+"}","gm"),"")),this.options.smartLists&&l!==c-1&&(r===(s=p.bullet.exec(o[l+1])[0])||1<r.length&&1<s.length||(g=o.slice(l+1).join("\n")+g,l=c-1)),i=m||/\n\n(?!\s*$)/.test(a),l!==c-1&&(m="\n"===a.charAt(a.length-1),i||(i=m)),this.tokens.push({type:i?"loose_item_start":"list_item_start"}),this.token(a,!1,t),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(o=this.rules.html.exec(g))g=g.substring(o[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===o[1]||"script"===o[1]||"style"===o[1]),text:o[0]});else if(!t&&e&&(o=this.rules.def.exec(g)))g=g.substring(o[0].length),this.tokens.links[o[1].toLowerCase()]={href:o[2],title:o[3]};else if(e&&(o=this.rules.table.exec(g))){for(g=g.substring(o[0].length),a={type:"table",header:o[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3].replace(/(?: *\| *)?\n$/,"").split("\n")},l=0;l<a.align.length;l++)a.align[l]=/^ *-+: *$/.test(a.align[l])?"right":/^ *:-+: *$/.test(a.align[l])?"center":/^ *:-+ *$/.test(a.align[l])?"left":null;for(l=0;l<a.cells.length;l++)a.cells[l]=a.cells[l].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(a)}else if(e&&(o=this.rules.paragraph.exec(g)))g=g.substring(o[0].length),this.tokens.push({type:"paragraph",text:"\n"===o[1].charAt(o[1].length-1)?o[1].slice(0,-1):o[1]});else if(o=this.rules.text.exec(g))g=g.substring(o[0].length),this.tokens.push({type:"text",text:o[0]});else if(g)throw new Error("Infinite loop on byte: "+g.charCodeAt(0));return this.tokens};var g={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:o,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:[^_]|__)+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:o,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/};g._inside=/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/,g._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/,g.link=e(g.link)("inside",g._inside)("href",g._href)(),g.reflink=e(g.reflink)("inside",g._inside)(),g.normal=i({},g),g.pedantic=i({},g.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),g.gfm=i({},g.normal,{escape:e(g.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:e(g.text)("]|","~]|")("|","|https?://|")()}),g.breaks=i({},g.gfm,{br:e(g.br)("{2,}","*")(),text:e(g.gfm.text)("{2,}","*")()}),b.rules=g,b.output=function(t,e,o){return new b(e,o).output(t)},b.prototype.output=function(o){for(var e="",a,t,n,i;o;)if(i=this.rules.escape.exec(o))o=o.substring(i[0].length),e+=i[1];else if(i=this.rules.autolink.exec(o))o=o.substring(i[0].length),"@"===i[2]?(t=":"===i[1].charAt(6)?this.mangle(i[1].substring(7)):this.mangle(i[1]),n=this.mangle("mailto:")+t):n=t=L(i[1]),e+=this.renderer.link(n,null,t);else if(!(this.inLink||!(i=this.rules.url.exec(o))))o=o.substring(i[0].length),n=t=L(i[1]),e+=this.renderer.link(n,null,t);else if(i=this.rules.tag.exec(o))!this.inLink&&/^<a /i.test(i[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(i[0])&&(this.inLink=!1),o=o.substring(i[0].length),e+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(i[0]):L(i[0]):i[0];else if(i=this.rules.link.exec(o))o=o.substring(i[0].length),this.inLink=!0,e+=this.outputLink(i,{href:i[2],title:i[3]}),this.inLink=!1;else if((i=this.rules.reflink.exec(o))||(i=this.rules.nolink.exec(o))){if(o=o.substring(i[0].length),a=(i[2]||i[1]).replace(/\s+/g," "),!(a=this.links[a.toLowerCase()])||!a.href){e+=i[0].charAt(0),o=i[0].substring(1)+o;continue}this.inLink=!0,e+=this.outputLink(i,a),this.inLink=!1}else if(i=this.rules.strong.exec(o))o=o.substring(i[0].length),e+=this.renderer.strong(this.output(i[2]||i[1]));else if(i=this.rules.em.exec(o))o=o.substring(i[0].length),e+=this.renderer.em(this.output(i[2]||i[1]));else if(i=this.rules.code.exec(o))o=o.substring(i[0].length),e+=this.renderer.codespan(L(i[2],!0));else if(i=this.rules.br.exec(o))o=o.substring(i[0].length),e+=this.renderer.br();else if(i=this.rules.del.exec(o))o=o.substring(i[0].length),e+=this.renderer.del(this.output(i[1]));else if(i=this.rules.text.exec(o))o=o.substring(i[0].length),e+=this.renderer.text(L(this.smartypants(i[0])));else if(o)throw new Error("Infinite loop on byte: "+o.charCodeAt(0));return e},b.prototype.outputLink=function(o,e){var t=L(e.href),n=e.title?L(e.title):null;return"!"===o[0].charAt(0)?this.renderer.image(t,n,L(o[1])):this.renderer.link(t,n,this.output(o[1]))},b.prototype.smartypants=function(t){return this.options.smartypants?t.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026"):t},b.prototype.mangle=function(r){if(!this.options.mangle)return r;for(var e="",n=r.length,i=0,o;i<n;i++)o=r.charCodeAt(i),.5<Math.random()&&(o="x"+o.toString(16)),e+="&#"+o+";";return e},S.prototype.code=function(o,e,t){if(this.options.highlight){var n=this.options.highlight(o,e);null!=n&&n!==o&&(t=!0,o=n)}return e?"<pre><code class=\""+this.options.langPrefix+L(e,!0)+"\">"+(t?o:L(o,!0))+"\n</code></pre>\n":"<pre><code>"+(t?o:L(o,!0))+"\n</code></pre>"},S.prototype.blockquote=function(t){return"<blockquote>\n"+t+"</blockquote>\n"},S.prototype.html=function(t){return t},S.prototype.heading=function(o,e,t){return"<h"+e+" id=\""+this.options.headerPrefix+t.toLowerCase().replace(/[^\w]+/g,"-")+"\">"+o+"</h"+e+">\n"},S.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},S.prototype.list=function(o,e){var t=e?"ol":"ul";return"<"+t+">\n"+o+"</"+t+">\n"},S.prototype.listitem=function(t){return"<li>"+t+"</li>\n"},S.prototype.paragraph=function(t){return"<p>"+t+"</p>\n"},S.prototype.table=function(o,e){return"<table>\n<thead>\n"+o+"</thead>\n<tbody>\n"+e+"</tbody>\n</table>\n"},S.prototype.tablerow=function(t){return"<tr>\n"+t+"</tr>\n"},S.prototype.tablecell=function(o,e){var t=e.header?"th":"td";return(e.align?"<"+t+" style=\"text-align:"+e.align+"\">":"<"+t+">")+o+"</"+t+">\n"},S.prototype.strong=function(t){return"<strong>"+t+"</strong>"},S.prototype.em=function(t){return"<em>"+t+"</em>"},S.prototype.codespan=function(t){return"<code>"+t+"</code>"},S.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},S.prototype.del=function(t){return"<del>"+t+"</del>"},S.prototype.link=function(r,e,a){if(this.options.sanitize){try{var n=decodeURIComponent(t(r)).replace(/[^\w:]/g,"").toLowerCase()}catch(t){return""}if(0===n.indexOf("javascript:")||0===n.indexOf("vbscript:")||0===n.indexOf("data:"))return""}var i="<a href=\""+r+"\"";return e&&(i+=" title=\""+e+"\""),i+=">"+a+"</a>"},S.prototype.image=function(o,e,t){var n="<img src=\""+o+"\" alt=\""+t+"\"";return e&&(n+=" title=\""+e+"\""),n+=this.options.xhtml?"/>":">"},S.prototype.text=function(t){return t},E.parse=function(o,e,t){return new E(e,t).parse(o)},E.prototype.parse=function(t){this.inline=new b(t.links,this.options,this.renderer),this.tokens=t.reverse();for(var e="";this.next();)e+=this.tok();return e},E.prototype.next=function(){return this.token=this.tokens.pop()},E.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},E.prototype.parseText=function(){for(var t=this.token.text;"text"===this.peek().type;)t+="\n"+this.next().text;return this.inline.output(t)},E.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,this.token.text);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var d="",o="",r,e,t,n;for(t="",r=0;r<this.token.header.length;r++)({header:!0,align:this.token.align[r]}),t+=this.renderer.tablecell(this.inline.output(this.token.header[r]),{header:!0,align:this.token.align[r]});for(d+=this.renderer.tablerow(t),r=0;r<this.token.cells.length;r++){for(e=this.token.cells[r],t="",n=0;n<e.length;n++)t+=this.renderer.tablecell(this.inline.output(e[n]),{header:!1,align:this.token.align[n]});o+=this.renderer.tablerow(t)}return this.renderer.table(d,o);case"blockquote_start":for(o="";"blockquote_end"!==this.next().type;)o+=this.tok();return this.renderer.blockquote(o);case"list_start":for(var o="",i=this.token.ordered;"list_end"!==this.next().type;)o+=this.tok();return this.renderer.list(o,i);case"list_item_start":for(o="";"list_item_end"!==this.next().type;)o+="text"===this.token.type?this.parseText():this.tok();return this.renderer.listitem(o);case"loose_item_start":for(o="";"list_item_end"!==this.next().type;)o+=this.tok();return this.renderer.listitem(o);case"html":var s=this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text);return this.renderer.html(s);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText());}},o.exec=o,u.options=u.setOptions=function(t){return i(u.defaults,t),u},u.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,sanitizer:null,mangle:!0,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:new S,xhtml:!1},u.Parser=E,u.parser=E.parse,u.Renderer=S,u.Lexer=C,u.lexer=C.lex,u.InlineLexer=b,u.inlineLexer=b.output,u.parse=u,define("vs/base/common/marked/raw.marked",[],function(){return u}),define(s[209],n([552]),function(t){return{marked:t}}),define(s[70],n([1,0]),function(o,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),!function(t){t.inMemory="inmemory",t.vscode="vscode",t.internal="private",t.walkThrough="walkThrough",t.walkThroughSnippet="walkThroughSnippet",t.http="http",t.https="https",t.file="file",t.untitled="untitled"}(e.Schemas||(e.Schemas={}))}),define(s[15],n([1,0]),function(_,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=!1,y=!1,i=!1,o=!1,r=!1,s=!1,a,u;if(e.LANGUAGE_DEFAULT="en","object"==typeof process){t="win32"===process.platform,y="darwin"===process.platform,i="linux"===process.platform,o=!t&&0===process.getuid();var l=process.env.VSCODE_NLS_CONFIG;if(l)try{var c=JSON.parse(l),d=c.availableLanguages["*"];a=c.locale,u=d||e.LANGUAGE_DEFAULT}catch(t){}r=!0}else if("object"==typeof navigator){var h=navigator.userAgent;t=0<=h.indexOf("Windows"),y=0<=h.indexOf("Macintosh"),i=0<=h.indexOf("Linux"),s=!0,u=a=navigator.language}var p;!function(t){t[t.Web=0]="Web",t[t.Mac=1]="Mac",t[t.Linux=2]="Linux",t[t.Windows=3]="Windows"}(p=e.Platform||(e.Platform={}));var f=p.Web;r&&(y?f=p.Mac:t?f=p.Windows:i&&(f=p.Linux)),e.isWindows=t,e.isMacintosh=y,e.isLinux=i,e.isRootUser=o,e.isNative=r,e.isWeb=s,e.platform=f,e.language=u,e.locale=a;var g="object"==typeof self?self:global;e.globals=g,e.hasWebWorkerSupport=function(){return void 0!==g.Worker},e.setTimeout=g.setTimeout.bind(g),e.clearTimeout=g.clearTimeout.bind(g),e.setInterval=g.setInterval.bind(g),e.clearInterval=g.clearInterval.bind(g),!function(t){t[t.Windows=1]="Windows",t[t.Macintosh=2]="Macintosh",t[t.Linux=3]="Linux"}(e.OperatingSystem||(e.OperatingSystem={})),e.OS=y?2:t?1:3,!function(t){t[t.Unknown=0]="Unknown",t[t.Disabled=1]="Disabled",t[t.Enabled=2]="Enabled"}(e.AccessibilitySupport||(e.AccessibilitySupport={}))}),define(s[423],n([1,0]),function(o,e){"use strict";function r(t){return 65<=t&&90>=t}Object.defineProperty(e,"__esModule",{value:!0});var n=["-","_"," ","/","\\","."];e.score=function(i,p,g){if(!i||!p)return 0;var o=i+p,m=g&&g[o];if("number"==typeof m)return m;for(var _=p.length,a=i.toLowerCase(),u=p.toLowerCase(),l=0,c=0,d=0;l<_&&"break"!==function(){var e=a.indexOf(u[l],c);return 0>e?(d=0,"break"):void(d+=1,c===e&&(d+=5),i[e]===p[e]&&(d+=1),0===e?d+=8:n.some(function(o){return o===i[e-1]})?d+=7:r(i.charCodeAt(e))&&(d+=1),c=e+1,l++)}(););return g&&(g[o]=d),d},e.matches=function(a,d){if(!a||!d)return!1;for(var l=d.length,n=a.toLowerCase(),i=0,o=-1,r;i<l;){if(r=n.indexOf(d[i],o+1),0>r)return!1;o=r,i++}return!0}}),define(s[426],n([1,0,15]),function(r,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t.globals.performance&&"function"==typeof t.globals.performance.now,i=function(){function o(t){this._highResolution=n&&t,this._startTime=this._now(),this._stopTime=-1}return o.create=function(e){return void 0===e&&(e=!0),new o(e)},o.prototype.stop=function(){this._stopTime=this._now()},o.prototype.elapsed=function(){return-1===this._stopTime?this._now()-this._startTime:this._stopTime-this._startTime},o.prototype._now=function(){return this._highResolution?t.globals.performance.now():new Date().getTime()},o}();e.StopWatch=i}),define(s[29],n([1,0]),function(d,e){"use strict";function t(t){return Array.isArray?Array.isArray(t):t&&typeof t.length===a.number&&t.constructor===Array}function n(t){return typeof t===a.string||t instanceof String}function i(t){return!(typeof t!==a.object||null===t||Array.isArray(t)||t instanceof RegExp||t instanceof Date)}function o(t){return typeof t===a.undefined}function r(t){return typeof t===a.function}function s(o,i){if(n(i)){if(typeof o!==i)throw new Error("argument does not match constraint: typeof "+i);}else if(r(i)){if(o instanceof i)return;if(o&&o.constructor===i)return;if(1===i.length&&!0===i.call(void 0,o))return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}Object.defineProperty(e,"__esModule",{value:!0});var a={number:"number",string:"string",undefined:"undefined",object:"object",function:"function"};e.isArray=t,e.isString=n,e.isStringArray=function(o){return t(o)&&o.every(function(t){return n(t)})},e.isObject=i,e.isNumber=function(t){return(typeof t===a.number||t instanceof Number)&&!isNaN(t)},e.isBoolean=function(t){return!0===t||!1===t},e.isUndefined=o,e.isUndefinedOrNull=function(t){return o(t)||null===t};var p=Object.prototype.hasOwnProperty;e.isEmptyObject=function(o){if(!i(o))return!1;for(var e in o)if(p.call(o,e))return!1;return!0},e.isFunction=r,e.areFunctions=function(){for(var o=[],e=0;e<arguments.length;e++)o[e]=arguments[e];return 0<o.length&&o.every(r)},e.validateConstraints=function(o,e){for(var t=q(o.length,e.length),n=0;n<t;n++)s(o[n],e[n])},e.validateConstraint=s,e.create=function(o){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];var n=Object.create(o.prototype);return o.apply(n,e),n}}),define(s[428],n([1,0,29,157]),function(a,e,s,d){"use strict";function i(t){return{data:t,incoming:Object.create(null),outgoing:Object.create(null)}}Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function t(t){this._hashFn=t,this._nodes=Object.create(null)}return t.prototype.roots=function(){var o=[];return d.forEach(this._nodes,function(e){s.isEmptyObject(e.value.outgoing)&&o.push(e.value)}),o},t.prototype.traverse=function(o,e,t){var n=this.lookup(o);n&&this._traverse(n,e,Object.create(null),t)},t.prototype._traverse=function(i,l,t,n){var o=this,e=this._hashFn(i.data);if(!t[e]){t[e]=!0,n(i.data);var r=l?i.outgoing:i.incoming;d.forEach(r,function(i){return o._traverse(i.value,l,t,n)})}},t.prototype.insertEdge=function(o,e){var t=this.lookupOrInsertNode(o),n=this.lookupOrInsertNode(e);t.outgoing[this._hashFn(e)]=n,n.incoming[this._hashFn(o)]=t},t.prototype.removeNode=function(o){var n=this._hashFn(o);delete this._nodes[n],d.forEach(this._nodes,function(t){delete t.value.outgoing[n],delete t.value.incoming[n]})},t.prototype.lookupOrInsertNode=function(o){var e=this._hashFn(o),t=this._nodes[e];return t||(t=i(o),this._nodes[e]=t),t},t.prototype.lookup=function(t){return this._nodes[this._hashFn(t)]},Object.defineProperty(t.prototype,"length",{get:function(){return Object.keys(this._nodes).length},enumerable:!0,configurable:!0}),t.prototype.toString=function(){var o=[];return d.forEach(this._nodes,function(e){o.push(e.key+", (incoming)["+Object.keys(e.value.incoming).join(", ")+"], (outgoing)["+Object.keys(e.value.outgoing).join(",")+"]")}),o.join("\n")},t}();e.Graph=t}),define(s[26],n([1,0,29]),function(d,e,p){"use strict";function g(o){if(!o||"object"!=typeof o)return o;if(o instanceof RegExp)return o;var i=Array.isArray(o)?[]:{};return Object.keys(o).forEach(function(e){i[e]=o[e]&&"object"==typeof o[e]?g(o[e]):o[e]}),i}function i(o){if(!o||"object"!=typeof o)return o;var r=Array.isArray(o)?[]:{};return Object.getOwnPropertyNames(o).forEach(function(e){r[e]=o[e]&&"object"==typeof o[e]?i(o[e]):o[e]}),r}function o(n,e,t){if(p.isUndefinedOrNull(n))return n;var i=e(n);if(void 0!==i)return i;if(p.isArray(n)){for(var r=[],s=0;s<n.length;s++)r.push(o(n[s],e,t));return r}if(p.isObject(n)){if(0<=t.indexOf(n))throw new Error("Cannot clone recursive data-structure");t.push(n);var a={};for(var d in n)m.call(n,d)&&(a[d]=o(n[d],e,t));return t.pop(),a}return n}function n(r,e,t){return void 0===t&&(t=!0),p.isObject(r)?(p.isObject(e)&&Object.keys(e).forEach(function(i){i in r?t&&(p.isObject(r[i])&&p.isObject(e[i])?n(r[i],e[i],t):r[i]=e[i]):r[i]=e[i]}),r):e}function r(o){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return e.forEach(function(e){return Object.keys(e).forEach(function(t){return o[t]=e[t]})}),o}function a(s,d){if(s===d)return!0;if(null===s||void 0===s||null===d||void 0===d)return!1;if(typeof s!=typeof d)return!1;if("object"!=typeof s)return!1;if(Array.isArray(s)!==Array.isArray(d))return!1;var l,n;if(Array.isArray(s)){if(s.length!==d.length)return!1;for(l=0;l<s.length;l++)if(!a(s[l],d[l]))return!1}else{var i=[];for(n in s)i.push(n);i.sort();var o=[];for(n in d)o.push(n);if(o.sort(),!a(i,o))return!1;for(l=0;l<i.length;l++)if(!a(s[i[l]],d[i[l]]))return!1}return!0}function s(o){for(var e={},t=0;t<o.length;++t)e[o[t]]=!0;return e}Object.defineProperty(e,"__esModule",{value:!0}),e.clone=g,e.deepClone=i;var m=Object.prototype.hasOwnProperty;e.cloneAndChange=function(n,e){return o(n,e,[])},e.mixin=n,e.assign=r,e.toObject=function(o,a){return o.reduce(function(t,e){return r(t,(o={},o[a(e)]=e,o));var o},Object.create(null))},e.equals=a,e.ensureProperty=function(o,e,t){void 0===o[e]&&(o[e]=t)},e.arrayToHash=s,e.createKeywordMatcher=function(o,e){void 0===e&&(e=!1),e&&(o=o.map(function(t){return t.toLowerCase()}));var t=s(o);return e?function(o){return void 0!==t[o.toLowerCase()]&&t.hasOwnProperty(o.toLowerCase())}:function(o){return void 0!==t[o]&&t.hasOwnProperty(o)}},e.derive=function(r,e){for(var a in r)r.hasOwnProperty(a)&&(e[a]=r[a]);e=e||function(){};var n=r.prototype,i=e.prototype;for(var a in e.prototype=Object.create(n),i)i.hasOwnProperty(a)&&Object.defineProperty(e.prototype,a,Object.getOwnPropertyDescriptor(i,a));Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,configurable:!0,enumerable:!0})},e.safeStringify=function(o){var e=[];return JSON.stringify(o,function(t,o){if(p.isObject(o)||Array.isArray(o)){if(-1!==e.indexOf(o))return"[Circular]";e.push(o)}return o})},e.getOrDefault=function(o,e,t){void 0===t&&(t=null);var n=e(o);return void 0===n?t:n},e.distinct=function(s,e){var t=Object.create(null);return s&&e?(Object.keys(e).forEach(function(n){var i=s[n],o=e[n];a(i,o)||(t[n]=o)}),t):t}}),define(s[24],n([1,0,15]),function(a,e,d){"use strict";function t(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}function g(o){return encodeURIComponent(o).replace(/[!'()*]/g,t)}function o(o){return o.replace(/[#?]/,t)}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function m(e,t,n,i,o){this._formatted=null,this._fsPath=null,this.scheme=e||m._empty,this.authority=t||m._empty,this.path=n||m._empty,this.query=i||m._empty,this.fragment=o||m._empty,this._validate(this)}return m.isUri=function(e){return e instanceof m||!!e&&"string"==typeof e.authority&&"string"==typeof e.fragment&&"string"==typeof e.path&&"string"==typeof e.query&&"string"==typeof e.scheme},Object.defineProperty(m.prototype,"fsPath",{get:function(){if(!this._fsPath){var e;e=this.authority&&this.path&&"file"===this.scheme?"//"+this.authority+this.path:m._driveLetterPath.test(this.path)?this.path[1].toLowerCase()+this.path.substr(2):this.path,d.isWindows&&(e=e.replace(/\//g,"\\")),this._fsPath=e}return this._fsPath},enumerable:!0,configurable:!0}),m.prototype.with=function(e){if(!e)return this;var a=e.scheme,n=e.authority,i=e.path,o=e.query,r=e.fragment;return void 0===a?a=this.scheme:null===a&&(a=""),void 0===n?n=this.authority:null===n&&(n=""),void 0===i?i=this.path:null===i&&(i=""),void 0===o?o=this.query:null===o&&(o=""),void 0===r?r=this.fragment:null===r&&(r=""),a===this.scheme&&n===this.authority&&i===this.path&&o===this.query&&r===this.fragment?this:new m(a,n,i,o,r)},m.parse=function(e){var t=m._regexp.exec(e);return t?new m(t[2]||m._empty,decodeURIComponent(t[4]||m._empty),decodeURIComponent(t[5]||m._empty),decodeURIComponent(t[7]||m._empty),decodeURIComponent(t[9]||m._empty)):new m(m._empty,m._empty,m._empty,m._empty,m._empty)},m.file=function(e){var t=m._empty;if(d.isWindows&&(e=e.replace(/\\/g,m._slash)),e[0]===m._slash&&e[0]===e[1]){var n=e.indexOf(m._slash,2);-1===n?(t=e.substring(2),e=m._empty):(t=e.substring(2,n),e=e.substring(n))}return e[0]!==m._slash&&(e=m._slash+e),new m("file",t,e,m._empty,m._empty)},m.from=function(e){return new m(e.scheme,e.authority,e.path,e.query,e.fragment)},m.prototype._validate=function(e){if(e.scheme&&!m._schemePattern.test(e.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(e.path)if(e.authority){if(!m._singleSlashStart.test(e.path))throw new Error("[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash (\"/\") character");}else if(m._doubleSlashStart.test(e.path))throw new Error("[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters (\"//\")")},m.prototype.toString=function(e){return void 0===e&&(e=!1),e?m._asFormatted(this,!0):(this._formatted||(this._formatted=m._asFormatted(this,!1)),this._formatted)},m._asFormatted=function(e,t){var n=t?o:g,i=[],r=e.scheme,a=e.authority,s=e.path,l=e.query,c=e.fragment;if(r&&i.push(r,":"),(a||"file"===r)&&i.push("//"),a&&(-1===(p=(a=a.toLowerCase()).indexOf(":"))?i.push(n(a)):i.push(n(a.substr(0,p)),a.substr(p))),s){var d=m._upperCaseDrive.exec(s);d&&(s=d[1]?"/"+d[2].toLowerCase()+s.substr(3):d[2].toLowerCase()+s.substr(2));for(var u=0,p;;){if(p=s.indexOf(m._slash,u),-1===p){i.push(n(s.substring(u)));break}i.push(n(s.substring(u,p)),m._slash),u=p+1}}return l&&i.push("?",n(l)),c&&i.push("#",n(c)),i.join(m._empty)},m.prototype.toJSON=function(){var t={fsPath:this.fsPath,external:this.toString(),$mid:1};return this.path&&(t.path=this.path),this.scheme&&(t.scheme=this.scheme),this.authority&&(t.authority=this.authority),this.query&&(t.query=this.query),this.fragment&&(t.fragment=this.fragment),t},m.revive=function(e){var t=new m(e.scheme,e.authority,e.path,e.query,e.fragment);return t._fsPath=e.fsPath,t._formatted=e.external,t},m._empty="",m._slash="/",m._regexp=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,m._driveLetterPath=/^\/[a-zA-z]:/,m._upperCaseDrive=/^(\/)?([A-Z]:)/,m._schemePattern=/^\w[\w\d+.-]*$/,m._singleSlashStart=/^\//,m._doubleSlashStart=/^\/\//,m}();e.default=n}),define(s[80],n([1,0,24]),function(p,e,t){"use strict";function n(o){var n=[];return o.forEach(function(t){return n.push(t)}),n}function i(o){var i=[];return o.forEach(function(t,e){return i.push(e)}),i}Object.defineProperty(e,"__esModule",{value:!0}),e.values=n,e.keys=i,e.getOrSet=function(o,e,t){var n=o.get(e);return void 0===n&&(n=t,o.set(e,n)),n};var o=function(){function t(o,r,t){void 0===o&&(o=T),void 0===r&&(r=1);var n=this;this.limit=o,this.map=new Map,this.ratio=o*r,t&&t.entries.forEach(function(t){n.set(t.key,t.value)})}return t.prototype.setLimit=function(t){if(!(0>t))for(this.limit=t;this.map.size>this.limit;)this.trim()},t.prototype.serialize=function(){var o={entries:[]};return this.map.forEach(function(e){o.entries.push({key:e.key,value:e.value})}),o},Object.defineProperty(t.prototype,"size",{get:function(){return this.map.size},enumerable:!0,configurable:!0}),t.prototype.set=function(o,n){if(this.map.has(o))return!1;return this.push({key:o,value:n}),this.size>this.limit&&this.trim(),!0},t.prototype.get=function(o){var e=this.map.get(o);return e?e.value:null},t.prototype.getOrSet=function(o,e){var t=this.get(o);return t||(this.set(o,e),e)},t.prototype.delete=function(o){var e=this.map.get(o);return e?(this.map.delete(o),e.next?e.next.prev=e.prev:this.head=e.prev,e.prev?e.prev.next=e.next:this.tail=e.next,e.value):null},t.prototype.has=function(t){return this.map.has(t)},t.prototype.clear=function(){this.map.clear(),this.head=null,this.tail=null},t.prototype.push=function(t){this.head&&(t.prev=this.head,this.head.next=t),this.tail||(this.tail=t),this.head=t,this.map.set(t.key,t)},t.prototype.trim=function(){if(this.tail)if(this.ratio<this.limit)for(var o=0,e=this.tail;e.next;){if(this.map.delete(e.key),o===this.ratio){this.tail=e.next,this.tail.prev=null;break}e=e.next,o++}else this.map.delete(this.tail.key),this.tail=this.tail.next,this.tail&&(this.tail.prev=null)},t}();e.BoundedMap=o;var r=function(){return function(){this.children=new Map}}(),s=function(){function d(o){this._root=new r,this._splitter=function(e){return o(e).filter(function(t){return!!t})}}return d.prototype.insert=function(s,e){for(var t=this._splitter(s),n=0,i=this._root,o;n<t.length&&(o=i.children.get(t[n]),!!o);n++)i=o;for(var d;n<t.length;n++)d=new r,i.children.set(t[n],d),i=d;i.element=e},d.prototype.lookUp=function(a){for(var e=this._splitter(a),n=this._root.children,i=0,o=e,r,t;i<o.length;i++){if(t=o[i],!(r=n.get(t)))return;n=r.children}return r.element},d.prototype.findSubstr=function(d){for(var e=this._splitter(d),n=this._root.children,i=0,o=e,r;i<o.length;i++){var t=o[i],s=n.get(t);if(!s)break;s.element&&(r=s),n=s.children}if(r)return r.element},d.prototype.findSuperstr=function(e){for(var t=this._splitter(e),i=this._root.children,o=0,r=t,s,n;o<r.length;o++){if(n=r[o],!(s=i.get(n)))return;i=s.children}var a=new d(this._splitter);return a._root=s,a},d.PathSplitter=function(t){return t.split(/[\\/]/).filter(function(t){return!!t})},d}();e.TrieMap=s;var a=function(){function t(t){this.ignoreCase=t,this.map=new Map}return t.prototype.set=function(o,e){this.map.set(this.toKey(o),e)},t.prototype.get=function(t){return this.map.get(this.toKey(t))},t.prototype.has=function(t){return this.map.has(this.toKey(t))},Object.defineProperty(t.prototype,"size",{get:function(){return this.map.size},enumerable:!0,configurable:!0}),t.prototype.clear=function(){this.map.clear()},t.prototype.delete=function(t){return this.map.delete(this.toKey(t))},t.prototype.forEach=function(t){this.map.forEach(t)},t.prototype.values=function(){return n(this.map)},t.prototype.toKey=function(o){var e=o.toString();return this.ignoreCase&&(e=e.toLowerCase()),e},t}();e.ResourceMap=a;var u=function(o){function e(){return o.call(this)||this}return Z(e,o),e.prototype.keys=function(){return i(this.map).map(function(o){return t.default.parse(o)})},e}(a);e.StrictResourceMap=u;var l;!function(t){t.None=0,t.First=1,t.Last=2}(l=e.Touch||(e.Touch={}));var c=function(){function t(){this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0}return t.prototype.clear=function(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0},t.prototype.isEmpty=function(){return!this._head&&!this._tail},Object.defineProperty(t.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),t.prototype.has=function(t){return this._map.has(t)},t.prototype.get=function(o){var e=this._map.get(o);if(e)return e.value},t.prototype.set=function(o,r,a){void 0===a&&(a=l.None);var n=this._map.get(o);if(n)n.value=r,a!==l.None&&this.touch(n,a);else{switch(n={key:o,value:r,next:void 0,previous:void 0},a){case l.None:this.addItemLast(n);break;case l.First:this.addItemFirst(n);break;case l.Last:default:this.addItemLast(n);}this._map.set(o,n),this._size++}},t.prototype.delete=function(t){return!!this.remove(t)},t.prototype.remove=function(o){var e=this._map.get(o);if(e)return this._map.delete(o),this.removeItem(e),this._size--,e.value},t.prototype.shift=function(){if(this._head||this._tail){if(!this._head||!this._tail)throw new Error("Invalid list");var t=this._head;return this._map.delete(t.key),this.removeItem(t),this._size--,t.value}},t.prototype.forEach=function(o,e){for(var t=this._head;t;)e?o.bind(e)(t.value,t.key,this):o(t.value,t.key,this),t=t.next},t.prototype.forEachReverse=function(o,e){for(var t=this._tail;t;)e?o.bind(e)(t.value,t.key,this):o(t.value,t.key,this),t=t.previous},t.prototype.values=function(){for(var o=[],e=this._head;e;)o.push(e.value),e=e.next;return o},t.prototype.keys=function(){for(var o=[],e=this._head;e;)o.push(e.key),e=e.next;return o},t.prototype.addItemFirst=function(t){if(this._head||this._tail){if(!this._head)throw new Error("Invalid list");t.next=this._head,this._head.previous=t}else this._tail=t;this._head=t},t.prototype.addItemLast=function(t){if(this._head||this._tail){if(!this._tail)throw new Error("Invalid list");t.previous=this._tail,this._tail.next=t}else this._head=t;this._tail=t},t.prototype.removeItem=function(o){if(o===this._head&&o===this._tail)this._head=void 0,this._tail=void 0;else if(o===this._head)this._head=o.next;else if(o===this._tail)this._tail=o.previous;else{var e=o.next,i=o.previous;if(!e||!i)throw new Error("Invalid list");e.previous=i,i.next=e}},t.prototype.touch=function(o,e){if(!this._head||!this._tail)throw new Error("Invalid list");if(e===l.First||e===l.Last)if(e===l.First){if(o===this._head)return;var t=o.next,n=o.previous;o===this._tail?(n.next=void 0,this._tail=n):(t.previous=n,n.next=t),o.previous=void 0,o.next=this._head,this._head.previous=o,this._head=o}else if(e===l.Last){if(o===this._tail)return;var t=o.next,n=o.previous;o===this._head?(t.previous=void 0,this._head=t):(t.previous=n,n.next=t),o.next=void 0,o.previous=this._tail,this._tail.next=o,this._tail=o}},t}();e.LinkedMap=c}),define(s[487],n([1,0,24]),function(r,e,a){"use strict";function t(o,e){return e instanceof RegExp?{$mid:2,source:e.source,flags:(e.global?"g":"")+(e.ignoreCase?"i":"")+(e.multiline?"m":"")}:e}function n(o,e){var t;switch(void 0!==e&&null!==e&&(t=e.$mid),t){case 1:return a.default.revive(e);case 2:return new RegExp(e.source,e.flags);default:return e;}}Object.defineProperty(e,"__esModule",{value:!0}),e.stringify=function(o){return JSON.stringify(o,t)},e.parse=function(t){return JSON.parse(t,n)}}),define(s[9],n([1,0,80]),function(S,E,e){"use strict";function L(t){return t.replace(/[\-\\\{\}\*\+\?\|\^\$\.\[\]\(\)\#]/g,"\\$&")}function n(o,r){if(!o||!r)return o;var a=r.length;if(0===a||0===o.length)return o;for(var n=0;o.indexOf(r,n)===n;)n+=a;return o.substring(n)}function o(a,s){if(!a||!s)return a;var d=s.length,n=a.length;if(0===d||0===n)return a;for(var i=n,o=-1;;){if(-1===(o=a.lastIndexOf(s,i-1))||o+d!==i)break;if(0===o)return"";i=o}return a.substring(0,i)}function i(o,e){return o<e?-1:o>e?1:0}function s(t){return 97<=t&&122>=t}function a(t){return 65<=t&&90>=t}function u(t){return s(t)||a(t)}function r(a,d,l){if(void 0===l&&(l=a.length),"string"!=typeof a||"string"!=typeof d)return!1;for(var n=0;n<l;n++){var i=a.charCodeAt(n),o=d.charCodeAt(n);if(i!==o)if(u(i)&&u(o)){var r=I(i-o);if(0!==r&&32!==r)return!1}else if(k(i).toLowerCase()!==k(o).toLowerCase())return!1}return!0}function l(a,e,t,n,i,o){for(;e<t&&i<o;){if(a[e]!==n[i])return!1;e+=1,i+=1}return!0}function d(t){return 11904<=(t=+t)&&55215>=t||63744<=t&&64255>=t||65281<=t&&65374>=t}Object.defineProperty(E,"__esModule",{value:!0}),E.empty="",E.isFalsyOrWhitespace=function(t){return!t||"string"!=typeof t||0===t.trim().length},E.pad=function(a,e,t){void 0===t&&(t="0");for(var n=""+a,i=[n],o=n.length;o<e;o++)i.push(t);return i.reverse().join("")};var c=/{(\d+)}/g;E.format=function(o){for(var r=[],e=1;e<arguments.length;e++)r[e-1]=arguments[e];return 0===r.length?o:o.replace(c,function(t,e){var o=parseInt(e,10);return isNaN(o)||0>o||o>=r.length?t:r[o]})},E.escape=function(t){return t.replace(/[<|>|&]/g,function(t){return"<"===t?"&lt;":">"===t?"&gt;":"&"===t?"&amp;":t})},E.escapeRegExpCharacters=L,E.trim=function(i,e){return void 0===e&&(e=" "),o(n(i,e),e)},E.ltrim=n,E.rtrim=o,E.convertSimple2RegExpPattern=function(t){return t.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")},E.stripWildcards=function(t){return t.replace(/\*/g,"")},E.startsWith=function(o,e){if(o.length<e.length)return!1;for(var t=0;t<e.length;t++)if(o[t]!==e[t])return!1;return!0},E.endsWith=function(o,e){var t=o.length-e.length;return 0<t?o.indexOf(e,t)===t:0===t&&o===e},E.indexOfIgnoreCase=function(i,e,t){void 0===t&&(t=0);var n=i.indexOf(e,t);return 0>n&&(0<t&&(i=i.substr(t)),e=L(e),n=i.search(new RegExp(e,"i"))),n},E.createRegExp=function(i,r,t){if(void 0===t&&(t={}),!i)throw new Error("Cannot create regex from empty string");r||(i=L(i)),t.wholeWord&&(/\B/.test(i.charAt(0))||(i="\\b"+i),/\B/.test(i.charAt(i.length-1))||(i+="\\b"));var n="";return t.global&&(n+="g"),t.matchCase||(n+="i"),t.multiline&&(n+="m"),new RegExp(i,n)},E.regExpLeadsToEndlessLoop=function(t){return"^"!==t.source&&"^$"!==t.source&&"$"!==t.source&&t.exec("")&&0===t.lastIndex},E.canNormalize="function"==typeof"".normalize;var t=/[^\u0000-\u0080]/,p=new e.BoundedMap(1e4);E.normalizeNFC=function(o){if(!E.canNormalize||!o)return o;var r=p.get(o);if(r)return r;var n;return n=t.test(o)?o.normalize("NFC"):o,p.set(o,n),n},E.firstNonWhitespaceIndex=function(o){for(var e=0,t=o.length,n;e<t;e++)if(n=o.charCodeAt(e),32!==n&&9!==n)return e;return-1},E.getLeadingWhitespace=function(r,e,t){void 0===e&&(e=0),void 0===t&&(t=r.length);for(var n=e,i;n<t;n++)if(i=r.charCodeAt(n),32!==i&&9!==i)return r.substring(e,n);return r.substring(e,t)},E.lastNonWhitespaceIndex=function(o,e){void 0===e&&(e=o.length-1);for(var t=e,n;0<=t;t--)if(n=o.charCodeAt(t),32!==n&&9!==n)return t;return-1},E.compare=i,E.compareIgnoreCase=function(d,e){for(var t=q(d.length,e.length),n=0;n<t;n++){var p=d.charCodeAt(n),o=e.charCodeAt(n);if(p!==o){a(p)&&(p+=32),a(o)&&(o+=32);var r=p-o;if(0!==r)return s(p)&&s(o)?r:i(d.toLowerCase(),e.toLowerCase())}}return d.length<e.length?-1:d.length>e.length?1:0},E.equalsIgnoreCase=function(o,e){return(o?o.length:0)===(e?e.length:0)&&r(o,e)},E.beginsWithIgnoreCase=function(o,e){var t=e.length;return!(e.length>o.length)&&r(o,e,t)},E.commonPrefixLength=function(o,e){var t=q(o.length,e.length),i;for(i=0;i<t;i++)if(o.charCodeAt(i)!==e.charCodeAt(i))return i;return t},E.commonSuffixLength=function(a,e){var t=q(a.length,e.length),i=a.length-1,o=e.length-1,r;for(r=0;r<t;r++)if(a.charCodeAt(i-r)!==e.charCodeAt(o-r))return r;return t},E.overlap=function(r,e){var t=r.length,n=e.length,i=t-n;if(0===i)return r===e?t:0;for(0>i&&(n+=i,i=0);i<t&&0<n;){if(l(r,i,t,e,0,n))return n;n-=1,i+=1}return 0},E.isHighSurrogate=function(t){return 55296<=t&&56319>=t},E.isLowSurrogate=function(t){return 56320<=t&&57343>=t};var g=/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u08BD\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE33\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDCFF]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD50-\uDFFF]|\uD83B[\uDC00-\uDEBB])/;E.containsRTL=function(t){return g.test(t)};var m=/(?:[\u231A\u231B\u23F0\u23F3\u2600-\u27BF\u2B50\u2B55]|\uD83C[\uDDE6-\uDDFF\uDF00-\uDFFF]|\uD83D[\uDC00-\uDE4F\uDE80-\uDEF8]|\uD83E[\uDD00-\uDDE6])/;E.containsEmoji=function(t){return m.test(t)};var h=/^[\t\n\r\x20-\x7E]*$/;E.isBasicASCII=function(t){return h.test(t)},E.containsFullWidthCharacter=function(o){for(var e=0,t=o.length;e<t;e++)if(d(o.charCodeAt(e)))return!0;return!1},E.isFullWidthCharacter=d,E.difference=function(d,e,t){void 0===t&&(t=4);var n=I(d.length-e.length);if(n>t)return 0;var i=[],s=[],a,o;for(a=0;a<e.length+1;++a)s.push(0);for(a=0;a<d.length+1;++a)i.push(s);for(a=1;a<d.length+1;++a)for(o=1;o<e.length+1;++o)i[a][o]=d[a-1]===e[o-1]?i[a-1][o-1]+1:G(i[a-1][o],i[a][o-1]);return i[d.length][e.length]-Math.sqrt(n)},E.computeLineStarts=function(o){for(var e=/\r\n|\r|\n/g,t=[0];e.exec(o);)t.push(e.lastIndex);return t},E.lcut=function(t,e){if(t.length<e)return t;for(var n=t.split(/\b/),i=0,o=n.length-1;0<=o;o--)if((i+=n[o].length)>e){n.splice(0,o);break}return n.join(E.empty).replace(/^\s/,E.empty)};var _=/\x1B\x5B[12]?K/g,f=/\x1b\[\d+m/g,y=/\x1b\[0?m/g;E.removeAnsiEscapeCodes=function(t){return t&&(t=(t=(t=t.replace(_,"")).replace(f,"")).replace(y,"")),t},E.UTF8_BOM_CHARACTER="\uFEFF",E.startsWithUTF8BOM=function(t){return t&&0<t.length&&65279===t.charCodeAt(0)},E.appendWithLimit=function(o,e,t){var n=o.length+e.length;return n>t&&(o="..."+o.substr(n-t)),o+=e.length>t?e.substr(e.length-t):e,o},E.safeBtoa=function(t){return btoa(encodeURIComponent(t))},E.repeat=function(o,e){for(var t="",n=0;n<e;n++)t+=o;return t}}),define(s[512],n([1,0,9]),function(o,e,r){"use strict";function n(t){return t}return{expand:n,OcticonLabel:function(){function t(t){this._container=t}return Object.defineProperty(t.prototype,"text",{set:function(o){var e=o||"";e=n(e=r.escape(e)),this._container.innerHTML=e},enumerable:!0,configurable:!0}),t}()}}),define(s[81],n([1,0,9,80]),function(z,K,U,e){"use strict";function t(){for(var a=[],e=0;e<arguments.length;e++)a[e]=arguments[e];return function(e,t){for(var n=0,i=a.length,o;n<i;n++)if(o=a[n](e,t),o)return o;return null}}function o(o,e,t){return!t||t.length<e.length?null:(o?U.beginsWithIgnoreCase(t,e):0===t.indexOf(e))?0<e.length?[{start:0,end:e.length}]:[]:null}function n(o,e){var t=e.toLowerCase().indexOf(o.toLowerCase());return-1===t?null:[{start:t,end:t+o.length}]}function i(o,e){return r(o.toLowerCase(),e.toLowerCase(),0,0)}function r(a,e,t,n){if(t===a.length)return[];if(n===e.length)return null;if(a[t]===e[n]){var s=null;if(s=r(a,e,t+1,n+1))return p({start:n,end:n+1},s)}return r(a,e,t,n+1)}function a(t){return 97<=t&&122>=t}function l(t){return 65<=t&&90>=t}function c(t){return 48<=t&&57>=t}function s(t){return 32===t||9===t||10===t||13===t}function d(t){return a(t)||l(t)||c(t)}function p(o,e){return 0===e.length?e=[o]:o.end===e[0].start?e[0].start=o.start:e.unshift(o),e}function u(o,e){for(var t=e,n;t<o.length;t++)if(n=o.charCodeAt(t),l(n)||c(n)||0<t&&!d(o.charCodeAt(t-1)))return t;return o.length}function g(a,e,t,n){if(t===a.length)return[];if(n===e.length)return null;if(a[t]!==e[n].toLowerCase())return null;var s=null,d=n+1;for(s=g(a,e,t+1,n+1);!s&&(d=u(e,d))<e.length;)s=g(a,e,t+1,d),d++;return null===s?null:p({start:n,end:n+1},s)}function m(p){for(var e=0,t=0,n=0,i=0,o=0,r=0;r<p.length;r++)l(o=p.charCodeAt(r))&&e++,a(o)&&t++,d(o)&&n++,c(o)&&i++;return{upperPercent:e/p.length,lowerPercent:t/p.length,alphaPercent:n/p.length,numericPercent:i/p.length}}function h(o){var e=o.upperPercent;return 0===o.lowerPercent&&.6<e}function _(r){var e=r.upperPercent,t=r.lowerPercent,n=r.alphaPercent,i=r.numericPercent;return .2<t&&.8>e&&.6<n&&.2>i}function f(d){for(var e=0,t=0,n=0,i=0,o=0;o<d.length;o++)l(n=d.charCodeAt(o))&&e++,a(n)&&t++,s(n)&&i++;return 0!==e&&0!==t||0!==i?5>=e:30>=d.length}function y(r,e){if(!e||0===e.length)return null;if(!f(r))return null;if(60<e.length)return null;var a=m(e);if(!_(a)){if(!h(a))return null;e=e.toLowerCase()}for(var n=null,i=0;i<e.length&&null===(n=g(r.toLowerCase(),e,0,i));)i=u(e,i+1);return n}function C(a,e,t,n,d){if(t===a.length)return[];if(n===e.length)return null;if(a[t]!==e[n].toLowerCase())return null;var l=null,c=n+1;if(l=C(a,e,t+1,n+1,d),!d)for(;!l&&(c=b(e,c))<e.length;)l=C(a,e,t+1,c,d),c++;return null===l?null:p({start:n,end:n+1},l)}function b(o,e){for(var t=e;t<o.length;t++)if(s(o.charCodeAt(t))||0<t&&s(o.charCodeAt(t-1)))return t;return o.length}function v(){for(var o=[],e=[0],t=1;100>=t;t++)e.push(-t);for(t=0;100>=t;t++){var r=e.slice(0);r[0]=-t,o.push(r)}return o}function S(d,e,t,n,i){function o(o,e,t){for(void 0===t&&(t=" ");o.length<e;)o=t+o;return o}for(var r=" |   |"+n.split("").map(function(t){return o(t,3)}).join("|")+"\n",s=0;s<=t;s++)r+=0===s?" |":e[s-1]+"|",r+=d[s].slice(0,i+1).map(function(t){return o(t.toString(),3)}).join("|")+"\n";return r}function E(m,e,t){var n=100<m.length?100:m.length,i=100<e.length?100:e.length,o=0;for(void 0===t&&(t=n);o<t&&R[m[o]];)o+=1;if(o===n)return[-100,[]];if(!(n>i)){for(var r=m.toLowerCase(),s=e.toLowerCase(),a=o,u=0;a<n&&u<i;)r[a]===s[u]&&(a+=1),u+=1;if(a===n){for(a=o+1;a<=n;a++){var l="";for(u=1;u<=i;u++){var c=-1,d=s[u-1];r[a-1]===d&&(c=u===a-o?m[a-1]===e[u-1]?7:5:d===e[u-1]?D[l]?5:1:m[a-1]===e[u-1]?7:5),I[a][u]=c;var h=T[a-1][u-1]+(1<c?1:c),p=T[a-1][u]+-1,_=T[a][u-1]+-1;_>=p?_>h?(T[a][u]=_,M[a][u]=4):_===h?(T[a][u]=_,M[a][u]=6):(T[a][u]=h,M[a][u]=2):p>h?(T[a][u]=p,M[a][u]=1):p===h?(T[a][u]=p,M[a][u]=3):(T[a][u]=h,M[a][u]=2),l=d}}if(k&&(console.log(S(T,m,n,e,i)),console.log(S(M,m,n,e,i)),console.log(S(I,m,n,e,i))),O.length=0,A=-100,F=o,L(n,i,0,new W,!1),0!==O.length)return[A,O[0].toArray()]}}}function L(d,e,t,n,i){if(!(10<=O.length||-25>t)){for(var o=0;d>F&&0<e;){var r=I[d][e],s=M[d][e];if(4===s)e-=1,i?t-=5:n.isEmpty()||(t-=1),i=!1,o=0;else{if(!(2&s))return;if(4&s&&L(d,e-1,n.isEmpty()?t:t-1,n.slice(),i),t+=r,d-=1,e-=1,n.unshift(e),i=!0,1!==r)t+=1+o*(r-1),o=0;else if(o+=1,d===F)return}}(t-=3<=e?9:3*e)>A?(A=t,O.unshift(n)):O.push(n)}}function w(o,e){if(!(e+1>=o.length))return o.slice(0,e)+o[e+1]+o[e]+o.slice(e+2)}Object.defineProperty(K,"__esModule",{value:!0}),K.or=t,K.and=function(){for(var a=[],e=0;e<arguments.length;e++)a[e]=arguments[e];return function(e,t){for(var n=[],i=0,o=a.length,r;i<o;i++){if(r=a[i](e,t),!r)return null;n=n.concat(r)}return n}},K.matchesStrictPrefix=o.bind(void 0,!1),K.matchesPrefix=o.bind(void 0,!0),K.matchesContiguousSubString=n,K.matchesSubString=i,K.matchesCamelCase=y,K.matchesWords=function(r,e,a){if(void 0===a&&(a=!1),!e||0===e.length)return null;for(var n=null,i=0;i<e.length&&null===(n=C(r.toLowerCase(),e,0,i,a));)i=b(e,i+1);return n},!function(t){t[t.Contiguous=0]="Contiguous",t[t.Separate=1]="Separate"}(K.SubstringMatching||(K.SubstringMatching={})),K.fuzzyContiguousFilter=t(K.matchesPrefix,y,n);var x=t(K.matchesPrefix,y,i),N=new e.BoundedMap(1e4);K.matchesFuzzy=function(t,n,a){if(void 0===a&&(a=!1),"string"!=typeof t||"string"!=typeof n)return null;var o=N.get(t);o||(o=new RegExp(U.convertSimple2RegExpPattern(t),"i"),N.set(t,o));var r=o.exec(n);return r?[{start:r.index,end:r.index+r[0].length}]:a?x(t,n):K.fuzzyContiguousFilter(t,n)},K.createMatches=function(a){var s=[];if(!a)return s;for(var t=0,i=a,o,n;t<i.length;t++)n=i[t],o&&o.end===n?o.end+=1:(o={start:n,end:n+1},s.push(o));return s};var T=v(),I=v(),M=v(),k=!1,D=Object.create(null);D._=!0,D["-"]=!0,D["."]=!0,D[" "]=!0,D["/"]=!0,D["\\"]=!0,D["'"]=!0,D["\""]=!0,D[":"]=!0;var R=Object.create(null);R[" "]=!0,R["\t"]=!0;var P;!function(t){t[t.Top=1]="Top",t[t.Diag=2]="Diag",t[t.Left=4]="Left"}(P||(P={})),K.fuzzyScore=E;var O=[],A=0,F=0,W=function(){function o(){}return o.prototype.isEmpty=function(){return!this._data&&(!this._parent||this._parent.isEmpty())},o.prototype.unshift=function(t){this._data?this._data.unshift(t):this._data=[t]},o.prototype.slice=function(){var e=new o;return e._parent=this,e._parentLen=this._data?this._data.length:0,e},o.prototype.toArray=function(){if(!this._data)return this._parent.toArray();for(var o=[],e=this;e;)e._parent&&e._parent._data&&o.push(e._parent._data.slice(e._parent._data.length-e._parentLen)),e=e._parent;return Array.prototype.concat.apply(this._data,o)},o}();K.nextTypoPermutation=w,K.fuzzyScoreGraceful=function(o,e){for(var t=E(o,e),r=1;r<o.length-1&&!t;r++)t=E(w(o,r),e);return t}}),define(s[45],n([1,0,15,33,9]),function(m,_,y,t,C){"use strict";function o(n){var e=~n.lastIndexOf("/")||~n.lastIndexOf("\\");return 0===e?n:~e==n.length-1?o(n.substring(0,n.length-1)):n.substr(1+~e)}function n(o,e){return e?!d.test(o):!a.test(o)}function b(l,e){if(null===l||void 0===l)return l;var t=l.length;if(0===t)return".";var i=y.isWindows&&e;if(n(l,i))return l;for(var o=i?"\\":"/",r=u(l,o),_=r.length,c=!1,C="",h=r.length;h<=t;h++)if(h===t||47===l.charCodeAt(h)||92===l.charCodeAt(h)){if(s(l,_,h,"..")){var p=C.lastIndexOf(o),f=C.slice(p+1);(r||0<f.length)&&".."!==f&&(C=-1===p?"":C.slice(0,p),c=!0)}else s(l,_,h,".")&&(r||C||h<t-1)&&(c=!0);if(!c){var g=l.slice(_,h);""!==C&&C[C.length-1]!==o&&(C+=o),C+=g}_=h+1,c=!1}return r+C}function s(o,e,t,n){return e+n.length===t&&o.indexOf(n,e)===e}function u(a,d){if(void 0===d&&(d="/"),!a)return"";var t=a.length,n=a.charCodeAt(0);if(47===n||92===n){if((47===(n=a.charCodeAt(1))||92===n)&&47!==(n=a.charCodeAt(2))&&92!==n){for(var i=3,o=i;i<t&&47!==(n=a.charCodeAt(i))&&92!==n;i++);if(n=a.charCodeAt(i+1),o!==i&&47!==n&&92!==n)for(i+=1;i<t;i++)if(47===(n=a.charCodeAt(i))||92===n)return a.slice(0,i+1).replace(/[\\/]/g,d)}return d}if((65<=n&&90>=n||97<=n&&122>=n)&&58===a.charCodeAt(1))return 47===(n=a.charCodeAt(2))||92===n?a.slice(0,2)+d:a.slice(0,2);var r=a.indexOf("://");if(-1!==r)for(r+=3;r<t;r++)if(47===(n=a.charCodeAt(r))||92===n)return a.slice(0,r+1);return""}function i(o){if(!o)return!1;var i=o.charCodeAt(0);if(47===i||92===i)return!0;if((65<=i&&90>=i||97<=i&&122>=i)&&2<o.length&&58===o.charCodeAt(1)){var t=o.charCodeAt(2);if(47===t||92===t)return!0}return!1}function r(t){return t&&47===t.charCodeAt(0)}Object.defineProperty(_,"__esModule",{value:!0}),_.sep="/",_.nativeSep=y.isWindows?"\\":"/",_.relative=function(o,e){for(var n=C.rtrim(b(o),_.sep),i=C.rtrim(b(e),_.sep),r=y.isLinux?n:n.toLowerCase(),a=y.isLinux?i:i.toLowerCase(),s=r.split(_.sep),d=a.split(_.sep),l=0,p=q(s.length,d.length);l<p&&s[l]===d[l];l++);return t.fill(s.length-l,function(){return".."}).concat(i.split(_.sep).slice(l)).join(_.sep)},_.dirname=function(t){var e=~t.lastIndexOf("/")||~t.lastIndexOf("\\");if(0===e)return".";if(0==~e)return t[0];var n=t.substring(0,~e);return y.isWindows&&":"===n[n.length-1]&&(n+=_.nativeSep),n},_.basename=o,_.extname=function(n){var e=~(n=o(n)).lastIndexOf(".");return e?n.substring(~e):""};var a=/(\/\.\.?\/)|(\/\.\.?)$|^(\.\.?\/)|(\/\/+)|(\\)/,d=/(\\\.\.?\\)|(\\\.\.?)$|^(\.\.?\\)|(\\\\+)|(\/)/;_.normalize=b,_.getRoot=u,_.join=function(){for(var t="",e=0,n;e<arguments.length;e++){if(n=arguments[e],0<e){var i=t.charCodeAt(t.length-1);if(47!==i&&92!==i){var o=n.charCodeAt(0);47!==o&&92!==o&&(t+=_.sep)}}t+=n}return b(t)},_.isUNC=function(n){if(!y.isWindows)return!1;if(!n||5>n.length)return!1;var r=n.charCodeAt(0);if(92!==r)return!1;if(92!==(r=n.charCodeAt(1)))return!1;for(var t=2,i=t;t<n.length&&92!==(r=n.charCodeAt(t));t++);return i!==t&&(r=n.charCodeAt(t+1),!isNaN(r)&&92!==r)};var l=y.isWindows?/[\\/:\*\?"<>\|]/g:/[\\/]/g,p=/^(con|prn|aux|clock\$|nul|lpt[0-9]|com[0-9])$/i;_.isValidBasename=function(t){return!(!t||0===t.length||/^\s+$/.test(t)||(l.lastIndex=0,l.test(t)||y.isWindows&&p.test(t)||"."===t||".."===t||y.isWindows&&"."===t[t.length-1]||y.isWindows&&t.length!==t.trim().length))},_.isEqual=function(o,e,t){var r=o===e;return!t||r?r:o&&e&&C.equalsIgnoreCase(o,e)},_.isEqualOrParent=function(t,o,a){if(t===o)return!0;if(!t||!o)return!1;if(o.length>t.length)return!1;if(a){if(!C.beginsWithIgnoreCase(t,o))return!1;if(o.length===t.length)return!0;var i=o.length;return o.charAt(o.length-1)===_.nativeSep&&i--,t.charAt(i)===_.nativeSep}return o.charAt(o.length-1)!==_.nativeSep&&(o+=_.nativeSep),0===t.indexOf(o)},_.isAbsolute=function(t){return y.isWindows?i(t):r(t)},_.isAbsolute_win32=i,_.isAbsolute_posix=r}),define(s[229],n([1,0,423,9,45]),function(p,e,_,g,m){"use strict";function f(s,e){if(a){var t=s||"",n=e||"",i=a.compare(t,n);return c&&0===i&&t!==n?t<n?-1:1:i}return r(s,e)}function r(l,e){var t=d.exec(l.toLowerCase()),n=d.exec(e.toLowerCase()),i=t[1]||"",o=t[3]||"",r=n[1]||"",p=n[3]||"";return i===r?o===p?0:o<p?-1:1:i<r?-1:1}function y(l,e){var t=l?d.exec(l.toLowerCase()):[],n=e?d.exec(e.toLowerCase()):[],i=t[1]||"",o=t[3]||"",r=n[1]||"",s=n[3]||"";return o===s?i===r?0:i<r?-1:1:o<s?-1:1}function n(i,e,t){var n=i.toLowerCase(),o=e.toLowerCase(),r=C(i,e,t);if(r)return r;var a=g.endsWith(n,t);if(a!==g.endsWith(o,t))return a?-1:1;var s=f(n,o);return 0===s?n.localeCompare(o):s}function C(i,e,t){var n=i.toLowerCase(),o=e.toLowerCase(),r=g.startsWith(n,t),s=g.startsWith(o,t);if(r!==s)return r?-1:1;if(r&&s){if(n.length<o.length)return-1;if(n.length>o.length)return 1}return 0}Object.defineProperty(e,"__esModule",{value:!0});var a,c;e.setFileNameComparer=function(t){a=t,c=t.resolvedOptions().numeric},e.compareFileNames=f;var d=/^(.*?)(\.([^.]*))?$/;e.noIntlCompareFileNames=r,e.compareFileExtensions=function(p,e){if(a){var t=p?d.exec(p):[],n=e?d.exec(e):[],i=t[1]||"",o=t[3]||"",r=n[1]||"",s=n[3]||"",u=a.compare(o,s);if(0===u){if(c&&o!==s)return o<s?-1:1;if(u=a.compare(i,r),c&&0===u&&i!==r)return i<r?-1:1}return u}return y(p,e)},e.comparePaths=function(o,e){for(var t=o.split(m.nativeSep),r=e.split(m.nativeSep),l=t.length-1,p=r.length-1,d=0,c,n,i,s;;d++){if(c=l===d,n=p===d,c&&n)return f(t[d],r[d]);if(c)return-1;if(n)return 1;if((i=t[d].toLowerCase())!==(s=r[d].toLowerCase()))return i<s?-1:1}},e.compareAnything=n,e.compareByPrefix=C,e.compareByScore=function(l,e,t,i,o,r){var s=t.getLabel(l),a=t.getLabel(e),c=C(s,a,i);if(c)return c;var d=_.score(s,i,r),u=_.score(a,i,r);if(d!==u)return d>u?-1:1;var p=t.getResourcePath(l),h=t.getResourcePath(e);if(p&&h){var g=_.score(p,i,r),m=_.score(h,i,r);if(g!==m)return g>m?-1:1}return s.length===a.length?p&&h&&p.length!==h.length?p.length<h.length?-1:1:s===a&&p&&h?n(p,h,o):n(s,a,o):s.length<a.length?-1:1}}),define(s[174],n([1,0,24,15,45,9]),function(d,e,p,n,y,o){"use strict";function i(o,e){return o&&(n.isMacintosh||n.isLinux)&&y.isEqualOrParent(o,e,!n.isLinux)&&(o="~"+o.substr(e.length)),o}Object.defineProperty(e,"__esModule",{value:!0}),e.getPathLabel=function(r,s,t){if(!r)return null;"string"==typeof r&&(r=p.default.file(r));var a=s?s.getRoot(r):null;if(a){var u=1<s.getWorkspace().roots.length,l;if(l=y.isEqual(a.fsPath,r.fsPath,!n.isLinux)?"":y.normalize(o.ltrim(r.fsPath.substr(a.fsPath.length),y.nativeSep),!0),u){var c=y.basename(a.fsPath);l=l?y.join(c,l):c}return l}if(n.isWindows&&r.fsPath&&":"===r.fsPath[1])return y.normalize(r.fsPath.charAt(0).toUpperCase()+r.fsPath.slice(1),!0);var d=y.normalize(r.fsPath,!0);return!n.isWindows&&t&&(d=i(d,t.userHome)),d},e.tildify=i;var r="\u2026",a="\\\\";e.shorten=function(u){for(var e=Array(u.length),t=!1,C=0,i;C<u.length;C++)if(i=u[C],""===i)e[C]="."+y.nativeSep;else if(i){t=!0;var s="";0===i.indexOf(a)?(s=i.substr(0,i.indexOf(a)+a.length),i=i.substr(i.indexOf(a)+a.length)):0===i.indexOf(y.nativeSep)&&(s=i.substr(0,i.indexOf(y.nativeSep)+y.nativeSep.length),i=i.substr(i.indexOf(y.nativeSep)+y.nativeSep.length));for(var l=i.split(y.nativeSep),c=1;t&&c<=l.length;c++)for(var d=l.length-c;t&&0<=d;d--){t=!1;for(var h=l.slice(d,d+c).join(y.nativeSep),p=0;!t&&p<u.length;p++)if(p!==C&&u[p]&&-1<u[p].indexOf(h)){var f=d+c===l.length,b=0<d&&-1<u[p].indexOf(y.nativeSep)?y.nativeSep+h:h,m=o.endsWith(u[p],b);t=!f||m}if(!t){var v="";(o.endsWith(l[0],":")||""!==s)&&(1===d&&(d=0,c++,h=l[0]+y.nativeSep+h),0<d&&(v=l[0]+y.nativeSep),v=s+v),0<d&&(v=v+r+y.nativeSep),v+=h,d+c<l.length&&(v=v+y.nativeSep+r),e[C]=v}}t&&(e[C]=i)}else e[C]=i;return e};var c;!function(t){t[t.TEXT=0]="TEXT",t[t.VARIABLE=1]="VARIABLE",t[t.SEPARATOR=2]="SEPARATOR"}(c||(c={})),e.template=function(d,e){void 0===e&&(e=Object.create(null));for(var l=[],t=!1,i="",p=0,s;p<d.length;p++)if("$"===(s=d[p])||t&&"{"===s)i&&l.push({value:i,type:c.TEXT}),i="",t=!0;else if("}"===s&&t){var n=e[i];if("string"==typeof n)n.length&&l.push({value:n,type:c.VARIABLE});else if(n){var g=l[l.length-1];g&&g.type===c.SEPARATOR||l.push({value:n.label,type:c.SEPARATOR})}i="",t=!1}else i+=s;return i&&!t&&l.push({value:i,type:c.TEXT}),l.filter(function(o,e){return o.type!==c.SEPARATOR||[l[e-1],l[e+1]].every(function(t){return t&&t.type===c.VARIABLE&&0<t.value.length})}).map(function(t){return t.value}).join("")},e.mnemonicButtonLabel=function(t){return n.isWindows?t.replace(/&&/g,"&"):t.replace(/\(&&\w\)|&&/g,"")}}),function(){var d={"WinJS/Core/_WinJS":{}},e=function(e,t,n){var i={},o=!1,r=t.map(function(e){return"exports"===e?(o=!0,i):d[e]}),s=n.apply({},r);d[e]=o?i:s};e("WinJS/Core/_Global",[],function(){"use strict";return"undefined"==typeof window?"undefined"==typeof self?"undefined"==typeof global?{}:global:self:window}),e("WinJS/Core/_BaseCoreUtils",["WinJS/Core/_Global"],function(o){"use strict";return{hasWinRT:!!o.Windows,markSupportedForProcessing:function(t){return t.supportedForProcessing=!0,t},_setImmediate:o.setImmediate?o.setImmediate.bind(o):function(e){o.setTimeout(e,0)}}}),e("WinJS/Core/_WriteProfilerMark",["WinJS/Core/_Global"],function(t){"use strict";return t.msWriteProfilerMark||function(){}}),e("WinJS/Core/_Base",["WinJS/Core/_WinJS","WinJS/Core/_Global","WinJS/Core/_BaseCoreUtils","WinJS/Core/_WriteProfilerMark"],function(d,l,p,r){"use strict";function c(d,e,t){var n=Object.keys(e),s=Array.isArray(d),a,i,p;for(i=0,p=n.length;i<p;i++){var r=n[i],u=95!==r.charCodeAt(0),g=e[r];g&&"object"==typeof g&&(void 0!==g.value||"function"==typeof g.get||"function"==typeof g.set)?(void 0===g.enumerable&&(g.enumerable=u),t&&g.setName&&"function"==typeof g.setName&&g.setName(t+"."+r),(a=a||{})[r]=g):u?s?d.forEach(function(t){t[r]=g}):d[r]=g:(a=a||{})[r]={value:g,enumerable:u,configurable:!0,writable:!0}}a&&(s?d.forEach(function(t){Object.defineProperties(t,a)}):Object.defineProperties(d,a))}return function(){function o(e,t){var i=e||{};if(t){var o=t.split(".");i===l&&"WinJS"===o[0]&&(i=d,o.splice(0,1));for(var r=0,s=o.length,a;r<s;r++)a=o[r],i[a]||Object.defineProperty(i,a,{value:{},writable:!1,enumerable:!0,configurable:!0}),i=i[a]}return i}function t(n,e,t){var i=o(n,e);return t&&c(i,t,e||"<ANONYMOUS>"),i}var e=d;e.Namespace||(e.Namespace=Object.create(Object.prototype));var i={uninitialized:1,working:2,initialized:3};Object.defineProperties(e.Namespace,{defineWithParent:{value:t,writable:!0,enumerable:!0,configurable:!0},define:{value:function(o,e){return t(l,o,e)},writable:!0,enumerable:!0,configurable:!0},_lazy:{value:function(a){var s=i.uninitialized,o,t;return{setName:function(t){o=t},get:function(){switch(s){case i.initialized:return t;case i.uninitialized:s=i.working;try{r("WinJS.Namespace._lazy:"+o+",StartTM"),t=a()}finally{r("WinJS.Namespace._lazy:"+o+",StopTM"),s=i.uninitialized}return a=null,s=i.initialized,t;case i.working:throw"Illegal: reentrancy on initialization";default:throw"Illegal";}},set:function(o){switch(s){case i.working:throw"Illegal: reentrancy on initialization";default:s=i.initialized,t=o;}},enumerable:!0,configurable:!0}},writable:!0,enumerable:!0,configurable:!0},_moduleDefine:{value:function(t,e,n){var i=[t],r=null;return e&&(r=o(l,e),i.push(r)),c(i,n,e||"<ANONYMOUS>"),r},writable:!0,enumerable:!0,configurable:!0}})}(),function(){function o(o,e,n){return o=o||function(){},p.markSupportedForProcessing(o),e&&c(o.prototype,e),n&&c(o,n),o}d.Namespace.define("WinJS.Class",{define:o,derive:function(t,e,n,r){if(t){e=e||function(){};var s=t.prototype;return e.prototype=Object.create(s),p.markSupportedForProcessing(e),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,configurable:!0,enumerable:!0}),n&&c(e.prototype,n),r&&c(e,r),e}return o(e,n,r)},mix:function(o){o=o||function(){};var e,t;for(e=1,t=arguments.length;e<t;e++)c(o.prototype,arguments[e]);return o}})}(),{Namespace:d.Namespace,Class:d.Class}}),e("WinJS/Core/_ErrorFromName",["WinJS/Core/_Base"],function(o){"use strict";var e=o.Class.derive(Error,function(o,e){this.name=o,this.message=e||o},{},{supportedForProcessing:!1});return o.Namespace.define("WinJS",{ErrorFromName:e}),e}),e("WinJS/Core/_Events",["exports","WinJS/Core/_Base"],function(o,e){"use strict";function r(o){var r="_on"+o+"state";return{get:function(){var t=this[r];return t&&t.userHandler},set:function(e){var t=this[r];e?(t||(t={wrapper:function(o){return t.userHandler(o)},userHandler:e},Object.defineProperty(this,r,{value:t,enumerable:!1,writable:!0,configurable:!0}),this.addEventListener(o,t.wrapper,!1)),t.userHandler=e):t&&(this.removeEventListener(o,t.wrapper,!1),this[r]=null)},enumerable:!0}}var a=e.Class.define(function(o,e,t){this.detail=e,this.target=t,this.timeStamp=Date.now(),this.type=o},{bubbles:{value:!1,writable:!1},cancelable:{value:!1,writable:!1},currentTarget:{get:function(){return this.target}},defaultPrevented:{get:function(){return this._preventDefaultCalled}},trusted:{value:!1,writable:!1},eventPhase:{value:0,writable:!1},target:null,timeStamp:null,type:null,preventDefault:function(){this._preventDefaultCalled=!0},stopImmediatePropagation:function(){this._stopImmediatePropagationCalled=!0},stopPropagation:function(){}},{supportedForProcessing:!1});e.Namespace._moduleDefine(o,"WinJS.Utilities",{_createEventProperty:r,createEventProperties:function(){for(var n={},e=0,t=arguments.length,i;e<t;e++)i=arguments[e],n["on"+i]=r(i);return n},eventMixin:{_listeners:null,addEventListener:function(a,e,d){d=d||!1,this._listeners=this._listeners||{};for(var l=this._listeners[a]=this._listeners[a]||[],i=0,o=l.length,r;i<o;i++)if(r=l[i],r.useCapture===d&&r.listener===e)return;l.push({listener:e,useCapture:d})},dispatchEvent:function(i,e){var t=this._listeners&&this._listeners[i];if(t){for(var n=new a(i,e,this),o=0,r=(t=t.slice(0,t.length)).length;o<r&&!n._stopImmediatePropagationCalled;o++)t[o].listener(n);return n.defaultPrevented||!1}return!1},removeEventListener:function(a,e,t){t=t||!1;var n=this._listeners&&this._listeners[a];if(n)for(var i=0,o=n.length,r;i<o;i++)if(r=n[i],r.listener===e&&r.useCapture===t){n.splice(i,1),0===n.length&&delete this._listeners[a];break}}}})}),e("WinJS/Core/_Trace",["WinJS/Core/_Global"],function(o){"use strict";function e(t){return t}return{_traceAsyncOperationStarting:o.Debug&&o.Debug.msTraceAsyncOperationStarting&&o.Debug.msTraceAsyncOperationStarting.bind(o.Debug)||e,_traceAsyncOperationCompleted:o.Debug&&o.Debug.msTraceAsyncOperationCompleted&&o.Debug.msTraceAsyncOperationCompleted.bind(o.Debug)||e,_traceAsyncCallbackStarting:o.Debug&&o.Debug.msTraceAsyncCallbackStarting&&o.Debug.msTraceAsyncCallbackStarting.bind(o.Debug)||e,_traceAsyncCallbackCompleted:o.Debug&&o.Debug.msTraceAsyncCallbackCompleted&&o.Debug.msTraceAsyncCallbackCompleted.bind(o.Debug)||e}}),e("WinJS/Promise/_StateMachine",["WinJS/Core/_Global","WinJS/Core/_BaseCoreUtils","WinJS/Core/_Base","WinJS/Core/_ErrorFromName","WinJS/Core/_Events","WinJS/Core/_Trace"],function(Z,X,e,t,n,$){"use strict";function o(){}function i(o,e){var i;i=e&&"object"==typeof e&&"function"==typeof e.then?D:A,o._value=e,o._setState(i)}function J(a,s,d,l,p,c){return{exception:a,error:s,promise:d,handler:c,id:l,parent:p}}function r(a,e,t,n){var i=t._isException,o=t._errorId;return J(i?e:null,i?null:e,a,o,t,n)}function l(r,e,t){var n=t._isException,i=t._errorId;return y(r,i,n),J(n?e:null,n?null:e,r,i,t)}function c(o,e){var t=++ae;return y(o,t),J(null,e,o,t)}function d(o,e){var t=++ae;return y(o,t,!0),J(e,null,o,t)}function u(o,e,r,a){oe(o,{c:e,e:r,p:a,asyncOpID:$._traceAsyncOperationStarting("WinJS.Promise.done")})}function h(o,e,t,n){o._value=e,te(o,e,t,n),o._setState(W)}function Q(e,t){var n=e._value,i=e._listeners;if(i){e._listeners=null;var o,r;for(o=0,r=Array.isArray(i)?i.length:1;o<r;o++){var a=1===r?i:i[o],s=a.c,d=a.promise;if($._traceAsyncOperationCompleted(a.asyncOpID,Z.Debug&&Z.Debug.MS_ASYNC_OP_STATUS_SUCCESS),d){$._traceAsyncCallbackStarting(a.asyncOpID);try{d._setCompleteValue(s?s(n):n)}catch(t){d._setExceptionValue(t)}finally{$._traceAsyncCallbackCompleted()}d._state!==D&&d._listeners&&t.push(d)}else q.prototype.done.call(e,s)}}}function ee(e,t){var n=e._value,i=e._listeners;if(i){e._listeners=null;var o,s;for(o=0,s=Array.isArray(i)?i.length:1;o<s;o++){var a=1===s?i:i[o],l=a.e,c=a.promise,d=Z.Debug&&(n&&n.name===N?Z.Debug.MS_ASYNC_OP_STATUS_CANCELED:Z.Debug.MS_ASYNC_OP_STATUS_ERROR);if($._traceAsyncOperationCompleted(a.asyncOpID,d),c){var u=!1;try{l?($._traceAsyncCallbackStarting(a.asyncOpID),u=!0,l.handlesOnError||te(c,n,r,e,l),c._setCompleteValue(l(n))):c._setChainedErrorValue(n,e)}catch(t){c._setExceptionValue(t)}finally{u&&$._traceAsyncCallbackCompleted()}c._state!==D&&c._listeners&&t.push(c)}else U.prototype.done.call(e,null,l)}}}function te(r,e,t,n,i){if(L._listeners[x]){if(e instanceof Error&&e.message===N)return;L.dispatchEvent(x,t(r,e,n,i))}}function v(a,e){var t=a._listeners;if(t){var n,i;for(n=0,i=Array.isArray(t)?t.length:1;n<i;n++){var o=1===i?t:t[n],r=o.p;if(r)try{r(e)}catch(t){}o.c||o.e||!o.promise||o.promise._progress(e)}}}function oe(o,e){var t=o._listeners;t?(t=Array.isArray(t)?t:[t]).push(e):t=e,o._listeners=t}function y(o,e,t){o._isException=t||!1,o._errorId=e}function C(o,e,t,n){o._value=e,te(o,e,t,n),o._setState(B)}function ne(o,e){var i;i=e&&"object"==typeof e&&"function"==typeof e.then?D:F,o._value=e,o._setState(i)}function ie(r,e,a,s){var d=new de(r);return oe(r,{promise:d,c:e,e:a,p:s,asyncOpID:$._traceAsyncOperationStarting("WinJS.Promise.then")}),d}function re(e){var t;return new G(function(n){e?t=Z.setTimeout(n,e):X._setImmediate(n)},function(){t&&Z.clearTimeout(t)})}function E(o,e){var t=function(){o.cancel()};return o.then(function(){e.cancel()}),e.then(t,t),e}Z.Debug&&(Z.Debug.setNonUserCodeExceptions=!0);var L=new(e.Class.mix(e.Class.define(null,{},{supportedForProcessing:!1}),n.eventMixin));L._listeners={};var x="error",N="Canceled",M=!1,T={promise:1,thenPromise:2,errorPromise:4,exceptionPromise:8,completePromise:16};T.all=T.promise|T.thenPromise|T.errorPromise|T.exceptionPromise|T.completePromise;var ae=1,H,se,D,O,R,P,A,F,W,B;H={name:"created",enter:function(t){t._setState(se)},cancel:o,done:o,then:o,_completed:o,_error:o,_notify:o,_progress:o,_setCompleteValue:o,_setErrorValue:o},se={name:"working",enter:o,cancel:function(t){t._setState(R)},done:u,then:ie,_completed:i,_error:h,_notify:o,_progress:v,_setCompleteValue:ne,_setErrorValue:C},D={name:"waiting",enter:function(o){var a=o._value;if(a instanceof de&&a._state!==B&&a._state!==F)oe(a,{promise:o});else{var t=function(e){a._errorId?o._chainedError(e,a):(te(o,e,r,a,t),o._error(e))};t.handlesOnError=!0,a.then(o._completed.bind(o),t,o._progress.bind(o))}},cancel:function(t){t._setState(O)},done:u,then:ie,_completed:i,_error:h,_notify:o,_progress:v,_setCompleteValue:ne,_setErrorValue:C},O={name:"waiting_canceled",enter:function(o){o._setState(P);var e=o._value;e.cancel&&e.cancel()},cancel:o,done:u,then:ie,_completed:i,_error:h,_notify:o,_progress:v,_setCompleteValue:ne,_setErrorValue:C},R={name:"canceled",enter:function(t){t._setState(P),t._cancelAction()},cancel:o,done:u,then:ie,_completed:i,_error:h,_notify:o,_progress:v,_setCompleteValue:ne,_setErrorValue:C},P={name:"canceling",enter:function(o){var e=new Error(N);e.name=e.message,o._value=e,o._setState(W)},cancel:o,done:o,then:o,_completed:o,_error:o,_notify:o,_progress:o,_setCompleteValue:o,_setErrorValue:o},A={name:"complete_notify",enter:function(o){if(o.done=q.prototype.done,o.then=q.prototype.then,o._listeners)for(var e=[o],n;e.length;)(n=e.shift())._state._notify(n,e);o._setState(F)},cancel:o,done:null,then:null,_completed:o,_error:o,_notify:Q,_progress:o,_setCompleteValue:o,_setErrorValue:o},F={name:"success",enter:function(t){t.done=q.prototype.done,t.then=q.prototype.then,t._cleanupAction()},cancel:o,done:null,then:null,_completed:o,_error:o,_notify:Q,_progress:o,_setCompleteValue:o,_setErrorValue:o},W={name:"error_notify",enter:function(o){if(o.done=U.prototype.done,o.then=U.prototype.then,o._listeners)for(var e=[o],n;e.length;)(n=e.shift())._state._notify(n,e);o._setState(B)},cancel:o,done:null,then:null,_completed:o,_error:o,_notify:ee,_progress:o,_setCompleteValue:o,_setErrorValue:o},B={name:"error",enter:function(t){t.done=U.prototype.done,t.then=U.prototype.then,t._cleanupAction()},cancel:o,done:null,then:null,_completed:o,_error:o,_notify:ee,_progress:o,_setCompleteValue:o,_setErrorValue:o};var V=e.Class.define(null,{_listeners:null,_nextState:null,_state:null,_value:null,cancel:function(){this._state.cancel(this),this._run()},done:function(o,e,t){this._state.done(this,o,e,t)},then:function(o,e,t){return this._state.then(this,o,e,t)},_chainedError:function(o,e){var t=this._state._error(this,o,l,e);return this._run(),t},_completed:function(o){var e=this._state._completed(this,o);return this._run(),e},_error:function(o){var e=this._state._error(this,o,c);return this._run(),e},_progress:function(t){this._state._progress(this,t)},_setState:function(t){this._nextState=t},_setCompleteValue:function(t){this._state._setCompleteValue(this,t),this._run()},_setChainedErrorValue:function(o,e){var t=this._state._setErrorValue(this,o,l,e);return this._run(),t},_setExceptionValue:function(o){var e=this._state._setErrorValue(this,o,d);return this._run(),e},_run:function(){for(;this._nextState;)this._state=this._nextState,this._nextState=null,this._state.enter(this)}},{supportedForProcessing:!1}),de=e.Class.derive(V,function(t){M&&(!0===M||M&T.thenPromise)&&(this._stack=G._getStack()),this._creator=t,this._setState(H),this._run()},{_creator:null,_cancelAction:function(){this._creator&&this._creator.cancel()},_cleanupAction:function(){this._creator=null}},{supportedForProcessing:!1}),U=e.Class.define(function(t){M&&(!0===M||M&T.errorPromise)&&(this._stack=G._getStack()),this._value=t,te(this,t,c)},{cancel:function(){},done:function(o,e){var t=this._value;if(e)try{e.handlesOnError||te(null,t,r,this,e);var n=e(t);return void(n&&"object"==typeof n&&"function"==typeof n.done&&n.done())}catch(o){t=o}t instanceof Error&&t.message===N||G._doneHandler(t)},then:function(o,e){if(!e)return this;var a=this._value,i;try{e.handlesOnError||te(null,a,r,this,e),i=new q(e(a))}catch(t){i=t===a?this:new j(t)}return i}},{supportedForProcessing:!1}),j=e.Class.derive(U,function(t){M&&(!0===M||M&T.exceptionPromise)&&(this._stack=G._getStack()),this._value=t,te(this,t,d)},{},{supportedForProcessing:!1}),q=e.Class.define(function(o){if(M&&(!0===M||M&T.completePromise)&&(this._stack=G._getStack()),o&&"object"==typeof o&&"function"==typeof o.then){var n=new de(null);return n._setCompleteValue(o),n}this._value=o},{cancel:function(){},done:function(o){if(o)try{var e=o(this._value);e&&"object"==typeof e&&"function"==typeof e.done&&e.done()}catch(t){G._doneHandler(t)}},then:function(o){try{var e=o?o(this._value):this._value;return e===this._value?this:new q(e)}catch(t){return new j(t)}}},{supportedForProcessing:!1}),G=e.Class.derive(V,function(o,e){M&&(!0===M||M&T.promise)&&(this._stack=G._getStack()),this._oncancel=e,this._setState(H),this._run();try{o(this._completed.bind(this),this._error.bind(this),this._progress.bind(this))}catch(t){this._setExceptionValue(t)}},{_oncancel:null,_cancelAction:function(){try{if(!this._oncancel)throw new Error("Promise did not implement oncancel");this._oncancel()}catch(t){t.message,t.stack,L.dispatchEvent("error",t)}},_cleanupAction:function(){this._oncancel=null}},{addEventListener:function(o,e,t){L.addEventListener(o,e,t)},any:function(a){return new G(function(e,t){var n=Object.keys(a);0===n.length&&e();var i=0;n.forEach(function(o){G.as(a[o]).then(function(){e({key:o,value:a[o]})},function(d){d instanceof Error&&d.name===N?++i===n.length&&e(G.cancel):t({key:o,value:a[o]})})})},function(){Object.keys(a).forEach(function(e){var t=G.as(a[e]);"function"==typeof t.cancel&&t.cancel()})})},as:function(t){return t&&"object"==typeof t&&"function"==typeof t.then?t:new q(t)},cancel:{get:function(){return le=le||new U(new t(N))}},dispatchEvent:function(o,e){return L.dispatchEvent(o,e)},is:function(t){return t&&"object"==typeof t&&"function"==typeof t.then},join:function(d){return new G(function(e,t,n){var i=Object.keys(d),o=Array.isArray(d)?[]:{},r=Array.isArray(d)?[]:{},s=0,p=i.length,a=function(s){if(0==--p){var d=Object.keys(o).length;if(0===d)e(r);else{var a=0;i.forEach(function(n){var e=o[n];e instanceof Error&&e.name===N&&a++}),a===d?e(G.cancel):t(o)}}else n({Key:s,Done:!0})};i.forEach(function(i){var e=d[i];void 0===e?s++:G.then(e,function(t){r[i]=t,a(i)},function(t){o[i]=t,a(i)})}),0!==(p-=s)||e(r)},function(){Object.keys(d).forEach(function(e){var t=G.as(d[e]);"function"==typeof t.cancel&&t.cancel()})})},removeEventListener:function(o,e,t){L.removeEventListener(o,e,t)},supportedForProcessing:!1,then:function(o,e,t,n){return G.as(o).then(e,t,n)},thenEach:function(a,e,t,n){var i=Array.isArray(a)?[]:{};return Object.keys(a).forEach(function(o){i[o]=G.as(a[o]).then(e,t,n)}),G.join(i)},timeout:function(o,e){var t=re(o);return e?E(t,e):t},wrap:function(t){return new q(t)},wrapError:function(t){return new U(t)},_veryExpensiveTagWithStack:{get:function(){return M},set:function(t){M=t}},_veryExpensiveTagWithStack_tag:T,_getStack:function(){if(Z.Debug&&Z.Debug.debuggerEnabled)try{throw new Error}catch(t){return t.stack}},_cancelBlocker:function(r,e){if(!G.is(r))return G.wrap(r);var t=new G(function(i,e){o=i,n=e},function(){o=null,n=null,e&&e()}),o,n;return r.then(function(t){o&&o(t)},function(t){n&&n(t)}),t}}),le;return Object.defineProperties(G,n.createEventProperties(x)),G._doneHandler=function(t){X._setImmediate(function(){throw t})},{PromiseStateMachine:V,Promise:G,state_created:H}}),e("WinJS/Promise",["WinJS/Core/_Base","WinJS/Promise/_StateMachine"],function(o,e){"use strict";return o.Namespace.define("WinJS",{Promise:e.Promise}),e.Promise});var t=d["WinJS/Core/_WinJS"];"undefined"==typeof exports&&"function"==typeof define&&define.amd?define("vs/base/common/winjs.base.raw",t):module.exports=t,"undefined"!=typeof process&&"function"==typeof process.nextTick&&(d["WinJS/Core/_BaseCoreUtils"]._setImmediate=function(t){return process.nextTick(t)})}(),define(s[7],n([551]),function(t){"use strict";return{Promise:t.Promise,TPromise:t.Promise,PPromise:t.Promise}}),define(s[10],n([1,0,15,29,7]),function(d,p,t,c,e){"use strict";function o(t){n(t)||p.errorHandler.onUnexpectedError(t)}function n(t){return t instanceof Error&&t.name===a&&t.message===a}Object.defineProperty(p,"__esModule",{value:!0});var i={};e.TPromise.addEventListener("error",function(r){var e=r.detail,t=e.id;e.parent?e.handler&&i&&delete i[t]:(i[t]=e,1===Object.keys(i).length&&setTimeout(function(){var r=i;i={},Object.keys(r).forEach(function(e){var t=r[e];t.exception?o(t.exception):t.error&&o(t.error),console.log("WARNING: Promise with no error callback:"+t.id),console.log(t),t.exception&&console.log(t.exception.stack)})},0))});var r=function(){function o(){this.listeners=[],this.unexpectedErrorHandler=function(o){t.setTimeout(function(){if(o.stack)throw new Error(o.message+"\n\n"+o.stack);throw o},0)}}return o.prototype.addListener=function(o){var e=this;return this.listeners.push(o),function(){e._removeListener(o)}},o.prototype.emit=function(o){this.listeners.forEach(function(e){e(o)})},o.prototype._removeListener=function(t){this.listeners.splice(this.listeners.indexOf(t),1)},o.prototype.setUnexpectedErrorHandler=function(t){this.unexpectedErrorHandler=t},o.prototype.getUnexpectedErrorHandler=function(){return this.unexpectedErrorHandler},o.prototype.onUnexpectedError=function(t){this.unexpectedErrorHandler(t),this.emit(t)},o.prototype.onUnexpectedExternalError=function(t){this.unexpectedErrorHandler(t)},o}();p.ErrorHandler=r,p.errorHandler=new r,p.setUnexpectedErrorHandler=function(t){p.errorHandler.setUnexpectedErrorHandler(t)},p.onUnexpectedError=o,p.onUnexpectedExternalError=function(t){n(t)||p.errorHandler.onUnexpectedExternalError(t)},p.onUnexpectedPromiseError=function(t){return t.then(null,o)},p.transformErrorForSerialization=function(t){return t instanceof Error?{$isError:!0,name:t.name,message:t.message,stack:t.stacktrace||t.stack}:t};var a="Canceled";p.isPromiseCanceledError=n,p.canceled=function(){var t=new Error(a);return t.name=t.message,t},p.notImplemented=function(){return new Error("Not Implemented")},p.illegalArgument=function(t){return t?new Error("Illegal argument: "+t):new Error("Illegal argument")},p.illegalState=function(t){return t?new Error("Illegal state: "+t):new Error("Illegal state")},p.readonly=function(t){return t?new Error("readonly property '"+t+" cannot be changed'"):new Error("readonly property cannot be changed")},p.create=function(o,e){void 0===e&&(e={});var t=new Error(o);return c.isNumber(e.severity)&&(t.severity=e.severity),e.actions&&(t.actions=e.actions),t},p.getErrorMessage=function(t){return t?t.message?t.message:t.stack?t.stack.split("\n")[0]:t+"":"Error"}}),define(s[424],n([1,0,10]),function(o,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function o(){}return o.prototype.add=function(o,e,t){var n=this;void 0===e&&(e=null),this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(o),this._contexts.push(e),Array.isArray(t)&&t.push({dispose:function(){return n.remove(o,e)}})},o.prototype.remove=function(r,e){if(void 0===e&&(e=null),this._callbacks){for(var t=!1,n=0,i=this._callbacks.length;n<i;n++)if(this._callbacks[n]===r){if(this._contexts[n]===e)return this._callbacks.splice(n,1),void this._contexts.splice(n,1);t=!0}if(t)throw new Error("When adding a listener with a context, you should remove it with the same context")}},o.prototype.invoke=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];if(this._callbacks){for(var d=[],i=this._callbacks.slice(0),o=this._contexts.slice(0),r=0,s=i.length;r<s;r++)try{d.push(i[r].apply(o[r],n))}catch(o){t.onUnexpectedError(o)}return d}},o.prototype.isEmpty=function(){return!this._callbacks||0===this._callbacks.length},o.prototype.entries=function(){var o=this;return this._callbacks?this._callbacks.map(function(e,t){return[e,o._contexts[t]]}):[]},o.prototype.dispose=function(){this._callbacks=void 0,this._contexts=void 0},o}();e.default=n}),define(s[11],n([1,0,3,424,7,136]),function(g,e,m,_,t,o){"use strict";function n(r){return function(a,t,e){void 0===t&&(t=null);var n=r(function(o){return n.dispose(),a.call(t,o)},null,e);return n}}function i(r,o){return function(t,n,e){return void 0===n&&(n=null),r(function(i){return t.call(n,o(i))},null,e)}}function r(r,o){return function(t,n,e){return void 0===n&&(n=null),r(function(i){return o(i)&&t.call(n,i)},null,e)}}Object.defineProperty(e,"__esModule",{value:!0});var a;!function(o){var e={dispose:function(){}};o.None=function(){return e}}(a||(a={})),e.default=a;var l=function(){function i(t){this._options=t}return Object.defineProperty(i.prototype,"event",{get:function(){var e=this;return this._event||(this._event=function(t,n,o){e._callbacks||(e._callbacks=new _.default);var r=e._callbacks.isEmpty();r&&e._options&&e._options.onFirstListenerAdd&&e._options.onFirstListenerAdd(e),e._callbacks.add(t,n),r&&e._options&&e._options.onFirstListenerDidAdd&&e._options.onFirstListenerDidAdd(e),e._options&&e._options.onListenerDidAdd&&e._options.onListenerDidAdd(e,t,n);var s;return s={dispose:function(){s.dispose=i._noop,e._disposed||(e._callbacks.remove(t,n),e._options&&e._options.onLastListenerRemove&&e._callbacks.isEmpty()&&e._options.onLastListenerRemove(e))}},Array.isArray(o)&&o.push(s),s}),this._event},enumerable:!0,configurable:!0}),i.prototype.fire=function(t){this._callbacks&&this._callbacks.invoke.call(this._callbacks,t)},i.prototype.dispose=function(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0,this._disposed=!0)},i._noop=function(){},i}();e.Emitter=l;var s=function(){function t(){var t=this;this.hasListeners=!1,this.events=[],this.emitter=new l({onFirstListenerAdd:function(){return t.onFirstListenerAdd()},onLastListenerRemove:function(){return t.onLastListenerRemove()}})}return Object.defineProperty(t.prototype,"event",{get:function(){return this.emitter.event},enumerable:!0,configurable:!0}),t.prototype.add=function(n){var r=this,t={event:n,listener:null};return this.events.push(t),this.hasListeners&&this.hook(t),m.toDisposable(o.once(function(){r.hasListeners&&r.unhook(t);var o=r.events.indexOf(t);r.events.splice(o,1)}))},t.prototype.onFirstListenerAdd=function(){var o=this;this.hasListeners=!0,this.events.forEach(function(e){return o.hook(e)})},t.prototype.onLastListenerRemove=function(){var o=this;this.hasListeners=!1,this.events.forEach(function(e){return o.unhook(e)})},t.prototype.hook=function(o){var n=this;o.listener=o.event(function(t){return n.emitter.fire(t)})},t.prototype.unhook=function(t){t.listener.dispose(),t.listener=null},t.prototype.dispose=function(){this.emitter.dispose()},t}();e.EventMultiplexer=s,e.fromEventEmitter=function(a,e){return function(t,n,i){var o=a.addListener(e,function(){t.apply(n,arguments)});return Array.isArray(i)&&i.push(o),o}},e.fromCallback=function(o){var i=new l({onFirstListenerAdd:function(){return e=o(function(t){return i.fire(t)})},onLastListenerRemove:function(){return e.dispose()}}),e;return i.event},e.fromPromise=function(o){var e=new l,t=!1;return o.then(null,function(){return null}).then(function(){t?e.fire():setTimeout(function(){return e.fire()},0)}),t=!0,e.event},e.toPromise=function(o){return new t.TPromise(function(i){var t=o(function(o){t.dispose(),i(o)})})},e.delayed=function(o){var e=null,t=null,n=new l({onFirstListenerAdd:function(){e=o.then(function(o){return t=o(function(t){return n.fire(t)})},function(){return null})},onLastListenerRemove:function(){e&&(e.cancel(),e=null),t&&(t.dispose(),t=null)}});return n.event},e.once=n,e.any=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return function(r,t,i){return void 0===t&&(t=null),m.combinedDisposable(n.map(function(o){return o(function(o){return r.call(t,o)},null,i)}))}},e.debounceEvent=function(d,p,t,n){void 0===t&&(t=100),void 0===n&&(n=!1);var c=0,a=new l({onFirstListenerAdd:function(){e=d(function(d){c++,o=p(o,d),!r&&n&&a.fire(o),clearTimeout(r),r=setTimeout(function(){var t=o;o=void 0,(!n||1<c)&&a.fire(t),r=null,c=0},t)})},onLastListenerRemove:function(){e.dispose()}}),e,o,r;return a.event};var d=function(){function t(){this.buffers=[]}return t.prototype.wrapEvent=function(r){var a=this;return function(t,n,e){return r(function(i){var e=a.buffers[a.buffers.length-1];e?e.push(function(){return t.call(n,i)}):t.call(n,i)},void 0,e)}},t.prototype.bufferEvents=function(o){var e=[];this.buffers.push(e),o(),this.buffers.pop(),e.forEach(function(t){return t()})},t}();e.EventBufferer=d,e.mapEvent=i,e.filterEvent=r;var c=function(){function o(t){this._event=t}return Object.defineProperty(o.prototype,"event",{get:function(){return this._event},enumerable:!0,configurable:!0}),o.prototype.map=function(e){return new o(i(this._event,e))},o.prototype.filter=function(e){return new o(r(this._event,e))},o.prototype.on=function(o,e,t){return this._event(o,e,t)},o}();e.chain=function(t){return new c(t)},e.stopwatch=function(o){var e=new Date().getTime();return i(n(o),function(){return new Date().getTime()-e})},e.buffer=function(a,e,t){void 0===e&&(e=!1),void 0===t&&(t=[]),t=t.slice();var n=a(function(n){t?t.push(n):o.fire(n)}),i=function(){t.forEach(function(t){return o.fire(t)}),t=null},o=new l({onFirstListenerAdd:function(){n||(n=a(function(t){return o.fire(t)}))},onFirstListenerDidAdd:function(){t&&(e?setTimeout(i):i())},onLastListenerRemove:function(){n.dispose(),n=null}});return o.event},e.echo=function(r,a,s){void 0===a&&(a=!1),void 0===s&&(s=[]),s=s.slice(),r(function(t){s.push(t),n.fire(t)});var t=function(o,e){return s.forEach(function(t){return o.call(e,t)})},n=new l({onListenerDidAdd:function(i,e,n){a?setTimeout(function(){return t(e,n)}):t(e,n)}});return n.event}}),define(s[28],n([1,0,15,11]),function(d,l,e,t){"use strict";function n(){return i.INSTANCE.getZoomLevel()}function o(){return i.INSTANCE.getPixelRatio()}Object.defineProperty(l,"__esModule",{value:!0});var i=function(){function o(){this._zoomLevel=0,this._lastZoomLevelChangeTime=0,this._onDidChangeZoomLevel=new t.Emitter,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event,this._zoomFactor=0,this._onDidChangeFullscreen=new t.Emitter,this.onDidChangeFullscreen=this._onDidChangeFullscreen.event,this._accessibilitySupport=0,this._onDidChangeAccessibilitySupport=new t.Emitter,this.onDidChangeAccessibilitySupport=this._onDidChangeAccessibilitySupport.event}return o.prototype.getZoomLevel=function(){return this._zoomLevel},o.prototype.getTimeSinceLastZoomLevelChanged=function(){return Date.now()-this._lastZoomLevelChangeTime},o.prototype.setZoomLevel=function(o,e){this._zoomLevel!==o&&(this._zoomLevel=o,this._lastZoomLevelChangeTime=e?0:Date.now(),this._onDidChangeZoomLevel.fire(this._zoomLevel))},o.prototype.getZoomFactor=function(){return this._zoomFactor},o.prototype.setZoomFactor=function(t){this._zoomFactor=t},o.prototype.getPixelRatio=function(){var t=document.createElement("canvas").getContext("2d");return(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)},o.prototype.setFullscreen=function(t){this._fullscreen!==t&&(this._fullscreen=t,this._onDidChangeFullscreen.fire())},o.prototype.isFullscreen=function(){return this._fullscreen},o.prototype.setAccessibilitySupport=function(t){this._accessibilitySupport!==t&&(this._accessibilitySupport=t,this._onDidChangeAccessibilitySupport.fire())},o.prototype.getAccessibilitySupport=function(){return this._accessibilitySupport},o.INSTANCE=new o,o}();l.setZoomLevel=function(o,e){i.INSTANCE.setZoomLevel(o,e)},l.getZoomLevel=n,l.getTimeSinceLastZoomLevelChanged=function(){return i.INSTANCE.getTimeSinceLastZoomLevelChanged()},l.onDidChangeZoomLevel=function(t){return i.INSTANCE.onDidChangeZoomLevel(t)},l.getZoomFactor=function(){return i.INSTANCE.getZoomFactor()},l.setZoomFactor=function(t){i.INSTANCE.setZoomFactor(t)},l.getPixelRatio=o,l.setFullscreen=function(t){i.INSTANCE.setFullscreen(t)},l.isFullscreen=function(){return i.INSTANCE.isFullscreen()},l.onDidChangeFullscreen=function(t){return i.INSTANCE.onDidChangeFullscreen(t)},l.setAccessibilitySupport=function(t){i.INSTANCE.setAccessibilitySupport(t)},l.getAccessibilitySupport=function(){return i.INSTANCE.getAccessibilitySupport()},l.onDidChangeAccessibilitySupport=function(t){return i.INSTANCE.onDidChangeAccessibilitySupport(t)};var r=navigator.userAgent;l.isIE=0<=r.indexOf("Trident"),l.isEdge=0<=r.indexOf("Edge/"),l.isEdgeOrIE=l.isIE||l.isEdge,l.isOpera=0<=r.indexOf("Opera"),l.isFirefox=0<=r.indexOf("Firefox"),l.isWebKit=0<=r.indexOf("AppleWebKit"),l.isChrome=0<=r.indexOf("Chrome"),l.isSafari=-1===r.indexOf("Chrome")&&0<=r.indexOf("Safari"),l.isIPad=0<=r.indexOf("iPad"),l.isChromev56=0<=r.indexOf("Chrome/56.")&&-1===r.indexOf("Edge/"),l.supportsTranslate3d=!l.isFirefox,l.canUseTranslate3d=function(){if(!l.supportsTranslate3d)return!1;if(0!==n())return!1;if(l.isChromev56){var t=o();if(M(t)!==t)return!1}return!0}}),define(s[124],n([1,0,11]),function(o,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.domEvent=function(n,e,t){var i=function(t){return o.fire(t)},o=new a.Emitter({onFirstListenerAdd:function(){n.addEventListener(e,i,t)},onLastListenerRemove:function(){n.removeEventListener(e,i,t)}});return o.event},e.stop=function(t){return a.mapEvent(t,function(t){return t.preventDefault(),t.stopPropagation(),t})}}),define(s[65],n([1,0,40,15,28]),function(d,e,p,t,n){"use strict";function o(o){if(o.charCode){var e=k(o.charCode).toUpperCase();return p.KeyCodeUtils.fromString(e)}return i[o.keyCode]||0}Object.defineProperty(e,"__esModule",{value:!0});var i={};i[3]=7,i[8]=1,i[9]=2,i[13]=3,i[16]=4,i[17]=5,i[18]=6,i[19]=7,i[20]=8,i[27]=9,i[32]=10,i[33]=11,i[34]=12,i[35]=13,i[36]=14,i[37]=15,i[38]=16,i[39]=17,i[40]=18,i[45]=19,i[46]=20,i[48]=21,i[49]=22,i[50]=23,i[51]=24,i[52]=25,i[53]=26,i[54]=27,i[55]=28,i[56]=29,i[57]=30,i[65]=31,i[66]=32,i[67]=33,i[68]=34,i[69]=35,i[70]=36,i[71]=37,i[72]=38,i[73]=39,i[74]=40,i[75]=41,i[76]=42,i[77]=43,i[78]=44,i[79]=45,i[80]=46,i[81]=47,i[82]=48,i[83]=49,i[84]=50,i[85]=51,i[86]=52,i[87]=53,i[88]=54,i[89]=55,i[90]=56,i[93]=58,i[96]=93,i[97]=94,i[98]=95,i[99]=96,i[100]=97,i[101]=98,i[102]=99,i[103]=100,i[104]=101,i[105]=102,i[106]=103,i[107]=104,i[108]=105,i[109]=106,i[110]=107,i[111]=108,i[112]=59,i[113]=60,i[114]=61,i[115]=62,i[116]=63,i[117]=64,i[118]=65,i[119]=66,i[120]=67,i[121]=68,i[122]=69,i[123]=70,i[124]=71,i[125]=72,i[126]=73,i[127]=74,i[128]=75,i[129]=76,i[130]=77,i[144]=78,i[145]=79,i[186]=80,i[187]=81,i[188]=82,i[189]=83,i[190]=84,i[191]=85,i[192]=86,i[193]=110,i[194]=111,i[219]=87,i[220]=88,i[221]=89,i[222]=90,i[223]=91,i[226]=92,i[229]=109,n.isIE?i[91]=57:n.isFirefox?(i[59]=80,i[107]=81,i[109]=83,t.isMacintosh&&(i[224]=57)):n.isWebKit&&(i[91]=57,t.isMacintosh?i[93]=57:i[92]=57);var r=t.isMacintosh?256:2048,a=t.isMacintosh?2048:256,s=function(){function t(n){var i=n;this.browserEvent=i,this.target=i.target,this.ctrlKey=i.ctrlKey,this.shiftKey=i.shiftKey,this.altKey=i.altKey,this.metaKey=i.metaKey,this.keyCode=o(i),this.code=i.code,this.ctrlKey=this.ctrlKey||5===this.keyCode,this.altKey=this.altKey||6===this.keyCode,this.shiftKey=this.shiftKey||4===this.keyCode,this.metaKey=this.metaKey||57===this.keyCode,this._asKeybinding=this._computeKeybinding(),this._asRuntimeKeybinding=this._computeRuntimeKeybinding()}return t.prototype.preventDefault=function(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()},t.prototype.stopPropagation=function(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()},t.prototype.toKeybinding=function(){return this._asRuntimeKeybinding},t.prototype.equals=function(t){return this._asKeybinding===t},t.prototype._computeKeybinding=function(){var o=0;5!==this.keyCode&&4!==this.keyCode&&6!==this.keyCode&&57!==this.keyCode&&(o=this.keyCode);var e=0;return this.ctrlKey&&(e|=r),this.altKey&&(e|=512),this.shiftKey&&(e|=1024),this.metaKey&&(e|=a),e|=o},t.prototype._computeRuntimeKeybinding=function(){var t=0;return 5!==this.keyCode&&4!==this.keyCode&&6!==this.keyCode&&57!==this.keyCode&&(t=this.keyCode),new p.SimpleKeybinding(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,t)},t}();e.StandardKeyboardEvent=s}),define(s[47],n([1,0,15,28,148]),function(d,e,t,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(o){this.timestamp=Date.now(),this.browserEvent=o,this.leftButton=0===o.button,this.middleButton=1===o.button,this.rightButton=2===o.button,this.target=o.target,this.detail=o.detail||1,"dblclick"===o.type&&(this.detail=2),this.ctrlKey=o.ctrlKey,this.shiftKey=o.shiftKey,this.altKey=o.altKey,this.metaKey=o.metaKey,"number"==typeof o.pageX?(this.posx=o.pageX,this.posy=o.pageY):(this.posx=o.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,this.posy=o.clientY+document.body.scrollTop+document.documentElement.scrollTop);var n=i.IframeUtils.getPositionOfChildWindowRelativeToAncestorWindow(self,o.view);this.posx-=n.left,this.posy-=n.top}return t.prototype.preventDefault=function(){this.browserEvent.preventDefault&&this.browserEvent.preventDefault()},t.prototype.stopPropagation=function(){this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()},t}();e.StandardMouseEvent=o;var r=function(o){function e(e){var i=o.call(this,e)||this;return i.dataTransfer=e.dataTransfer,i}return Z(e,o),e}(o);e.DragMouseEvent=r;var s=function(o){function e(e){return o.call(this,e)||this}return Z(e,o),e}(r);e.DropMouseEvent=s;var a=function(){function o(i,a,d){if(void 0===a&&(a=0),void 0===d&&(d=0),this.browserEvent=i||null,this.target=i?i.target||i.targetNode||i.srcElement:null,this.deltaY=d,this.deltaX=a,i){var o=i,r=i;void 0===o.wheelDeltaY?void 0!==r.VERTICAL_AXIS&&r.axis===r.VERTICAL_AXIS&&(this.deltaY=-r.detail/3):this.deltaY=o.wheelDeltaY/120,void 0===o.wheelDeltaX?void 0!==r.HORIZONTAL_AXIS&&r.axis===r.HORIZONTAL_AXIS&&(this.deltaX=-i.detail/3):n.isSafari&&t.isWindows?this.deltaX=-o.wheelDeltaX/120:this.deltaX=o.wheelDeltaX/120,0===this.deltaY&&0===this.deltaX&&i.wheelDelta&&(this.deltaY=i.wheelDelta/120)}}return o.prototype.preventDefault=function(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()},o.prototype.stopPropagation=function(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()},o}();e.StandardMouseWheelEvent=a}),define(s[123],n([1,0,11]),function(a,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=Object.freeze(function(o,e){var t=setTimeout(o.bind(e),0);return{dispose:function(){clearTimeout(t)}}}),d;!function(i){i.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:t.default.None}),i.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:n})}(d=e.CancellationToken||(e.CancellationToken={}));var i=function(){function o(){this._isCancelled=!1}return o.prototype.cancel=function(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this._emitter=void 0))},Object.defineProperty(o.prototype,"isCancellationRequested",{get:function(){return this._isCancelled},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"onCancellationRequested",{get:function(){return this._isCancelled?n:(this._emitter||(this._emitter=new t.Emitter),this._emitter.event)},enumerable:!0,configurable:!0}),o}(),r=function(){function t(){}return Object.defineProperty(t.prototype,"token",{get:function(){return this._token||(this._token=new i),this._token},enumerable:!0,configurable:!0}),t.prototype.cancel=function(){this._token?this._token.cancel():this._token=d.Cancelled},t.prototype.dispose=function(){this.cancel()},t}();e.CancellationTokenSource=r}),define(s[18],n([1,0,10,15,7,123,3,11]),function(f,e,t,S,E,o,n,i){"use strict";function a(t){return t&&"function"==typeof t.then}function s(n,o){return new E.TPromise(function(a,i,s){n.done(function(n){try{o(n)}catch(o){t.onUnexpectedError(o)}a(n)},function(n){try{o(n)}catch(o){t.onUnexpectedError(o)}i(n)},function(t){s(t)})},function(){n.cancel()})}Object.defineProperty(e,"__esModule",{value:!0}),e.toThenable=function(t){return a(t)?t:E.TPromise.as(t)},e.asWinJsPromise=function(d){var e=new o.CancellationTokenSource;return new E.TPromise(function(t,o,n){var i=d(e.token);i instanceof E.TPromise?i.then(t,o,n):a(i)?i.then(t,o):t(i)},function(){e.cancel()})},e.wireCancellationToken=function(o,e,n){var i=o.onCancellationRequested(function(){return e.cancel()});return n&&(e=e.then(void 0,function(o){if(!t.isPromiseCanceledError(o))return E.TPromise.wrapError(o)})),s(e,function(){return i.dispose()})};var r=function(){function t(){this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}return t.prototype.queue=function(o){var r=this;if(this.activePromise){if(this.queuedPromiseFactory=o,!this.queuedPromise){var t=function(){r.queuedPromise=null;var t=r.queue(r.queuedPromiseFactory);return r.queuedPromiseFactory=null,t};this.queuedPromise=new E.TPromise(function(n,e,i){r.activePromise.then(t,t,i).done(n)},function(){r.activePromise.cancel()})}return new E.TPromise(function(t,e,o){r.queuedPromise.then(t,e,o)},function(){})}return this.activePromise=o(),new E.TPromise(function(t,o,e){r.activePromise.done(function(e){r.activePromise=null,t(e)},function(t){r.activePromise=null,o(t)},e)},function(){r.activePromise.cancel()})},t}();e.Throttler=r;var l=function(){function t(){this.current=E.TPromise.as(null)}return t.prototype.queue=function(t){return this.current=this.current.then(function(){return t()})},t}();e.SimpleThrottler=l;var d=function(){function t(t){this.defaultDelay=t,this.timeout=null,this.completionPromise=null,this.onSuccess=null,this.task=null}return t.prototype.trigger=function(o,e){var t=this;return void 0===e&&(e=this.defaultDelay),this.task=o,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new E.TPromise(function(o){t.onSuccess=o},function(){}).then(function(){t.completionPromise=null,t.onSuccess=null;var o=t.task;return t.task=null,o()})),this.timeout=setTimeout(function(){t.timeout=null,t.onSuccess(null)},e),this.completionPromise},t.prototype.isTriggered=function(){return null!==this.timeout},t.prototype.cancel=function(){this.cancelTimeout(),this.completionPromise&&(this.completionPromise.cancel(),this.completionPromise=null)},t.prototype.cancelTimeout=function(){null!==this.timeout&&(clearTimeout(this.timeout),this.timeout=null)},t}();e.Delayer=d;var c=function(o){function e(e){var i=o.call(this,e)||this;return i.throttler=new r,i}return Z(e,o),e.prototype.trigger=function(e,t){var n=this;return o.prototype.trigger.call(this,function(){return n.throttler.queue(e)},t)},e}(d);e.ThrottledDelayer=c;var p=function(o){function e(e,a){void 0===a&&(a=0);var n=o.call(this,e)||this;return n.minimumPeriod=a,n.periodThrottler=new r,n}return Z(e,o),e.prototype.trigger=function(e,t){var n=this;return o.prototype.trigger.call(this,function(){return n.periodThrottler.queue(function(){return E.Promise.join([E.TPromise.timeout(n.minimumPeriod),e()]).then(function(t){return t[1]})})},t)},e}(c);e.PeriodThrottledDelayer=p;var u=function(){function t(){var o=this;this._value=new E.TPromise(function(e,t){o._completeCallback=e,o._errorCallback=t})}return Object.defineProperty(t.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),t.prototype.complete=function(t){this._completeCallback(t)},t.prototype.error=function(t){this._errorCallback(t)},t}();e.PromiseSource=u;var g=function(n){function e(e){var a=this,s,i,o;return a=n.call(this,function(r,e,t){s=r,i=e,o=t},function(){i(t.canceled())})||this,e.then(s,i,o),a}return Z(e,n),e}(E.TPromise);e.ShallowCancelThenPromise=g,e.always=s,e.sequence=function(o){function a(){return o.length?o.pop()():null}function t(o){void 0!==o&&null!==o&&n.push(o);var e=a();return e?e.then(t):E.TPromise.as(n)}var n=[];return o=o.reverse(),E.TPromise.as(null).then(t)},e.first=function(o,i){void 0===i&&(i=function(t){return!!t}),o=o.reverse().slice();var t=function(){return 0===o.length?E.TPromise.as(null):o.pop()().then(function(o){return i(o)?E.TPromise.as(o):t()})};return t()};var m=function(){function t(t){this.maxDegreeOfParalellism=t,this.outstandingPromises=[],this.runningPromises=0,this._onFinished=new i.Emitter}return Object.defineProperty(t.prototype,"onFinished",{get:function(){return this._onFinished.event},enumerable:!0,configurable:!0}),t.prototype.queue=function(r){var a=this;return new E.TPromise(function(t,s,d){a.outstandingPromises.push({factory:r,c:t,e:s,p:d}),a.consume()})},t.prototype.consume=function(){for(var o=this,e;this.outstandingPromises.length&&this.runningPromises<this.maxDegreeOfParalellism;){e=this.outstandingPromises.shift(),this.runningPromises++;var t=e.factory();t.done(e.c,e.e,e.p),t.done(function(){return o.consumed()},function(){return o.consumed()})}},t.prototype.consumed=function(){this.runningPromises--,0<this.outstandingPromises.length?this.consume():this._onFinished.fire()},t.prototype.dispose=function(){this._onFinished.dispose()},t}();e.Limiter=m;var h=function(o){function e(){return o.call(this,1)||this}return Z(e,o),e}(m);e.Queue=h,e.setDisposableTimeout=function(r,e){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];var i=setTimeout.apply(void 0,[r,e].concat(t));return{dispose:function(){clearTimeout(i)}}};var _=function(o){function e(){var e=o.call(this)||this;return e._token=-1,e}return Z(e,o),e.prototype.dispose=function(){this.cancel(),o.prototype.dispose.call(this)},e.prototype.cancel=function(){-1!==this._token&&(S.clearTimeout(this._token),this._token=-1)},e.prototype.cancelAndSet=function(o,e){var t=this;this.cancel(),this._token=S.setTimeout(function(){t._token=-1,o()},e)},e.prototype.setIfNotSet=function(o,e){var t=this;-1===this._token&&(this._token=S.setTimeout(function(){t._token=-1,o()},e))},e}(n.Disposable);e.TimeoutTimer=_;var y=function(o){function e(){var e=o.call(this)||this;return e._token=-1,e}return Z(e,o),e.prototype.dispose=function(){this.cancel(),o.prototype.dispose.call(this)},e.prototype.cancel=function(){-1!==this._token&&(S.clearInterval(this._token),this._token=-1)},e.prototype.cancelAndSet=function(o,e){this.cancel(),this._token=S.setInterval(function(){o()},e)},e}(n.Disposable);e.IntervalTimer=y;var C=function(){function t(o,n){this.timeoutToken=-1,this.runner=o,this.timeout=n,this.timeoutHandler=this.onTimeout.bind(this)}return t.prototype.dispose=function(){this.cancel(),this.runner=null},t.prototype.cancel=function(){this.isScheduled()&&(S.clearTimeout(this.timeoutToken),this.timeoutToken=-1)},t.prototype.setRunner=function(t){this.runner=t},t.prototype.schedule=function(t){void 0===t&&(t=this.timeout),this.cancel(),this.timeoutToken=S.setTimeout(this.timeoutHandler,t)},t.prototype.isScheduled=function(){return-1!==this.timeoutToken},t.prototype.onTimeout=function(){this.timeoutToken=-1,this.runner&&this.runner()},t}();e.RunOnceScheduler=C,e.nfcall=function(o){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return new E.TPromise(function(r,n){return o.apply(void 0,e.concat([function(o,e){return o?n(o):r(e)}]))},function(){return null})},e.ninvoke=function(r,e){for(var t=[],o=2;o<arguments.length;o++)t[o-2]=arguments[o];return new E.TPromise(function(n,i){return e.call.apply(e,[r].concat(t,[function(o,e){return o?i(o):n(e)}]))},function(){return null})}}),define(s[38],n([1,0,10]),function(d,e,t){"use strict";function n(o){try{return o()}catch(o){t.onUnexpectedError(o)}}function l(o,e){try{return o(e)}catch(o){t.onUnexpectedError(o)}}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){return function(o,e){void 0===o&&(o=null),void 0===e&&(e=null),this.type=o,this.data=e}}();e.EmitterEvent=o;var i=function(){function t(o){if(void 0===o&&(o=null),this._listeners={},this._bulkListeners=[],this._collectedEvents=[],this._deferredCnt=0,o){this._allowedEventTypes={};for(var n=0;n<o.length;n++)this._allowedEventTypes[o[n]]=!0}else this._allowedEventTypes=null}return t.prototype.dispose=function(){this._listeners={},this._bulkListeners=[],this._collectedEvents=[],this._deferredCnt=0,this._allowedEventTypes=null},t.prototype.addListener=function(o,e){if("*"===o)throw new Error("Use addBulkListener(listener) to register your listener!");if(this._allowedEventTypes&&!this._allowedEventTypes.hasOwnProperty(o))throw new Error("This object will never emit this event type!");this._listeners.hasOwnProperty(o)?this._listeners[o].push(e):this._listeners[o]=[e];var t=this;return{dispose:function(){t&&(t._removeListener(o,e),t=null,e=null)}}},t.prototype.addOneTimeListener=function(o,i){var t=this.addListener(o,function(o){t.dispose(),i(o)});return t},t.prototype.addBulkListener=function(o){var e=this;return this._bulkListeners.push(o),{dispose:function(){e._removeBulkListener(o)}}},t.prototype.addEmitter=function(o){var n=this;return o.addBulkListener(function(t){0===n._deferredCnt?n._emitEvents(t):n._collectedEvents.push.apply(n._collectedEvents,t)})},t.prototype._removeListener=function(r,e){if(this._listeners.hasOwnProperty(r))for(var t=this._listeners[r],n=0,i=t.length;n<i;n++)if(t[n]===e){t.splice(n,1);break}},t.prototype._removeBulkListener=function(o){for(var e=0,t=this._bulkListeners.length;e<t;e++)if(this._bulkListeners[e]===o){this._bulkListeners.splice(e,1);break}},t.prototype._emitToSpecificTypeListeners=function(o,e){if(this._listeners.hasOwnProperty(o))for(var t=this._listeners[o].slice(0),n=0,i=t.length;n<i;n++)l(t[n],e)},t.prototype._emitToBulkListeners=function(o){for(var e=this._bulkListeners.slice(0),t=0,n=e.length;t<n;t++)l(e[t],o)},t.prototype._emitEvents=function(o){0<this._bulkListeners.length&&this._emitToBulkListeners(o);for(var e=0,t=o.length,n;e<t;e++)n=o[e],this._emitToSpecificTypeListeners(n.type,n.data)},t.prototype.emit=function(i,e){if(void 0===e&&(e={}),this._allowedEventTypes&&!this._allowedEventTypes.hasOwnProperty(i))throw new Error("Cannot emit this event type because it wasn't listed!");if(this._listeners.hasOwnProperty(i)||0!==this._bulkListeners.length){var t=new o(i,e);0===this._deferredCnt?this._emitEvents([t]):this._collectedEvents.push(t)}},t.prototype.beginDeferredEmit=function(){++this._deferredCnt},t.prototype.endDeferredEmit=function(){--this._deferredCnt,0===this._deferredCnt&&this._emitCollected()},t.prototype.deferredEmit=function(o){this.beginDeferredEmit();var e=n(o);return this.endDeferredEmit(),e},t.prototype._emitCollected=function(){if(0!==this._collectedEvents.length){var t=this._collectedEvents;this._collectedEvents=[],this._emitEvents(t)}},t}();e.EventEmitter=i;var r=function(){return function(o,e){this.target=o,this.arg=e}}(),a=function(o){function e(){var e=o.call(this,null)||this;return e._emitQueue=[],e}return Z(e,o),e.prototype._emitToSpecificTypeListeners=function(a,e){if(this._listeners.hasOwnProperty(a))for(var t=this._listeners[a],n=0,i=t.length;n<i;n++)this._emitQueue.push(new r(t[n],e))},e.prototype._emitToBulkListeners=function(o){for(var e=this._bulkListeners,t=0,n=e.length;t<n;t++)this._emitQueue.push(new r(e[t],o))},e.prototype._emitEvents=function(e){for(o.prototype._emitEvents.call(this,e);0<this._emitQueue.length;){var t=this._emitQueue.shift();l(t.target,t.arg)}},e}(i);e.OrderGuaranteeEventEmitter=a}),define(s[4],n([1,0,7,18,10,38,3,29,28,65,47]),function(f,k,e,W,t,B,o,i,n,r,a){"use strict";function V(o,e,t,n){return new S(o,e,t,n)}function s(o){return function(e){return o(new a.StandardMouseEvent(e))}}function d(o){return function(e){return o(new r.StandardKeyboardEvent(e))}}function l(t){return document.defaultView.getComputedStyle(t,null)}function p(r,e,t){var n=l(r),i="0";return n&&(i=n.getPropertyValue?n.getPropertyValue(e):n.getAttribute(t)),N(r,i)}function c(r){for(var e=r.offsetParent,t=r.offsetTop,a=r.offsetLeft;null!==(r=r.parentNode)&&r!==document.body&&r!==document.documentElement;){t-=r.scrollTop;var s=l(r);s&&(a-="rtl"===s.direction?-r.scrollLeft:r.scrollLeft),r===e&&(a+=T.getBorderLeftWidth(r),t+=T.getBorderTopWidth(r),t+=r.offsetTop,a+=r.offsetLeft,e=r.offsetParent)}return{left:a,top:t}}function u(o){var e=T.getMarginLeft(o)+T.getMarginRight(o);return o.offsetWidth+e}function g(o){var e=T.getMarginLeft(o)+T.getMarginRight(o);return o.scrollWidth+e}function m(o,e){if(null===o)return 0;var t=c(o),n=c(e);return t.left-n.left}function h(o){void 0===o&&(o=document.getElementsByTagName("head")[0]);var e=document.createElement("style");return e.type="text/css",e.media="screen",o.appendChild(e),e}function _(t){return t&&t.sheet&&t.sheet.rules?t.sheet.rules:t&&t.sheet&&t.sheet.cssRules?t.sheet.cssRules:[]}function y(o,e){for(;o;){if(o instanceof HTMLElement&&o.hasAttribute(e))return o;o=o.parentNode}return null}Object.defineProperty(k,"__esModule",{value:!0}),k.clearNode=function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},k.safeStringifyDOMAware=function(o){var e=[];return JSON.stringify(o,function(t,o){if(o instanceof Element)return"[Element]";if(i.isObject(o)||Array.isArray(o)){if(-1!==e.indexOf(o))return"[Circular]";e.push(o)}return o})},k.isInDOM=function(t){for(;t;){if(t===document.body)return!0;t=t.parentNode}return!1};var C=new(function(){function t(){}return t.prototype._findClassName=function(a,e){var t=a.className;if(t){e=e.trim();var n=t.length,i=e.length;if(!(0!==i))this._lastStart=-1;else if(n<i)this._lastStart=-1;else{if(t===e)return this._lastStart=0,void(this._lastEnd=n);for(var o=-1,s;0<=(o=t.indexOf(e,o+1));){if(s=o+i,(0===o||32===t.charCodeAt(o-1))&&32===t.charCodeAt(s))return this._lastStart=o,void(this._lastEnd=s+1);if(0<o&&32===t.charCodeAt(o-1)&&s===n)return this._lastStart=o-1,void(this._lastEnd=s);if(0===o&&s===n)return this._lastStart=0,void(this._lastEnd=s)}this._lastStart=-1}}else this._lastStart=-1},t.prototype.hasClass=function(o,e){return this._findClassName(o,e),-1!==this._lastStart},t.prototype.addClass=function(o,e){o.className?(this._findClassName(o,e),-1===this._lastStart&&(o.className=o.className+" "+e)):o.className=e},t.prototype.removeClass=function(o,e){this._findClassName(o,e),-1!==this._lastStart&&(o.className=o.className.substring(0,this._lastStart)+o.className.substring(this._lastEnd))},t.prototype.toggleClass=function(o,e,t){this._findClassName(o,e),-1===this._lastStart||void 0!==t&&t||this.removeClass(o,e),-1===this._lastStart&&(void 0===t||t)&&this.addClass(o,e)},t}()),b=new(function(){function t(){}return t.prototype.hasClass=function(o,e){return e&&o.classList&&o.classList.contains(e)},t.prototype.addClass=function(o,e){e&&o.classList&&o.classList.add(e)},t.prototype.removeClass=function(o,e){e&&o.classList&&o.classList.remove(e)},t.prototype.toggleClass=function(o,e,t){o.classList&&o.classList.toggle(e,t)},t}()),v=n.isIE?C:b;k.hasClass=v.hasClass.bind(v),k.addClass=v.addClass.bind(v),k.removeClass=v.removeClass.bind(v),k.toggleClass=v.toggleClass.bind(v);var S=function(){function t(o,r,t,n){this._node=o,this._type=r,this._handler=t,this._useCapture=n||!1,this._node.addEventListener(this._type,this._handler,this._useCapture)}return t.prototype.dispose=function(){this._handler&&(this._node.removeEventListener(this._type,this._handler,this._useCapture),this._node=null,this._handler=null)},t}();k.addDisposableListener=V,k.addStandardDisposableListener=function(r,e,t,n){var i=t;return"click"===e||"mousedown"===e?i=s(t):"keydown"!==e&&"keypress"!==e&&"keyup"!==e||(i=d(t)),V(r,e,i,n)},k.addDisposableNonBubblingMouseOutListener=function(o,e){return V(o,"mouseout",function(t){for(var n=t.relatedTarget||t.toElement;n&&n!==o;)n=n.parentNode;n!==o&&e(t)})};var E=function(){var n=self.requestAnimationFrame||self.msRequestAnimationFrame||self.webkitRequestAnimationFrame||self.mozRequestAnimationFrame||self.oRequestAnimationFrame,r=self.cancelAnimationFrame||self.cancelRequestAnimationFrame||self.msCancelAnimationFrame||self.msCancelRequestAnimationFrame||self.webkitCancelAnimationFrame||self.webkitCancelRequestAnimationFrame||self.mozCancelAnimationFrame||self.mozCancelRequestAnimationFrame||self.oCancelAnimationFrame||self.oCancelRequestAnimationFrame,t=n||function(t){return setTimeout(function(){return t(new Date().getTime())},0)},i=r||function(){};return{isNative:!!n,request:function(o){return t(o)},cancel:function(t){return i(t)}}}(),L=function(){function o(o,n){this._runner=o,this.priority=n,this._canceled=!1}return o.prototype.dispose=function(){this._canceled=!0},o.prototype.execute=function(){if(!this._canceled)try{this._runner()}catch(o){t.onUnexpectedError(o)}},o.sort=function(o,e){return e.priority-o.priority},o}();!function(){var a=[],t=null,e=!1,n=!1,i=function(){for(e=!1,t=a,a=[],n=!0;0<t.length;)t.sort(L.sort),t.shift().execute();n=!1};k.scheduleAtNextAnimationFrame=function(r,t){void 0===t&&(t=0);var n=new L(r,t);return a.push(n),e||(e=!0,E.request(i)),n},k.runAtThisOrScheduleAtNextAnimationFrame=function(o,e){if(n){var i=new L(o,e);return t.push(i),i}return k.scheduleAtNextAnimationFrame(o,e)}}();var w=function(o,e){return e},x=function(i){function e(e,d,n,o,r){void 0===o&&(o=w),void 0===r&&(r=16);var s=i.call(this)||this,a=null,p=0,l=s._register(new W.TimeoutTimer),c=function(){p=new Date().getTime(),n(a),a=null};return s._register(V(e,d,function(n){a=o(a,n);var e=new Date().getTime()-p;e>=r?(l.cancel(),c()):l.setIfNotSet(c,r-e)})),s}return Z(e,i),e}(o.Disposable);k.addDisposableThrottledListener=function(r,e,t,n,i){return new x(r,e,t,n,i)},k.getComputedStyle=l;var N=function(o,e){return parseFloat(e)||0},T={getBorderLeftWidth:function(t){return p(t,"border-left-width","borderLeftWidth")},getBorderTopWidth:function(t){return p(t,"border-top-width","borderTopWidth")},getBorderRightWidth:function(t){return p(t,"border-right-width","borderRightWidth")},getBorderBottomWidth:function(t){return p(t,"border-bottom-width","borderBottomWidth")},getPaddingLeft:function(t){return p(t,"padding-left","paddingLeft")},getPaddingTop:function(t){return p(t,"padding-top","paddingTop")},getPaddingRight:function(t){return p(t,"padding-right","paddingRight")},getPaddingBottom:function(t){return p(t,"padding-bottom","paddingBottom")},getMarginLeft:function(t){return p(t,"margin-left","marginLeft")},getMarginTop:function(t){return p(t,"margin-top","marginTop")},getMarginRight:function(t){return p(t,"margin-right","marginRight")},getMarginBottom:function(t){return p(t,"margin-bottom","marginBottom")},__commaSentinel:!1};k.getTopLeftOffset=c,k.getDomNodePagePosition=function(t){var e=t.getBoundingClientRect();return{left:e.left+k.StandardWindow.scrollX,top:e.top+k.StandardWindow.scrollY,width:e.width,height:e.height}},k.StandardWindow=new(function(){function t(){}return Object.defineProperty(t.prototype,"scrollX",{get:function(){return"number"==typeof window.scrollX?window.scrollX:document.body.scrollLeft+document.documentElement.scrollLeft},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scrollY",{get:function(){return"number"==typeof window.scrollY?window.scrollY:document.body.scrollTop+document.documentElement.scrollTop},enumerable:!0,configurable:!0}),t}()),k.getContentWidth=function(o){var e=T.getBorderLeftWidth(o)+T.getBorderRightWidth(o),t=T.getPaddingLeft(o)+T.getPaddingRight(o);return o.offsetWidth-e-t},k.getTotalWidth=u,k.getTotalScrollWidth=g,k.getContentHeight=function(o){var e=T.getBorderTopWidth(o)+T.getBorderBottomWidth(o),t=T.getPaddingTop(o)+T.getPaddingBottom(o);return o.offsetHeight-e-t},k.getTotalHeight=function(o){var e=T.getMarginTop(o)+T.getMarginBottom(o);return o.offsetHeight+e},k.getLargestChildWidth=function(o,e){var t=e.map(function(e){return G(g(e),u(e))+m(e,o)||0});return G.apply(Math,t)},k.isAncestor=function(o,e){for(;o;){if(o===e)return!0;o=o.parentNode}return!1},k.findParentWithClass=function(t,e,o){for(;t;){if(k.hasClass(t,e))return t;if(o&&k.hasClass(t,o))return null;t=t.parentNode}return null},k.createStyleSheet=h;var I=h();k.createCSSRule=function(o,e,t){void 0===t&&(t=I),t&&e&&t.sheet.insertRule(o+"{"+e+"}",0)},k.getCSSRule=function(r,e){if(void 0===e&&(e=I),!e)return null;for(var a=_(e),n=0,i;n<a.length;n++)if(i=a[n],i.selectorText.replace(/::/gi,":")===r)return i;return null},k.removeCSSRulesContainingSelector=function(r,e){if(void 0===e&&(e=I),e){for(var t=_(e),n=[],i=0;i<t.length;i++)-1!==t[i].selectorText.indexOf(r)&&n.push(i);for(i=n.length-1;0<=i;i--)e.sheet.deleteRule(n[i])}},k.isHTMLElement=function(t){return"object"==typeof HTMLElement?t instanceof HTMLElement:t&&"object"==typeof t&&1===t.nodeType&&"string"==typeof t.nodeName},k.EventType={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",UNLOAD:"unload",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:n.isWebKit?"webkitAnimationStart":"animationstart",ANIMATION_END:n.isWebKit?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:n.isWebKit?"webkitAnimationIteration":"animationiteration"},k.EventHelper={stop:function(o,e){o.preventDefault?o.preventDefault():o.returnValue=!1,e&&(o.stopPropagation?o.stopPropagation():o.cancelBubble=!0)}},k.saveParentsScrollTop=function(o){for(var e=[],t=0;o&&o.nodeType===o.ELEMENT_NODE;t++)e[t]=o.scrollTop,o=o.parentNode;return e},k.restoreParentsScrollTop=function(o,e){for(var t=0;o&&o.nodeType===o.ELEMENT_NODE;t++)o.scrollTop!==e[t]&&(o.scrollTop=e[t]),o=o.parentNode};var D=function(t){function e(e){var r=t.call(this)||this,i=!1,o=!1;return r._eventEmitter=r._register(new B.EventEmitter),r._register(V(e,k.EventType.FOCUS,function(){o=!1,i||(i=!0,r._eventEmitter.emit("focus",{}))},!0)),r._register(V(e,k.EventType.BLUR,function(){i&&(o=!0,window.setTimeout(function(){o&&(o=!1,i=!1,r._eventEmitter.emit("blur",{}))},0))},!0)),r}return Z(e,t),e.prototype.addFocusListener=function(t){return this._eventEmitter.addListener("focus",t)},e.prototype.addBlurListener=function(t){return this._eventEmitter.addListener("blur",t)},e}(o.Disposable);k.trackFocus=function(t){return new D(t)},k.append=function(o){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return e.forEach(function(e){return o.appendChild(e)}),e[e.length-1]},k.prepend=function(o,e){return o.insertBefore(e,o.firstChild),e};var R=/([\w\-]+)?(#([\w\-]+))?((.([\w\-]+))*)/;k.$=function(a,s){for(var e=[],t=2;t<arguments.length;t++)e[t-2]=arguments[t];var n=R.exec(a);if(!n)throw new Error("Bad use of emmet");var i=document.createElement(n[1]||"div");return n[3]&&(i.id=n[3]),n[4]&&(i.className=n[4].replace(/\./g," ").trim()),Object.keys(s||{}).forEach(function(t){/^on\w+$/.test(t)?i[t]=s[t]:"selected"===t?s[t]&&i.setAttribute(t,"true"):i.setAttribute(t,s[t])}),e.filter(function(t){return!!t}).forEach(function(t){t instanceof Node?i.appendChild(t):i.appendChild(document.createTextNode(t))}),i},k.join=function(o,r){var t=[];return o.forEach(function(o,e){0<e&&(r instanceof Node?t.push(r.cloneNode()):t.push(document.createTextNode(r))),t.push(o)}),t},k.show=function(){for(var o=[],e=0;e<arguments.length;e++)o[e]=arguments[e];for(var t=0,n=o;t<n.length;t++)n[t].style.display=""},k.hide=function(){for(var o=[],e=0;e<arguments.length;e++)o[e]=arguments[e];for(var t=0,n=o;t<n.length;t++)n[t].style.display="none"},k.removeTabIndexAndUpdateFocus=function(o){if(o&&o.hasAttribute("tabIndex")){if(document.activeElement===o){var e=y(o.parentElement,"tabIndex");e&&e.focus()}o.removeAttribute("tabindex")}},k.getElementsByTagName=function(t){return Array.prototype.slice.call(document.getElementsByTagName(t),0)},k.finalHandler=function(o){return function(e){e.preventDefault(),e.stopPropagation(),o(e)}},k.domContentLoaded=function(){return new e.TPromise(function(t){"complete"===document.readyState||document&&null!==document.body?window.setImmediate(t):window.addEventListener("DOMContentLoaded",t,!1)})},k.computeScreenAwareSize=function(o){var e=window.devicePixelRatio*o;return G(1,M(e))/window.devicePixelRatio},k.windowOpenNoOpener=function(o){var e=window.open();e&&(e.opener=null,e.location.href=o)}}),define(s[27],n([1,0,4]),function(o,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function t(t){this.domNode=t,this._maxWidth=-1,this._width=-1,this._height=-1,this._top=-1,this._left=-1,this._bottom=-1,this._right=-1,this._fontFamily="",this._fontWeight="",this._fontSize=-1,this._lineHeight=-1,this._letterSpacing=-100,this._className="",this._display="",this._position="",this._visibility="",this._layerHint=!1}return t.prototype.setMaxWidth=function(t){this._maxWidth!==t&&(this._maxWidth=t,this.domNode.style.maxWidth=this._maxWidth+"px")},t.prototype.setWidth=function(t){this._width!==t&&(this._width=t,this.domNode.style.width=this._width+"px")},t.prototype.unsetWidth=function(){-1!==this._width&&(this._width=-1,this.domNode.style.width="")},t.prototype.setHeight=function(t){this._height!==t&&(this._height=t,this.domNode.style.height=this._height+"px")},t.prototype.unsetHeight=function(){-1!==this._height&&(this._height=-1,this.domNode.style.height="")},t.prototype.setTop=function(t){this._top!==t&&(this._top=t,this.domNode.style.top=this._top+"px")},t.prototype.unsetTop=function(){-1!==this._top&&(this._top=-1,this.domNode.style.top="")},t.prototype.setLeft=function(t){this._left!==t&&(this._left=t,this.domNode.style.left=this._left+"px")},t.prototype.setBottom=function(t){this._bottom!==t&&(this._bottom=t,this.domNode.style.bottom=this._bottom+"px")},t.prototype.setRight=function(t){this._right!==t&&(this._right=t,this.domNode.style.right=this._right+"px")},t.prototype.setFontFamily=function(t){this._fontFamily!==t&&(this._fontFamily=t,this.domNode.style.fontFamily=this._fontFamily)},t.prototype.setFontWeight=function(t){this._fontWeight!==t&&(this._fontWeight=t,this.domNode.style.fontWeight=this._fontWeight)},t.prototype.setFontSize=function(t){this._fontSize!==t&&(this._fontSize=t,this.domNode.style.fontSize=this._fontSize+"px")},t.prototype.setLineHeight=function(t){this._lineHeight!==t&&(this._lineHeight=t,this.domNode.style.lineHeight=this._lineHeight+"px")},t.prototype.setLetterSpacing=function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.domNode.style.letterSpacing=this._letterSpacing+"px")},t.prototype.setClassName=function(t){this._className!==t&&(this._className=t,this.domNode.className=this._className)},t.prototype.toggleClassName=function(o,e){r.toggleClass(this.domNode,o,e),this._className=this.domNode.className},t.prototype.addClassName=function(t){r.addClass(this.domNode,t),this._className=this.domNode.className},t.prototype.removeClassName=function(t){r.removeClass(this.domNode,t),this._className=this.domNode.className},t.prototype.setDisplay=function(t){this._display!==t&&(this._display=t,this.domNode.style.display=this._display)},t.prototype.setPosition=function(t){this._position!==t&&(this._position=t,this.domNode.style.position=this._position)},t.prototype.setVisibility=function(t){this._visibility!==t&&(this._visibility=t,this.domNode.style.visibility=this._visibility)},t.prototype.setLayerHinting=function(t){this._layerHint!==t&&(this._layerHint=t,this.domNode.style.willChange=this._layerHint?"transform":"auto")},t.prototype.setAttribute=function(o,e){this.domNode.setAttribute(o,e)},t.prototype.getAttribute=function(t){return this.domNode.getAttribute(t)},t.prototype.removeAttribute=function(t){this.domNode.removeAttribute(t)},t.prototype.hasAttribute=function(t){return this.domNode.hasAttribute(t)},t.prototype.appendChild=function(t){this.domNode.appendChild(t.domNode)},t.prototype.removeChild=function(t){this.domNode.removeChild(t.domNode)},t}();e.FastDomNode=t,e.createFastDomNode=function(o){return new t(o)}}),define(s[83],n([1,0,3,4,148,47]),function(a,e,d,t,i,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.standardMouseMoveMerger=function(i,e){var t=new o.StandardMouseEvent(e);return t.preventDefault(),{leftButton:t.leftButton,posx:t.posx,posy:t.posy}};var n=function(n){function e(){var e=n.call(this)||this;return e.hooks=[],e.mouseMoveEventMerger=null,e.mouseMoveCallback=null,e.onStopCallback=null,e}return Z(e,n),e.prototype.dispose=function(){this.stopMonitoring(!1),n.prototype.dispose.call(this)},e.prototype.stopMonitoring=function(o){if(this.isMonitoring()){this.hooks=d.dispose(this.hooks),this.mouseMoveEventMerger=null,this.mouseMoveCallback=null;var e=this.onStopCallback;this.onStopCallback=null,o&&e()}},e.prototype.isMonitoring=function(){return 0<this.hooks.length},e.prototype.startMonitoring=function(r,e,d){var n=this;if(!this.isMonitoring()){this.mouseMoveEventMerger=r,this.mouseMoveCallback=e,this.onStopCallback=d;for(var s=i.IframeUtils.getSameOriginWindowChain(),a=0;a<s.length;a++)this.hooks.push(t.addDisposableThrottledListener(s[a].window.document,"mousemove",function(t){return n.mouseMoveCallback(t)},function(o,e){return n.mouseMoveEventMerger(o,e)})),this.hooks.push(t.addDisposableListener(s[a].window.document,"mouseup",function(){return n.stopMonitoring(!0)}));if(i.IframeUtils.hasDifferentOriginAncestor()){var p=s[s.length-1];this.hooks.push(t.addDisposableListener(p.window.document,"mouseout",function(t){"html"===new o.StandardMouseEvent(t).target.tagName.toLowerCase()&&n.stopMonitoring(!0)})),this.hooks.push(t.addDisposableListener(p.window.document,"mouseover",function(t){"html"===new o.StandardMouseEvent(t).target.tagName.toLowerCase()&&n.stopMonitoring(!0)})),this.hooks.push(t.addDisposableListener(p.window.document.body,"mouseleave",function(){n.stopMonitoring(!0)}))}}},e}(d.Disposable);e.GlobalMouseMoveMonitor=n}),define(s[102],n([1,0,4,108,9,7,133,209]),function(m,e,_,t,n,o,i,r){"use strict";function a(o){var e=o.inline?"span":"div",t=document.createElement(e);return o.className&&(t.className=o.className),t}function s(s,p){void 0===p&&(p={});var u=a(p),c=(p.codeBlockRenderer,p.actionCallback,new o.TPromise(function(t){return d=t})),e=new r.marked.Renderer,d;return e.image=function(p,e,t){var n=[];if(p){var i=p.split("|").map(function(t){return t.trim()});p=i[0];var o=i[1];if(o){var r=/height=(\d+)/.exec(o),s=/width=(\d+)/.exec(o),a=r&&r[1],u=s&&s[1],l=isFinite(parseInt(u)),c=isFinite(parseInt(a));l&&n.push("width=\""+u+"\""),c&&n.push("height=\""+a+"\"")}}var d=[];return p&&d.push("src=\""+p+"\""),t&&d.push("alt=\""+t+"\""),e&&d.push("title=\""+e+"\""),n.length&&(d=d.concat(n)),"<img "+d.join(" ")+">"},e.link=function(o,e,t){return o===t&&(t=i.removeMarkdownEscapes(t)),e=i.removeMarkdownEscapes(e),!(o=i.removeMarkdownEscapes(o))||o.match(/^data:|javascript:/i)?t:"<a href=\"#\" data-href=\""+o+"\" title=\""+(e||t)+"\">"+t+"</a>"},e.paragraph=function(t){return"<p>"+t+"</p>"},p.codeBlockRenderer&&(e.code=function(i,e){var r=p.codeBlockRenderer(e,i);if("string"==typeof r)return r;if(o.TPromise.is(r)){var d=t.defaultGenerator.nextId();return o.TPromise.join([r,c]).done(function(o){var e=o[0],t=u.querySelector("div[data-code=\""+d+"\"]");t&&(t.innerHTML=e)},function(){}),"<div class=\"code\" data-code=\""+d+"\">"+n.escape(i)+"</div>"}return i}),p.actionCallback&&_.addStandardDisposableListener(u,"click",function(t){if("A"===t.target.tagName){var e=t.target.dataset.href;e&&p.actionCallback(e,t)}}),u.innerHTML=r.marked(s,{sanitize:!0,renderer:e}),d(),u}function l(n,a,t){var i;if(2===a.type)i=document.createTextNode(a.content);else if(3===a.type)i=document.createElement("b");else if(4===a.type)i=document.createElement("i");else if(5===a.type){var e=document.createElement("a");e.href="#",_.addStandardDisposableListener(e,"click",function(o){t(a.index+"",o)}),i=e}else 7===a.type?i=document.createElement("br"):1===a.type&&(i=n);n!==i&&n.appendChild(i),Array.isArray(a.children)&&a.children.forEach(function(o){l(i,o,t)})}function c(g){for(var e={type:1,children:[]},t=0,n=e,i=[],o=new p(g);!o.eos();){var r=o.next(),m="\\"===r&&0!==h(o.peek());if(m&&(r=o.next()),!m&&d(r)&&r===o.peek()){o.advance(),2===n.type&&(n=i.pop());var _=h(r);if(n.type===_||5===n.type&&6===_)n=i.pop();else{var f={type:_,children:[]};5===_&&(f.index=t,t++),n.children.push(f),i.push(n),n=f}}else if("\n"===r)2===n.type&&(n=i.pop()),n.children.push({type:7});else if(2!==n.type){var l={type:2,content:r};n.children.push(l),i.push(n),n=l}else n.content+=r}return 2===n.type&&(n=i.pop()),i.length,e}function d(t){return 0!==h(t)}function h(t){return"*"===t?3:"_"===t?4:"["===t?5:"]"===t?6:0}Object.defineProperty(e,"__esModule",{value:!0}),e.renderMarkedString=function(o,i){void 0===i&&(i={});var t;return t="string"==typeof o?o:"```"+o.language+"\n"+o.value+"\n```",s(t,i)},e.renderText=function(o,e){void 0===e&&(e={});var t=a(e);return t.textContent=o,t},e.renderFormattedText=function(o,e){void 0===e&&(e={});var t=a(e);return l(t,c(o),e.actionCallback),t},e.renderMarkdown=s;var p=function(){function t(t){this.source=t,this.index=0}return t.prototype.eos=function(){return this.index>=this.source.length},t.prototype.next=function(){var t=this.peek();return this.advance(),t},t.prototype.peek=function(){return this.source[this.index]},t.prototype.advance=function(){this.index++},t}(),u;!function(t){t[t.Invalid=0]="Invalid",t[t.Root=1]="Root",t[t.Text=2]="Text",t[t.Bold=3]="Bold",t[t.Italics=4]="Italics",t[t.Action=5]="Action",t[t.ActionClose=6]="ActionClose",t[t.NewLine=7]="NewLine"}(u||(u={}))}),define(s[74],n([1,0,33,3,4]),function(a,e,t,n,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var _;!function(t){t.Tap="-monaco-gesturetap",t.Change="-monaco-gesturechange",t.Start="-monaco-gesturestart",t.End="-monaco-gesturesend",t.Contextmenu="-monaco-gesturecontextmenu"}(_=e.EventType||(e.EventType={}));var o=function(){function r(t){this.callOnTarget=[],this.activeTouches={},this.target=t,this.handle=null}return r.prototype.dispose=function(){this.target=null,this.handle&&(this.handle.dispose(),this.handle=null)},Object.defineProperty(r.prototype,"target",{set:function(o){var i=this;this.callOnTarget=n.dispose(this.callOnTarget),this.activeTouches={},this.targetElement=o,this.targetElement&&(this.callOnTarget.push(d.addDisposableListener(this.targetElement,"touchstart",function(t){return i.onTouchStart(t)})),this.callOnTarget.push(d.addDisposableListener(this.targetElement,"touchend",function(t){return i.onTouchEnd(t)})),this.callOnTarget.push(d.addDisposableListener(this.targetElement,"touchmove",function(t){return i.onTouchMove(t)})))},enumerable:!0,configurable:!0}),r.newGestureEvent=function(o){var e=document.createEvent("CustomEvent");return e.initEvent(o,!1,!0),e},r.prototype.onTouchStart=function(e){var t=Date.now();e.preventDefault(),this.handle&&(this.handle.dispose(),this.handle=null);for(var d=0,i=e.targetTouches.length,o;d<i;d++){o=e.targetTouches.item(d),this.activeTouches[o.identifier]={id:o.identifier,initialTarget:o.target,initialTimeStamp:t,initialPageX:o.pageX,initialPageY:o.pageY,rollingTimestamps:[t],rollingPageX:[o.pageX],rollingPageY:[o.pageY]};var s=r.newGestureEvent(_.Start);s.pageX=o.pageX,s.pageY=o.pageY,this.targetElement.dispatchEvent(s)}},r.prototype.onTouchEnd=function(e){var n=Date.now();e.preventDefault(),e.stopPropagation();for(var i=Object.keys(this.activeTouches).length,o=0,s=e.changedTouches.length,a;o<s;o++)if(a=e.changedTouches.item(o),this.activeTouches.hasOwnProperty(a.identifier+"")){var u=this.activeTouches[a.identifier],l=Date.now()-u.initialTimeStamp;if(l<r.HOLD_DELAY&&30>I(u.initialPageX-t.tail(u.rollingPageX))&&30>I(u.initialPageY-t.tail(u.rollingPageY)))(c=r.newGestureEvent(_.Tap)).initialTarget=u.initialTarget,c.pageX=t.tail(u.rollingPageX),c.pageY=t.tail(u.rollingPageY),this.targetElement.dispatchEvent(c);else if(l>=r.HOLD_DELAY&&30>I(u.initialPageX-t.tail(u.rollingPageX))&&30>I(u.initialPageY-t.tail(u.rollingPageY))){var c=r.newGestureEvent(_.Contextmenu);c.initialTarget=u.initialTarget,c.pageX=t.tail(u.rollingPageX),c.pageY=t.tail(u.rollingPageY),this.targetElement.dispatchEvent(c)}else if(1===i){var d=t.tail(u.rollingPageX),h=t.tail(u.rollingPageY),p=t.tail(u.rollingTimestamps)-u.rollingTimestamps[0],f=d-u.rollingPageX[0],g=h-u.rollingPageY[0];this.inertia(n,I(f)/p,0<f?1:-1,d,I(g)/p,0<g?1:-1,h)}delete this.activeTouches[a.identifier]}else console.warn("move of an UNKNOWN touch",a)},r.prototype.inertia=function(e,t,n,i,s,a,u){var l=this;this.handle=d.scheduleAtNextAnimationFrame(function(){var c=Date.now(),o=c-e,d=0,m=0,p=!0;t+=r.SCROLL_FRICTION*o,s+=r.SCROLL_FRICTION*o,0<t&&(p=!1,d=n*t*o),0<s&&(p=!1,m=a*s*o);var h=r.newGestureEvent(_.Change);h.translationX=d,h.translationY=m,l.targetElement.dispatchEvent(h),p||l.inertia(c,t,n,i+d,s,a,u+m)})},r.prototype.onTouchMove=function(e){var n=Date.now();e.preventDefault(),e.stopPropagation();for(var i=0,o=e.changedTouches.length,s;i<o;i++)if(s=e.changedTouches.item(i),this.activeTouches.hasOwnProperty(s.identifier+"")){var a=this.activeTouches[s.identifier],d=r.newGestureEvent(_.Change);d.translationX=s.pageX-t.tail(a.rollingPageX),d.translationY=s.pageY-t.tail(a.rollingPageY),d.pageX=s.pageX,d.pageY=s.pageY,this.targetElement.dispatchEvent(d),3<a.rollingPageX.length&&(a.rollingPageX.shift(),a.rollingPageY.shift(),a.rollingTimestamps.shift()),a.rollingPageX.push(s.pageX),a.rollingPageY.push(s.pageY),a.rollingTimestamps.push(n)}else console.warn("end of an UNKNOWN touch",s)},r.HOLD_DELAY=700,r.SCROLL_FRICTION=-.005,r}();e.Gesture=o}),define(s[110],n([1,0,9,4,26,512]),function(a,e,d,n,i,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function t(t){this.domNode=document.createElement("span"),this.domNode.className="monaco-highlighted-label",this.didEverRender=!1,t.appendChild(this.domNode)}return Object.defineProperty(t.prototype,"element",{get:function(){return this.domNode},enumerable:!0,configurable:!0}),t.prototype.set=function(o,e){void 0===e&&(e=[]),o||(o=""),this.didEverRender&&this.text===o&&i.equals(this.highlights,e)||(Array.isArray(e)||(e=[]),this.text=o,this.highlights=e,this.render())},t.prototype.render=function(){n.clearNode(this.domNode);for(var i=[],t=0,o=0,r;o<this.highlights.length;o++)(r=this.highlights[o]).end!==r.start&&(t<r.start&&(i.push("<span>"),i.push(l.expand(d.escape(this.text.substring(t,r.start)))),i.push("</span>"),t=r.end),i.push("<span class=\"highlight\">"),i.push(l.expand(d.escape(this.text.substring(r.start,r.end)))),i.push("</span>"),t=r.end);t<this.text.length&&(i.push("<span>"),i.push(l.expand(d.escape(this.text.substring(t)))),i.push("</span>")),this.domNode.innerHTML=i.join(""),this.didEverRender=!0},t.prototype.dispose=function(){this.text=null,this.highlights=null},t}();e.HighlightedLabel=t}),define(s[416],n([1,0,4]),function(r,e,a){"use strict";function n(t){try{t.parentElement.removeChild(t)}catch(t){}}Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function t(t){this.renderers=t,this.cache=Object.create(null)}return t.prototype.alloc=function(o){var n=this.getTemplateCache(o).pop();if(!n){var r=a.$(".monaco-list-row");n={domNode:r,templateId:o,templateData:this.renderers[o].renderTemplate(r)}}return n},t.prototype.release=function(t){t&&this.releaseRow(t)},t.prototype.releaseRow=function(i){var e=i.domNode,t=i.templateId;a.removeClass(e,"scrolling"),n(e),this.getTemplateCache(t).push(i)},t.prototype.getTemplateCache=function(t){return this.cache[t]||(this.cache[t]=[])},t.prototype.garbageCollect=function(){var o=this;this.cache&&Object.keys(this.cache).forEach(function(e){o.cache[e].forEach(function(t){o.renderers[e].disposeTemplate(t.templateData),t.domNode=null,t.templateData=null}),delete o.cache[e]})},t.prototype.dispose=function(){this.garbageCollect(),this.cache=null,this.renderers=null},t}();e.RowCache=t}),define(s[41],n([1,0,3,47,65,4]),function(a,e,t,n,i,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(r){function e(){return null!==r&&r.apply(this,arguments)||this}return Z(e,r),e.prototype.onclick=function(i,r){this._register(o.addDisposableListener(i,o.EventType.CLICK,function(t){return r(new n.StandardMouseEvent(t))}))},e.prototype.onmousedown=function(i,r){this._register(o.addDisposableListener(i,o.EventType.MOUSE_DOWN,function(t){return r(new n.StandardMouseEvent(t))}))},e.prototype.onmouseover=function(i,r){this._register(o.addDisposableListener(i,o.EventType.MOUSE_OVER,function(t){return r(new n.StandardMouseEvent(t))}))},e.prototype.onnonbubblingmouseout=function(i,r){this._register(o.addDisposableNonBubblingMouseOutListener(i,function(t){return r(new n.StandardMouseEvent(t))}))},e.prototype.onkeydown=function(n,r){this._register(o.addDisposableListener(n,o.EventType.KEY_DOWN,function(t){return r(new i.StandardKeyboardEvent(t))}))},e.prototype.onkeyup=function(n,r){this._register(o.addDisposableListener(n,o.EventType.KEY_UP,function(t){return r(new i.StandardKeyboardEvent(t))}))},e.prototype.oninput=function(n,e){this._register(o.addDisposableListener(n,o.EventType.INPUT,e))},e.prototype.onblur=function(n,e){this._register(o.addDisposableListener(n,o.EventType.BLUR,e))},e.prototype.onfocus=function(n,e){this._register(o.addDisposableListener(n,o.EventType.FOCUS,e))},e.prototype.onchange=function(n,e){this._register(o.addDisposableListener(n,o.EventType.CHANGE,e))},e}(t.Disposable);e.Widget=r}),define(s[117],n([1,0,83,41,18]),function(a,s,d,e,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.ARROW_IMG_SIZE=11;var o=function(o){function e(e){var n=o.call(this)||this;return n._onActivate=e.onActivate,n.bgDomNode=document.createElement("div"),n.bgDomNode.className="arrow-background",n.bgDomNode.style.position="absolute",n.bgDomNode.style.width=e.bgWidth+"px",n.bgDomNode.style.height=e.bgHeight+"px",void 0!==e.top&&(n.bgDomNode.style.top="0px"),void 0!==e.left&&(n.bgDomNode.style.left="0px"),void 0!==e.bottom&&(n.bgDomNode.style.bottom="0px"),void 0!==e.right&&(n.bgDomNode.style.right="0px"),n.domNode=document.createElement("div"),n.domNode.className=e.className,n.domNode.style.position="absolute",n.domNode.style.width=s.ARROW_IMG_SIZE+"px",n.domNode.style.height=s.ARROW_IMG_SIZE+"px",void 0!==e.top&&(n.domNode.style.top=e.top+"px"),void 0!==e.left&&(n.domNode.style.left=e.left+"px"),void 0!==e.bottom&&(n.domNode.style.bottom=e.bottom+"px"),void 0!==e.right&&(n.domNode.style.right=e.right+"px"),n._mouseMoveMonitor=n._register(new d.GlobalMouseMoveMonitor),n.onmousedown(n.bgDomNode,function(t){return n._arrowMouseDown(t)}),n.onmousedown(n.domNode,function(t){return n._arrowMouseDown(t)}),n._mousedownRepeatTimer=n._register(new t.IntervalTimer),n._mousedownScheduleRepeatTimer=n._register(new t.TimeoutTimer),n}return Z(e,o),e.prototype._arrowMouseDown=function(o){var e=this;this._onActivate(),this._mousedownRepeatTimer.cancel(),this._mousedownScheduleRepeatTimer.cancelAndSet(function(){e._mousedownRepeatTimer.cancelAndSet(function(){return e._onActivate()},1e3/24)},200),this._mouseMoveMonitor.startMonitoring(d.standardMouseMoveMerger,function(){},function(){e._mousedownRepeatTimer.cancel(),e._mousedownScheduleRepeatTimer.cancel()}),o.preventDefault()},e}(e.Widget);s.ScrollbarArrow=o}),define(s[53],n([1,0,7,38,79,11]),function(d,e,l,t,n,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isAction=function(t){return!!t&&(t instanceof o||"string"==typeof t.id&&"string"==typeof t.label&&"string"==typeof t.class&&"boolean"==typeof t.enabled&&"boolean"==typeof t.checked&&"function"==typeof t.run)};var o=function(){function t(r,a,t,n,i){void 0===a&&(a=""),void 0===t&&(t=""),void 0===n&&(n=!0),this._onDidChange=new p.Emitter,this._id=r,this._label=a,this._cssClass=t,this._enabled=n,this._actionCallback=i}return t.prototype.dispose=function(){this._onDidChange.dispose()},Object.defineProperty(t.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"label",{get:function(){return this._label},set:function(t){this._setLabel(t)},enumerable:!0,configurable:!0}),t.prototype._setLabel=function(t){this._label!==t&&(this._label=t,this._onDidChange.fire({label:t}))},Object.defineProperty(t.prototype,"tooltip",{get:function(){return this._tooltip},set:function(t){this._setTooltip(t)},enumerable:!0,configurable:!0}),t.prototype._setTooltip=function(t){this._tooltip!==t&&(this._tooltip=t,this._onDidChange.fire({tooltip:t}))},Object.defineProperty(t.prototype,"class",{get:function(){return this._cssClass},set:function(t){this._setClass(t)},enumerable:!0,configurable:!0}),t.prototype._setClass=function(t){this._cssClass!==t&&(this._cssClass=t,this._onDidChange.fire({class:t}))},Object.defineProperty(t.prototype,"enabled",{get:function(){return this._enabled},set:function(t){this._setEnabled(t)},enumerable:!0,configurable:!0}),t.prototype._setEnabled=function(t){this._enabled!==t&&(this._enabled=t,this._onDidChange.fire({enabled:t}))},Object.defineProperty(t.prototype,"checked",{get:function(){return this._checked},set:function(t){this._setChecked(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radio",{get:function(){return this._radio},set:function(t){this._setRadio(t)},enumerable:!0,configurable:!0}),t.prototype._setChecked=function(t){this._checked!==t&&(this._checked=t,this._onDidChange.fire({checked:t}))},t.prototype._setRadio=function(t){this._radio!==t&&(this._radio=t,this._onDidChange.fire({radio:t}))},Object.defineProperty(t.prototype,"order",{get:function(){return this._order},set:function(t){this._order=t},enumerable:!0,configurable:!0}),t.prototype.run=function(t){return void 0===this._actionCallback?l.TPromise.as(!0):this._actionCallback(t)},t}();e.Action=o;var i=function(o){function e(){return null!==o&&o.apply(this,arguments)||this}return Z(e,o),e.prototype.run=function(o,r){var a=this;return o.enabled?(this.emit(n.EventType.BEFORE_RUN,{action:o}),this.runAction(o,r).then(function(i){a.emit(n.EventType.RUN,{action:o,result:i})},function(i){a.emit(n.EventType.RUN,{action:o,error:i})})):l.TPromise.as(null)},e.prototype.runAction=function(o,e){return l.TPromise.as(e?o.run(e):o.run())},e}(t.EventEmitter);e.ActionRunner=i}),define(s[165],n([1,0,33,26,9,45,80,7]),function(R,e,P,n,A,o,t,F){"use strict";function i(){return Object.create(null)}function W(t){return 0===t?"":1===t?f+"*?":"(?:"+y+"|"+f+"+"+y+"|"+y+f+"+)*?"}function r(d,l){if(!d)return[];for(var t=[],i=!1,p=!1,c="",s=0,a;s<d.length;s++){switch(a=d[s]){case l:if(!i&&!p){t.push(c),c="";continue}break;case"{":i=!0;break;case"}":i=!1;break;case"[":p=!0;break;case"]":p=!1;}c+=a}return c&&t.push(c),t}function a(o){if(!o)return"";var d="",t=r(o,"/");if(t.every(function(t){return"**"===t}))d=".*";else{var n=!1;t.forEach(function(o,e){if("**"!==o){for(var i=!1,l="",c=!1,u="",p=0,h;p<o.length;p++)if("}"!==(h=o[p])&&i)l+=h;else if("]"!==h&&c){var s=void 0;s="-"===h||"^"===h?h:A.escapeRegExpCharacters(h);u+=s}else switch(h){case"{":i=!0;continue;case"[":c=!0;continue;case"}":var g="(?:"+r(l,",").map(function(t){return a(t)}).join("|")+")";d+=g,i=!1,l="";break;case"]":d+="["+u+"]",c=!1,u="";break;case"?":d+=f;continue;case"*":d+=W(1);continue;default:d+=A.escapeRegExpCharacters(h);}e<t.length-1&&"**"!==t[e+1]&&(d+=y),n=!1}else n||(d+=W(2),n=!0)})}return d}function d(o,a){if(!o)return T;var t=(o=o.trim())+"_"+!!a.trimForExclusions,n=x.get(t);if(n)return n;var i;if(b.test(o)){var r=o.substr(4);n=function(e){return e&&A.endsWith(e,r)?o:null}}else n=(i=v.exec(l(o,a)))?p(i[1],o):(a.trimForExclusions?E:S).test(o)?c(o,a):(i=L.exec(l(o,a)))?u(i[1].substr(1),o,!0):(i=w.exec(l(o,a)))?u(i[1],o,!1):g(o);return x.set(t,n),n}function l(o,e){return e.trimForExclusions&&A.endsWith(o,"/**")?o.substr(0,o.length-2):o}function p(o,e){var t=function(t,n){return t?n?n===o?e:null:t===o||A.endsWith(t,"/"+o)||A.endsWith(t,"\\"+o)?e:null:null},n=[o];return t.basenames=n,t.patterns=[e],t.allBasenames=n,t}function c(l,n){var e=_(l.slice(1,-1).split(",").map(function(t){return d(t,n)}).filter(function(t){return t!==T}),l),t=e.length;if(!t)return T;if(1===t)return e[0];var i=function(i,t){for(var n=0,o=e.length;n<o;n++)if(e[n](i,t))return l;return null},r=P.first(e,function(t){return!!t.allBasenames});r&&(i.allBasenames=r.allBasenames);var s=e.reduce(function(o,e){return e.allPaths?o.concat(e.allPaths):o},[]);return s.length&&(i.allPaths=s),i}function u(r,d,e){var t=o.nativeSep===o.sep?r:r.replace(C,o.nativeSep),n=o.nativeSep+t,i=e?function(o){return o&&(o===t||A.endsWith(o,n))?d:null}:function(o){return o&&o===t?d:null};return i.allPaths=[(e?"*/":"./")+r],i}function g(o){try{var e=new RegExp("^"+a(o)+"$");return function(t){return e.lastIndex=0,t&&e.test(t)?o:null}}catch(t){return T}}function s(o,r){if(void 0===r&&(r={}),!o)return N;if("string"==typeof o){var a=d(o,r);if(a===T)return N;var t=function(o,e){return!!a(o,e)};return a.allBasenames&&(t.allBasenames=a.allBasenames),a.allPaths&&(t.allPaths=a.allPaths),t}return m(o,r)}function m(r,e){var a=_(Object.getOwnPropertyNames(r).map(function(t){return h(t,r[t],e)}).filter(function(t){return t!==T})),t=a.length;if(!t)return T;if(!a.some(function(t){return t.requiresSiblings})){if(1===t)return a[0];var n=function(n,e){for(var t=0,o=a.length,i;t<o;t++)if(i=a[t](n,e),i)return i;return null},i=P.first(a,function(t){return!!t.allBasenames});i&&(n.allBasenames=i.allBasenames);var s=a.reduce(function(o,e){return e.allPaths?o.concat(e.allPaths):o},[]);return s.length&&(n.allPaths=s),n}var l=function(i,e,t){function r(t){if(t&&t.length)return e||(e=o.basename(i)),{siblings:t,name:e.substr(0,e.length-o.extname(i).length)}}for(var p=!t,g=0,l=a.length,c,s;g<l;g++)if(s=a[g](i,e,function(){if(!p){p=!0;var o=t();c=F.TPromise.is(o)?o.then(r):r(o)}return c}),s)return s;return null},p=P.first(a,function(t){return!!t.allBasenames});p&&(l.allBasenames=p.allBasenames);var d=a.reduce(function(o,e){return e.allPaths?o.concat(e.allPaths):o},[]);return d.length&&(l.allPaths=d),l}function h(a,e,l){if(!1===e)return T;var p=d(a,l);if(p===T)return T;if("boolean"==typeof e)return p;if(e){var i=e.when;if("string"==typeof i){var c=function(e){var t=i.replace("$(basename)",e.name);return-1===e.siblings.indexOf(t)?null:a},n=function(i,e,t){if(!p(i,e))return null;var n=t();return n?F.TPromise.is(n)?n.then(c):c(n):null};return n.requiresSiblings=!0,n}}return p}function _(d,e){var t=d.filter(function(t){return!!t.basenames});if(2>t.length)return d;var l=t.reduce(function(o,e){return o.concat(e.basenames)},[]),o;if(e){o=[];for(var n=0,i=l.length;n<i;n++)o.push(e)}else o=t.reduce(function(o,e){return o.concat(e.patterns)},[]);var r=function(i,a){if(!i)return null;if(!a){var d;for(d=i.length;0<d;d--){var n=i.charCodeAt(d-1);if(47===n||92===n)break}a=i.substr(d)}var r=l.indexOf(a);return-1===r?null:o[r]};r.basenames=l,r.patterns=o,r.allBasenames=l;var a=d.filter(function(t){return!t.basenames});return a.push(r),a}Object.defineProperty(e,"__esModule",{value:!0}),e.getEmptyExpression=i,e.mergeExpressions=function(){for(var o=[],e=0;e<arguments.length;e++)o[e]=arguments[e];return n.assign.apply(n,[i()].concat(o.filter(function(t){return!!t})))};var y="[/\\\\]",f="[^/\\\\]",C=/\//g;e.splitGlobAware=r;var b=/^\*\*\/\*\.[\w\.-]+$/,v=/^\*\*\/([\w\.-]+)\/?$/,S=/^{\*\*\/[\*\.]?[\w\.-]+\/?(,\*\*\/[\*\.]?[\w\.-]+\/?)*}$/,E=/^{\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?(,\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?)*}$/,L=/^\*\*((\/[\w\.-]+)+)\/?$/,w=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,x=new t.BoundedMap(1e4),N=function(){return!1},T=function(){return null};e.match=function(o,e,t){return o&&e&&s(o)(e,void 0,t)},e.parse=s,e.parseToAsync=function(o,e){var r=s(o,e);return function(n,e,t){var i=r(n,e,t);return i instanceof F.TPromise?i:F.TPromise.as(i)}},e.getBasenameTerms=function(t){return t.allBasenames||[]},e.getPathTerms=function(t){return t.allPaths||[]}}),define(s[166],n([1,0,45,29,9,165]),function(p,g,t,n,m,o){"use strict";function i(o){return{id:o.id,mime:o.mime,filename:o.filename,extension:o.extension,filepattern:o.filepattern,firstline:o.firstline,userConfigured:o.userConfigured,filenameLowercase:o.filename?o.filename.toLowerCase():void 0,extensionLowercase:o.extension?o.extension.toLowerCase():void 0,filepatternLowercase:o.filepattern?o.filepattern.toLowerCase():void 0,filepatternOnPath:!!o.filepattern&&0<=o.filepattern.indexOf(t.sep)}}function _(r,e,t){for(var n=t.length-1,d,i,p,u;0<=n;n--){if(u=t[n],e===u.filenameLowercase){d=u;break}if(u.filepattern&&(!i||u.filepattern.length>i.filepattern.length)){var l=u.filepatternOnPath?r:e;o.match(u.filepatternLowercase,l)&&(i=u)}u.extension&&(!p||u.extension.length>p.extension.length)&&m.endsWith(e,u.extensionLowercase)&&(p=u)}return d?d.mime:i?i.mime:p?p.mime:null}function e(o){if(m.startsWithUTF8BOM(o)&&(o=o.substr(1)),0<o.length)for(var e=0,t;e<a.length;++e)if(t=a[e],t.firstline){var n=o.match(t.firstline);if(n&&0<n.length)return t.mime}return null}function r(t){return!t||("string"==typeof t?t===g.MIME_BINARY||t===g.MIME_TEXT||t===g.MIME_UNKNOWN:1===t.length&&r(t[0]))}Object.defineProperty(g,"__esModule",{value:!0}),g.MIME_TEXT="text/plain",g.MIME_BINARY="application/octet-stream",g.MIME_UNKNOWN="application/unknown";var a=[],c=[],d=[];g.registerTextMime=function(o){var n=i(o);a.push(n),n.userConfigured?d.push(n):c.push(n),n.userConfigured||a.forEach(function(t){t.mime===n.mime||t.userConfigured||(n.extension&&t.extension===n.extension&&console.warn("Overwriting extension <<"+n.extension+">> to now point to mime <<"+n.mime+">>"),n.filename&&t.filename===n.filename&&console.warn("Overwriting filename <<"+n.filename+">> to now point to mime <<"+n.mime+">>"),n.filepattern&&t.filepattern===n.filepattern&&console.warn("Overwriting filepattern <<"+n.filepattern+">> to now point to mime <<"+n.mime+">>"),n.firstline&&t.firstline===n.firstline&&console.warn("Overwriting firstline <<"+n.firstline+">> to now point to mime <<"+n.mime+">>"))})},g.clearTextMimes=function(t){t?(a=a.filter(function(t){return!t.userConfigured}),d=[]):(a=[],c=[],d=[])},g.guessMimeTypes=function(n,a){if(!n)return[g.MIME_UNKNOWN];n=n.toLowerCase();var i=t.basename(n),o=_(n,i,d);if(o)return[o,g.MIME_TEXT];var r=_(n,i,c);if(r)return[r,g.MIME_TEXT];if(a){var s=e(a);if(s)return[s,g.MIME_TEXT]}return[g.MIME_UNKNOWN]},g.isBinaryMime=function(t){return!!t&&0<=(n.isArray(t)?t:t.split(",").map(function(t){return t.trim()})).indexOf(g.MIME_BINARY)},g.isUnspecific=r,g.suggestFilename=function(o,e){for(var t=0,n;t<a.length;t++)if(n=a[t],!n.userConfigured&&n.id===o&&n.extension)return e+n.extension;return e}}),define(s[48],n([1,0,3,11]),function(a,e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),!function(t){t[t.Auto=1]="Auto",t[t.Hidden=2]="Hidden",t[t.Visible=3]="Visible"}(e.ScrollbarVisibility||(e.ScrollbarVisibility={}));var i=function(){function t(a,s,t,n,i,o){s|=0,t|=0,n|=0,i|=0,o|=0,0>(a|=0)&&(a=0),t+a>s&&(t=s-a),0>t&&(t=0),0>n&&(n=0),o+n>i&&(o=i-n),0>o&&(o=0),this.width=a,this.scrollWidth=s,this.scrollLeft=t,this.height=n,this.scrollHeight=i,this.scrollTop=o}return t.prototype.equals=function(t){return this.width===t.width&&this.scrollWidth===t.scrollWidth&&this.scrollLeft===t.scrollLeft&&this.height===t.height&&this.scrollHeight===t.scrollHeight&&this.scrollTop===t.scrollTop},t.prototype.createScrollEvent=function(a){var e=this.width!==a.width,d=this.scrollWidth!==a.scrollWidth,l=this.scrollLeft!==a.scrollLeft,p=this.height!==a.height,c=this.scrollHeight!==a.scrollHeight,u=this.scrollTop!==a.scrollTop;return{width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:e,scrollWidthChanged:d,scrollLeftChanged:l,heightChanged:p,scrollHeightChanged:c,scrollTopChanged:u}},t}();e.ScrollState=i;var o=function(o){function e(){var e=o.call(this)||this;return e._onScroll=e._register(new n.Emitter),e.onScroll=e._onScroll.event,e._state=new i(0,0,0,0,0,0),e}return Z(e,o),e.prototype.getState=function(){return this._state},e.prototype.validateScrollTop=function(t){return t=w(t),t=G(t,0),t=q(t,this._state.scrollHeight-this._state.height)},e.prototype.validateScrollLeft=function(t){return t=w(t),t=G(t,0),t=q(t,this._state.scrollWidth-this._state.width)},e.prototype.updateState=function(o){var e=this._state,t=new i(void 0===o.width?e.width:o.width,void 0===o.scrollWidth?e.scrollWidth:o.scrollWidth,void 0===o.scrollLeft?e.scrollLeft:o.scrollLeft,void 0===o.height?e.height:o.height,void 0===o.scrollHeight?e.scrollHeight:o.scrollHeight,void 0===o.scrollTop?e.scrollTop:o.scrollTop);e.equals(t)||(this._state=t,this._onScroll.fire(this._state.createScrollEvent(e)))},e}(t.Disposable);e.Scrollable=o}),define(s[429],n([1,0,3,18,48]),function(a,e,t,s,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(i){function e(e,a,n){var o=i.call(this)||this;return o._visibility=e,o._visibleClassName=a,o._invisibleClassName=n,o._domNode=null,o._isVisible=!1,o._isNeeded=!1,o._shouldBeVisible=!1,o._revealTimer=o._register(new s.TimeoutTimer),o}return Z(e,i),e.prototype.applyVisibilitySetting=function(t){return this._visibility!==n.ScrollbarVisibility.Hidden&&(this._visibility===n.ScrollbarVisibility.Visible||t)},e.prototype.setShouldBeVisible=function(o){var e=this.applyVisibilitySetting(o);this._shouldBeVisible!==e&&(this._shouldBeVisible=e,this.ensureVisibility())},e.prototype.setIsNeeded=function(t){this._isNeeded!==t&&(this._isNeeded=t,this.ensureVisibility())},e.prototype.setDomNode=function(t){this._domNode=t,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)},e.prototype.ensureVisibility=function(){this._isNeeded?this._shouldBeVisible?this._reveal():this._hide(!0):this._hide(!1)},e.prototype._reveal=function(){var t=this;this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(function(){t._domNode.setClassName(t._visibleClassName)},0))},e.prototype._hide=function(t){this._revealTimer.cancel(),this._isVisible&&(this._isVisible=!1,this._domNode.setClassName(this._invisibleClassName+(t?" fade":"")))},e}(t.Disposable);e.ScrollbarVisibilityController=o}),define(s[184],n([1,0,15,4,83,41,27,117,429]),function(d,e,p,n,c,t,r,o,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=function(a){function e(e){var o=a.call(this)||this;return o._lazyRender=e.lazyRender,o._host=e.host,o._scrollable=e.scrollable,o._scrollbarState=e.scrollbarState,o._visibilityController=o._register(new i.ScrollbarVisibilityController(e.visibility,"visible scrollbar "+e.extraScrollbarClassName,"invisible scrollbar "+e.extraScrollbarClassName)),o._mouseMoveMonitor=o._register(new c.GlobalMouseMoveMonitor),o._shouldRender=!0,o.domNode=r.createFastDomNode(document.createElement("div")),o.domNode.setAttribute("role","presentation"),o.domNode.setAttribute("aria-hidden","true"),o._visibilityController.setDomNode(o.domNode),o.domNode.setPosition("absolute"),o.onmousedown(o.domNode.domNode,function(t){return o._domNodeMouseDown(t)}),o}return Z(e,a),e.prototype._createArrow=function(n){var e=this._register(new o.ScrollbarArrow(n));this.domNode.domNode.appendChild(e.bgDomNode),this.domNode.domNode.appendChild(e.domNode)},e.prototype._createSlider=function(a,e,t,n){var i=this;this.slider=r.createFastDomNode(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(a),this.slider.setLeft(e),this.slider.setWidth(t),this.slider.setHeight(n),this.slider.setLayerHinting(!0),this.domNode.domNode.appendChild(this.slider.domNode),this.onmousedown(this.slider.domNode,function(t){t.leftButton&&(t.preventDefault(),i._sliderMouseDown(t,function(){}))})},e.prototype._onElementSize=function(t){return this._scrollbarState.setVisibleSize(t)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender},e.prototype._onElementScrollSize=function(t){return this._scrollbarState.setScrollSize(t)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender},e.prototype._onElementScrollPosition=function(t){return this._scrollbarState.setScrollPosition(t)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender},e.prototype.beginReveal=function(){this._visibilityController.setShouldBeVisible(!0)},e.prototype.beginHide=function(){this._visibilityController.setShouldBeVisible(!1)},e.prototype.render=function(){this._shouldRender&&(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))},e.prototype._domNodeMouseDown=function(t){t.target===this.domNode.domNode&&this._onMouseDown(t)},e.prototype.delegateMouseDown=function(r){var e=this.domNode.domNode.getClientRects()[0].top,t=e+this._scrollbarState.getSliderPosition(),n=e+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),i=this._sliderMousePosition(r);t<=i&&i<=n?r.leftButton&&(r.preventDefault(),this._sliderMouseDown(r,function(){})):this._onMouseDown(r)},e.prototype.delegateSliderMouseDown=function(o,e){this._sliderMouseDown(o,e)},e.prototype._onMouseDown=function(o){var e=n.getDomNodePagePosition(this.domNode.domNode);this.setDesiredScrollPosition(this._scrollbarState.getDesiredScrollPositionFromOffset(this._mouseDownRelativePosition(o,e))),o.leftButton&&(o.preventDefault(),this._sliderMouseDown(o,function(){}))},e.prototype._sliderMouseDown=function(o,e){var n=this,t=this._sliderMousePosition(o),i=this._sliderOrthogonalMousePosition(o),r=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._mouseMoveMonitor.startMonitoring(c.standardMouseMoveMerger,function(a){var e=n._sliderOrthogonalMousePosition(a),s=I(e-i);if(p.isWindows&&140<s)n.setDesiredScrollPosition(r.getScrollPosition());else{var o=n._sliderMousePosition(a)-t;n.setDesiredScrollPosition(r.getDesiredScrollPositionFromDelta(o))}},function(){n.slider.toggleClassName("active",!1),n._host.onDragEnd(),e()}),this._host.onDragStart()},e.prototype.setDesiredScrollPosition=function(o){o=this.validateScrollPosition(o);var e=this._getScrollPosition();return this._setScrollPosition(o),e!==this._getScrollPosition()&&(this._onElementScrollPosition(this._getScrollPosition()),!0)},e}(t.Widget);e.AbstractScrollbar=a}),define(s[439],n([1,0,184,47,48,150,117]),function(d,e,t,n,i,o,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=function(s){function e(e,d,p){var g=s.call(this,{lazyRender:d.lazyRender,host:p,scrollbarState:new o.ScrollbarState(d.horizontalHasArrows?d.arrowSize:0,d.horizontal===i.ScrollbarVisibility.Hidden?0:d.horizontalScrollbarSize,d.vertical===i.ScrollbarVisibility.Hidden?0:d.verticalScrollbarSize),visibility:d.horizontal,extraScrollbarClassName:"horizontal",scrollable:e})||this;if(d.horizontalHasArrows){var u=(d.arrowSize-r.ARROW_IMG_SIZE)/2,m=(d.horizontalScrollbarSize-r.ARROW_IMG_SIZE)/2;g._createArrow({className:"left-arrow",top:m,left:u,bottom:void 0,right:void 0,bgWidth:d.arrowSize,bgHeight:d.horizontalScrollbarSize,onActivate:function(){return g._host.onMouseWheel(new n.StandardMouseWheelEvent(null,1,0))}}),g._createArrow({className:"right-arrow",top:m,left:void 0,bottom:void 0,right:u,bgWidth:d.arrowSize,bgHeight:d.horizontalScrollbarSize,onActivate:function(){return g._host.onMouseWheel(new n.StandardMouseWheelEvent(null,-1,0))}})}return g._createSlider(M((d.horizontalScrollbarSize-d.horizontalSliderSize)/2),0,null,d.horizontalSliderSize),g}return Z(e,s),e.prototype._updateSlider=function(o,e){this.slider.setWidth(o),this.slider.setLeft(e)},e.prototype._renderDomNode=function(o,e){this.domNode.setWidth(o),this.domNode.setHeight(e),this.domNode.setLeft(0),this.domNode.setBottom(0)},e.prototype.onDidScroll=function(t){return this._shouldRender=this._onElementScrollSize(t.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(t.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(t.width)||this._shouldRender,this._shouldRender},e.prototype._mouseDownRelativePosition=function(o,e){return o.posx-e.left},e.prototype._sliderMousePosition=function(t){return t.posx},e.prototype._sliderOrthogonalMousePosition=function(t){return t.posy},e.prototype._getScrollPosition=function(){return this._scrollable.getState().scrollLeft},e.prototype._setScrollPosition=function(t){this._scrollable.updateState({scrollLeft:t})},e.prototype.validateScrollPosition=function(t){return this._scrollable.validateScrollLeft(t)},e}(t.AbstractScrollbar);e.HorizontalScrollbar=s}),define(s[440],n([1,0,184,47,48,150,117]),function(d,e,t,n,i,o,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=function(s){function e(e,d,p){var g=s.call(this,{lazyRender:d.lazyRender,host:p,scrollbarState:new o.ScrollbarState(d.verticalHasArrows?d.arrowSize:0,d.vertical===i.ScrollbarVisibility.Hidden?0:d.verticalScrollbarSize,0),visibility:d.vertical,extraScrollbarClassName:"vertical",scrollable:e})||this;if(d.verticalHasArrows){var u=(d.arrowSize-r.ARROW_IMG_SIZE)/2,m=(d.verticalScrollbarSize-r.ARROW_IMG_SIZE)/2;g._createArrow({className:"up-arrow",top:u,left:m,bottom:void 0,right:void 0,bgWidth:d.verticalScrollbarSize,bgHeight:d.arrowSize,onActivate:function(){return g._host.onMouseWheel(new n.StandardMouseWheelEvent(null,0,1))}}),g._createArrow({className:"down-arrow",top:void 0,left:m,bottom:u,right:void 0,bgWidth:d.verticalScrollbarSize,bgHeight:d.arrowSize,onActivate:function(){return g._host.onMouseWheel(new n.StandardMouseWheelEvent(null,0,-1))}})}return g._createSlider(0,M((d.verticalScrollbarSize-d.verticalSliderSize)/2),d.verticalSliderSize,null),g}return Z(e,s),e.prototype._updateSlider=function(o,e){this.slider.setHeight(o),this.slider.setTop(e)},e.prototype._renderDomNode=function(o,e){this.domNode.setWidth(e),this.domNode.setHeight(o),this.domNode.setRight(0),this.domNode.setTop(0)},e.prototype.onDidScroll=function(t){return this._shouldRender=this._onElementScrollSize(t.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(t.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(t.height)||this._shouldRender,this._shouldRender},e.prototype._mouseDownRelativePosition=function(o,e){return o.posy-e.top},e.prototype._sliderMousePosition=function(t){return t.posy},e.prototype._sliderOrthogonalMousePosition=function(t){return t.posx},e.prototype._getScrollPosition=function(){return this._scrollable.getState().scrollTop},e.prototype._setScrollPosition=function(t){this._scrollable.updateState({scrollTop:t})},e.prototype.validateScrollPosition=function(t){return this._scrollable.validateScrollTop(t)},e}(t.AbstractScrollbar);e.VerticalScrollbar=s}),define(s[197],n([1,0,10,3,7,18,15]),function(p,e,g,t,m,o,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var _="$initialize",i=!1;e.logOnceWebWorkerWarning=function(t){n.isWeb&&(i||(i=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/Microsoft/monaco-editor#faq")),console.warn(t.message))};var a=function(){function t(t){this._workerId=-1,this._handler=t,this._lastSentReq=0,this._pendingReplies=Object.create(null)}return t.prototype.setWorkerId=function(t){this._workerId=t},t.prototype.sendMessage=function(o,a){var s=++this._lastSentReq+"",d={c:null,e:null},i=new m.TPromise(function(o,e){d.c=o,d.e=e},function(){});return this._pendingReplies[s]=d,this._send({vsWorker:this._workerId,req:s,method:o,args:a}),i},t.prototype.handleMessage=function(o){var e;try{e=JSON.parse(o)}catch(t){}e.vsWorker&&(-1!==this._workerId&&e.vsWorker!==this._workerId||this._handleMessage(e))},t.prototype._handleMessage=function(n){var d=this;if(n.seq){var e=n;if(!this._pendingReplies[e.seq])return void console.warn("Got reply to unknown seq");var t=this._pendingReplies[e.seq];if(delete this._pendingReplies[e.seq],e.err){var o=e.err;return e.err.$isError&&((o=new Error).name=e.err.name,o.message=e.err.message,o.stack=e.err.stack),void t.e(o)}t.c(e.res)}else{var i=n,r=i.req;this._handler.handleMessage(i.method,i.args).then(function(t){d._send({vsWorker:d._workerId,seq:r,res:t,err:void 0})},function(t){d._send({vsWorker:d._workerId,seq:r,res:void 0,err:g.transformErrorForSerialization(t)})})}},t.prototype._send=function(o){var e=JSON.stringify(o);this._handler.sendMessage(e)},t}(),r=function(l){function e(e,o){var n=l.call(this)||this;n._lastRequestTimestamp=-1;var i=null,r=null;n._worker=n._register(e.create("vs/base/common/worker/simpleWorker",function(t){n._protocol.handleMessage(t)},function(t){r(t)})),n._protocol=new a({sendMessage:function(t){n._worker.postMessage(t)},handleMessage:function(){return m.TPromise.as(null)}}),n._protocol.setWorkerId(n._worker.getId());var s=null,p=self.require;"function"==typeof p.getConfig?s=p.getConfig():void 0!==self.requirejs&&(s=self.requirejs.s.contexts._.config),n._lazyProxy=new m.TPromise(function(o,e){i=o,r=e},function(){}),n._onModuleLoaded=n._protocol.sendMessage(_,[n._worker.getId(),o,s]),n._onModuleLoaded.then(function(o){for(var e={},t=0;t<o.length;t++)e[o[t]]=d(o[t],c);i(e)},function(t){r(t),n._onError("Worker failed to load "+o,t)});var c=function(o,e){return n._request(o,e)},d=function(o,e){return function(){var t=Array.prototype.slice.call(arguments,0);return e(o,t)}};return n}return Z(e,l),e.prototype.getProxyObject=function(){return new o.ShallowCancelThenPromise(this._lazyProxy)},e.prototype.getLastRequestTimestamp=function(){return this._lastRequestTimestamp},e.prototype._request=function(r,e){var t=this;return new m.TPromise(function(n,i){t._onModuleLoaded.then(function(){t._lastRequestTimestamp=Date.now(),t._protocol.sendMessage(r,e).then(n,i)},i)},function(){})},e.prototype._onError=function(o,e){console.error(o),console.info(e)},e}(t.Disposable);e.SimpleWorkerClient=r;var s=function(){function e(o){var i=this;this._protocol=new a({sendMessage:function(e){o(e)},handleMessage:function(t,e){return i._handleMessage(t,e)}})}return e.prototype.onmessage=function(t){this._protocol.handleMessage(t)},e.prototype._handleMessage=function(o,e){if(o===_)return this.initialize(e[0],e[1],e[2]);if(!this._requestHandler||"function"!=typeof this._requestHandler[o])return m.TPromise.wrapError(new Error("Missing requestHandler or method: "+o));try{return m.TPromise.as(this._requestHandler[o].apply(this._requestHandler,e))}catch(t){return m.TPromise.wrapError(t)}},e.prototype.initialize=function(e,t,o){var d=this;if(this._protocol.setWorkerId(e),o){void 0!==o.baseUrl&&delete o.baseUrl,void 0!==o.paths&&void 0!==o.paths.vs&&delete o.paths.vs;var n=o["vs/nls"];n&&n.pseudo&&p(["vs/nls"],function(t){t.setPseudoTranslation(n.pseudo)}),o.catchError=!0,self.require.config(o)}var i=new m.TPromise(function(o,e){r=o,a=e}),r,a;return self.require([t],function(){for(var a=[],e=0;e<arguments.length;e++)a[e]=arguments[e];var t=a[0];d._requestHandler=t.create();var n=[];for(var i in d._requestHandler)"function"==typeof d._requestHandler[i]&&n.push(i);r(n)},a),i},e}();e.SimpleWorkerServer=s,e.create=function(t){return new s(t)}}),define(s[445],n([1,0,7,29]),function(d,e,l,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function o(o){this.modelProvider=t.isFunction(o.getModel)?o:{getModel:function(){return o}}}return o.prototype.getId=function(o,e){if(!e)return null;var i=this.modelProvider.getModel();return i===e?"__root__":i.dataSource.getId(e)},o.prototype.hasChildren=function(o,e){var t=this.modelProvider.getModel();return t&&t===e&&0<t.entries.length},o.prototype.getChildren=function(o,e){var t=this.modelProvider.getModel();return l.TPromise.as(t===e?t.entries:[])},o.prototype.getParent=function(){return l.TPromise.as(null)},o}();e.DataSource=n;var o=function(){function t(t){this.modelProvider=t}return t.prototype.getAriaLabel=function(o,e){var t=this.modelProvider.getModel();return t.accessibilityProvider&&t.accessibilityProvider.getAriaLabel(e)},t.prototype.getPosInSet=function(o,e){var t=this.modelProvider.getModel();return t.entries.indexOf(e)+1+""},t.prototype.getSetSize=function(){var t=this.modelProvider.getModel();return t.entries.length+""},t}();e.AccessibilityProvider=o;var i=function(){function t(t){this.modelProvider=t}return t.prototype.isVisible=function(o,e){var t=this.modelProvider.getModel();return!t.filter||t.filter.isVisible(e)},t}();e.Filter=i;var r=function(){function t(o,n){this.modelProvider=o,this.styles=n}return t.prototype.updateStyles=function(t){this.styles=t},t.prototype.getHeight=function(o,e){return this.modelProvider.getModel().renderer.getHeight(e)},t.prototype.getTemplateId=function(o,e){return this.modelProvider.getModel().renderer.getTemplateId(e)},t.prototype.renderTemplate=function(o,e,t){return this.modelProvider.getModel().renderer.renderTemplate(e,t,this.styles)},t.prototype.renderElement=function(o,e,t,n){this.modelProvider.getModel().renderer.renderElement(e,t,n,this.styles)},t.prototype.disposeTemplate=function(o,e,t){this.modelProvider.getModel().renderer.disposeTemplate(e,t)},t}();e.Renderer=r}),define(s[100],n([1,0]),function(o,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),!function(t){t[t.PREVIEW=0]="PREVIEW",t[t.OPEN=1]="OPEN",t[t.OPEN_IN_BACKGROUND=2]="OPEN_IN_BACKGROUND"}(e.Mode||(e.Mode={}))}),define(s[448],n([1,0]),function(a,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function t(o,i,t){this._posx=o,this._posy=i,this._target=t}return t.prototype.preventDefault=function(){},t.prototype.stopPropagation=function(){},Object.defineProperty(t.prototype,"posx",{get:function(){return this._posx},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"posy",{get:function(){return this._posy},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"target",{get:function(){return this._target},enumerable:!0,configurable:!0}),t}();e.ContextMenuEvent=t;var n=function(o){function e(e){var i=o.call(this,e.posx,e.posy,e.target)||this;return i.originalEvent=e,i}return Z(e,o),e.prototype.preventDefault=function(){this.originalEvent.preventDefault()},e.prototype.stopPropagation=function(){this.originalEvent.stopPropagation()},e}(t);e.MouseContextMenuEvent=n;var i=function(r){function e(e,a,n){var i=r.call(this,e,a,n.target)||this;return i.originalEvent=n,i}return Z(e,r),e.prototype.preventDefault=function(){this.originalEvent.preventDefault()},e.prototype.stopPropagation=function(){this.originalEvent.stopPropagation()},e}(t);e.KeyboardContextMenuEvent=i;var o;!function(t){t[t.COPY=0]="COPY",t[t.MOVE=1]="MOVE"}(o=e.DragOverEffect||(e.DragOverEffect={}));var r;!function(t){t[t.BUBBLE_DOWN=0]="BUBBLE_DOWN",t[t.BUBBLE_UP=1]="BUBBLE_UP"}(r=e.DragOverBubble||(e.DragOverBubble={})),e.DRAG_OVER_REJECT={accept:!1},e.DRAG_OVER_ACCEPT={accept:!0},e.DRAG_OVER_ACCEPT_BUBBLE_UP={accept:!0,bubble:r.BUBBLE_UP},e.DRAG_OVER_ACCEPT_BUBBLE_DOWN=function(t){return void 0===t&&(t=!1),{accept:!0,bubble:r.BUBBLE_DOWN,autoExpand:t}},e.DRAG_OVER_ACCEPT_BUBBLE_UP_COPY={accept:!0,bubble:r.BUBBLE_UP,effect:o.COPY},e.DRAG_OVER_ACCEPT_BUBBLE_DOWN_COPY=function(t){return void 0===t&&(t=!1),{accept:!0,bubble:r.BUBBLE_DOWN,effect:o.COPY,autoExpand:t}}}),define(s[461],n([1,0]),function(r,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function t(t){this.elements=t}return t.prototype.update=function(){},t.prototype.getData=function(){return this.elements},t}();e.ElementsDragAndDropData=t;var n=function(){function t(t){this.elements=t}return t.prototype.update=function(){},t.prototype.getData=function(){return this.elements},t}();e.ExternalElementsDragAndDropData=n;var i=function(){function t(){this.types=[],this.files=[]}return t.prototype.update=function(t){t.dataTransfer.types&&(this.types=[],Array.prototype.push.apply(this.types,t.dataTransfer.types)),t.dataTransfer.files&&(this.files=[],Array.prototype.push.apply(this.files,t.dataTransfer.files),this.files=this.files.filter(function(t){return t.size||t.type}))},t.prototype.getData=function(){return{types:this.types,files:this.files}},t}();e.DesktopDragAndDropData=i}),define(s[466],n([1,0,72,10,3,33,38,7]),function(_,e,t,f,y,C,o,b){"use strict";function r(r,e){for(var t=r.getHierarchy(),n=e.getHierarchy(),i=t[C.commonPrefixLength(t,n)-1],o=i.getNavigator(),s=null,a=null,p=0,l=[];i&&(null===s||null===a);)l.push(i),i===r&&(s=p),i===e&&(a=p),p++,i=o.next();if(null===s||null===a)return[];var c=q(s,a),d=G(s,a);return l.slice(c,d+1)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(o){function e(e){var i=o.call(this)||this;return i._item=e,i}return Z(e,o),Object.defineProperty(e.prototype,"item",{get:function(){return this._item},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.emit("unlock"),o.prototype.dispose.call(this)},e}(o.EventEmitter);e.LockData=a;var s=function(){function t(){this.locks=Object.create({})}return t.prototype.isLocked=function(t){return!!this.locks[t.id]},t.prototype.run=function(d,e){var l=this,t=this.getLock(d);if(t){var n;return new b.TPromise(function(o,i){n=t.addOneTimeListener("unlock",function(){return l.run(d,e).then(o,i)})},function(){n.dispose()})}var p;return new b.TPromise(function(t,n){if(d.isDisposed())return n(new Error("Item is disposed."));var o=l.locks[d.id]=new a(d);return p=e().then(function(e){return delete l.locks[d.id],o.dispose(),e}).then(t,n)},function(){return p.cancel()})},t.prototype.getLock=function(o){for(var e in this.locks){var t=this.locks[e];if(o.intersects(t.item))return t}return null},t}();e.Lock=s;var l=function(o){function e(){var e=o.call(this)||this;return e._isDisposed=!1,e.items={},e}return Z(e,o),e.prototype.register=function(o){t.ok(!this.isRegistered(o.id),"item already registered: "+o.id),this.items[o.id]={item:o,disposable:this.addEmitter(o)}},e.prototype.deregister=function(o){t.ok(this.isRegistered(o.id),"item not registered: "+o.id),this.items[o.id].disposable.dispose(),delete this.items[o.id]},e.prototype.isRegistered=function(t){return this.items.hasOwnProperty(t)},e.prototype.getItem=function(o){var e=this.items[o];return e?e.item:null},e.prototype.dispose=function(){o.prototype.dispose.call(this),this.items=null,this._isDisposed=!0},e.prototype.isDisposed=function(){return this._isDisposed},e}(o.EventEmitter);e.ItemRegistry=l;var n=function(a){function s(e,d,n,i,o){var r=a.call(this)||this;return r.registry=d,r.context=n,r.lock=i,r.element=o,r.id=e,r.registry.register(r),r.doesHaveChildren=r.context.dataSource.hasChildren(r.context.tree,r.element),r.needsChildrenRefresh=!0,r.parent=null,r.previous=null,r.next=null,r.firstChild=null,r.lastChild=null,r.userContent=null,r.traits={},r.depth=0,r.expanded=r.context.dataSource.shouldAutoexpand&&r.context.dataSource.shouldAutoexpand(r.context.tree,o),r.emit("item:create",{item:r}),r.visible=r._isVisible(),r.height=r._getHeight(),r._isDisposed=!1,r}return Z(s,a),s.prototype.getElement=function(){return this.element},s.prototype.hasChildren=function(){return this.doesHaveChildren},s.prototype.getDepth=function(){return this.depth},s.prototype.isVisible=function(){return this.visible},s.prototype.setVisible=function(t){this.visible=t},s.prototype.isExpanded=function(){return this.expanded},s.prototype._setExpanded=function(t){this.expanded=t},s.prototype.reveal=function(o){void 0===o&&(o=null);var n={item:this,relativeTop:o};this.emit("item:reveal",n)},s.prototype.expand=function(){var o=this;return this.isExpanded()||!this.doesHaveChildren||this.lock.isLocked(this)?b.TPromise.as(!1):this.lock.run(this,function(){var n={item:o};return o.emit("item:expanding",n),(o.needsChildrenRefresh?o.refreshChildren(!1,!0,!0):b.TPromise.as(null)).then(function(){return o._setExpanded(!0),o.emit("item:expanded",n),!0})}).then(function(e){return!o.isDisposed()&&(o.context.options.autoExpandSingleChildren&&e&&null!==o.firstChild&&o.firstChild===o.lastChild&&o.firstChild.isVisible()?o.firstChild.expand().then(function(){return!0}):e)})},s.prototype.collapse=function(o){var i=this;if(void 0===o&&(o=!1),o){var r=b.TPromise.as(null);return this.forEachChild(function(t){r=r.then(function(){return t.collapse(!0)})}),r.then(function(){return i.collapse(!1)})}return!this.isExpanded()||this.lock.isLocked(this)?b.TPromise.as(!1):this.lock.run(this,function(){var o={item:i};return i.emit("item:collapsing",o),i._setExpanded(!1),i.emit("item:collapsed",o),b.TPromise.as(!0)})},s.prototype.addTrait=function(o){var n={item:this,trait:o};this.traits[o]=!0,this.emit("item:addTrait",n)},s.prototype.removeTrait=function(o){var n={item:this,trait:o};delete this.traits[o],this.emit("item:removeTrait",n)},s.prototype.hasTrait=function(t){return this.traits[t]||!1},s.prototype.getAllTraits=function(){var o=[],t;for(t in this.traits)this.traits.hasOwnProperty(t)&&this.traits[t]&&o.push(t);return o},s.prototype.getHeight=function(){return this.height},s.prototype.refreshChildren=function(a,e,t){var p=this;if(void 0===e&&(e=!1),void 0===t&&(t=!1),!t&&!this.isExpanded())return this.needsChildrenRefresh=!0,b.TPromise.as(this);this.needsChildrenRefresh=!1;var i=function(){var t={item:p,isNested:e};return p.emit("item:childrenRefreshing",t),(p.doesHaveChildren?p.context.dataSource.getChildren(p.context.tree,p.element):b.TPromise.as([])).then(function(e){if(p.isDisposed()||p.registry.isDisposed())return b.TPromise.as(null);if(!Array.isArray(e))return b.TPromise.wrapError(new Error("Please return an array of children."));e=e?e.slice(0):[],e=p.sort(e);for(var t={};null!==p.firstChild;)t[p.firstChild.id]=p.firstChild,p.removeChild(p.firstChild);for(var n=0,o=e.length;n<o;n++){var i=e[n],r=p.context.dataSource.getId(p.context.tree,i),l=t[r]||new s(r,p.registry,p.context,p.lock,i);l.element=i,a&&(l.needsChildrenRefresh=a),delete t[r],p.addChild(l)}for(var c in t)t.hasOwnProperty(c)&&t[c].dispose();return a?b.Promise.join(p.mapEachChild(function(e){return e.doRefresh(a,!0)})):b.TPromise.as(null)}).then(null,f.onUnexpectedError).then(function(){return p.emit("item:childrenRefreshed",t)})};return e?i():this.lock.run(this,i)},s.prototype.doRefresh=function(o,e){void 0===e&&(e=!1);var t={item:this};return this.doesHaveChildren=this.context.dataSource.hasChildren(this.context.tree,this.element),this.height=this._getHeight(),this.setVisible(this._isVisible()),this.emit("item:refresh",t),this.refreshChildren(o,e)},s.prototype.refresh=function(t){return this.doRefresh(t)},s.prototype.getNavigator=function(){return new i(this)},s.prototype.intersects=function(t){return this.isAncestorOf(t)||t.isAncestorOf(this)},s.prototype.getHierarchy=function(){var o=[],e=this;do o.push(e),e=e.parent;while(e);return o.reverse(),o},s.prototype.isAncestorOf=function(t){for(;t;){if(t.id===this.id)return!0;t=t.parent}return!1},s.prototype.addChild=function(r,e){void 0===e&&(e=this.lastChild);var t=null===this.firstChild,n=null===e,i=e===this.lastChild;t?(this.firstChild=this.lastChild=r,r.next=r.previous=null):n?(this.firstChild.previous=r,r.next=this.firstChild,r.previous=null,this.firstChild=r):i?(this.lastChild.next=r,r.next=null,r.previous=this.lastChild,this.lastChild=r):(r.previous=e,r.next=e.next,e.next.previous=r,e.next=r),r.parent=this,r.depth=this.depth+1},s.prototype.removeChild=function(o){var e=this.firstChild===o,t=this.lastChild===o;e&&t?this.firstChild=this.lastChild=null:e?(o.next.previous=null,this.firstChild=o.next):t?(o.previous.next=null,this.lastChild=o.previous):(o.next.previous=o.previous,o.previous.next=o.next),o.parent=null,o.depth=null},s.prototype.forEachChild=function(o){for(var e=this.firstChild,n;e;)n=e.next,o(e),e=n},s.prototype.mapEachChild=function(o){var e=[];return this.forEachChild(function(t){e.push(o(t))}),e},s.prototype.sort=function(o){var i=this;return this.context.sorter?o.sort(function(t,e){return i.context.sorter.compare(i.context.tree,t,e)}):o},s.prototype._getHeight=function(){return this.context.renderer.getHeight(this.context.tree,this.element)},s.prototype._isVisible=function(){return this.context.filter.isVisible(this.context.tree,this.element)},s.prototype.isDisposed=function(){return this._isDisposed},s.prototype.dispose=function(){this.forEachChild(function(t){return t.dispose()}),this.parent=null,this.previous=null,this.next=null,this.firstChild=null,this.lastChild=null;var e={item:this};this.emit("item:dispose",e),this.registry.deregister(this),a.prototype.dispose.call(this),this._isDisposed=!0},s}(o.EventEmitter);e.Item=n;var d=function(a){function e(e,s,n,i,o){return a.call(this,e,s,n,i,o)||this}return Z(e,a),e.prototype.isVisible=function(){return!1},e.prototype.setVisible=function(){},e.prototype.isExpanded=function(){return!0},e.prototype._setExpanded=function(){},e.prototype.render=function(){},e.prototype._getHeight=function(){return 0},e.prototype._isVisible=function(){return!1},e}(n),i=function(){function o(o,n){void 0===n&&(n=!0),this.item=o,this.start=n?o:null}return o.lastDescendantOf=function(e){return e?e instanceof d||e.isVisible()&&e.isExpanded()&&null!==e.lastChild?o.lastDescendantOf(e.lastChild):e:null},o.prototype.current=function(){return this.item||null},o.prototype.next=function(){if(this.item)do if((this.item instanceof d||this.item.isVisible()&&this.item.isExpanded())&&this.item.firstChild)this.item=this.item.firstChild;else if(this.item===this.start)this.item=null;else{for(;this.item&&this.item!==this.start&&!this.item.next;)this.item=this.item.parent;this.item===this.start&&(this.item=null),this.item=this.item?this.item.next:null}while(this.item&&!this.item.isVisible());return this.item||null},o.prototype.previous=function(){if(this.item)do{var e=o.lastDescendantOf(this.item.previous);this.item=e?e:this.item.parent&&this.item.parent!==this.start&&this.item.parent.isVisible()?this.item.parent:null}while(this.item&&!this.item.isVisible());return this.item||null},o.prototype.parent=function(){if(this.item){var t=this.item.parent;this.item=t&&t!==this.start&&t.isVisible()?t:null}return this.item||null},o.prototype.first=function(){return this.item=this.start,this.next(),this.item||null},o.prototype.last=function(){return o.lastDescendantOf(this.start)},o}();e.TreeNavigator=i;var p=function(o){function e(e){var i=o.call(this)||this;return i.context=e,i.input=null,i.traitsToItems={},i}return Z(e,o),e.prototype.setInput=function(o){var r=this,e={item:this.input};this.emit("clearingInput",e),this.setSelection([]),this.setFocus(),this.setHighlight(),this.lock=new s,this.input&&this.input.dispose(),this.registry&&(this.registry.dispose(),this.registryDisposable.dispose()),this.registry=new l,this.registryDisposable=y.combinedDisposable([this.addEmitter(this.registry),this.registry.addListener("item:dispose",function(t){t.item.getAllTraits().forEach(function(e){return delete r.traitsToItems[e][t.item.id]})})]);var t=this.context.dataSource.getId(this.context.tree,o);return this.input=new d(t,this.registry,this.context,this.lock,o),e={item:this.input},this.emit("setInput",e),this.refresh(this.input)},e.prototype.getInput=function(){return this.input?this.input.getElement():null},e.prototype.refresh=function(r,e){var a=this;void 0===r&&(r=null),void 0===e&&(e=!0);var n=this.getItem(r);if(!n)return b.TPromise.as(null);var s={item:n,recursive:e};return this.emit("refreshing",s),n.refresh(e).then(function(){a.emit("refreshed",s)})},e.prototype.expand=function(o){var e=this.getItem(o);return e?e.expand():b.TPromise.as(!1)},e.prototype.expandAll=function(a){if(!a){a=[];for(var s=this.getNavigator(),n;n=s.next();)a.push(n)}for(var t=[],i=0,o=a.length;i<o;i++)t.push(this.expand(a[i]));return b.Promise.join(t)},e.prototype.collapse=function(o,e){void 0===e&&(e=!1);var t=this.getItem(o);return t?t.collapse(e):b.TPromise.as(!1)},e.prototype.collapseAll=function(r,e){void 0===r&&(r=null),void 0===e&&(e=!1),r||(r=[this.input],e=!0);for(var t=[],n=0,i=r.length;n<i;n++)t.push(this.collapse(r[n],e));return b.Promise.join(t)},e.prototype.toggleExpansion=function(t){return this.isExpanded(t)?this.collapse(t):this.expand(t)},e.prototype.toggleExpansionAll=function(o){for(var e=[],t=0,n=o.length;t<n;t++)e.push(this.toggleExpansion(o[t]));return b.Promise.join(e)},e.prototype.isExpanded=function(o){var e=this.getItem(o);return!!e&&e.isExpanded()},e.prototype.getExpandedElements=function(){for(var o=[],t=this.getNavigator(),n;n=t.next();)n.isExpanded()&&o.push(n.getElement());return o},e.prototype.reveal=function(o,e){var t=this;return void 0===e&&(e=null),this.resolveUnknownParentChain(o).then(function(o){var n=b.TPromise.as(null);return o.forEach(function(o){n=n.then(function(){return t.expand(o)})}),n}).then(function(){var n=t.getItem(o);if(n)return n.reveal(e)})},e.prototype.resolveUnknownParentChain=function(o){var n=this;return this.context.dataSource.getParent(this.context.tree,o).then(function(o){return o?n.resolveUnknownParentChain(o).then(function(e){return e.push(o),e}):b.TPromise.as([])})},e.prototype.setHighlight=function(o,e){this.setTraits("highlighted",o?[o]:[]);var i={highlight:this.getHighlight(),payload:e};this.emit("highlight",i)},e.prototype.getHighlight=function(o){var e=this.getElementsWithTrait("highlighted",o);return 0===e.length?null:e[0]},e.prototype.isHighlighted=function(o){var e=this.getItem(o);return!!e&&e.hasTrait("highlighted")},e.prototype.select=function(o,e){this.selectAll([o],e)},e.prototype.selectRange=function(a,e,t){var n=this.getItem(a),i=this.getItem(e);n&&i&&this.selectAll(r(n,i),t)},e.prototype.deselectRange=function(a,e,t){var n=this.getItem(a),i=this.getItem(e);n&&i&&this.deselectAll(r(n,i),t)},e.prototype.selectAll=function(o,e){this.addTraits("selected",o);var i={selection:this.getSelection(),payload:e};this.emit("selection",i)},e.prototype.deselect=function(o,e){this.deselectAll([o],e)},e.prototype.deselectAll=function(o,e){this.removeTraits("selected",o);var i={selection:this.getSelection(),payload:e};this.emit("selection",i)},e.prototype.setSelection=function(o,e){this.setTraits("selected",o);var i={selection:this.getSelection(),payload:e};this.emit("selection",i)},e.prototype.toggleSelection=function(o,e){this.toggleTrait("selected",o);var i={selection:this.getSelection(),payload:e};this.emit("selection",i)},e.prototype.isSelected=function(o){var e=this.getItem(o);return!!e&&e.hasTrait("selected")},e.prototype.getSelection=function(t){return this.getElementsWithTrait("selected",t)},e.prototype.selectNext=function(d,e,t){void 0===d&&(d=1),void 0===e&&(e=!0);for(var n=this.getSelection(),o=0<n.length?n[0]:this.input,r=this.getNavigator(o,!1),s=0,a;s<d&&(a=r.next());s++)o=a;e?this.setSelection([o],t):this.select(o,t)},e.prototype.selectPrevious=function(d,e,t){void 0===d&&(d=1),void 0===e&&(e=!0);var n=this.getSelection(),i=null,o=null;if(0===n.length){for(r=this.getNavigator(this.input);i=r.next();)o=i;i=o}else{i=n[0];for(var r=this.getNavigator(i,!1),s=0;s<d&&(o=r.previous());s++)i=o}e?this.setSelection([i],t):this.select(i,t)},e.prototype.selectParent=function(r,e){void 0===e&&(e=!0);var t=this.getSelection(),n=0<t.length?t[0]:this.input,i=this.getNavigator(n,!1).parent();i&&(e?this.setSelection([i],r):this.select(i,r))},e.prototype.setFocus=function(o,e){this.setTraits("focused",o?[o]:[]);var i={focus:this.getFocus(),payload:e};this.emit("focus",i)},e.prototype.isFocused=function(o){var e=this.getItem(o);return!!e&&e.hasTrait("focused")},e.prototype.getFocus=function(o){var e=this.getElementsWithTrait("focused",o);return 0===e.length?null:e[0]},e.prototype.focusNext=function(a,e){void 0===a&&(a=1);for(var t=this.getFocus()||this.input,i=this.getNavigator(t,!1),o=0,r;o<a&&(r=i.next());o++)t=r;this.setFocus(t,e)},e.prototype.focusPrevious=function(a,e){void 0===a&&(a=1);for(var t=this.getFocus()||this.input,i=this.getNavigator(t,!1),o=0,r;o<a&&(r=i.previous());o++)t=r;this.setFocus(t,e)},e.prototype.focusParent=function(o){var e=this.getFocus()||this.input,t=this.getNavigator(e,!1).parent();t&&this.setFocus(t,o)},e.prototype.focusFirstChild=function(o){var e=this.getItem(this.getFocus()||this.input),t=this.getNavigator(e,!1),n=t.next();t.parent()===e&&this.setFocus(n,o)},e.prototype.focusFirst=function(o,e){this.focusNth(0,o,e)},e.prototype.focusNth=function(a,e,t){for(var n=this.getParent(t),i=this.getNavigator(n),o=i.first(),r=0;r<a;r++)o=i.next();o&&this.setFocus(o,e)},e.prototype.focusLast=function(o,e){var t=this.getParent(e),i;(i=e?t.lastChild:this.getNavigator(t).last())&&this.setFocus(i,o)},e.prototype.getParent=function(o){if(o){var e=this.getItem(o);if(e&&e.parent)return e.parent}return this.getItem(this.input)},e.prototype.getNavigator=function(o,e){return void 0===o&&(o=null),void 0===e&&(e=!0),new i(this.getItem(o),e)},e.prototype.getItem=function(t){return void 0===t&&(t=null),null===t?this.input:t instanceof n?t:"string"==typeof t?this.registry.getItem(t):this.registry.getItem(this.context.dataSource.getId(this.context.tree,t))},e.prototype.addTraits=function(a,e){for(var t=this.traitsToItems[a]||{},i=0,o=e.length,r;i<o;i++)(r=this.getItem(e[i]))&&(r.addTrait(a),t[r.id]=r);this.traitsToItems[a]=t},e.prototype.removeTraits=function(a,e){var t=this.traitsToItems[a]||{},o,n;if(0===e.length){for(n in t)t.hasOwnProperty(n)&&(o=t[n]).removeTrait(a);delete this.traitsToItems[a]}else for(var i=0,r=e.length;i<r;i++)(o=this.getItem(e[i]))&&(o.removeTrait(a),delete t[o.id])},e.prototype.hasTrait=function(o,e){var t=this.getItem(e);return t&&t.hasTrait(o)},e.prototype.toggleTrait=function(o,e){var t=this.getItem(e);t&&(t.hasTrait(o)?this.removeTraits(o,[e]):this.addTraits(o,[e]))},e.prototype.setTraits=function(d,e){if(0===e.length)this.removeTraits(d,e);else{for(var t={},i=0,o=e.length,r;i<o;i++)(r=this.getItem(e[i]))&&(t[r.id]=r);var n=this.traitsToItems[d]||{},a=[],l;for(l in n)n.hasOwnProperty(l)&&(t.hasOwnProperty(l)?delete t[l]:a.push(n[l]));for(var i=0,o=a.length;i<o;i++)(r=a[i]).removeTrait(d),delete n[r.id];for(l in t)t.hasOwnProperty(l)&&((r=t[l]).addTrait(d),n[l]=r);this.traitsToItems[d]=n}},e.prototype.getElementsWithTrait=function(r,e){var t=[],i=this.traitsToItems[r]||{},o;for(o in i)i.hasOwnProperty(o)&&(i[o].isVisible()||e)&&t.push(i[o].getElement());return t},e.prototype.dispose=function(){this.registry&&(this.registry.dispose(),this.registry=null),o.prototype.dispose.call(this)},e}(o.EventEmitter);e.TreeModel=p}),define(s[472],n([1,0,38,107]),function(r,e,t,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(o){function e(){var e=o.call(this)||this;return e.heightMap=[],e.indexes={},e}return Z(e,o),e.prototype.getTotalHeight=function(){var t=this.heightMap[this.heightMap.length-1];return t?t.top+t.height:0},e.prototype.onInsertItems=function(d,e){void 0===e&&(e=null);var t=0,a,n,i,o,r;if(null===e)i=0,r=0;else{if(i=this.indexes[e]+1,!(n=this.heightMap[i-1]))return void console.error("view item doesnt exist");r=n.top+n.height}for(var s=this.heightMap.splice.bind(this.heightMap,i,0),p=[];a=d.next();)(n=this.createViewItem(a)).top=r+t,this.emit("viewItem:create",{item:n.model}),this.indexes[a.id]=i++,p.push(n),t+=n.height;for(s.apply(this.heightMap,p),o=i;o<this.heightMap.length;o++)(n=this.heightMap[o]).top+=t,this.indexes[n.model.id]=o;for(o=p.length-1;0<=o;o--)this.onInsertItem(p[o]);for(o=this.heightMap.length-1;o>=i;o--)this.onRefreshItem(this.heightMap[o]);return t},e.prototype.onInsertItem=function(){},e.prototype.onRemoveItems=function(a){for(var e=null,o=0,r,t,n;r=a.next();){if(n=this.indexes[r],!(t=this.heightMap[n]))return void console.error("view item doesnt exist");o-=t.height,delete this.indexes[r],this.onRemoveItem(t),null===e&&(e=n)}if(0!==o)for(this.heightMap.splice(e,n-e+1),n=e;n<this.heightMap.length;n++)(t=this.heightMap[n]).top+=o,this.indexes[t.model.id]=n,this.onRefreshItem(t)},e.prototype.onRemoveItem=function(){},e.prototype.onRefreshItemSet=function(o){var i=this,e=o.sort(function(t,e){return i.indexes[t.id]-i.indexes[e.id]});this.onRefreshItems(new a.ArrayIterator(e))},e.prototype.onRefreshItems=function(a){for(var e=null,r=0,s,t,n,i;s=a.next();){for(i=this.indexes[s.id];0!==r&&null!==e&&e<i;e++)(t=this.heightMap[e]).top+=r,this.onRefreshItem(t);t=this.heightMap[i],n=s.getHeight(),t.top+=r,r+=n-t.height,t.height=n,this.onRefreshItem(t,!0),e=i+1}if(0!==r&&null!==e)for(;e<this.heightMap.length;e++)(t=this.heightMap[e]).top+=r,this.onRefreshItem(t)},e.prototype.onRefreshItem=function(o,e){void 0===e&&(e=!1)},e.prototype.itemsCount=function(){return this.heightMap.length},e.prototype.itemAt=function(t){return this.heightMap[this.indexAt(t)].model.id},e.prototype.withItemsInRange=function(o,e,t){o=this.indexAt(o),e=this.indexAt(e);for(var n=o;n<=e;n++)t(this.heightMap[n].model.id)},e.prototype.indexAt=function(r){for(var e=0,i=this.heightMap.length,o,t;e<i;)if(o=M((e+i)/2),t=this.heightMap[o],r<t.top)i=o;else{if(!(r>=t.top+t.height))return o;if(e===o)break;e=o}return this.heightMap.length},e.prototype.indexAfter=function(t){return q(this.indexAt(t)+1,this.heightMap.length)},e.prototype.itemAtIndex=function(t){return this.heightMap[t]},e.prototype.itemAfter=function(t){return this.heightMap[this.indexes[t.model.id]+1]||null},e.prototype.createViewItem=function(){throw new Error("not implemented")},e.prototype.dispose=function(){this.heightMap=null,this.indexes=null},e}(t.EventEmitter);e.HeightMap=n}),define(s[473],n([1,0,15,197]),function(a,e,d,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=function(o,e){return void 0===e&&(e=!1),d.globals.MonacoEnvironment&&d.globals.MonacoEnvironment.hasOwnProperty(o)?d.globals.MonacoEnvironment[o]:e}("getWorkerUrl",null)||function(e,t){return a.toUrl("./"+e)+"#"+t},i=function(){function t(o,a,t,n,i){this.id=a,this.worker=new Worker(l("workerMain.js",t)),this.postMessage(o),this.worker.onmessage=function(t){n(t.data)},"function"==typeof this.worker.addEventListener&&this.worker.addEventListener("error",i)}return t.prototype.getId=function(){return this.id},t.prototype.postMessage=function(t){this.worker&&this.worker.postMessage(t)},t.prototype.dispose=function(){this.worker.terminate(),this.worker=null},t}(),o=function(){function r(t){this._label=t,this._webWorkerFailedBeforeError=!1}return r.prototype.create=function(e,d,n){var o=this,s=++r.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new i(e,s,this._label||"anonymous"+s,d,function(i){t.logOnceWebWorkerWarning(i),o._webWorkerFailedBeforeError=i,n(i)})},r.LAST_WORKER_ID=0,r}();e.DefaultWorkerFactory=o}),define(s[484],n([5]),{}),define(s[52],n([1,0,7,29,3,9,72,4,484]),function(f,e,T,I,n,i,k,D){"use strict";function t(o,e){k.ok(I.isString(o),"Expected String as parameter");var t=document.getElementById(o);return t?new L(t,e):null}function a(t){return t[O]||(t[O]={}),t[O]}function s(t){return!!t[O]}function r(o,e){return o instanceof x?new x(o):new L(o.getHTMLElement(),e)}function d(o,e){return new L(o,e)}function h(){return new L(null,!0)}function o(o,e,t){a(o)[e]=t}function l(i,e,t){if(s(i)){var n=a(i)[e];if(!I.isUndefined(n))return n}return t}function p(o,e){s(o)&&delete a(o)[e]}function c(n,e){o(n,b,e)}function R(t){p(t,b)}function P(t){return l(t,b)}Object.defineProperty(e,"__esModule",{value:!0}),e.withElementById=t,e.Build={withElementById:t};var O="_msDataKey",b="__$binding",w=function(){return function(o,e){this.x=o,this.y=e}}();e.Position=w;var S=function(){return function(o,e,t,n){this.top=o,this.right=e,this.bottom=t,this.left=n}}();e.Box=S;var E=function(){function o(o,n){this.width=o,this.height=n}return o.prototype.substract=function(e){return new o(this.width-e.left-e.right,this.height-e.top-e.bottom)},o}();e.Dimension=E;var L=function(){function p(o,n){this.offdom=n,this.container=o,this.currentElement=o,this.createdElements=[],this.toUnbind={},this.captureToUnbind={}}return p.prototype.asContainer=function(){return r(this,this.offdom)},p.prototype.clone=function(){var e=new p(this.container,this.offdom);return e.currentElement=this.currentElement,e.createdElements=this.createdElements,e.captureToUnbind=this.captureToUnbind,e.toUnbind=this.toUnbind,e},p.prototype.and=function(e){e instanceof p||e instanceof x||(e=new p(e,this.offdom));var t=[this];if(e instanceof x)for(var o=0;o<e.length;o++)t.push(e.item(o));else t.push(e);return new x(t)},p.prototype.build=function(e,t){k.ok(this.offdom,"This builder was not created off-dom, so build() can not be called."),e?e instanceof p&&(e=e.getHTMLElement()):e=this.container,k.ok(e,"Builder can only be build() with a container provided."),k.ok(D.isHTMLElement(e),"The container must either be a HTMLElement or a Builder.");var n=e,i=n.childNodes,a,o;if(I.isNumber(t)&&t<i.length)for(a=0,o=this.createdElements.length;a<o;a++)n.insertBefore(this.createdElements[a],i[t++]);else for(a=0,o=this.createdElements.length;a<o;a++)n.appendChild(this.createdElements[a]);return this},p.prototype.appendTo=function(e,t){e?e instanceof p&&(e=e.getHTMLElement()):e=this.container,k.ok(e,"Builder can only be build() with a container provided."),k.ok(D.isHTMLElement(e),"The container must either be a HTMLElement or a Builder.");var n=e;this.currentElement.parentNode&&this.currentElement.parentNode.removeChild(this.currentElement);var o=n.childNodes;return I.isNumber(t)&&t<o.length?n.insertBefore(this.currentElement,o[t]):n.appendChild(this.currentElement),this},p.prototype.append=function(e,t){return k.ok(e,"Need a child to append"),D.isHTMLElement(e)&&(e=d(e)),k.ok(e instanceof p||e instanceof x,"Need a child to append"),e.appendTo(this,t),this},p.prototype.offDOM=function(){return this.currentElement.parentNode&&this.currentElement.parentNode.removeChild(this.currentElement),this},p.prototype.getHTMLElement=function(){return this.currentElement},p.prototype.getContainer=function(){return this.container},p.prototype.div=function(o,e){return this.doElement("div",o,e)},p.prototype.p=function(o,e){return this.doElement("p",o,e)},p.prototype.ul=function(o,e){return this.doElement("ul",o,e)},p.prototype.ol=function(o,e){return this.doElement("ol",o,e)},p.prototype.li=function(o,e){return this.doElement("li",o,e)},p.prototype.span=function(o,e){return this.doElement("span",o,e)},p.prototype.img=function(o,e){return this.doElement("img",o,e)},p.prototype.a=function(o,e){return this.doElement("a",o,e)},p.prototype.header=function(o,e){return this.doElement("header",o,e)},p.prototype.section=function(o,e){return this.doElement("section",o,e)},p.prototype.footer=function(o,e){return this.doElement("footer",o,e)},p.prototype.element=function(o,e,t){return this.doElement(o,e,t)},p.prototype.doElement=function(e,t,n){var o=document.createElement(e);if(this.currentElement=o,this.offdom&&this.createdElements.push(o),I.isObject(t)&&this.attr(t),I.isFunction(t)&&(n=t),I.isFunction(n)){var i=new p(o);n.call(i,i)}return this.offdom||this.container.appendChild(o),this},p.prototype.domFocus=function(){return this.currentElement.focus(),this},p.prototype.hasFocus=function(){return document.activeElement===this.currentElement},p.prototype.domSelect=function(o){void 0===o&&(o=null);var e=this.currentElement;return e.select(),o&&e.setSelectionRange(o.start,o.end),this},p.prototype.domBlur=function(){return this.currentElement.blur(),this},p.prototype.domClick=function(){return this.currentElement.click(),this},p.prototype.on=function(i,a,t,n){var o=this;if(I.isArray(i))i.forEach(function(i){o.on(i,a,t,n)});else{var e=i,r=D.addDisposableListener(this.currentElement,e,function(t){a(t,o,r)},n||!1);n?(this.captureToUnbind[e]||(this.captureToUnbind[e]=[]),this.captureToUnbind[e].push(r)):(this.toUnbind[e]||(this.toUnbind[e]=[]),this.toUnbind[e].push(r));var s=this.getProperty("__$listeners",[]);s.push(r),this.setProperty("__$listeners",s),t&&I.isArray(t)&&t.push(r)}return this},p.prototype.off=function(o,e){var t=this;if(I.isArray(o))o.forEach(function(o){t.off(o)});else{var i=o;e?this.captureToUnbind[i]&&(this.captureToUnbind[i]=n.dispose(this.captureToUnbind[i])):this.toUnbind[i]&&(this.toUnbind[i]=n.dispose(this.toUnbind[i]))}return this},p.prototype.once=function(i,a,e,t){var o=this;if(I.isArray(i))i.forEach(function(t){o.once(t,a)});else{var n=D.addDisposableListener(this.currentElement,i,function(t){a(t,o,n),n.dispose()},t||!1);e&&I.isArray(e)&&e.push(n)}return this},p.prototype.preventDefault=function(o,r,e,t){return this.on(o,function(t){t.preventDefault(),r&&(t.stopPropagation?t.stopPropagation():t.cancelBubble=!0)},e,t)},p.prototype.attr=function(i,e){if(I.isObject(i)){for(var t in i)if(i.hasOwnProperty(t)){var n=i[t];this.doSetAttr(t,n)}return this}return I.isString(i)&&!I.isString(e)?this.currentElement.getAttribute(i):(I.isString(i)&&(I.isString(e)||(e=e+""),this.doSetAttr(i,e)),this)},p.prototype.doSetAttr=function(o,e){"class"===o&&(o="addClass"),this[o]?I.isArray(e)?this[o].apply(this,e):this[o].call(this,e):this.currentElement.setAttribute(o,e)},p.prototype.removeAttribute=function(t){this.currentElement.removeAttribute(t)},p.prototype.id=function(t){return this.currentElement.setAttribute("id",t),this},p.prototype.src=function(t){return this.currentElement.setAttribute("src",t),this},p.prototype.href=function(t){return this.currentElement.setAttribute("href",t),this},p.prototype.title=function(t){return this.currentElement.setAttribute("title",t),this},p.prototype.name=function(t){return this.currentElement.setAttribute("name",t),this},p.prototype.type=function(t){return this.currentElement.setAttribute("type",t),this},p.prototype.value=function(t){return this.currentElement.setAttribute("value",t),this},p.prototype.alt=function(t){return this.currentElement.setAttribute("alt",t),this},p.prototype.draggable=function(t){return this.currentElement.setAttribute("draggable",t?"true":"false"),this},p.prototype.tabindex=function(t){return this.currentElement.setAttribute("tabindex",t.toString()),this},p.prototype.style=function(i,e){if(I.isObject(i)){for(var t in i)if(i.hasOwnProperty(t)){var n=i[t];this.doSetStyle(t,n)}return this}var o=I.isString(i);return o&&I.isUndefined(e)?this.currentElement.style[this.cssKeyToJavaScriptProperty(i)]:(o&&this.doSetStyle(i,e),this)},p.prototype.doSetStyle=function(r,e){if(0<=r.indexOf("-")){var t=r.split("-");r=t[0];for(var n=1,i;n<t.length;n++)i=t[n],r=r+i.charAt(0).toUpperCase()+i.substr(1)}this.currentElement.style[this.cssKeyToJavaScriptProperty(r)]=e},p.prototype.cssKeyToJavaScriptProperty=function(o){if(0<=o.indexOf("-")){var e=o.split("-");o=e[0];for(var t=1,n;t<e.length;t++)n=e[t],o=o+n.charAt(0).toUpperCase()+n.substr(1)}else"float"===o&&(o="cssFloat");return o},p.prototype.getComputedStyle=function(){return D.getComputedStyle(this.currentElement)},p.prototype.addClass=function(){for(var o=this,e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.forEach(function(e){e.split(" ").forEach(function(e){D.addClass(o.currentElement,e)})}),this},p.prototype.setClass=function(o,e){return void 0===e&&(e=null),null===e?this.currentElement.className=o:e?this.addClass(o):this.removeClass(o),this},p.prototype.hasClass=function(t){return D.hasClass(this.currentElement,t)},p.prototype.removeClass=function(){for(var o=this,e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.forEach(function(e){e.split(" ").forEach(function(e){D.removeClass(o.currentElement,e)})}),this},p.prototype.swapClass=function(o,e){return this.hasClass(o)?(this.removeClass(o),this.addClass(e)):(this.removeClass(e),this.addClass(o)),this},p.prototype.toggleClass=function(t){return this.hasClass(t)?this.removeClass(t):this.addClass(t),this},p.prototype.color=function(t){return this.currentElement.style.color=t,this},p.prototype.background=function(t){return this.currentElement.style.backgroundColor=t,this},p.prototype.padding=function(i,e,t,n){return I.isString(i)&&0<=i.indexOf(" ")?this.padding.apply(this,i.split(" ")):(I.isUndefinedOrNull(i)||(this.currentElement.style.paddingTop=this.toPixel(i)),I.isUndefinedOrNull(e)||(this.currentElement.style.paddingRight=this.toPixel(e)),I.isUndefinedOrNull(t)||(this.currentElement.style.paddingBottom=this.toPixel(t)),I.isUndefinedOrNull(n)||(this.currentElement.style.paddingLeft=this.toPixel(n)),this)},p.prototype.margin=function(i,e,t,n){return I.isString(i)&&0<=i.indexOf(" ")?this.margin.apply(this,i.split(" ")):(I.isUndefinedOrNull(i)||(this.currentElement.style.marginTop=this.toPixel(i)),I.isUndefinedOrNull(e)||(this.currentElement.style.marginRight=this.toPixel(e)),I.isUndefinedOrNull(t)||(this.currentElement.style.marginBottom=this.toPixel(t)),I.isUndefinedOrNull(n)||(this.currentElement.style.marginLeft=this.toPixel(n)),this)},p.prototype.position=function(i,e,t,n,o){return I.isString(i)&&0<=i.indexOf(" ")?this.position.apply(this,i.split(" ")):(I.isUndefinedOrNull(i)||(this.currentElement.style.top=this.toPixel(i)),I.isUndefinedOrNull(e)||(this.currentElement.style.right=this.toPixel(e)),I.isUndefinedOrNull(t)||(this.currentElement.style.bottom=this.toPixel(t)),I.isUndefinedOrNull(n)||(this.currentElement.style.left=this.toPixel(n)),o||(o="absolute"),this.currentElement.style.position=o,this)},p.prototype.size=function(o,e){return I.isString(o)&&0<=o.indexOf(" ")?this.size.apply(this,o.split(" ")):(I.isUndefinedOrNull(o)||(this.currentElement.style.width=this.toPixel(o)),I.isUndefinedOrNull(e)||(this.currentElement.style.height=this.toPixel(e)),this)},p.prototype.minSize=function(o,e){return I.isString(o)&&0<=o.indexOf(" ")?this.minSize.apply(this,o.split(" ")):(I.isUndefinedOrNull(o)||(this.currentElement.style.minWidth=this.toPixel(o)),I.isUndefinedOrNull(e)||(this.currentElement.style.minHeight=this.toPixel(e)),this)},p.prototype.maxSize=function(o,e){return I.isString(o)&&0<=o.indexOf(" ")?this.maxSize.apply(this,o.split(" ")):(I.isUndefinedOrNull(o)||(this.currentElement.style.maxWidth=this.toPixel(o)),I.isUndefinedOrNull(e)||(this.currentElement.style.maxHeight=this.toPixel(e)),this)},p.prototype.float=function(t){return this.currentElement.style.cssFloat=t,this},p.prototype.clear=function(t){return this.currentElement.style.clear=t,this},p.prototype.normal=function(){return this.currentElement.style.fontStyle="normal",this.currentElement.style.fontWeight="normal",this.currentElement.style.textDecoration="none",this},p.prototype.italic=function(){return this.currentElement.style.fontStyle="italic",this},p.prototype.bold=function(){return this.currentElement.style.fontWeight="bold",this},p.prototype.underline=function(){return this.currentElement.style.textDecoration="underline",this},p.prototype.overflow=function(t){return this.currentElement.style.overflow=t,this},p.prototype.display=function(t){return this.currentElement.style.display=t,this},p.prototype.disable=function(){return this.currentElement.setAttribute("disabled","disabled"),this},p.prototype.enable=function(){return this.currentElement.removeAttribute("disabled"),this},p.prototype.show=function(){return this.hasClass("builder-hidden")&&this.removeClass("builder-hidden"),this.attr("aria-hidden","false"),this.cancelVisibilityPromise(),this},p.prototype.showDelayed=function(o){var e=this;this.cancelVisibilityPromise();var t=T.TPromise.timeout(o);return this.setProperty("__$visibility",t),t.done(function(){e.removeProperty("__$visibility"),e.show()}),this},p.prototype.hide=function(){return this.hasClass("builder-hidden")||this.addClass("builder-hidden"),this.attr("aria-hidden","true"),this.cancelVisibilityPromise(),this},p.prototype.isHidden=function(){return this.hasClass("builder-hidden")||"none"===this.currentElement.style.display},p.prototype.toggleVisibility=function(){return this.cancelVisibilityPromise(),this.swapClass("builder-visible","builder-hidden"),this.isHidden()?this.attr("aria-hidden","true"):this.attr("aria-hidden","false"),this},p.prototype.cancelVisibilityPromise=function(){var t=this.getProperty("__$visibility");t&&(t.cancel(),this.removeProperty("__$visibility"))},p.prototype.border=function(o,e,t){return I.isString(o)&&0<=o.indexOf(" ")?this.border.apply(this,o.split(" ")):(this.currentElement.style.borderWidth=this.toPixel(o),t&&(this.currentElement.style.borderColor=t),e&&(this.currentElement.style.borderStyle=e),this)},p.prototype.borderTop=function(o,e,t){return I.isString(o)&&0<=o.indexOf(" ")?this.borderTop.apply(this,o.split(" ")):(this.currentElement.style.borderTopWidth=this.toPixel(o),t&&(this.currentElement.style.borderTopColor=t),e&&(this.currentElement.style.borderTopStyle=e),this)},p.prototype.borderBottom=function(o,e,t){return I.isString(o)&&0<=o.indexOf(" ")?this.borderBottom.apply(this,o.split(" ")):(this.currentElement.style.borderBottomWidth=this.toPixel(o),t&&(this.currentElement.style.borderBottomColor=t),e&&(this.currentElement.style.borderBottomStyle=e),this)},p.prototype.borderLeft=function(o,e,t){return I.isString(o)&&0<=o.indexOf(" ")?this.borderLeft.apply(this,o.split(" ")):(this.currentElement.style.borderLeftWidth=this.toPixel(o),t&&(this.currentElement.style.borderLeftColor=t),e&&(this.currentElement.style.borderLeftStyle=e),this)},p.prototype.borderRight=function(o,e,t){return I.isString(o)&&0<=o.indexOf(" ")?this.borderRight.apply(this,o.split(" ")):(this.currentElement.style.borderRightWidth=this.toPixel(o),t&&(this.currentElement.style.borderRightColor=t),e&&(this.currentElement.style.borderRightStyle=e),this)},p.prototype.textAlign=function(t){return this.currentElement.style.textAlign=t,this},p.prototype.verticalAlign=function(t){return this.currentElement.style.verticalAlign=t,this},p.prototype.toPixel=function(t){return-1===t.toString().indexOf("px")?t.toString()+"px":t},p.prototype.innerHtml=function(o,e){return e?this.currentElement.innerHTML+=o:this.currentElement.innerHTML=o,this},p.prototype.text=function(o,e){return e?0===this.currentElement.children.length?this.currentElement.textContent+=o:this.currentElement.appendChild(document.createTextNode(o)):this.currentElement.textContent=o,this},p.prototype.safeInnerHtml=function(o,e){return this.innerHtml(i.escape(o),e)},p.prototype.bind=function(t){return c(this.currentElement,t),this},p.prototype.unbind=function(){return R(this.currentElement),this},p.prototype.getBinding=function(){return P(this.currentElement)},p.prototype.setProperty=function(n,e){return o(this.currentElement,n,e),this},p.prototype.getProperty=function(o,e){return l(this.currentElement,o,e)},p.prototype.removeProperty=function(t){return s(this.currentElement)&&delete a(this.currentElement)[t],this},p.prototype.parent=function(t){return k.ok(!this.offdom,"Builder was created with offdom = true and thus has no parent set"),d(this.currentElement.parentNode,t)},p.prototype.children=function(o){for(var e=this.currentElement.children,t=[],n=0;n<e.length;n++)t.push(d(e.item(n),o));return new x(t)},p.prototype.child=function(t){return void 0===t&&(t=0),d(this.currentElement.children.item(t))},p.prototype.removeChild=function(t){return this.currentElement===t.parent().getHTMLElement()&&this.currentElement.removeChild(t.getHTMLElement()),this},p.prototype.select=function(i,e){k.ok(I.isString(i),"Expected String as parameter");for(var t=this.currentElement.querySelectorAll(i),n=[],o=0;o<t.length;o++)n.push(d(t.item(o),e));return new x(n)},p.prototype.matches=function(o){var e=this.currentElement,t=e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector;return t&&t.call(e,o)},p.prototype.isEmpty=function(){return!this.currentElement.childNodes||0===this.currentElement.childNodes.length},p.prototype.unbindDescendants=function(i){if(i&&i.children)for(var e=0,t=i.children.length,n;e<t;e++){if(n=i.children.item(e),s(n)){var o=a(n).__$listeners;if(I.isArray(o))for(;o.length;)o.pop().dispose();delete n[O]}this.unbindDescendants(n)}},p.prototype.empty=function(){return this.unbindDescendants(this.currentElement),this.clearChildren(),this.offdom&&(this.createdElements=[]),this},p.prototype.clearChildren=function(){return this.currentElement&&D.clearNode(this.currentElement),this},p.prototype.destroy=function(){if(this.currentElement&&(this.currentElement.parentNode&&this.currentElement.parentNode.removeChild(this.currentElement),this.empty(),s(this.currentElement))){var o=a(this.currentElement).__$listeners;if(I.isArray(o))for(;o.length;)o.pop().dispose();delete this.currentElement[O]}for(var e in this.toUnbind)this.toUnbind.hasOwnProperty(e)&&I.isArray(this.toUnbind[e])&&(this.toUnbind[e]=n.dispose(this.toUnbind[e]));for(e in this.captureToUnbind)this.captureToUnbind.hasOwnProperty(e)&&I.isArray(this.captureToUnbind[e])&&(this.captureToUnbind[e]=n.dispose(this.captureToUnbind[e]));this.currentElement=null,this.container=null,this.offdom=null,this.createdElements=null,this.captureToUnbind=null,this.toUnbind=null},p.prototype.dispose=function(){this.destroy()},p.prototype.getTotalSize=function(){var o=D.getTotalWidth(this.currentElement),e=D.getTotalHeight(this.currentElement);return new E(o,e)},p.prototype.getContentSize=function(){var o=D.getContentWidth(this.currentElement),e=D.getContentHeight(this.currentElement);return new E(o,e)},p.prototype.getClientArea=function(){if(this.currentElement!==document.body)return new E(this.currentElement.clientWidth,this.currentElement.clientHeight);if(window.innerWidth&&window.innerHeight)return new E(window.innerWidth,window.innerHeight);if(document.body&&document.body.clientWidth&&document.body.clientWidth)return new E(document.body.clientWidth,document.body.clientHeight);if(document.documentElement&&document.documentElement.clientWidth&&document.documentElement.clientHeight)return new E(document.documentElement.clientWidth,document.documentElement.clientHeight);throw new Error("Unable to figure out browser width and height")},p}();e.Builder=L;var x=function(i){function p(e){var t=this;if(k.ok(I.isArray(e)||e instanceof p,"Expected Array or MultiBuilder as parameter"),t=i.call(this)||this,t.length=0,t.builders=[],I.isArray(e))for(o=0;o<e.length;o++)e[o]instanceof HTMLElement?t.push(d(e[o])):t.push(e[o]);else for(var o=0;o<e.length;o++)t.push(e.item(o));var c=t;for(var n in L.prototype)"clone"!==n&&"and"!==n&&L.prototype.hasOwnProperty(n)&&I.isFunction(L.prototype[n])&&function(t){c[t]=function(){for(var e=Array.prototype.slice.call(arguments),o=!1,i=0,r,n;i<c.length;i++)if(n=c.item(i)[t].apply(c.item(i),e),n instanceof p){r||(r=[]),o=!0;for(var a=0;a<n.length;a++)r.push(n.item(a))}else I.isUndefined(n)||n instanceof L||(r||(r=[]),r.push(n));return r&&o?new p(r):r||c}}(n);return t}return Z(p,i),p.prototype.item=function(t){return this.builders[t]},p.prototype.push=function(){for(var o=[],e=0;e<arguments.length;e++)o[e]=arguments[e];for(var t=0;t<o.length;t++)this.builders.push(o[t]);this.length=this.builders.length},p.prototype.pop=function(){var t=this.builders.pop();return this.length=this.builders.length,t},p.prototype.concat=function(o){var e=this.builders.concat(o);return this.length=this.builders.length,e},p.prototype.shift=function(){var t=this.builders.shift();return this.length=this.builders.length,t},p.prototype.unshift=function(o){var e=this.builders.unshift(o);return this.length=this.builders.length,e},p.prototype.slice=function(o,e){var t=this.builders.slice(o,e);return this.length=this.builders.length,t},p.prototype.splice=function(o,e){var t=this.builders.splice(o,e);return this.length=this.builders.length,t},p.prototype.clone=function(){return new p(this)},p.prototype.and=function(t){t instanceof L||t instanceof p||(t=new L(t));var e=[];if(t instanceof p)for(var o=0;o<t.length;o++)e.push(t.item(o));else e.push(t);return this.push.apply(this,e),this},p}(L);e.MultiBuilder=x,e.setPropertyOnElement=o,e.getPropertyFromElement=l,e.removePropertyFromElement=p,e.bindElement=c,e.unbindElement=R,e.getBindingFromElement=P,e.Binding={setPropertyOnElement:o,getPropertyFromElement:l,removePropertyFromElement:p,bindElement:c,unbindElement:R,getBindingFromElement:P};var N=/([\w\-]+)?(#([\w\-]+))?((.([\w\-]+))*)/;e.$=function(a){if(I.isUndefined(a))return h();if(!a)throw new Error("Bad use of $");if(D.isHTMLElement(a)||a===window)return d(a);if(I.isArray(a))return new x(a);if(a instanceof L)return r(a);if(I.isString(a)){if("<"===a[0]){var p=document.createElement("div"),n;if(p.innerHTML=i.format.apply(i,arguments),0===p.children.length)throw new Error("Bad use of $");if(1===p.children.length)return n=p.firstChild,p.removeChild(n),d(n);for(var t=[];p.firstChild;)n=p.firstChild,p.removeChild(n),t.push(d(n));return new x(t)}if(1===arguments.length){var o=N.exec(a);if(!o)throw new Error("Bad use of $");var m=o[1]||"div",u=o[3]||void 0,l=(o[4]||"").replace(/\./g," "),c={};return u&&(c.id=u),l&&(c.class=l),h().element(m,c)}var _=h();return _.element.apply(_,arguments),_}throw new Error("Bad use of $")},e.$.Box=S,e.$.Dimension=E,e.$.Position=w,e.$.Builder=L,e.$.MultiBuilder=x,e.$.Build=e.Build,e.$.Binding=e.Binding}),define(s[496],n([5]),{}),define(s[500],n([5]),{}),define(s[505],n([5]),{}),define(s[506],n([1,0,4,26,41,32,505]),function(d,e,t,l,n,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={inputActiveOptionBorder:o.Color.fromHex("#007ACC")},r=function(o){function e(e){var r=o.call(this)||this;return r._opts=l.clone(e),l.mixin(r._opts,i,!1),r._checked=r._opts.isChecked,r.domNode=document.createElement("div"),r.domNode.title=r._opts.title,r.domNode.className=r._className(),r.domNode.tabIndex=0,r.domNode.setAttribute("role","checkbox"),r.domNode.setAttribute("aria-checked",r._checked+""),r.domNode.setAttribute("aria-label",r._opts.title),r.applyStyles(),r.onclick(r.domNode,function(t){r.checked=!r._checked,r._opts.onChange(!1),t.preventDefault()}),r.onkeydown(r.domNode,function(t){return 10===t.keyCode||3===t.keyCode?(r.checked=!r._checked,r._opts.onChange(!0),void t.preventDefault()):void(r._opts.onKeyDown&&r._opts.onKeyDown(t))}),r}return Z(e,o),e.prototype.focus=function(){this.domNode.focus()},Object.defineProperty(e.prototype,"checked",{get:function(){return this._checked},set:function(t){this._checked=t,this.domNode.setAttribute("aria-checked",this._checked+""),this.domNode.className=this._className(),this.applyStyles()},enumerable:!0,configurable:!0}),e.prototype._className=function(){return"custom-checkbox "+this._opts.actionClassName+" "+(this._checked?"checked":"unchecked")},e.prototype.width=function(){return 22},e.prototype.style=function(t){t.inputActiveOptionBorder&&(this._opts.inputActiveOptionBorder=t.inputActiveOptionBorder),this.applyStyles()},e.prototype.applyStyles=function(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder?this._opts.inputActiveOptionBorder.toString():"transparent")},e.prototype.enable=function(){this.domNode.tabIndex=0,this.domNode.setAttribute("aria-disabled","false")},e.prototype.disable=function(){t.removeTabIndexAndUpdateFocus(this.domNode),this.domNode.setAttribute("aria-disabled","true")},e}(n.Widget);e.Checkbox=r}),define(s[510],n([5]),{}),define(s[160],n([1,0,52,4,3,38,510]),function(d,e,p,g,t,o){"use strict";function i(d,e,t,n,a){var l=function(o,e,t,n){return e?o:n?t:o},p=function(r,e,t,n,i){return i?l(r,e,t,n):l(t,n,r,e)};return{top:function(){var i=e.top-d.height,o=e.top+e.height,r=i>=t.top&&i+d.height<=t.top+t.height,a=o>=t.top&&o+d.height<=t.top+t.height;return p(i,r,o,a,n===_.ABOVE)}(),left:function(){var o=e.left,n=e.left+e.width-d.width,i=o>=t.left&&o+d.width<=t.left+t.width,r=n>=t.left&&n+d.width<=t.left+t.width;return p(o,i,n,r,a===m.LEFT)}()}}Object.defineProperty(e,"__esModule",{value:!0});var m;!function(t){t[t.LEFT=0]="LEFT",t[t.RIGHT=1]="RIGHT"}(m=e.AnchorAlignment||(e.AnchorAlignment={}));var _;!function(t){t[t.BELOW=0]="BELOW",t[t.ABOVE=1]="ABOVE"}(_=e.AnchorPosition||(e.AnchorPosition={}));var n=function(o){function n(e){var n=o.call(this)||this;return n.$view=p.$(".context-view").hide(),n.setContainer(e),n.toDispose=[{dispose:function(){n.setContainer(null)}}],n.toDisposeOnClean=null,n}return Z(n,o),n.prototype.setContainer=function(t){var o=this;this.$container&&(this.$container.off(n.BUBBLE_UP_EVENTS),this.$container.off(n.BUBBLE_DOWN_EVENTS,!0),this.$container=null),t&&(this.$container=p.$(t),this.$view.appendTo(this.$container),this.$container.on(n.BUBBLE_UP_EVENTS,function(t){o.onDOMEvent(t,document.activeElement,!1)}),this.$container.on(n.BUBBLE_DOWN_EVENTS,function(t){o.onDOMEvent(t,document.activeElement,!0)},null,!0))},n.prototype.show=function(t){this.isVisible()&&this.hide(),this.$view.setClass("context-view").empty().style({top:"0px",left:"0px"}).show(),this.toDisposeOnClean=t.render(this.$view.getHTMLElement()),this.delegate=t,this.doLayout()},n.prototype.layout=function(){this.isVisible()&&(!1===this.delegate.canRelayout?this.hide():(this.delegate.layout&&this.delegate.layout(),this.doLayout()))},n.prototype.doLayout=function(){var a=this.delegate.getAnchor(),t;if(g.isHTMLElement(a)){var e=g.getDomNodePagePosition(a);t={top:e.top,left:e.left,width:e.width,height:e.height}}else{var n=a;t={top:n.y,left:n.x,width:n.width||0,height:n.height||0}}var o={top:g.StandardWindow.scrollY,left:g.StandardWindow.scrollX,height:window.innerHeight,width:window.innerWidth},r=this.$view.getTotalSize(),s={width:r.width,height:r.height},l=this.delegate.anchorPosition||_.BELOW,d=this.delegate.anchorAlignment||m.LEFT,c=i(s,t,o,l,d),p=g.getDomNodePagePosition(this.$container.getHTMLElement());c.top-=p.top,c.left-=p.left,this.$view.removeClass("top","bottom","left","right"),this.$view.addClass(l===_.BELOW?"bottom":"top"),this.$view.addClass(d===m.LEFT?"left":"right"),this.$view.style({top:c.top+"px",left:c.left+"px",width:"initial"})},n.prototype.hide=function(t){this.delegate&&this.delegate.onHide&&this.delegate.onHide(t),this.delegate=null,this.toDisposeOnClean&&(this.toDisposeOnClean.dispose(),this.toDisposeOnClean=null),this.$view.hide()},n.prototype.isVisible=function(){return!!this.delegate},n.prototype.onDOMEvent=function(o,e,t){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(o,document.activeElement):t&&!g.isAncestor(o.target,this.$container.getHTMLElement())&&this.hide())},n.prototype.dispose=function(){o.prototype.dispose.call(this),this.hide(),this.toDispose=t.dispose(this.toDispose)},n.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"],n.BUBBLE_DOWN_EVENTS=["click"],n}(o.EventEmitter);e.ContextView=n}),define(s[201],n([5]),{}),define(s[204],n([1,0,4,9,32,26,201]),function(d,e,l,t,n,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={badgeBackground:n.Color.fromHex("#4D4D4D"),badgeForeground:n.Color.fromHex("#FFFFFF")},r=function(){function n(n,r){this.options=r||Object.create(null),o.mixin(this.options,i,!1),this.badgeBackground=this.options.badgeBackground,this.badgeForeground=this.options.badgeForeground,this.badgeBorder=this.options.badgeBorder,this.element=l.append(n,l.$(".monaco-count-badge")),this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}return n.prototype.setCount=function(t){this.count=t,this.render()},n.prototype.setTitleFormat=function(t){this.titleFormat=t,this.render()},n.prototype.render=function(){this.element.textContent=""+this.count,this.element.title=t.format(this.titleFormat,this.count),this.applyStyles()},n.prototype.style=function(t){this.badgeBackground=t.badgeBackground,this.badgeForeground=t.badgeForeground,this.badgeBorder=t.badgeBorder,this.applyStyles()},n.prototype.applyStyles=function(){if(this.element){var o=this.badgeBackground?this.badgeBackground.toString():null,e=this.badgeForeground?this.badgeForeground.toString():null,t=this.badgeBorder?this.badgeBorder.toString():null;this.element.style.backgroundColor=o,this.element.style.color=e,this.element.style.borderWidth=t?"1px":null,this.element.style.borderStyle=t?"solid":null,this.element.style.borderColor=t}},n}();e.CountBadge=r}),define(s[205],n([5]),{}),define(s[206],n([5]),{}),define(s[208],n([5]),{}),define(s[162],n([1,0,4,110,45,174,208]),function(d,e,l,n,p,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function t(o,i){this.domNode=l.append(o,l.$(".monaco-icon-label")),this.labelNode=i&&i.supportHighlights?new n.HighlightedLabel(l.append(this.domNode,l.$("a.label-name"))):l.append(this.domNode,l.$("a.label-name")),this.descriptionNode=l.append(this.domNode,l.$("span.label-description"))}return Object.defineProperty(t.prototype,"element",{get:function(){return this.domNode},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"labelElement",{get:function(){var t=this.labelNode;return t instanceof n.HighlightedLabel?t.element:t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"descriptionElement",{get:function(){return this.descriptionNode},enumerable:!0,configurable:!0}),t.prototype.setValue=function(i,e,t){var o=this.labelNode;o instanceof n.HighlightedLabel?o.set(i||"",t?t.matches:void 0):o.textContent=i||"",this.descriptionNode.textContent=e||"",e?l.removeClass(this.descriptionNode,"empty"):l.addClass(this.descriptionNode,"empty"),this.domNode.title=t&&t.title?t.title:"";var r=["monaco-icon-label"];t&&(t.extraClasses&&r.push.apply(r,t.extraClasses),t.italic&&r.push("italic")),this.domNode.className=r.join(" ")},t.prototype.dispose=function(){var t=this.labelNode;t instanceof n.HighlightedLabel&&t.dispose()},t}();e.IconLabel=t;var i=function(a){function e(e,s,n,i){var o=a.call(this,e)||this;return o.setFile(s,n,i),o}return Z(e,a),e.prototype.setFile=function(r,e,t){var n=p.dirname(r.fsPath);this.setValue(p.basename(r.fsPath),n&&"."!==n?o.getPathLabel(n,e,t):"",{title:r.fsPath})},e}(t);e.FileLabel=i}),define(s[211],n([5]),{}),define(s[212],n([5]),{}),define(s[213],n([5]),{}),define(s[218],n([5]),{}),define(s[219],n([5]),{}),define(s[220],n([1,0,7,72,52,4,3,32,26,219]),function(d,e,p,t,n,o,i,r,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s={progressBarBackground:r.Color.fromHex("#0E70C0")},l=function(){function r(o,n){this.options=n||Object.create(null),a.mixin(this.options,s,!1),this.toUnbind=[],this.workedVal=0,this.progressBarBackground=this.options.progressBarBackground,this.create(o)}return r.prototype.create=function(n){var i=this;n.div({class:"progress-container"},function(t){i.element=t.clone(),t.div({class:"progress-bit"}).on([o.EventType.ANIMATION_START,o.EventType.ANIMATION_END,o.EventType.ANIMATION_ITERATION],function(t){switch(t.type){case o.EventType.ANIMATION_START:case o.EventType.ANIMATION_END:i.animationRunning=t.type===o.EventType.ANIMATION_START;break;case o.EventType.ANIMATION_ITERATION:i.animationStopToken&&i.animationStopToken(null);}},i.toUnbind),i.bit=t.getHTMLElement()}),this.applyStyles()},r.prototype.off=function(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.removeClass("active"),this.element.removeClass("infinite"),this.element.removeClass("discrete"),this.workedVal=0,this.totalWork=void 0},r.prototype.done=function(){return this.doDone(!0)},r.prototype.stop=function(){return this.doDone(!1)},r.prototype.doDone=function(o){var e=this;return this.element.addClass("done"),this.element.hasClass("infinite")?(this.bit.style.opacity="0",o?p.TPromise.timeout(200).then(function(){return e.off()}):this.off()):(this.bit.style.width="inherit",o?p.TPromise.timeout(200).then(function(){return e.off()}):this.off()),this},r.prototype.infinite=function(){return this.bit.style.width="2%",this.bit.style.opacity="1",this.element.removeClass("discrete"),this.element.removeClass("done"),this.element.addClass("active"),this.element.addClass("infinite"),this},r.prototype.total=function(t){return this.workedVal=0,this.totalWork=t,this},r.prototype.hasTotal=function(){return!isNaN(this.totalWork)},r.prototype.worked=function(o){return t.ok(!isNaN(this.totalWork),"Total work not set"),o=+o,t.ok(!isNaN(o),"Value is not a number"),o=G(1,o),this.workedVal+=o,this.workedVal=q(this.totalWork,this.workedVal),this.element.hasClass("infinite")&&this.element.removeClass("infinite"),this.element.hasClass("done")&&this.element.removeClass("done"),this.element.hasClass("active")||this.element.addClass("active"),this.element.hasClass("discrete")||this.element.addClass("discrete"),this.bit.style.width=100*(this.workedVal/this.totalWork)+"%",this},r.prototype.getContainer=function(){return n.$(this.element)},r.prototype.style=function(t){this.progressBarBackground=t.progressBarBackground,this.applyStyles()},r.prototype.applyStyles=function(){if(this.bit){var t=this.progressBarBackground?this.progressBarBackground.toString():null;this.bit.style.backgroundColor=t}},r.prototype.dispose=function(){this.toUnbind=i.dispose(this.toUnbind)},r}();e.ProgressBar=l}),define(s[224],n([5]),{}),define(s[99],n([1,0,3,52,28,15,29,4,74,38,47,11,224]),function(m,e,_,y,i,C,n,b,a,t,r,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var d;!function(t){t[t.VERTICAL=0]="VERTICAL",t[t.HORIZONTAL=1]="HORIZONTAL"}(d=e.Orientation||(e.Orientation={}));var s=function(o){function e(e,r,n){void 0===n&&(n={});var s=o.call(this)||this;return s.$e=y.$(".monaco-sash").appendTo(e),C.isMacintosh&&s.$e.addClass("mac"),s.gesture=new a.Gesture(s.$e.getHTMLElement()),s.$e.on(b.EventType.MOUSE_DOWN,function(t){s.onMouseDown(t)}),s.$e.on(b.EventType.DBLCLICK,function(t){s.emit("reset",t)}),s.$e.on(a.EventType.Start,function(t){s.onTouchStart(t)}),s.size=n.baseSize||5,i.isIPad&&(s.size*=4,s.$e.addClass("touch")),s.setOrientation(n.orientation||d.VERTICAL),s.isDisabled=!1,s.hidden=!1,s.layoutProvider=r,s}return Z(e,o),e.prototype.getHTMLElement=function(){return this.$e.getHTMLElement()},e.prototype.setOrientation=function(t){this.orientation=t,this.$e.removeClass("horizontal","vertical"),this.$e.addClass(this.getOrientation()),this.orientation===d.HORIZONTAL?this.$e.size(null,this.size):this.$e.size(this.size),this.layoutProvider&&this.layout()},e.prototype.getOrientation=function(){return this.orientation===d.HORIZONTAL?"horizontal":"vertical"},e.prototype.onMouseDown=function(i){var a=this;if(b.EventHelper.stop(i,!1),!this.isDisabled){var e=y.$(b.getElementsByTagName("iframe"));e&&e.style("pointer-events","none");var t=new r.StandardMouseEvent(i),o=t.posx,l=t.posy;this.$e.addClass("active"),this.emit("start",{startX:o,currentX:o,startY:l,currentY:l});var c=y.$(window),d=this.getOrientation()+"-cursor-container"+(C.isMacintosh?"-mac":""),g=o,p=l;c.on("mousemove",function(t){b.EventHelper.stop(t,!1);var e=new r.StandardMouseEvent(t),n={startX:o,currentX:e.posx,startY:l,currentY:e.posy};g=e.posx,p=e.posy,a.emit("change",n)}).once("mouseup",function(t){b.EventHelper.stop(t,!1),a.$e.removeClass("active"),a.emit("end"),c.off("mousemove"),document.body.classList.remove(d);var e=y.$(b.getElementsByTagName("iframe"));e&&e.style("pointer-events","auto")}),document.body.classList.add(d)}},e.prototype.onTouchStart=function(s){var d=this;b.EventHelper.stop(s);var e=[],t=s.pageX,i=s.pageY;this.emit("start",{startX:t,currentX:t,startY:i,currentY:i});var p=t,l=i;e.push(b.addDisposableListener(this.$e.getHTMLElement(),a.EventType.Change,function(a){n.isNumber(a.pageX)&&n.isNumber(a.pageY)&&(d.emit("change",{startX:t,currentX:a.pageX,startY:i,currentY:a.pageY}),p=a.pageX,l=a.pageY)})),e.push(b.addDisposableListener(this.$e.getHTMLElement(),a.EventType.End,function(){d.emit("end"),_.dispose(e)}))},e.prototype.layout=function(){var o;if(this.orientation===d.VERTICAL){var e=this.layoutProvider;o={left:e.getVerticalSashLeft(this)-this.size/2+"px"},e.getVerticalSashTop&&(o.top=e.getVerticalSashTop(this)+"px"),e.getVerticalSashHeight&&(o.height=e.getVerticalSashHeight(this)+"px")}else{var t=this.layoutProvider;o={top:t.getHorizontalSashTop(this)-this.size/2+"px"},t.getHorizontalSashLeft&&(o.left=t.getHorizontalSashLeft(this)+"px"),t.getHorizontalSashWidth&&(o.width=t.getHorizontalSashWidth(this)+"px")}this.$e.style(o)},e.prototype.show=function(){this.hidden=!1,this.$e.show()},e.prototype.hide=function(){this.hidden=!0,this.$e.hide()},e.prototype.isHidden=function(){return this.hidden},e.prototype.enable=function(){this.$e.removeClass("disabled"),this.isDisabled=!1},e.prototype.disable=function(){this.$e.addClass("disabled"),this.isDisabled=!0},e.prototype.dispose=function(){this.$e&&(this.$e.destroy(),this.$e=null),o.prototype.dispose.call(this)},e}(t.EventEmitter);e.Sash=s;var l=function(r){function e(e,a){var n=r.call(this)||this;return n.minWidth=a,n._onPositionChange=new o.Emitter,n.ratio=.5,n.sash=new s(e,n),n._register(n.sash.addListener("start",function(){return n.onSashDragStart()})),n._register(n.sash.addListener("change",function(t){return n.onSashDrag(t)})),n._register(n.sash.addListener("end",function(){return n.onSashDragEnd()})),n._register(n.sash.addListener("reset",function(){return n.onSashReset()})),n}return Z(e,r),Object.defineProperty(e.prototype,"onPositionChange",{get:function(){return this._onPositionChange.event},enumerable:!0,configurable:!0}),e.prototype.getVerticalSashTop=function(){return 0},e.prototype.getVerticalSashLeft=function(){return this.position},e.prototype.getVerticalSashHeight=function(){return this.dimension.height},e.prototype.setDimenesion=function(t){this.dimension=t,this.compute(this.ratio)},e.prototype.onSashDragStart=function(){this.startPosition=this.position},e.prototype.onSashDrag=function(t){this.compute((this.startPosition+(t.currentX-t.startX))/this.dimension.width)},e.prototype.compute=function(t){this.computeSashPosition(t),this.ratio=this.position/this.dimension.width,this._onPositionChange.fire(this.position)},e.prototype.onSashDragEnd=function(){this.sash.layout()},e.prototype.onSashReset=function(){this.ratio=.5,this._onPositionChange.fire(this.position),this.sash.layout()},e.prototype.computeSashPosition=function(o){void 0===o&&(o=this.ratio);var e=this.dimension.width,t=M((o||.5)*e),n=M(.5*e);e>2*this.minWidth?(t<this.minWidth&&(t=this.minWidth),t>e-this.minWidth&&(t=e-this.minWidth)):t=n,this.position!==t&&(this.position=t,this.sash.layout())},e}(_.Disposable);e.VSash=l}),define(s[228],n([5]),{}),define(s[63],n([1,0,4,15,47,439,440,3,48,41,18,27,11,228]),function(_,e,f,y,i,C,r,o,s,t,l,c,d){"use strict";function u(o){var e={lazyRender:void 0!==o.lazyRender&&o.lazyRender,className:void 0===o.className?"":o.className,useShadows:void 0===o.useShadows||o.useShadows,handleMouseWheel:void 0===o.handleMouseWheel||o.handleMouseWheel,flipAxes:void 0!==o.flipAxes&&o.flipAxes,alwaysConsumeMouseWheel:void 0!==o.alwaysConsumeMouseWheel&&o.alwaysConsumeMouseWheel,scrollYToX:void 0!==o.scrollYToX&&o.scrollYToX,mouseWheelScrollSensitivity:void 0===o.mouseWheelScrollSensitivity?1:o.mouseWheelScrollSensitivity,arrowSize:void 0===o.arrowSize?11:o.arrowSize,listenOnDomNode:void 0===o.listenOnDomNode?null:o.listenOnDomNode,horizontal:void 0===o.horizontal?s.ScrollbarVisibility.Auto:o.horizontal,horizontalScrollbarSize:void 0===o.horizontalScrollbarSize?10:o.horizontalScrollbarSize,horizontalSliderSize:void 0===o.horizontalSliderSize?0:o.horizontalSliderSize,horizontalHasArrows:void 0!==o.horizontalHasArrows&&o.horizontalHasArrows,vertical:void 0===o.vertical?s.ScrollbarVisibility.Auto:o.vertical,verticalScrollbarSize:void 0===o.verticalScrollbarSize?10:o.verticalScrollbarSize,verticalHasArrows:void 0!==o.verticalHasArrows&&o.verticalHasArrows,verticalSliderSize:void 0===o.verticalSliderSize?0:o.verticalSliderSize};return e.horizontalSliderSize=void 0===o.horizontalSliderSize?e.horizontalScrollbarSize:o.horizontalSliderSize,e.verticalSliderSize=void 0===o.verticalSliderSize?e.verticalScrollbarSize:o.verticalSliderSize,y.isMacintosh&&(e.className+=" mac"),e}Object.defineProperty(e,"__esModule",{value:!0});var n=function(p){function e(e,g,n){var i=p.call(this)||this;i._onScroll=i._register(new d.Emitter),i.onScroll=i._onScroll.event,e.style.overflow="hidden",i._options=u(g),i._scrollable=void 0===n?i._register(new s.Scrollable):n,i._register(i._scrollable.onScroll(function(t){i._onDidScroll(t),i._onScroll.fire(t)}));var o={onMouseWheel:function(t){return i._onMouseWheel(t)},onDragStart:function(){return i._onDragStart()},onDragEnd:function(){return i._onDragEnd()}};return i._verticalScrollbar=i._register(new r.VerticalScrollbar(i._scrollable,i._options,o)),i._horizontalScrollbar=i._register(new C.HorizontalScrollbar(i._scrollable,i._options,o)),i._domNode=document.createElement("div"),i._domNode.className="monaco-scrollable-element "+i._options.className,i._domNode.setAttribute("role","presentation"),i._domNode.style.position="relative",i._domNode.style.overflow="hidden",i._domNode.appendChild(e),i._domNode.appendChild(i._horizontalScrollbar.domNode.domNode),i._domNode.appendChild(i._verticalScrollbar.domNode.domNode),i._options.useShadows&&(i._leftShadowDomNode=c.createFastDomNode(document.createElement("div")),i._leftShadowDomNode.setClassName("shadow"),i._domNode.appendChild(i._leftShadowDomNode.domNode),i._topShadowDomNode=c.createFastDomNode(document.createElement("div")),i._topShadowDomNode.setClassName("shadow"),i._domNode.appendChild(i._topShadowDomNode.domNode),i._topLeftShadowDomNode=c.createFastDomNode(document.createElement("div")),i._topLeftShadowDomNode.setClassName("shadow top-left-corner"),i._domNode.appendChild(i._topLeftShadowDomNode.domNode)),i._listenOnDomNode=i._options.listenOnDomNode||i._domNode,i._mouseWheelToDispose=[],i._setListeningToMouseWheel(i._options.handleMouseWheel),i.onmouseover(i._listenOnDomNode,function(t){return i._onMouseOver(t)}),i.onnonbubblingmouseout(i._listenOnDomNode,function(t){return i._onMouseOut(t)}),i._hideTimeout=i._register(new l.TimeoutTimer),i._isDragging=!1,i._mouseIsOver=!1,i._shouldRender=!0,i}return Z(e,p),e.prototype.dispose=function(){this._mouseWheelToDispose=o.dispose(this._mouseWheelToDispose),p.prototype.dispose.call(this)},e.prototype.getDomNode=function(){return this._domNode},e.prototype.getOverviewRulerLayoutInfo=function(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}},e.prototype.delegateVerticalScrollbarMouseDown=function(t){this._verticalScrollbar.delegateMouseDown(t)},e.prototype.delegateSliderMouseDown=function(o,e){this._verticalScrollbar.delegateSliderMouseDown(o,e)},e.prototype.updateState=function(t){this._scrollable.updateState(t)},e.prototype.getScrollState=function(){return this._scrollable.getState()},e.prototype.updateClassName=function(t){this._options.className=t,y.isMacintosh&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className},e.prototype.updateOptions=function(o){var e=u(o);this._options.handleMouseWheel=e.handleMouseWheel,this._options.mouseWheelScrollSensitivity=e.mouseWheelScrollSensitivity,this._setListeningToMouseWheel(this._options.handleMouseWheel),this._options.lazyRender||this._render()},e.prototype._setListeningToMouseWheel=function(n){var r=this;if(0<this._mouseWheelToDispose.length!==n&&(this._mouseWheelToDispose=o.dispose(this._mouseWheelToDispose),n)){var e=function(t){var e=new i.StandardMouseWheelEvent(t);r._onMouseWheel(e)};this._mouseWheelToDispose.push(f.addDisposableListener(this._listenOnDomNode,"mousewheel",e)),this._mouseWheelToDispose.push(f.addDisposableListener(this._listenOnDomNode,"DOMMouseScroll",e))}},e.prototype._onMouseWheel=function(i){var e=-1,t=-1;if(i.deltaY||i.deltaX){var n=i.deltaY*this._options.mouseWheelScrollSensitivity,o=i.deltaX*this._options.mouseWheelScrollSensitivity;this._options.flipAxes&&(n=(l=[o,n])[0],o=l[1]);var d=!y.isMacintosh&&i.browserEvent.shiftKey;(this._options.scrollYToX||d)&&!o&&(o=n,n=0),y.isMacintosh&&(n&&.2>I(o)&&(o=0),I(n)>.5*I(o)&&(o=0));var s=this._scrollable.getState();if(n){var a=s.scrollTop;(e=this._verticalScrollbar.validateScrollPosition((-1===e?a:e)-50*n))===a&&(e=-1)}if(o){var p=s.scrollLeft;(t=this._horizontalScrollbar.validateScrollPosition((-1===t?p:t)-50*o))===p&&(t=-1)}-1===e&&-1===t||(-1!==e&&(this._shouldRender=this._verticalScrollbar.setDesiredScrollPosition(e)||this._shouldRender,e=-1),-1!==t&&(this._shouldRender=this._horizontalScrollbar.setDesiredScrollPosition(t)||this._shouldRender,t=-1))}(this._options.alwaysConsumeMouseWheel||this._shouldRender)&&(i.preventDefault(),i.stopPropagation());var l},e.prototype._onDidScroll=function(t){this._shouldRender=this._horizontalScrollbar.onDidScroll(t)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(t)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._reveal(),this._options.lazyRender||this._render()},e.prototype.renderNow=function(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()},e.prototype._render=function(){if(this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){var o=this._scrollable.getState(),e=0<o.scrollTop,t=0<o.scrollLeft;this._leftShadowDomNode.setClassName("shadow"+(t?" left":"")),this._topShadowDomNode.setClassName("shadow"+(e?" top":"")),this._topLeftShadowDomNode.setClassName("shadow top-left-corner"+(e?" top":"")+(t?" left":""))}},e.prototype._onDragStart=function(){this._isDragging=!0,this._reveal()},e.prototype._onDragEnd=function(){this._isDragging=!1,this._hide()},e.prototype._onMouseOut=function(){this._mouseIsOver=!1,this._hide()},e.prototype._onMouseOver=function(){this._mouseIsOver=!0,this._reveal()},e.prototype._reveal=function(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()},e.prototype._hide=function(){this._mouseIsOver||this._isDragging||(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())},e.prototype._scheduleHide=function(){var t=this;this._mouseIsOver||this._isDragging||this._hideTimeout.cancelAndSet(function(){return t._hide()},500)},e}(t.Widget);e.ScrollableElement=n;var a=function(o){function e(e,r){var n=o.call(this,e,r)||this;return n._element=e,n.onScroll(function(t){t.scrollTopChanged&&(n._element.scrollTop=t.scrollTop),t.scrollLeftChanged&&(n._element.scrollLeft=t.scrollLeft)}),n.scanDomNode(),n}return Z(e,o),e.prototype.scanDomNode=function(){this.updateState({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,scrollLeft:this._element.scrollLeft,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight,scrollTop:this._element.scrollTop})},e}(n);e.DomScrollableElement=a}),define(s[232],n([1,0,26,3,74,4,124,63,48,415,416,15,28]),function(m,e,_,t,y,o,n,s,a,C,l,c,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=["click","dblclick","mouseup","mousedown","mouseover","mousemove","mouseout","contextmenu","touchstart"],p={useShadows:!0},i=function(){function i(o,d,t,i){void 0===i&&(i=p),this.delegate=d,this.items=[],this.itemId=0,this.rangeMap=new C.RangeMap,this.renderers=_.toObject(t,function(t){return t.templateId}),this.cache=new l.RowCache(this.renderers),this.lastRenderTop=0,this.lastRenderHeight=0,this._domNode=document.createElement("div"),this._domNode.className="monaco-list",this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows",this.gesture=new y.Gesture(this.rowsContainer),this.scrollableElement=new s.ScrollableElement(this.rowsContainer,{alwaysConsumeMouseWheel:!0,horizontal:a.ScrollbarVisibility.Hidden,vertical:a.ScrollbarVisibility.Auto,useShadows:_.getOrDefault(i,function(t){return t.useShadows},p.useShadows)}),this._domNode.appendChild(this.scrollableElement.getDomNode()),o.appendChild(this._domNode),this.disposables=[this.rangeMap,this.gesture,this.scrollableElement],this.scrollableElement.onScroll(this.onScroll,this,this.disposables),n.domEvent(this.rowsContainer,y.EventType.Change)(this.onTouchChange,this,this.disposables),this.layout()}return Object.defineProperty(i.prototype,"domNode",{get:function(){return this._domNode},enumerable:!0,configurable:!0}),i.prototype.splice=function(l,e,t){var n=this;void 0===t&&(t=[]);var i=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);C.each(i,function(t){return n.removeItemFromDOM(n.items[t])});var o=t.map(function(t){return{id:n.itemId++ +"",element:t,size:n.delegate.getHeight(t),templateId:n.delegate.getTemplateId(t),row:null}});(p=this.rangeMap).splice.apply(p,[l,e].concat(o));var r=(c=this.items).splice.apply(c,[l,e].concat(o)),s=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);C.each(s,function(t){return n.insertItemInDOM(n.items[t],t)});var a=this.getContentHeight();return this.rowsContainer.style.height=a+"px",this.scrollableElement.updateState({scrollHeight:a}),r.map(function(t){return t.element});var p,c},Object.defineProperty(i.prototype,"length",{get:function(){return this.items.length},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"renderHeight",{get:function(){return this.scrollableElement.getScrollState().height},enumerable:!0,configurable:!0}),i.prototype.element=function(t){return this.items[t].element},i.prototype.domElement=function(o){var e=this.items[o].row;return e&&e.domNode},i.prototype.elementHeight=function(t){return this.items[t].size},i.prototype.elementTop=function(t){return this.rangeMap.positionAt(t)},i.prototype.indexAt=function(t){return this.rangeMap.indexAt(t)},i.prototype.indexAfter=function(t){return this.rangeMap.indexAfter(t)},i.prototype.layout=function(t){this.scrollableElement.updateState({height:t||o.getContentHeight(this._domNode)})},i.prototype.render=function(l,e){var t=this,n=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),i=this.getRenderRange(l,e),o=C.relativeComplement(i,n),r=C.relativeComplement(n,i);if(o.forEach(function(o){return C.each(o,function(o){return t.insertItemInDOM(t.items[o],o)})}),r.forEach(function(o){return C.each(o,function(o){return t.removeItemFromDOM(t.items[o])})}),d.canUseTranslate3d()&&!c.isWindows){var s="translate3d(0px, -"+l+"px, 0px)";this.rowsContainer.style.transform=s,this.rowsContainer.style.webkitTransform=s}else this.rowsContainer.style.top="-"+l+"px";this.lastRenderTop=l,this.lastRenderHeight=e},i.prototype.insertItemInDOM=function(o,e){o.row||(o.row=this.cache.alloc(o.templateId)),o.row.domNode.parentElement||this.rowsContainer.appendChild(o.row.domNode);var t=this.renderers[o.templateId];o.row.domNode.style.top=this.elementTop(e)+"px",o.row.domNode.style.height=o.size+"px",o.row.domNode.setAttribute("data-index",""+e),t.renderElement(o.element,e,o.row.templateData)},i.prototype.removeItemFromDOM=function(t){this.cache.release(t.row),t.row=null},i.prototype.getContentHeight=function(){return this.rangeMap.size},i.prototype.getScrollTop=function(){return this.scrollableElement.getScrollState().scrollTop},i.prototype.setScrollTop=function(t){this.scrollableElement.updateState({scrollTop:t})},Object.defineProperty(i.prototype,"scrollTop",{get:function(){return this.getScrollTop()},set:function(t){this.setScrollTop(t)},enumerable:!0,configurable:!0}),i.prototype.addListener=function(d,e,t){var n=this,i=e,s=this.domNode;return-1<r.indexOf(d)?e=function(t){return n.fireScopedEvent(t,i,n.getItemIndexFromMouseEvent(t))}:d===y.EventType.Tap&&(s=this.rowsContainer,e=function(t){return n.fireScopedEvent(t,i,n.getItemIndexFromGestureEvent(t))}),o.addDisposableListener(s,d,e,t)},i.prototype.fireScopedEvent=function(n,e,t){if(!(0>t)){var r=this.items[t].element;e(_.assign(n,{element:r,index:t}))}},i.prototype.onScroll=function(t){this.render(t.scrollTop,t.height)},i.prototype.onTouchChange=function(t){t.preventDefault(),t.stopPropagation(),this.scrollTop-=t.translationY},i.prototype.getItemIndexFromMouseEvent=function(t){return this.getItemIndexFromEventTarget(t.target)},i.prototype.getItemIndexFromGestureEvent=function(t){return this.getItemIndexFromEventTarget(t.initialTarget)},i.prototype.getItemIndexFromEventTarget=function(o){for(;o instanceof HTMLElement&&o!==this.rowsContainer;){var e=o,t=e.getAttribute("data-index");if(t){var r=+t;if(!isNaN(r))return r}o=e.parentElement}return-1},i.prototype.getRenderRange=function(o,e){return{start:this.rangeMap.indexAt(o),end:this.rangeMap.indexAfter(o+e-1)}},i.prototype.dispose=function(){this.items=null,this._domNode&&this._domNode.parentElement&&(this._domNode.parentNode.removeChild(this._domNode),this._domNode=null),this.disposables=t.dispose(this.disposables)},i}();e.ListView=i});var F=this&&this.__decorate||function(d,e,t,n){var i=arguments.length,r=3>i?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n,s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(d,e,t,n);else for(var o=d.length-1;0<=o;o--)(s=d[o])&&(r=(3>i?s(r):3<i?s(e,t,r):s(e,t))||r);return 3<i&&r&&Object.defineProperty(e,t,r),r};define(s[234],n([1,0,3,29,33,136,446,4,15,74,65,11,124,232,32,26,213]),function(f,e,v,W,B,n,t,V,o,r,i,a,d,l,s,p){"use strict";function c(t){return o.isMacintosh?t.metaKey:t.ctrlKey}function g(t){return t.shiftKey}function u(t){return c(t)||g(t)}function m(r,e){var t=r.indexOf(e);if(-1===t)return[];for(var n=[],i=t-1;0<=i&&r[i]===e-(t-i);)n.push(r[i--]);for(n.reverse(),i=t;i<r.length&&r[i]===e+(i-t);)n.push(r[i++]);return n}function h(r,e){for(var t=[],n=0,i=0;n<r.length||i<e.length;)if(n>=r.length)t.push(e[i++]);else if(i>=e.length)t.push(r[n++]);else{if(r[n]===e[i]){t.push(r[n]),n++,i++;continue}r[n]<e[i]?t.push(r[n++]):t.push(e[i++])}return t}function _(r,e){for(var t=[],n=0,i=0;n<r.length||i<e.length;)if(n>=r.length)t.push(e[i++]);else if(i>=e.length)t.push(r[n++]);else{if(r[n]===e[i]){n++,i++;continue}r[n]<e[i]?t.push(r[n++]):i++}return t}Object.defineProperty(e,"__esModule",{value:!0});var y=function(){function t(t){this.spliceables=t}return t.prototype.splice=function(o,e,t){this.spliceables.forEach(function(n){return n.splice(o,e,t)})},t}(),C=function(){function t(t){this.trait=t,this.rendered=[]}return Object.defineProperty(t.prototype,"templateId",{get:function(){return"template:"+this.trait.trait},enumerable:!0,configurable:!0}),t.prototype.renderTemplate=function(t){return{container:t,elementDisposable:v.empty}},t.prototype.renderElement=function(r,e,a){var d=this;a.elementDisposable.dispose();var o={index:e,templateData:a};this.rendered.push(o),a.elementDisposable=v.toDisposable(n.once(function(){return d.rendered.splice(d.rendered.indexOf(o),1)})),this.trait.renderIndex(e,a.container)},t.prototype.renderIndexes=function(o){var r=this;this.rendered.filter(function(e){var t=e.index;return-1<o.indexOf(t)}).forEach(function(t){var e=t.index,o=t.templateData;return r.trait.renderIndex(e,o.container)})},t.prototype.splice=function(r,e){for(var t=0;t<e;t++){var n="key_"+(r+t),i=this.rendered[n];i&&i.elementDisposable.dispose()}},t.prototype.disposeTemplate=function(t){t.elementDisposable.dispose()},t}(),b=function(){function o(t){this._trait=t,this._onChange=new a.Emitter,this.indexes=[]}return Object.defineProperty(o.prototype,"onChange",{get:function(){return this._onChange.event},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"trait",{get:function(){return this._trait},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"renderer",{get:function(){return new C(this)},enumerable:!0,configurable:!0}),o.prototype.splice=function(a,e,t){var n=t.length-e,i=a+e,o=this.indexes.filter(function(e){return e<a}).concat(t.reduce(function(e,t,o){return t?e.concat([o+a]):e},[]),this.indexes.filter(function(t){return t>=i}).map(function(t){return t+n}));this.renderer.splice(a,e),this.set(o)},o.prototype.renderIndex=function(o,e){V.toggleClass(e,this._trait,this.contains(o))},o.prototype.set=function(o){var i=this.indexes;this.indexes=o;var t=h(i,o);return this.renderer.renderIndexes(t),this._onChange.fire({indexes:o}),i},o.prototype.get=function(){return this.indexes},o.prototype.contains=function(o){return this.indexes.some(function(e){return e===o})},o.prototype.dispose=function(){this.indexes=null,this._onChange=v.dispose(this._onChange)},F([t.memoize],o.prototype,"renderer",null),o}(),S=function(o){function e(e){var i=o.call(this,"focused")||this;return i.getDomId=e,i}return Z(e,o),e.prototype.renderIndex=function(e,t){o.prototype.renderIndex.call(this,e,t),t.setAttribute("role","treeitem"),t.setAttribute("id",this.getDomId(e))},e}(b),E=function(){function t(){this.length=0}return Object.defineProperty(t.prototype,"templateId",{get:function(){return"aria"},enumerable:!0,configurable:!0}),t.prototype.splice=function(o,e,t){this.length+=t.length-e},t.prototype.renderTemplate=function(t){return t},t.prototype.renderElement=function(o,e,t){t.setAttribute("aria-setsize",""+this.length),t.setAttribute("aria-posinset",""+(e+1))},t.prototype.disposeTemplate=function(){},t}(),L=function(){function t(o,i,t){this.trait=o,this.view=i,this.getId=t}return t.prototype.splice=function(a,e,t){var n=this;if(!this.getId)return this.trait.splice(a,e,t.map(function(){return!1}));var i=this.trait.get().map(function(t){return n.getId(n.view.element(t))}),o=t.map(function(t){return-1<i.indexOf(n.getId(t))});this.trait.splice(a,e,o)},t}(),w=function(){function t(o,r){this.list=o,this.view=r,this.disposables=[];var t=a.chain(d.domEvent(r.domNode,"keydown")).map(function(t){return new i.StandardKeyboardEvent(t)});t.filter(function(t){return 3===t.keyCode}).on(this.onEnter,this,this.disposables),t.filter(function(t){return 16===t.keyCode}).on(this.onUpArrow,this,this.disposables),t.filter(function(t){return 18===t.keyCode}).on(this.onDownArrow,this,this.disposables),t.filter(function(t){return 11===t.keyCode}).on(this.onPageUpArrow,this,this.disposables),t.filter(function(t){return 12===t.keyCode}).on(this.onPageDownArrow,this,this.disposables)}return t.prototype.onEnter=function(t){t.preventDefault(),t.stopPropagation(),this.list.setSelection(this.list.getFocus()),this.list.open(this.list.getFocus())},t.prototype.onUpArrow=function(t){t.preventDefault(),t.stopPropagation(),this.list.focusPrevious(),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()},t.prototype.onDownArrow=function(t){t.preventDefault(),t.stopPropagation(),this.list.focusNext(),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()},t.prototype.onPageUpArrow=function(t){t.preventDefault(),t.stopPropagation(),this.list.focusPreviousPage(),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()},t.prototype.onPageDownArrow=function(t){t.preventDefault(),t.stopPropagation(),this.list.focusNextPage(),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()},t.prototype.dispose=function(){this.disposables=v.dispose(this.disposables)},t}(),x=function(){function o(o,a,t){void 0===t&&(t={});var n=this;this.list=o,this.view=a,this.options=t,this.disposables=[],this.disposables.push(a.addListener("mousedown",function(t){return n.onMouseDown(t)})),this.disposables.push(a.addListener("click",function(t){return n.onPointer(t)})),this.disposables.push(a.addListener("dblclick",function(t){return n.onDoubleClick(t)})),this.disposables.push(a.addListener("touchstart",function(t){return n.onMouseDown(t)})),this.disposables.push(a.addListener(r.EventType.Tap,function(t){return n.onPointer(t)}))}return Object.defineProperty(o.prototype,"onContextMenu",{get:function(){var o=this,e=a.chain(d.domEvent(this.view.domNode,"keydown")).map(function(t){return new i.StandardKeyboardEvent(t)}).filter(function(){return 0<o.list.getFocus().length}).filter(function(t){return 58===t.keyCode||t.shiftKey&&68===t.keyCode}).map(function(){var e=o.list.getFocus()[0];return{index:e,element:o.view.element(e),anchor:o.view.domElement(e)}}).filter(function(t){return!!t.anchor}).event,t=a.chain(a.fromCallback(function(e){return o.view.addListener("contextmenu",e)})).map(function(t){return{element:t.element,index:t.index,anchor:{x:t.clientX+1,y:t.clientY}}}).event;return a.any(e,t)},enumerable:!0,configurable:!0}),o.prototype.onMouseDown=function(o){o.preventDefault(),o.stopPropagation(),this.view.domNode.focus();var e=this.list.getFocus()[0];if(e=void 0===e?this.list.getSelection()[0]:e,g(o))return this.changeSelection(o,e);var t=o.index;return(this.list.setFocus([t]),u(o))?this.changeSelection(o,e):void(this.options.selectOnMouseDown&&(this.list.setSelection([t]),this.list.open([t])))},o.prototype.onPointer=function(o){if(o.preventDefault(),o.stopPropagation(),!u(o)){var e=this.list.getFocus();this.list.setSelection(e),this.list.open(e)}},o.prototype.onDoubleClick=function(o){if(o.preventDefault(),o.stopPropagation(),!u(o)){var e=this.list.getFocus();this.list.setSelection(e),this.list.pin(e)}},o.prototype.changeSelection=function(o,e){var t=o.index;if(g(o)&&void 0!==e){var n=q(e,t),i=G(e,t),r=B.range(i+1,n),s=m(h(a=this.list.getSelection(),[e]),e);if(0===s.length)return;d=h(r,_(a,s)),this.list.setSelection(d)}else if(c(o)){var a=this.list.getSelection(),d=a.filter(function(o){return o!==t});a.length===d.length?this.list.setSelection(d.concat([t])):this.list.setSelection(d)}},o.prototype.dispose=function(){this.disposables=v.dispose(this.disposables)},F([t.memoize],o.prototype,"onContextMenu",null),o}(),N={listFocusBackground:s.Color.fromHex("#073655"),listActiveSelectionBackground:s.Color.fromHex("#0E639C"),listActiveSelectionForeground:s.Color.fromHex("#FFFFFF"),listFocusAndSelectionBackground:s.Color.fromHex("#094771"),listFocusAndSelectionForeground:s.Color.fromHex("#FFFFFF"),listInactiveSelectionBackground:s.Color.fromHex("#3F3F46"),listHoverBackground:s.Color.fromHex("#2A2D2E"),listDropBackground:s.Color.fromHex("#383B3D")},T={keyboardSupport:!0,mouseSupport:!0},I=function(o,e){return o-e},M=function(){function t(o,n){this._templateId=o,this.renderers=n}return Object.defineProperty(t.prototype,"templateId",{get:function(){return this._templateId},enumerable:!0,configurable:!0}),t.prototype.renderTemplate=function(o){return this.renderers.map(function(e){return e.renderTemplate(o)})},t.prototype.renderElement=function(r,e,t){this.renderers.forEach(function(n,i){return n.renderElement(r,e,t[i])})},t.prototype.disposeTemplate=function(o){this.renderers.forEach(function(e,t){return e.disposeTemplate(o[t])})},t}(),k=function(){function c(e,t,n,i){void 0===i&&(i=T);var o=this;this.idPrefix="list_id_"+ ++c.InstanceCount,this._onContextMenu=a.default.None,this._onOpen=new a.Emitter,this._onPin=new a.Emitter,this._onDispose=new a.Emitter;var r=new E;if((this.focus=new S(function(t){return o.getElementDomId(t)}),this.selection=new b("selected"),this.eventBufferer=new a.EventBufferer,p.mixin(i,N,!1),n=n.map(function(t){return new M(t.templateId,[r,o.focus.renderer,o.selection.renderer,t])}),this.view=new l.ListView(e,t,n,i),this.view.domNode.setAttribute("role","tree"),V.addClass(this.view.domNode,this.idPrefix),this.view.domNode.tabIndex=0,this.styleElement=V.createStyleSheet(this.view.domNode),this.spliceable=new y([r,new L(this.focus,this.view,i.identityProvider),new L(this.selection,this.view,i.identityProvider),this.view]),this.disposables=[this.focus,this.selection,this.view,this._onDispose],this.onDOMFocus=a.mapEvent(d.domEvent(this.view.domNode,"focus",!0),function(){return null}),this.onDOMBlur=a.mapEvent(d.domEvent(this.view.domNode,"blur",!0),function(){return null}),"boolean"!=typeof i.keyboardSupport||i.keyboardSupport)&&(s=new w(this,this.view),this.disposables.push(s)),"boolean"!=typeof i.mouseSupport||i.mouseSupport){var s=new x(this,this.view,i);this.disposables.push(s),this._onContextMenu=s.onContextMenu}this.onFocusChange(this._onFocusChange,this,this.disposables),this.onSelectionChange(this._onSelectionChange,this,this.disposables),i.ariaLabel&&this.view.domNode.setAttribute("aria-label",i.ariaLabel),this.style(i)}return Object.defineProperty(c.prototype,"onFocusChange",{get:function(){var o=this;return a.mapEvent(this.eventBufferer.wrapEvent(this.focus.onChange),function(e){return o.toListEvent(e)})},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"onSelectionChange",{get:function(){var o=this;return a.mapEvent(this.eventBufferer.wrapEvent(this.selection.onChange),function(e){return o.toListEvent(e)})},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"onContextMenu",{get:function(){return this._onContextMenu},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"onOpen",{get:function(){var o=this;return a.mapEvent(this._onOpen.event,function(e){return o.toListEvent({indexes:e})})},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"onPin",{get:function(){var o=this;return a.mapEvent(this._onPin.event,function(e){return o.toListEvent({indexes:e})})},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"onDispose",{get:function(){return this._onDispose.event},enumerable:!0,configurable:!0}),c.prototype.splice=function(o,e,t){var n=this;void 0===t&&(t=[]),this.eventBufferer.bufferEvents(function(){return n.spliceable.splice(o,e,t)})},Object.defineProperty(c.prototype,"length",{get:function(){return this.view.length},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"contentHeight",{get:function(){return this.view.getContentHeight()},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"scrollTop",{get:function(){return this.view.getScrollTop()},set:function(t){this.view.setScrollTop(t)},enumerable:!0,configurable:!0}),c.prototype.layout=function(t){this.view.layout(t)},c.prototype.setSelection=function(t){t=t.sort(I),this.selection.set(t)},c.prototype.selectNext=function(o,e){if(void 0===o&&(o=1),void 0===e&&(e=!1),0!==this.length){var t=this.selection.get(),n=0<t.length?t[0]+o:0;this.setSelection(e?[n%this.length]:[q(n,this.length-1)])}},c.prototype.selectPrevious=function(o,e){if(void 0===o&&(o=1),void 0===e&&(e=!1),0!==this.length){var t=this.selection.get(),n=0<t.length?t[0]-o:0;e&&0>n&&(n=this.length+n%this.length),this.setSelection([G(n,0)])}},c.prototype.getSelection=function(){return this.selection.get()},c.prototype.getSelectedElements=function(){var o=this;return this.getSelection().map(function(e){return o.view.element(e)})},c.prototype.setFocus=function(t){t=t.sort(I),this.focus.set(t)},c.prototype.focusNext=function(o,e){if(void 0===o&&(o=1),void 0===e&&(e=!1),0!==this.length){var t=this.focus.get(),n=0<t.length?t[0]+o:0;this.setFocus(e?[n%this.length]:[q(n,this.length-1)])}},c.prototype.focusPrevious=function(o,e){if(void 0===o&&(o=1),void 0===e&&(e=!1),0!==this.length){var t=this.focus.get(),n=0<t.length?t[0]-o:0;e&&0>n&&(n=(this.length+n%this.length)%this.length),this.setFocus([G(n,0)])}},c.prototype.focusNextPage=function(){var o=this,e=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);e=0===e?0:e-1;var t=this.view.element(e);if(this.getFocusedElements()[0]!==t)this.setFocus([e]);else{var n=this.view.getScrollTop();this.view.setScrollTop(n+this.view.renderHeight-this.view.elementHeight(e)),this.view.getScrollTop()!==n&&setTimeout(function(){return o.focusNextPage()},0)}},c.prototype.focusPreviousPage=function(){var o=this,t=this.view.getScrollTop(),n;n=0===t?this.view.indexAt(t):this.view.indexAfter(t-1);var e=this.view.element(n);if(this.getFocusedElements()[0]!==e)this.setFocus([n]);else{this.view.setScrollTop(t-this.view.renderHeight),this.view.getScrollTop()!==t&&setTimeout(function(){return o.focusPreviousPage()},0)}},c.prototype.focusLast=function(){0!==this.length&&this.setFocus([this.length-1])},c.prototype.focusFirst=function(){0!==this.length&&this.setFocus([0])},c.prototype.getFocus=function(){return this.focus.get()},c.prototype.getFocusedElements=function(){var o=this;return this.getFocus().map(function(e){return o.view.element(e)})},c.prototype.reveal=function(i,e){var t=this.view.getScrollTop(),n=this.view.elementTop(i),o=this.view.elementHeight(i);if(W.isNumber(e)){e=1<(e=0>e?0:e)?1:e;var r=o-this.view.renderHeight;this.view.setScrollTop(r*e+n)}else{var s=n+o,a=t+this.view.renderHeight;n<t?this.view.setScrollTop(n):s>=a&&this.view.setScrollTop(s-this.view.renderHeight)}},c.prototype.getElementDomId=function(t){return this.idPrefix+"_"+t},c.prototype.isDOMFocused=function(){return this.view.domNode===document.activeElement},c.prototype.getHTMLElement=function(){return this.view.domNode},c.prototype.open=function(t){this._onOpen.fire(t)},c.prototype.pin=function(t){this._onPin.fire(t)},c.prototype.style=function(o){var e=[];o.listFocusBackground&&e.push(".monaco-list."+this.idPrefix+":focus .monaco-list-row.focused { background-color: "+o.listFocusBackground+"; }"),o.listFocusForeground&&e.push(".monaco-list."+this.idPrefix+":focus .monaco-list-row.focused { color: "+o.listFocusForeground+"; }"),o.listActiveSelectionBackground&&(e.push(".monaco-list."+this.idPrefix+":focus .monaco-list-row.selected { background-color: "+o.listActiveSelectionBackground+"; }"),e.push(".monaco-list."+this.idPrefix+":focus .monaco-list-row.selected:hover { background-color: "+o.listActiveSelectionBackground+"; }")),o.listActiveSelectionForeground&&e.push(".monaco-list."+this.idPrefix+":focus .monaco-list-row.selected { color: "+o.listActiveSelectionForeground+"; }"),o.listFocusAndSelectionBackground&&e.push(".monaco-list."+this.idPrefix+":focus .monaco-list-row.selected.focused { background-color: "+o.listFocusAndSelectionBackground+"; }"),o.listFocusAndSelectionForeground&&e.push(".monaco-list."+this.idPrefix+":focus .monaco-list-row.selected.focused { color: "+o.listFocusAndSelectionForeground+"; }"),o.listInactiveFocusBackground&&(e.push(".monaco-list."+this.idPrefix+" .monaco-list-row.focused { background-color:  "+o.listInactiveFocusBackground+"; }"),e.push(".monaco-list."+this.idPrefix+" .monaco-list-row.focused:hover { background-color:  "+o.listInactiveFocusBackground+"; }")),o.listInactiveSelectionBackground&&(e.push(".monaco-list."+this.idPrefix+" .monaco-list-row.selected { background-color:  "+o.listInactiveSelectionBackground+"; }"),e.push(".monaco-list."+this.idPrefix+" .monaco-list-row.selected:hover { background-color:  "+o.listInactiveSelectionBackground+"; }")),o.listInactiveSelectionForeground&&e.push(".monaco-list."+this.idPrefix+" .monaco-list-row.selected { color: "+o.listInactiveSelectionForeground+"; }"),o.listHoverBackground&&e.push(".monaco-list."+this.idPrefix+" .monaco-list-row:hover { background-color:  "+o.listHoverBackground+"; }"),o.listHoverForeground&&e.push(".monaco-list."+this.idPrefix+" .monaco-list-row:hover { color:  "+o.listHoverForeground+"; }"),o.listSelectionOutline&&e.push(".monaco-list."+this.idPrefix+" .monaco-list-row.selected { outline: 1px dotted "+o.listSelectionOutline+"; outline-offset: -1px; }"),o.listFocusOutline&&e.push(".monaco-list."+this.idPrefix+":focus .monaco-list-row.focused { outline: 1px solid "+o.listFocusOutline+"; outline-offset: -1px; }"),o.listInactiveFocusOutline&&e.push(".monaco-list."+this.idPrefix+" .monaco-list-row.focused { outline: 1px dotted "+o.listInactiveFocusOutline+"; outline-offset: -1px; }"),o.listHoverOutline&&e.push(".monaco-list."+this.idPrefix+" .monaco-list-row:hover { outline: 1px dashed "+o.listHoverOutline+"; outline-offset: -1px; }"),this.styleElement.innerHTML=e.join("\n")},c.prototype.toListEvent=function(o){var i=this,e=o.indexes;return{indexes:e,elements:e.map(function(t){return i.view.element(t)})}},c.prototype._onFocusChange=function(){var t=this.focus.get();0<t.length?this.view.domNode.setAttribute("aria-activedescendant",this.getElementDomId(t[0])):this.view.domNode.removeAttribute("aria-activedescendant"),this.view.domNode.setAttribute("role","tree"),V.toggleClass(this.view.domNode,"element-focused",0<t.length)},c.prototype._onSelectionChange=function(){var t=this.selection.get();V.toggleClass(this.view.domNode,"selection-none",0===t.length),V.toggleClass(this.view.domNode,"selection-single",1===t.length),V.toggleClass(this.view.domNode,"selection-multiple",1<t.length)},c.prototype.dispose=function(){this._onDispose.fire(),this.disposables=v.dispose(this.disposables)},c.InstanceCount=0,F([t.memoize],c.prototype,"onFocusChange",null),F([t.memoize],c.prototype,"onSelectionChange",null),F([t.memoize],c.prototype,"onOpen",null),F([t.memoize],c.prototype,"onPin",null),c}();e.List=k}),define(s[238],n([1,0,15,28,7,3,4,139,74,9,47,65,461,107,63,48,472,448,11]),function(f,e,x,N,t,o,T,i,s,n,M,l,d,a,p,c,r,m,u){"use strict";function g(t){try{t.parentElement.removeChild(t)}catch(t){}}function h(o,n){return!o&&!n||o&&n&&o.accept===n.accept&&o.bubble===n.bubble&&o.effect===n.effect}Object.defineProperty(e,"__esModule",{value:!0});var _=function(){function t(t){this.context=t,this._cache={"":[]}}return t.prototype.alloc=function(o){var r=this.cache(o).pop();if(!r){var a=document.createElement("div");a.className="content";var n=document.createElement("div");n.appendChild(a),r={element:n,templateId:o,templateData:this.context.renderer.renderTemplate(this.context.tree,o,a)}}return r},t.prototype.release=function(o,e){g(e.element),this.cache(o).push(e)},t.prototype.cache=function(t){return this._cache[t]||(this._cache[t]=[])},t.prototype.garbageCollect=function(){var o=this;this._cache&&Object.keys(this._cache).forEach(function(e){o._cache[e].forEach(function(t){o.context.renderer.disposeTemplate(o.context.tree,e,t.templateData),t.element=null,t.templateData=null}),delete o._cache[e]})},t.prototype.dispose=function(){this.garbageCollect(),this._cache=null,this.context=null},t}();e.RowCache=_;var y=function(){function t(o,i){var t=this;this.context=o,this.model=i,this.id=this.model.id,this.row=null,this.top=0,this.height=i.getHeight(),this._styles={},i.getAllTraits().forEach(function(o){return t._styles[o]=!0}),i.isExpanded()&&this.addClass("expanded")}return Object.defineProperty(t.prototype,"expanded",{set:function(t){t?this.addClass("expanded"):this.removeClass("expanded")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"loading",{set:function(t){t?this.addClass("loading"):this.removeClass("loading")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"draggable",{get:function(){return this._draggable},set:function(t){this._draggable=t,this.render(!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dropTarget",{set:function(t){t?this.addClass("drop-target"):this.removeClass("drop-target")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"element",{get:function(){return this.row&&this.row.element},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"templateId",{get:function(){return this._templateId||(this._templateId=this.context.renderer.getTemplateId&&this.context.renderer.getTemplateId(this.context.tree,this.model.getElement()))},enumerable:!0,configurable:!0}),t.prototype.addClass=function(t){this._styles[t]=!0,this.render(!0)},t.prototype.removeClass=function(t){delete this._styles[t],this.render(!0)},t.prototype.render=function(s){var d=this;if(void 0===s&&(s=!1),this.model&&this.element){var e=["monaco-tree-row"];e.push.apply(e,Object.keys(this._styles)),this.model.hasChildren()&&e.push("has-children"),this.element.className=e.join(" "),this.element.draggable=this.draggable,this.element.style.height=this.height+"px",this.element.setAttribute("role","treeitem");var t=this.context.accessibilityProvider,i=t.getAriaLabel(this.context.tree,this.model.getElement());if(i&&this.element.setAttribute("aria-label",i),t.getPosInSet&&t.getSetSize&&(this.element.setAttribute("aria-setsize",t.getSetSize()),this.element.setAttribute("aria-posinset",t.getPosInSet(this.context.tree,this.model.getElement()))),this.model.hasTrait("focused")){var o=n.safeBtoa(this.model.id);this.element.setAttribute("aria-selected","true"),this.element.setAttribute("id",o)}else this.element.setAttribute("aria-selected","false"),this.element.removeAttribute("id");this.model.hasChildren()?this.element.setAttribute("aria-expanded",!!this.model.isExpanded()+""):this.element.removeAttribute("aria-expanded"),this.element.setAttribute("aria-level",this.model.getDepth()+""),this.context.options.paddingOnRow?this.element.style.paddingLeft=this.context.options.twistiePixels+(this.model.getDepth()-1)*this.context.options.indentPixels+"px":(this.element.style.paddingLeft=(this.model.getDepth()-1)*this.context.options.indentPixels+"px",this.row.element.firstElementChild.style.paddingLeft=this.context.options.twistiePixels+"px");var r=this.context.dnd.getDragURI(this.context.tree,this.model.getElement());r!==this.uri&&(this.unbindDragStart&&(this.unbindDragStart.dispose(),this.unbindDragStart=null),r?(this.uri=r,this.draggable=!0,this.unbindDragStart=T.addDisposableListener(this.element,"dragstart",function(t){d.onDragStart(t)})):this.uri=null),s||this.context.renderer.renderElement(this.context.tree,this.model.getElement(),this.templateId,this.row.templateData)}},t.prototype.insertInDOM=function(o,e){if(this.row||(this.row=this.context.cache.alloc(this.templateId),this.element[b.BINDING]=this),!this.element.parentElement){if(null===e)o.appendChild(this.element);else try{o.insertBefore(this.element,e)}catch(e){console.warn("Failed to locate previous tree element"),o.appendChild(this.element)}this.render()}},t.prototype.removeFromDOM=function(){this.row&&(this.unbindDragStart&&(this.unbindDragStart.dispose(),this.unbindDragStart=null),this.uri=null,this.element[b.BINDING]=null,this.context.cache.release(this.templateId,this.row),this.row=null)},t.prototype.dispose=function(){this.row=null,this.model=null},t}();e.ViewItem=y;var C=function(r){function e(e,a,n){var s=r.call(this,e,a)||this;return s.row={element:n,templateData:null,templateId:null},s}return Z(e,r),e.prototype.render=function(){if(this.model&&this.element){var t=["monaco-tree-wrapper"];t.push.apply(t,Object.keys(this._styles)),this.model.hasChildren()&&t.push("has-children"),this.element.className=t.join(" ")}},e.prototype.insertInDOM=function(){},e.prototype.removeFromDOM=function(){},e}(y),b=function(g){function b(e,t){var o=g.call(this)||this;o.lastClickTimeStamp=0,o.isRefreshing=!1,o.refreshingPreviousChildrenIds={},o._onDOMFocus=new u.Emitter,o._onDOMBlur=new u.Emitter,b.counter++,o.instance=b.counter,o.context={dataSource:e.dataSource,renderer:e.renderer,controller:e.controller,dnd:e.dnd,filter:e.filter,sorter:e.sorter,tree:e.tree,accessibilityProvider:e.accessibilityProvider,options:e.options,cache:new _(e)},o.modelListeners=[],o.viewListeners=[],o.dragAndDropListeners=[],o.model=null,o.items={},o.domNode=document.createElement("div"),o.domNode.className="monaco-tree no-focused-item monaco-tree-instance-"+o.instance,o.domNode.tabIndex=0,o.styleElement=T.createStyleSheet(o.domNode),o.domNode.setAttribute("role","tree"),o.context.options.ariaLabel&&o.domNode.setAttribute("aria-label",o.context.options.ariaLabel),o.context.options.alwaysFocused&&T.addClass(o.domNode,"focused"),o.context.options.paddingOnRow||T.addClass(o.domNode,"no-row-padding"),o.wrapper=document.createElement("div"),o.wrapper.className="monaco-tree-wrapper",o.scrollableElement=new p.ScrollableElement(o.wrapper,{alwaysConsumeMouseWheel:!0,horizontal:c.ScrollbarVisibility.Hidden,vertical:void 0===e.options.verticalScrollMode?c.ScrollbarVisibility.Auto:e.options.verticalScrollMode,useShadows:e.options.useShadows}),o.scrollableElement.onScroll(function(t){o.render(t.scrollTop,t.height),o.emit("scroll",t)}),N.isIE?(o.wrapper.style.msTouchAction="none",o.wrapper.style.msContentZooming="none"):o.wrapperGesture=new s.Gesture(o.wrapper),o.rowsContainer=document.createElement("div"),o.rowsContainer.className="monaco-tree-rows",e.options.showTwistie&&(o.rowsContainer.className+=" show-twisties");var n=T.trackFocus(o.domNode);return n.addFocusListener(function(){return o.onFocus()}),n.addBlurListener(function(){return o.onBlur()}),o.viewListeners.push(n),o.viewListeners.push(T.addDisposableListener(o.domNode,"keydown",function(t){return o.onKeyDown(t)})),o.viewListeners.push(T.addDisposableListener(o.domNode,"keyup",function(t){return o.onKeyUp(t)})),o.viewListeners.push(T.addDisposableListener(o.domNode,"mousedown",function(t){return o.onMouseDown(t)})),o.viewListeners.push(T.addDisposableListener(o.domNode,"mouseup",function(t){return o.onMouseUp(t)})),o.viewListeners.push(T.addDisposableListener(o.wrapper,"click",function(t){return o.onClick(t)})),o.viewListeners.push(T.addDisposableListener(o.wrapper,"auxclick",function(t){return o.onClick(t)})),o.viewListeners.push(T.addDisposableListener(o.domNode,"contextmenu",function(t){return o.onContextMenu(t)})),o.viewListeners.push(T.addDisposableListener(o.wrapper,s.EventType.Tap,function(t){return o.onTap(t)})),o.viewListeners.push(T.addDisposableListener(o.wrapper,s.EventType.Change,function(t){return o.onTouchChange(t)})),N.isIE&&(o.viewListeners.push(T.addDisposableListener(o.wrapper,"MSPointerDown",function(t){return o.onMsPointerDown(t)})),o.viewListeners.push(T.addDisposableListener(o.wrapper,"MSGestureTap",function(t){return o.onMsGestureTap(t)})),o.viewListeners.push(T.addDisposableThrottledListener(o.wrapper,"MSGestureChange",function(t){return o.onThrottledMsGestureChange(t)},function(o,e){e.stopPropagation(),e.preventDefault();var t={translationY:e.translationY,translationX:e.translationX};return o&&(t.translationY+=o.translationY,t.translationX+=o.translationX),t}))),o.viewListeners.push(T.addDisposableListener(window,"dragover",function(t){return o.onDragOver(t)})),o.viewListeners.push(T.addDisposableListener(o.wrapper,"drop",function(t){return o.onDrop(t)})),o.viewListeners.push(T.addDisposableListener(window,"dragend",function(t){return o.onDragEnd(t)})),o.viewListeners.push(T.addDisposableListener(window,"dragleave",function(t){return o.onDragOver(t)})),o.wrapper.appendChild(o.rowsContainer),o.domNode.appendChild(o.scrollableElement.getDomNode()),t.appendChild(o.domNode),o.lastRenderTop=0,o.lastRenderHeight=0,o.didJustPressContextMenuKey=!1,o.currentDropTarget=null,o.currentDropTargets=[],o.shouldInvalidateDropReaction=!1,o.dragAndDropScrollInterval=null,o.dragAndDropScrollTimeout=null,o.onHiddenScrollTop=null,o.onRowsChanged(),o.layout(),o.setupMSGesture(),o.applyStyles(e.options),o}return Z(b,g),Object.defineProperty(b.prototype,"onDOMFocus",{get:function(){return this._onDOMFocus.event},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"onDOMBlur",{get:function(){return this._onDOMBlur.event},enumerable:!0,configurable:!0}),b.prototype.applyStyles=function(o){var e=[];o.listFocusBackground&&e.push(".monaco-tree.monaco-tree-instance-"+this.instance+".focused .monaco-tree-rows > .monaco-tree-row.focused:not(.highlighted) { background-color: "+o.listFocusBackground+"; }"),o.listFocusForeground&&e.push(".monaco-tree.monaco-tree-instance-"+this.instance+".focused .monaco-tree-rows > .monaco-tree-row.focused:not(.highlighted) { color: "+o.listFocusForeground+"; }"),o.listActiveSelectionBackground&&e.push(".monaco-tree.monaco-tree-instance-"+this.instance+".focused .monaco-tree-rows > .monaco-tree-row.selected:not(.highlighted) { background-color: "+o.listActiveSelectionBackground+"; }"),o.listActiveSelectionForeground&&e.push(".monaco-tree.monaco-tree-instance-"+this.instance+".focused .monaco-tree-rows > .monaco-tree-row.selected:not(.highlighted) { color: "+o.listActiveSelectionForeground+"; }"),o.listFocusAndSelectionBackground&&e.push("\n\t\t\t\t.monaco-tree-drag-image,\n\t\t\t\t.monaco-tree.monaco-tree-instance-"+this.instance+".focused .monaco-tree-rows > .monaco-tree-row.focused.selected:not(.highlighted) { background-color: "+o.listFocusAndSelectionBackground+"; }\n\t\t\t"),o.listFocusAndSelectionForeground&&e.push("\n\t\t\t\t.monaco-tree-drag-image,\n\t\t\t\t.monaco-tree.monaco-tree-instance-"+this.instance+".focused .monaco-tree-rows > .monaco-tree-row.focused.selected:not(.highlighted) { color: "+o.listFocusAndSelectionForeground+"; }\n\t\t\t"),o.listInactiveSelectionBackground&&e.push(".monaco-tree.monaco-tree-instance-"+this.instance+" .monaco-tree-rows > .monaco-tree-row.selected:not(.highlighted) { background-color: "+o.listInactiveSelectionBackground+"; }"),o.listInactiveSelectionForeground&&e.push(".monaco-tree.monaco-tree-instance-"+this.instance+" .monaco-tree-rows > .monaco-tree-row.selected:not(.highlighted) { color: "+o.listInactiveSelectionForeground+"; }"),o.listHoverBackground&&e.push(".monaco-tree.monaco-tree-instance-"+this.instance+" .monaco-tree-rows > .monaco-tree-row:hover:not(.highlighted):not(.selected):not(.focused) { background-color: "+o.listHoverBackground+"; }"),o.listHoverForeground&&e.push(".monaco-tree.monaco-tree-instance-"+this.instance+" .monaco-tree-rows > .monaco-tree-row:hover:not(.highlighted):not(.selected):not(.focused) { color: "+o.listHoverForeground+"; }"),o.listDropBackground&&e.push("\n\t\t\t\t.monaco-tree.monaco-tree-instance-"+this.instance+" .monaco-tree-wrapper.drop-target,\n\t\t\t\t.monaco-tree.monaco-tree-instance-"+this.instance+" .monaco-tree-rows > .monaco-tree-row.drop-target { background-color: "+o.listDropBackground+" !important; color: inherit !important; }\n\t\t\t"),o.listFocusOutline&&e.push("\n\t\t\t\t.monaco-tree-drag-image\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ border: 1px solid "+o.listFocusOutline+"; background: #000; }\n\t\t\t\t.monaco-tree.monaco-tree-instance-"+this.instance+" .monaco-tree-rows > .monaco-tree-row \t\t\t\t\t\t\t\t\t\t\t\t\t\t{ border: 1px solid transparent; }\n\t\t\t\t.monaco-tree.monaco-tree-instance-"+this.instance+".focused .monaco-tree-rows > .monaco-tree-row.focused:not(.highlighted) \t\t\t\t\t\t{ border: 1px dotted "+o.listFocusOutline+"; }\n\t\t\t\t.monaco-tree.monaco-tree-instance-"+this.instance+".focused .monaco-tree-rows > .monaco-tree-row.selected:not(.highlighted) \t\t\t\t\t\t{ border: 1px solid "+o.listFocusOutline+"; }\n\t\t\t\t.monaco-tree.monaco-tree-instance-"+this.instance+" .monaco-tree-rows > .monaco-tree-row.selected:not(.highlighted)  \t\t\t\t\t\t\t{ border: 1px solid "+o.listFocusOutline+"; }\n\t\t\t\t.monaco-tree.monaco-tree-instance-"+this.instance+" .monaco-tree-rows > .monaco-tree-row:hover:not(.highlighted):not(.selected):not(.focused)  \t{ border: 1px dashed "+o.listFocusOutline+"; }\n\t\t\t\t.monaco-tree.monaco-tree-instance-"+this.instance+" .monaco-tree-wrapper.drop-target,\n\t\t\t\t.monaco-tree.monaco-tree-instance-"+this.instance+" .monaco-tree-rows > .monaco-tree-row.drop-target\t\t\t\t\t\t\t\t\t\t\t\t{ border: 1px dashed "+o.listFocusOutline+"; }\n\t\t\t"),this.styleElement.innerHTML=e.join("\n")},b.prototype.createViewItem=function(t){return new y(this.context,t)},b.prototype.getHTMLElement=function(){return this.domNode},b.prototype.focus=function(){this.domNode.focus()},b.prototype.isFocused=function(){return document.activeElement===this.domNode},b.prototype.blur=function(){this.domNode.blur()},b.prototype.onVisible=function(){this.scrollTop=this.onHiddenScrollTop,this.onHiddenScrollTop=null,this.setupMSGesture()},b.prototype.setupMSGesture=function(){var t=this;window.MSGesture&&(this.msGesture=new MSGesture,setTimeout(function(){return t.msGesture.target=t.wrapper},100))},b.prototype.onHidden=function(){this.onHiddenScrollTop=this.scrollTop},b.prototype.isTreeVisible=function(){return null===this.onHiddenScrollTop},b.prototype.layout=function(t){this.isTreeVisible()&&(this.viewHeight=t||T.getContentHeight(this.wrapper))},b.prototype.render=function(d,e){var t=d,o=d+e,r=this.lastRenderTop+this.lastRenderHeight,s,n;for(s=this.indexAfter(o)-1,n=this.indexAt(G(r,t));s>=n;s--)this.insertItemInDOM(this.itemAtIndex(s));for(s=q(this.indexAt(this.lastRenderTop),this.indexAfter(o))-1,n=this.indexAt(t);s>=n;s--)this.insertItemInDOM(this.itemAtIndex(s));for(s=this.indexAt(this.lastRenderTop),n=q(this.indexAt(t),this.indexAfter(r));s<n;s++)this.removeItemFromDOM(this.itemAtIndex(s));for(s=G(this.indexAfter(o),this.indexAt(this.lastRenderTop)),n=this.indexAfter(r);s<n;s++)this.removeItemFromDOM(this.itemAtIndex(s));var i=this.itemAtIndex(this.indexAt(t));i&&(this.rowsContainer.style.top=i.top-t+"px"),this.lastRenderTop=t,this.lastRenderHeight=o-t},b.prototype.setModel=function(o){var n=this;this.releaseModel(),this.model=o,this.modelListeners.push(this.model.addBulkListener(function(t){return n.onModelEvents(t)}))},b.prototype.onModelEvents=function(a){for(var e=[],t=0,n=a.length;t<n;t++){var i=a[t],o=i.data;switch(i.type){case"refreshing":this.onRefreshing();break;case"refreshed":this.onRefreshed();break;case"clearingInput":this.onClearingInput(o);break;case"setInput":this.onSetInput(o);break;case"item:childrenRefreshing":this.onItemChildrenRefreshing(o);break;case"item:childrenRefreshed":this.onItemChildrenRefreshed(o);break;case"item:refresh":e.push(o.item);break;case"item:expanding":this.onItemExpanding(o);break;case"item:expanded":this.onItemExpanded(o);break;case"item:collapsing":this.onItemCollapsing(o);break;case"item:reveal":this.onItemReveal(o);break;case"item:addTrait":this.onItemAddTrait(o);break;case"item:removeTrait":this.onItemRemoveTrait(o);break;case"focus":this.onModelFocusChange();}}0<e.length&&this.onItemsRefresh(e)},b.prototype.onRefreshing=function(){this.isRefreshing=!0},b.prototype.onRefreshed=function(){this.isRefreshing=!1,this.onRowsChanged()},b.prototype.onRowsChanged=function(t){void 0===t&&(t=this.scrollTop),this.isRefreshing||(this.scrollTop=t)},b.prototype.focusNextPage=function(r){var e=this,t=this.indexAt(this.scrollTop+this.viewHeight);t=0===t?0:t-1;var n=this.itemAtIndex(t).model.getElement();if(this.model.getFocus()!==n)this.model.setFocus(n,r);else{var i=this.scrollTop;this.scrollTop+=this.viewHeight,this.scrollTop!==i&&setTimeout(function(){e.focusNextPage(r)},0)}},b.prototype.focusPreviousPage=function(r){var e=this,n;n=0===this.scrollTop?this.indexAt(this.scrollTop):this.indexAfter(this.scrollTop-1);var t=this.itemAtIndex(n).model.getElement();if(this.model.getFocus()!==t)this.model.setFocus(t,r);else{var i=this.scrollTop;this.scrollTop-=this.viewHeight,this.scrollTop!==i&&setTimeout(function(){e.focusPreviousPage(r)},0)}},Object.defineProperty(b.prototype,"viewHeight",{get:function(){return this.scrollableElement.getScrollState().height},set:function(t){this.scrollableElement.updateState({height:t,scrollHeight:this.getTotalHeight()})},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"scrollTop",{get:function(){return this.scrollableElement.getScrollState().scrollTop},set:function(t){this.scrollableElement.updateState({scrollTop:t,scrollHeight:this.getTotalHeight()})},enumerable:!0,configurable:!0}),b.prototype.getScrollPosition=function(){var t=this.getTotalHeight()-this.viewHeight;return 0>=t?0:this.scrollTop/t},b.prototype.setScrollPosition=function(o){var e=this.getTotalHeight()-this.viewHeight;this.scrollTop=e*o},b.prototype.onClearingInput=function(o){var e=o.item;e&&(this.onRemoveItems(new a.MappedIterator(e.getNavigator(),function(t){return t&&t.id})),this.onRowsChanged())},b.prototype.onSetInput=function(t){this.context.cache.garbageCollect(),this.inputItem=new C(this.context,t.item,this.wrapper),this.emit("viewItem:create",{item:this.inputItem.model})},b.prototype.onItemChildrenRefreshing=function(t){var e=t.item,n=this.items[e.id];if(n&&(n.loadingTimer=setTimeout(function(){n.loadingTimer=0,n.loading=!0},b.LOADING_DECORATION_DELAY)),!t.isNested){for(var i=[],r=e.getNavigator(),a;a=r.next();)i.push(a.id);this.refreshingPreviousChildrenIds[e.id]=i}},b.prototype.onItemChildrenRefreshed=function(p){var _=this,e=p.item,t=this.items[e.id];if(t&&(t.loadingTimer&&(clearTimeout(t.loadingTimer),t.loadingTimer=0),t.loading=!1),!p.isNested){for(var n=this.refreshingPreviousChildrenIds[e.id],r=[],s=e.getNavigator(),u;u=s.next();)r.push(u);var o=1e3<I(n.length-r.length),y,c;if(o||(c=(y=new i.LcsDiff({getLength:function(){return n.length},getElementHash:function(t){return n[t]}},{getLength:function(){return r.length},getElementHash:function(t){return r[t].id}},null).ComputeDiff(!1)).some(function(t){if(0<t.modifiedLength)for(var e=t.modifiedStart,o=t.modifiedStart+t.modifiedLength;e<o;e++)if(_.items.hasOwnProperty(r[e].id))return!0;return!1})),!o&&!c&&50>y.length){for(var C=0,h=y.length,f;C<h;C++)if(f=y[C],0<f.originalLength&&this.onRemoveItems(new a.ArrayIterator(n,f.originalStart,f.originalStart+f.originalLength)),0<f.modifiedLength){var g=r[f.modifiedStart-1]||e;g=0<g.getDepth()?g:null,this.onInsertItems(new a.ArrayIterator(r,f.modifiedStart,f.modifiedStart+f.modifiedLength),g?g.id:null)}}else(o||y.length)&&(this.onRemoveItems(new a.ArrayIterator(n)),this.onInsertItems(new a.ArrayIterator(r),0<e.getDepth()?e.id:null));(o||y.length)&&this.onRowsChanged()}},b.prototype.onItemsRefresh=function(o){var n=this;this.onRefreshItemSet(o.filter(function(t){return n.items.hasOwnProperty(t.id)})),this.onRowsChanged()},b.prototype.onItemExpanding=function(o){var e=this.items[o.item.id];e&&(e.expanded=!0)},b.prototype.onItemExpanded=function(r){var e=r.item,t=this.items[e.id];if(t){t.expanded=!0;var n=this.onInsertItems(e.getNavigator(),e.id),i=this.scrollTop;t.top+t.height<=this.scrollTop&&(i+=n),this.onRowsChanged(i)}},b.prototype.onItemCollapsing=function(o){var e=o.item,t=this.items[e.id];t&&(t.expanded=!1,this.onRemoveItems(new a.MappedIterator(e.getNavigator(),function(t){return t&&t.id})),this.onRowsChanged())},b.prototype.getRelativeTop=function(o){if(o&&o.isVisible()){var e=this.items[o.id];if(e)return(e.top-this.scrollTop)/(this.viewHeight-e.height)}return-1},b.prototype.onItemReveal=function(a){var e=a.item,t=a.relativeTop,n=this.items[e.id];if(n)if(null!==t){t=1<(t=0>t?0:t)?1:t;var i=n.height-this.viewHeight;this.scrollTop=i*t+n.top}else{var o=n.top+n.height,r=this.scrollTop+this.viewHeight;n.top<this.scrollTop?this.scrollTop=n.top:o>=r&&(this.scrollTop=o-this.viewHeight)}},b.prototype.onItemAddTrait=function(o){var e=o.item,t=o.trait,n=this.items[e.id];n&&n.addClass(t),"highlighted"===t&&(T.addClass(this.domNode,t),n&&(this.highlightedItemWasDraggable=!!n.draggable,n.draggable&&(n.draggable=!1)))},b.prototype.onItemRemoveTrait=function(o){var e=o.item,t=o.trait,n=this.items[e.id];n&&n.removeClass(t),"highlighted"===t&&(T.removeClass(this.domNode,t),this.highlightedItemWasDraggable&&(n.draggable=!0),this.highlightedItemWasDraggable=!1)},b.prototype.onModelFocusChange=function(){var t=this.model&&this.model.getFocus();T.toggleClass(this.domNode,"no-focused-item",!t),t?this.domNode.setAttribute("aria-activedescendant",n.safeBtoa(this.context.dataSource.getId(this.context.tree,t))):this.domNode.removeAttribute("aria-activedescendant")},b.prototype.onInsertItem=function(o){var e=this;o.onDragStart=function(t){e.onDragStart(o,t)},o.needsRender=!0,this.refreshViewItem(o),this.items[o.id]=o},b.prototype.onRefreshItem=function(o,e){void 0===e&&(e=!1),o.needsRender=o.needsRender||e,this.refreshViewItem(o)},b.prototype.onRemoveItem=function(t){this.removeItemFromDOM(t),t.dispose(),this.emit("viewItem:dispose",{item:this.inputItem.model}),delete this.items[t.id]},b.prototype.refreshViewItem=function(t){t.render(),this.shouldBeRendered(t)?this.insertItemInDOM(t):this.removeItemFromDOM(t)},b.prototype.onClick=function(o){if(!this.lastPointerType||"mouse"===this.lastPointerType){var e=new M.StandardMouseEvent(o),t=this.getItemAround(e.target);t&&(N.isIE&&300>Date.now()-this.lastClickTimeStamp&&(e.detail=2),this.lastClickTimeStamp=Date.now(),this.context.controller.onClick(this.context.tree,t.model.getElement(),e))}},b.prototype.onMouseDown=function(o){if(this.didJustPressContextMenuKey=!1,this.context.controller.onMouseDown&&(!this.lastPointerType||"mouse"===this.lastPointerType)){var e=new M.StandardMouseEvent(o);if(!(e.ctrlKey&&x.isNative&&x.isMacintosh)){var t=this.getItemAround(e.target);t&&this.context.controller.onMouseDown(this.context.tree,t.model.getElement(),e)}}},b.prototype.onMouseUp=function(o){if(this.context.controller.onMouseUp&&(!this.lastPointerType||"mouse"===this.lastPointerType)){var e=new M.StandardMouseEvent(o);if(!(e.ctrlKey&&x.isNative&&x.isMacintosh)){var t=this.getItemAround(e.target);t&&this.context.controller.onMouseUp(this.context.tree,t.model.getElement(),e)}}},b.prototype.onTap=function(o){var e=this.getItemAround(o.initialTarget);e&&this.context.controller.onTap(this.context.tree,e.model.getElement(),o)},b.prototype.onTouchChange=function(t){t.preventDefault(),t.stopPropagation(),this.scrollTop-=t.translationY},b.prototype.onContextMenu=function(s){var e,t;if(s instanceof KeyboardEvent||this.didJustPressContextMenuKey){this.didJustPressContextMenuKey=!1;var n=new l.StandardKeyboardEvent(s);if(!(t=this.model.getFocus()))return;var i=this.context.dataSource.getId(this.context.tree,t),o=this.items[i],r=T.getDomNodePagePosition(o.element);e=new m.KeyboardContextMenuEvent(r.left+r.width,r.top,n)}else{var a=new M.StandardMouseEvent(s),d=this.getItemAround(a.target);if(!d)return;t=d.model.getElement(),e=new m.MouseContextMenuEvent(a)}this.context.controller.onContextMenu(this.context.tree,t,e)},b.prototype.onKeyDown=function(o){var e=new l.StandardKeyboardEvent(o);this.didJustPressContextMenuKey=58===e.keyCode||e.shiftKey&&68===e.keyCode,this.didJustPressContextMenuKey&&(e.preventDefault(),e.stopPropagation()),e.target&&e.target.tagName&&"input"===e.target.tagName.toLowerCase()||this.context.controller.onKeyDown(this.context.tree,e)},b.prototype.onKeyUp=function(t){this.didJustPressContextMenuKey&&this.onContextMenu(t),this.didJustPressContextMenuKey=!1,this.context.controller.onKeyUp(this.context.tree,new l.StandardKeyboardEvent(t))},b.prototype.onDragStart=function(t,e){if(!this.model.getHighlight()){var n=t.model.getElement(),o=this.model.getSelection(),r;if(r=-1<o.indexOf(n)?o:[n],e.dataTransfer.effectAllowed="copyMove",e.dataTransfer.setData("URL",t.uri),e.dataTransfer.setDragImage){var i=this.context.dnd.getDragLabel?this.context.dnd.getDragLabel(this.context.tree,r):r.length+"";var s=document.createElement("div");s.className="monaco-tree-drag-image",s.textContent=i,document.body.appendChild(s),e.dataTransfer.setDragImage(s,-10,-10),setTimeout(function(){return document.body.removeChild(s)},0)}this.currentDragAndDropData=new d.ElementsDragAndDropData(r),b.currentExternalDragAndDropData=new d.ExternalElementsDragAndDropData(r),this.context.dnd.onDragStart(this.context.tree,this.currentDragAndDropData,new M.DragMouseEvent(e))}},b.prototype.setupDragAndDropScrollInterval=function(){var r=this,e=T.getTopLeftOffset(this.wrapper).top;this.dragAndDropScrollInterval||(this.dragAndDropScrollInterval=window.setInterval(function(){if(void 0!==r.dragAndDropMouseY){var t=r.dragAndDropMouseY-e,n=0,i=r.viewHeight-35;35>t?n=G(-14,.2*(t-35)):t>i&&(n=q(14,.2*(t-i))),r.scrollTop+=n}},10),this.cancelDragAndDropScrollTimeout(),this.dragAndDropScrollTimeout=window.setTimeout(function(){r.cancelDragAndDropScrollInterval(),r.dragAndDropScrollTimeout=null},1e3))},b.prototype.cancelDragAndDropScrollInterval=function(){this.dragAndDropScrollInterval&&(window.clearInterval(this.dragAndDropScrollInterval),this.dragAndDropScrollInterval=null),this.cancelDragAndDropScrollTimeout()},b.prototype.cancelDragAndDropScrollTimeout=function(){this.dragAndDropScrollTimeout&&(window.clearTimeout(this.dragAndDropScrollTimeout),this.dragAndDropScrollTimeout=null)},b.prototype.onDragOver=function(o){var e=this,n=new M.DragMouseEvent(o),i=this.getItemAround(n.target);if(!i||0===n.posx&&0===n.posy&&n.browserEvent.type===T.EventType.DRAG_LEAVE)return this.currentDropTarget&&(this.currentDropTargets.forEach(function(t){return t.dropTarget=!1}),this.currentDropTargets=[],this.currentDropPromise&&(this.currentDropPromise.cancel(),this.currentDropPromise=null)),this.cancelDragAndDropScrollInterval(),this.currentDropTarget=null,this.currentDropElement=null,this.dragAndDropMouseY=null,!1;if(this.setupDragAndDropScrollInterval(),this.dragAndDropMouseY=n.posy,!this.currentDragAndDropData)if(b.currentExternalDragAndDropData)this.currentDragAndDropData=b.currentExternalDragAndDropData;else{if(!n.dataTransfer.types)return!1;this.currentDragAndDropData=new d.DesktopDragAndDropData}this.currentDragAndDropData.update(n);var s=i.model,c,a;do{if(c=s?s.getElement():this.model.getInput(),!(a=this.context.dnd.onDragOver(this.context.tree,this.currentDragAndDropData,c,n))||a.bubble!==m.DragOverBubble.BUBBLE_UP)break;s=s&&s.parent}while(s);if(!s)return this.currentDropElement=null,!1;var u=a&&a.accept;u?(this.currentDropElement=s.getElement(),n.preventDefault(),n.dataTransfer.dropEffect=a.effect===m.DragOverEffect.COPY?"copy":"move"):this.currentDropElement=null;var _=s.id===this.inputItem.id?this.inputItem:this.items[s.id];if((this.shouldInvalidateDropReaction||this.currentDropTarget!==_||!h(this.currentDropElementReaction,a))&&(this.shouldInvalidateDropReaction=!1,this.currentDropTarget&&(this.currentDropTargets.forEach(function(t){return t.dropTarget=!1}),this.currentDropTargets=[],this.currentDropPromise&&(this.currentDropPromise.cancel(),this.currentDropPromise=null)),this.currentDropTarget=_,this.currentDropElementReaction=a,u)){if(this.currentDropTarget&&(this.currentDropTarget.dropTarget=!0,this.currentDropTargets.push(this.currentDropTarget)),a.bubble===m.DragOverBubble.BUBBLE_DOWN)for(var p=s.getNavigator(),g;g=p.next();)(i=this.items[g.id])&&(i.dropTarget=!0,this.currentDropTargets.push(i));a.autoExpand&&(this.currentDropPromise=t.TPromise.timeout(500).then(function(){return e.context.tree.expand(e.currentDropElement)}).then(function(){return e.shouldInvalidateDropReaction=!0}))}return!0},b.prototype.onDrop=function(o){if(this.currentDropElement){var e=new M.DragMouseEvent(o);e.preventDefault(),this.currentDragAndDropData.update(e),this.context.dnd.drop(this.context.tree,this.currentDragAndDropData,this.currentDropElement,e),this.onDragEnd(o)}this.cancelDragAndDropScrollInterval()},b.prototype.onDragEnd=function(){this.currentDropTarget&&(this.currentDropTargets.forEach(function(t){return t.dropTarget=!1}),this.currentDropTargets=[]),this.currentDropPromise&&(this.currentDropPromise.cancel(),this.currentDropPromise=null),this.cancelDragAndDropScrollInterval(),this.currentDragAndDropData=null,b.currentExternalDragAndDropData=null,this.currentDropElement=null,this.currentDropTarget=null,this.dragAndDropMouseY=null},b.prototype.onFocus=function(){this.context.options.alwaysFocused||T.addClass(this.domNode,"focused"),this._onDOMFocus.fire()},b.prototype.onBlur=function(){this.context.options.alwaysFocused||T.removeClass(this.domNode,"focused"),this.domNode.removeAttribute("aria-activedescendant"),this._onDOMBlur.fire()},b.prototype.onMsPointerDown=function(o){if(this.msGesture){var e=o.pointerType;e===(o.MSPOINTER_TYPE_MOUSE||"mouse")?this.lastPointerType="mouse":e===(o.MSPOINTER_TYPE_TOUCH||"touch")&&(this.lastPointerType="touch",o.stopPropagation(),o.preventDefault(),this.msGesture.addPointer(o.pointerId))}},b.prototype.onThrottledMsGestureChange=function(t){this.scrollTop-=t.translationY},b.prototype.onMsGestureTap=function(t){t.initialTarget=document.elementFromPoint(t.clientX,t.clientY),this.onTap(t)},b.prototype.insertItemInDOM=function(o){var e=null,t=this.itemAfter(o);t&&t.element&&(e=t.element),o.insertInDOM(this.rowsContainer,e)},b.prototype.removeItemFromDOM=function(t){t&&t.removeFromDOM()},b.prototype.shouldBeRendered=function(t){return t.top<this.lastRenderTop+this.lastRenderHeight&&t.top+t.height>this.lastRenderTop},b.prototype.getItemAround=function(t){var e=this.inputItem;do{if(t[b.BINDING]&&(e=t[b.BINDING]),t===this.wrapper||t===this.domNode)return e;if(t===document.body)return null}while(t=t.parentElement)},b.prototype.releaseModel=function(){this.model&&(this.modelListeners=o.dispose(this.modelListeners),this.model=null)},b.prototype.dispose=function(){this.scrollableElement.dispose(),this.releaseModel(),this.modelListeners=null,this.viewListeners=o.dispose(this.viewListeners),this._onDOMFocus.dispose(),this._onDOMBlur.dispose(),this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.domNode=null,this.wrapperGesture&&(this.wrapperGesture.dispose(),this.wrapperGesture=null),this.context.cache&&(this.context.cache.dispose(),this.context.cache=null),g.prototype.dispose.call(this)},b.BINDING="monaco-tree-row",b.LOADING_DECORATION_DELAY=800,b.counter=0,b.currentExternalDragAndDropData=null,b}(r.HeightMap);e.TreeView=b}),define(s[249],n([5]),{}),define(s[259],n([1,0,3,11,41,4,33,32,26,249]),function(d,p,t,c,e,i,r,o,g){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.defaultStyles={selectBackground:o.Color.fromHex("#3C3C3C"),selectForeground:o.Color.fromHex("#F0F0F0"),selectBorder:o.Color.fromHex("#3C3C3C")};var n=function(d){function e(e,t,n){void 0===n&&(n=g.clone(p.defaultStyles));var r=d.call(this)||this;return r.selectElement=document.createElement("select"),r.selectElement.className="select-box",r.setOptions(e,t),r.toDispose=[],r._onDidSelect=new c.Emitter,r.selectBackground=n.selectBackground,r.selectForeground=n.selectForeground,r.selectBorder=n.selectBorder,r.toDispose.push(i.addStandardDisposableListener(r.selectElement,"change",function(t){r.selectElement.title=t.target.value,r._onDidSelect.fire({index:t.target.selectedIndex,selected:t.target.value})})),r.toDispose.push(i.addStandardDisposableListener(r.selectElement,"keydown",function(t){(t.equals(10)||t.equals(3))&&t.stopPropagation()})),r}return Z(e,d),Object.defineProperty(e.prototype,"onDidSelect",{get:function(){return this._onDidSelect.event},enumerable:!0,configurable:!0}),e.prototype.setOptions=function(a,e,t){var n=this;if(!this.options||!r.equals(this.options,a)){this.options=a,this.selectElement.options.length=0;var i=0;this.options.forEach(function(o){n.selectElement.add(n.createOption(o,t===i++))})}this.select(e)},e.prototype.select=function(t){0<=t&&t<this.options.length?this.selected=t:0>this.selected&&(this.selected=0),this.selectElement.selectedIndex=this.selected,this.selectElement.title=this.options[this.selected]},e.prototype.focus=function(){this.selectElement&&this.selectElement.focus()},e.prototype.blur=function(){this.selectElement&&this.selectElement.blur()},e.prototype.render=function(t){this.container=t,i.addClass(t,"select-container"),t.appendChild(this.selectElement),this.setOptions(this.options,this.selected),this.applyStyles()},e.prototype.style=function(t){this.selectBackground=t.selectBackground,this.selectForeground=t.selectForeground,this.selectBorder=t.selectBorder,this.applyStyles()},e.prototype.applyStyles=function(){if(this.selectElement){var o=this.selectBackground?this.selectBackground.toString():null,e=this.selectForeground?this.selectForeground.toString():null,t=this.selectBorder?this.selectBorder.toString():null;this.selectElement.style.backgroundColor=o,this.selectElement.style.color=e,this.selectElement.style.borderColor=t}},e.prototype.createOption=function(o,e){var t=document.createElement("option");return t.value=o,t.text=o,t.disabled=e,t},e.prototype.dispose=function(){this.toDispose=t.dispose(this.toDispose),d.prototype.dispose.call(this)},e}(e.Widget);p.SelectBox=n}),define(s[260],n([5]),{}),define(s[261],n([5]),{}),define(s[270],n([5]),{}),define(s[274],n([5]),{}),define(s[277],n([5]),{}),define(s[278],n([5]),{}),define(s[279],n([5]),{}),define(s[280],n([5]),{}),define(s[283],n([5]),{}),define(s[286],n([5]),{}),define(s[288],n([5]),{}),define(s[291],n([5]),{}),define(s[294],n([5]),{}),define(s[296],n([5]),{}),define(s[299],n([5]),{}),define(s[300],n([5]),{}),define(s[306],n([5]),{}),define(s[307],n([5]),{}),define(s[308],n([5]),{}),define(s[309],n([5]),{}),define(s[310],n([5]),{}),define(s[312],n([5]),{}),define(s[313],n([5]),{}),define(s[314],n([5]),{}),define(s[315],n([5]),{}),define(s[316],n([5]),{}),define(s[325],n([5]),{}),define(s[327],n([5]),{}),define(s[328],n([5]),{}),define(s[171],n([5]),{}),define(s[335],n([5]),{}),define(s[366],n([5]),{}),define(s[388],n([5]),{}),define(s[389],n([5]),{}),define(s[390],n([5]),{}),define(s[391],n([5]),{}),define(s[392],n([5]),{}),define(s[393],n([5]),{}),define(s[394],n([5]),{}),define(s[395],n([5]),{}),define(s[396],n([5]),{}),define(s[399],n([5]),{}),define(s[400],n([5]),{}),define(s[402],n([5]),{}),define(s[403],n([5]),{}),define(s[404],n([5]),{}),define(s[405],n([5]),{}),define(s[408],n([5]),{}),define(s[409],n([5]),{}),define(s[410],n([1,0]),function(o,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),!function(t){t[t.Regular=0]="Regular",t[t.Italic=1]="Italic",t[t.Bold=2]="Bold"}(e.CharWidthRequestType||(e.CharWidthRequestType={}));var t=function(){function t(o,n){this.chr=o,this.type=n,this.width=0}return t.prototype.fulfill=function(t){this.width=t},t}();e.CharWidthRequest=t;var n=function(){function t(o,n){this._bareFontInfo=o,this._requests=n,this._container=null,this._testElements=null}return t.prototype.read=function(){this._createDomElements(),document.body.appendChild(this._container),this._readFromDomElements(),document.body.removeChild(this._container),this._container=null,this._testElements=null},t.prototype._createDomElements=function(){var e=document.createElement("div");e.style.position="absolute",e.style.top="-50000px",e.style.width="50000px";var d=document.createElement("div");d.style.fontFamily=this._bareFontInfo.fontFamily,d.style.fontWeight=this._bareFontInfo.fontWeight,d.style.fontSize=this._bareFontInfo.fontSize+"px",d.style.lineHeight=this._bareFontInfo.lineHeight+"px",d.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",e.appendChild(d);var n=document.createElement("div");n.style.fontFamily=this._bareFontInfo.fontFamily,n.style.fontWeight="bold",n.style.fontSize=this._bareFontInfo.fontSize+"px",n.style.lineHeight=this._bareFontInfo.lineHeight+"px",n.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",e.appendChild(n);var i=document.createElement("div");i.style.fontFamily=this._bareFontInfo.fontFamily,i.style.fontWeight=this._bareFontInfo.fontWeight,i.style.fontSize=this._bareFontInfo.fontSize+"px",i.style.lineHeight=this._bareFontInfo.lineHeight+"px",i.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",i.style.fontStyle="italic",e.appendChild(i);for(var o=[],r=0,s=this._requests.length;r<s;r++){var a=this._requests[r],p=void 0;0===a.type&&(p=d),2===a.type&&(p=n),1===a.type&&(p=i),p.appendChild(document.createElement("br"));var l=document.createElement("span");t._render(l,a),p.appendChild(l),o[r]=l}this._container=e,this._testElements=o},t._render=function(r,e){if(" "===e.chr){for(var t="&nbsp;",n=0;8>n;n++)t+=t;r.innerHTML=t}else{for(var i=e.chr,n=0;8>n;n++)i+=i;r.textContent=i}},t.prototype._readFromDomElements=function(){for(var o=0,e=this._requests.length;o<e;o++){var t=this._requests[o],n=this._testElements[o];t.fulfill(n.offsetWidth/256)}},t}();e.readCharWidths=function(o,e){new n(o,e).read()}}),define(s[412],n([1,0,3]),function(o,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(o){function e(e,r){var n=o.call(this)||this;return n.referenceDomElement=e,n.changeCallback=r,n.measureReferenceDomElementToken=-1,n.width=-1,n.height=-1,n.measureReferenceDomElement(!1),n}return Z(e,o),e.prototype.dispose=function(){this.stopObserving(),o.prototype.dispose.call(this)},e.prototype.getWidth=function(){return this.width},e.prototype.getHeight=function(){return this.height},e.prototype.startObserving=function(){var t=this;-1===this.measureReferenceDomElementToken&&(this.measureReferenceDomElementToken=setInterval(function(){return t.measureReferenceDomElement(!0)},100))},e.prototype.stopObserving=function(){-1!==this.measureReferenceDomElementToken&&(clearInterval(this.measureReferenceDomElementToken),this.measureReferenceDomElementToken=-1)},e.prototype.observe=function(t){this.measureReferenceDomElement(!0,t)},e.prototype.measureReferenceDomElement=function(o,e){var t=0,n=0;e?(t=e.width,n=e.height):this.referenceDomElement&&(t=this.referenceDomElement.clientWidth,n=this.referenceDomElement.clientHeight),t=G(5,t),n=G(5,n),this.width===t&&this.height===n||(this.width=t,this.height=n,o&&this.changeCallback())},e}(t.Disposable);e.ElementSizeObserver=n}),define(s[25],n([1,0]),function(o,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),!function(t){t[t.EXACT=0]="EXACT",t[t.ABOVE=1]="ABOVE",t[t.BELOW=2]="BELOW"}(e.ContentWidgetPositionPreference||(e.ContentWidgetPositionPreference={})),!function(t){t[t.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",t[t.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",t[t.TOP_CENTER=2]="TOP_CENTER"}(e.OverlayWidgetPositionPreference||(e.OverlayWidgetPositionPreference={})),!function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.TEXTAREA=1]="TEXTAREA",t[t.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",t[t.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",t[t.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",t[t.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",t[t.CONTENT_TEXT=6]="CONTENT_TEXT",t[t.CONTENT_EMPTY=7]="CONTENT_EMPTY",t[t.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",t[t.CONTENT_WIDGET=9]="CONTENT_WIDGET",t[t.OVERVIEW_RULER=10]="OVERVIEW_RULER",t[t.SCROLLBAR=11]="SCROLLBAR",t[t.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",t[t.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR"}(e.MouseTargetType||(e.MouseTargetType={}))}),define(s[114],n([1,0,3,47,4,83]),function(p,e,t,n,g,o){"use strict";function r(o){var e=g.getDomNodePagePosition(o);return new a(e.left,e.top,e.width,e.height)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(o,n){this.x=o,this.y=n}return t.prototype.toClientCoordinates=function(){return new i(this.x-g.StandardWindow.scrollX,this.y-g.StandardWindow.scrollY)},t}();e.PageCoordinates=s;var i=function(){function t(o,n){this.clientX=o,this.clientY=n}return t.prototype.toPageCoordinates=function(){return new s(this.clientX+g.StandardWindow.scrollX,this.clientY+g.StandardWindow.scrollY)},t}();e.ClientCoordinates=i;var a=function(){return function(o,e,t,n){this.x=o,this.y=e,this.width=t,this.height=n}}();e.EditorPagePosition=a,e.createEditorPagePosition=r;var l=function(o){function e(e,a){var n=o.call(this,e)||this;return n.pos=new s(n.posx,n.posy),n.editorPos=r(a),n}return Z(e,o),e}(n.StandardMouseEvent);e.EditorMouseEvent=l;var c=function(){function t(t){this._editorViewDomNode=t}return t.prototype._create=function(t){return new l(t,this._editorViewDomNode)},t.prototype.onContextMenu=function(o,i){var t=this;return g.addDisposableListener(o,"contextmenu",function(o){i(t._create(o))})},t.prototype.onMouseUp=function(o,i){var t=this;return g.addDisposableListener(o,"mouseup",function(o){i(t._create(o))})},t.prototype.onMouseDown=function(o,i){var t=this;return g.addDisposableListener(o,"mousedown",function(o){i(t._create(o))})},t.prototype.onMouseLeave=function(o,i){var t=this;return g.addDisposableNonBubblingMouseOutListener(o,function(o){i(t._create(o))})},t.prototype.onMouseMoveThrottled=function(o,e,a,t){var n=this;return g.addDisposableThrottledListener(o,"mousemove",e,function(o,e){return a(o,n._create(e))},t)},t}();e.EditorMouseEventFactory=c;var d=function(i){function e(e){var r=i.call(this)||this;return r._editorViewDomNode=e,r._globalMouseMoveMonitor=r._register(new o.GlobalMouseMoveMonitor),r._keydownListener=null,r}return Z(e,i),e.prototype.startMonitoring=function(o,e,t){var r=this;this._keydownListener=g.addStandardDisposableListener(document,"keydown",function(t){t.toKeybinding().isModifierKey()||r._globalMouseMoveMonitor.stopMonitoring(!0)},!0),this._globalMouseMoveMonitor.startMonitoring(function(e,t){return o(e,new l(t,r._editorViewDomNode))},e,function(){r._keydownListener.dispose(),t()})},e}(t.Disposable);e.GlobalEditorMouseMoveMonitor=d}),define(s[112],n([1,0,27]),function(a,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t){this._createLine=t,this._set(1,[])}return t.prototype.flush=function(){this._set(1,[])},t.prototype._set=function(o,e){this._lines=e,this._rendLineNumberStart=o},t.prototype._get=function(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}},t.prototype.getStartLineNumber=function(){return this._rendLineNumberStart},t.prototype.getEndLineNumber=function(){return this._rendLineNumberStart+this._lines.length-1},t.prototype.getCount=function(){return this._lines.length},t.prototype.getLine=function(o){var e=o-this._rendLineNumberStart;if(0>e||e>=this._lines.length)throw new Error("Illegal value for lineNumber: "+o);return this._lines[e]},t.prototype.onLinesDeleted=function(o,e){if(0===this.getCount())return null;var t=this.getStartLineNumber(),n=this.getEndLineNumber();if(e<t){return this._rendLineNumberStart-=e-o+1,null}if(o>n)return null;for(var i=0,r=0,s=t,a;s<=n;s++)a=s-this._rendLineNumberStart,o<=s&&s<=e&&(0===r?(i=a,r=1):r++);if(o<t){var d=0;d=e<t?e-o+1:t-o,this._rendLineNumberStart-=d}return this._lines.splice(i,r)},t.prototype.onLinesChanged=function(a,e){if(0===this.getCount())return!1;for(var t=this.getStartLineNumber(),n=this.getEndLineNumber(),i=!1,o=a;o<=e;o++)o>=t&&o<=n&&(this._lines[o-this._rendLineNumberStart].onContentChanged(),i=!0);return i},t.prototype.onLinesInserted=function(d,e){if(0===this.getCount())return null;var t=e-d+1,n=this.getStartLineNumber(),i=this.getEndLineNumber();if(d<=n)return this._rendLineNumberStart+=t,null;if(d>i)return null;if(t+d>i)return this._lines.splice(d-this._rendLineNumberStart,i-d+1);for(var o=[],r=0;r<t;r++)o[r]=this._createLine();var s=d-this._rendLineNumberStart,a=this._lines.slice(0,s),p=this._lines.slice(s,this._lines.length-t),l=this._lines.slice(this._lines.length-t,this._lines.length);return this._lines=a.concat(o).concat(p),l},t.prototype.onTokensChanged=function(d){if(0===this.getCount())return!1;for(var e=this.getStartLineNumber(),t=this.getEndLineNumber(),n=!1,i=0,o=d.length,r;i<o;i++)if(r=d[i],!(r.toLineNumber<e||r.fromLineNumber>t))for(var s=G(e,r.fromLineNumber),a=q(t,r.toLineNumber),p=s,l;p<=a;p++)l=p-this._rendLineNumberStart,this._lines[l].onTokensChanged(),n=!0;return n},t}();e.RenderedLinesCollection=n;var i=function(){function o(o){var i=this;this._host=o,this.domNode=this._createDomNode(),this._linesCollection=new n(function(){return i._host.createVisibleLine()})}return o.prototype._createDomNode=function(){var o=t.createFastDomNode(document.createElement("div"));return o.setClassName("view-layer"),o.setPosition("absolute"),o.domNode.setAttribute("role","presentation"),o.domNode.setAttribute("aria-hidden","true"),o},o.prototype.onConfigurationChanged=function(t){return t.layoutInfo},o.prototype.onFlushed=function(){return this._linesCollection.flush(),!0},o.prototype.onLinesChanged=function(t){return this._linesCollection.onLinesChanged(t.fromLineNumber,t.toLineNumber)},o.prototype.onLinesDeleted=function(r){var e=this._linesCollection.onLinesDeleted(r.fromLineNumber,r.toLineNumber);if(e)for(var t=0,n=e.length,i;t<n;t++)i=e[t].getDomNode(),i&&this.domNode.domNode.removeChild(i);return!0},o.prototype.onLinesInserted=function(r){var e=this._linesCollection.onLinesInserted(r.fromLineNumber,r.toLineNumber);if(e)for(var t=0,n=e.length,i;t<n;t++)i=e[t].getDomNode(),i&&this.domNode.domNode.removeChild(i);return!0},o.prototype.onScrollChanged=function(t){return t.scrollTopChanged},o.prototype.onTokensChanged=function(t){return this._linesCollection.onTokensChanged(t.ranges)},o.prototype.onZonesChanged=function(){return!0},o.prototype.getStartLineNumber=function(){return this._linesCollection.getStartLineNumber()},o.prototype.getEndLineNumber=function(){return this._linesCollection.getEndLineNumber()},o.prototype.getVisibleLine=function(t){return this._linesCollection.getLine(t)},o.prototype.renderLines=function(r){var e=this._linesCollection._get(),t=new s(this.domNode.domNode,this._host,r),n={rendLineNumberStart:e.rendLineNumberStart,lines:e.lines,linesLength:e.lines.length},i=t.render(n,r.startLineNumber,r.endLineNumber,r.relativeVerticalOffset);this._linesCollection._set(i.rendLineNumberStart,i.lines)},o}();e.VisibleLinesCollection=i;var s=function(){function t(o,i,t){this.domNode=o,this.host=i,this.viewportData=t}return t.prototype.render=function(d,e,t,n){var i={rendLineNumberStart:d.rendLineNumberStart,lines:d.lines.slice(0),linesLength:d.linesLength};if(i.rendLineNumberStart+i.linesLength-1<e||t<i.rendLineNumberStart){i.rendLineNumberStart=e,i.linesLength=t-e+1,i.lines=[];for(var o=e;o<=t;o++)i.lines[o-e]=this.host.createVisibleLine();return this._finishRendering(i,!0,n),i}if(this._renderUntouchedLines(i,G(e-i.rendLineNumberStart,0),q(t-i.rendLineNumberStart,i.linesLength-1),n,e),i.rendLineNumberStart>e?(r=e)<=(s=q(t,i.rendLineNumberStart-1))&&(this._insertLinesBefore(i,r,s,n,e),i.linesLength+=s-r+1):i.rendLineNumberStart<e&&0<(a=q(i.linesLength,e-i.rendLineNumberStart))&&(this._removeLinesBefore(i,a),i.linesLength-=a),i.rendLineNumberStart=e,i.rendLineNumberStart+i.linesLength-1<t)(r=i.rendLineNumberStart+i.linesLength)<=(s=t)&&(this._insertLinesAfter(i,r,s,n,e),i.linesLength+=s-r+1);else if(i.rendLineNumberStart+i.linesLength-1>t){var r=G(0,t-i.rendLineNumberStart+1),s=i.linesLength-1,a=s-r+1;0<a&&(this._removeLinesAfter(i,a),i.linesLength-=a)}return this._finishRendering(i,!1,n),i},t.prototype._renderUntouchedLines=function(d,e,t,n,i){for(var o=d.rendLineNumberStart,r=d.lines,s=e,a;s<=t;s++)a=o+s,r[s].layoutLine(a,n[a-i])},t.prototype._insertLinesBefore=function(o,e,t){for(var n=[],i=0,r=e;r<=t;r++)n[i++]=this.host.createVisibleLine();o.lines=n.concat(o.lines)},t.prototype._removeLinesBefore=function(o,e){for(var t=0,n;t<e;t++)n=o.lines[t].getDomNode(),n&&this.domNode.removeChild(n);o.lines.splice(0,e)},t.prototype._insertLinesAfter=function(o,e,t){for(var n=[],i=0,r=e;r<=t;r++)n[i++]=this.host.createVisibleLine();o.lines=o.lines.concat(n)},t.prototype._removeLinesAfter=function(r,e){for(var t=r.linesLength-e,n=0,i;n<e;n++)i=r.lines[t+n].getDomNode(),i&&this.domNode.removeChild(i);r.lines.splice(t,e)},t.prototype._finishRenderingNewLines=function(d,e,t,n){var i=this.domNode.lastChild;e||!i?this.domNode.innerHTML=t.join(""):i.insertAdjacentHTML("afterend",t.join(""));for(var l=this.domNode.lastChild,r=d.linesLength-1,s;0<=r;r--)s=d.lines[r],n[r]&&(s.setDomNode(l),l=l.previousSibling)},t.prototype._finishRenderingInvalidLines=function(d,e,t){var n=document.createElement("div");n.innerHTML=e.join("");for(var i=0,o;i<d.linesLength;i++)if(o=d.lines[i],t[i]){var r=n.firstChild,s=o.getDomNode();s.parentNode.replaceChild(r,s),o.setDomNode(r)}},t.prototype._finishRendering=function(g,e,t){for(var n=!1,i=[],o=[],r=!1,s=[],a=[],u=0,l=g.linesLength;u<l;u++){var c=g.lines[u],d=u+g.rendLineNumberStart;i[u]=!1,s[u]=!1;var m=c.renderLine(d,t[u],this.viewportData);null!==m&&(c.getDomNode()?(a.push(m),s[u]=!0,r=!0):(o.push(m),i[u]=!0,n=!0))}n&&this._finishRenderingNewLines(g,e,o,i),r&&this._finishRenderingInvalidLines(g,a,s)},t}()}),define(s[135],n([1,0,11]),function(o,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorZoom=new(function(){function o(){this._zoomLevel=0,this._onDidChangeZoomLevel=new t.Emitter,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}return o.prototype.getZoomLevel=function(){return this._zoomLevel},o.prototype.setZoomLevel=function(t){t=q(G(-9,t),9),this._zoomLevel!==t&&(this._zoomLevel=t,this._onDidChangeZoomLevel.fire(this._zoomLevel))},o}())}),define(s[54],n([1,0]),function(o,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),!function(t){t[t.NotSet=0]="NotSet",t[t.ContentFlush=1]="ContentFlush",t[t.RecoverFromMarkers=2]="RecoverFromMarkers",t[t.Explicit=3]="Explicit",t[t.Paste=4]="Paste",t[t.Undo=5]="Undo",t[t.Redo=6]="Redo"}(e.CursorChangeReason||(e.CursorChangeReason={}))}),define(s[131],n([1,0,9]),function(o,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),!function(t){t[t.Value=1]="Value",t[t.Selection=2]="Selection",t[t.Position=4]="Position",t[t.Scroll=8]="Scroll"}(e.CodeEditorStateFlag||(e.CodeEditorStateFlag={}));var n=function(){function o(o,n){if(this.flags=n,0!=(1&this.flags)){var r=o.getModel();this.modelVersionId=r?t.format("{0}#{1}",r.uri.toString(),r.getVersionId()):null}0!=(4&this.flags)&&(this.position=o.getPosition()),0!=(2&this.flags)&&(this.selection=o.getSelection()),0!=(8&this.flags)&&(this.scrollLeft=o.getScrollLeft(),this.scrollTop=o.getScrollTop())}return o.prototype._equals=function(e){if(!(e instanceof o))return!1;var t=e;return this.modelVersionId===t.modelVersionId&&this.scrollLeft===t.scrollLeft&&this.scrollTop===t.scrollTop&&!(!this.position&&t.position||this.position&&!t.position||this.position&&t.position&&!this.position.equals(t.position))&&!(!this.selection&&t.selection||this.selection&&!t.selection||this.selection&&t.selection&&!this.selection.equalsRange(t.selection))},o.prototype.validate=function(e){return this._equals(new o(e,this.flags))},o}();e.EditorState=n}),define(s[12],n([1,0]),function(o,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function o(o,n){this.lineNumber=o,this.column=n}return o.prototype.equals=function(e){return o.equals(this,e)},o.equals=function(o,n){return!o&&!n||!!o&&!!n&&o.lineNumber===n.lineNumber&&o.column===n.column},o.prototype.isBefore=function(e){return o.isBefore(this,e)},o.isBefore=function(o,e){return o.lineNumber<e.lineNumber||!(e.lineNumber<o.lineNumber)&&o.column<e.column},o.prototype.isBeforeOrEqual=function(e){return o.isBeforeOrEqual(this,e)},o.isBeforeOrEqual=function(o,e){return o.lineNumber<e.lineNumber||!(e.lineNumber<o.lineNumber)&&o.column<=e.column},o.compare=function(o,e){var t=0|o.lineNumber,n=0|e.lineNumber;return t===n?(0|o.column)-(0|e.column):t-n},o.prototype.clone=function(){return new o(this.lineNumber,this.column)},o.prototype.toString=function(){return"("+this.lineNumber+","+this.column+")"},o.lift=function(e){return new o(e.lineNumber,e.column)},o.isIPosition=function(t){return t&&"number"==typeof t.lineNumber&&"number"==typeof t.column},o}();e.Position=t}),define(s[2],n([1,0,12]),function(o,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function d(o,r,t,n){o>t||o===t&&r>n?(this.startLineNumber=t,this.startColumn=n,this.endLineNumber=o,this.endColumn=r):(this.startLineNumber=o,this.startColumn=r,this.endLineNumber=t,this.endColumn=n)}return d.prototype.isEmpty=function(){return d.isEmpty(this)},d.isEmpty=function(t){return t.startLineNumber===t.endLineNumber&&t.startColumn===t.endColumn},d.prototype.containsPosition=function(e){return d.containsPosition(this,e)},d.containsPosition=function(o,e){return!(e.lineNumber<o.startLineNumber||e.lineNumber>o.endLineNumber)&&!(e.lineNumber===o.startLineNumber&&e.column<o.startColumn)&&!(e.lineNumber===o.endLineNumber&&e.column>o.endColumn)},d.prototype.containsRange=function(e){return d.containsRange(this,e)},d.containsRange=function(o,e){return!(e.startLineNumber<o.startLineNumber||e.endLineNumber<o.startLineNumber)&&!(e.startLineNumber>o.endLineNumber||e.endLineNumber>o.endLineNumber)&&!(e.startLineNumber===o.startLineNumber&&e.startColumn<o.startColumn)&&!(e.endLineNumber===o.endLineNumber&&e.endColumn>o.endColumn)},d.prototype.plusRange=function(e){return d.plusRange(this,e)},d.plusRange=function(e,t){var n,i,o,r;return t.startLineNumber<e.startLineNumber?(n=t.startLineNumber,i=t.startColumn):t.startLineNumber===e.startLineNumber?(n=t.startLineNumber,i=q(t.startColumn,e.startColumn)):(n=e.startLineNumber,i=e.startColumn),t.endLineNumber>e.endLineNumber?(o=t.endLineNumber,r=t.endColumn):t.endLineNumber===e.endLineNumber?(o=t.endLineNumber,r=G(t.endColumn,e.endColumn)):(o=e.endLineNumber,r=e.endColumn),new d(n,i,o,r)},d.prototype.intersectRanges=function(e){return d.intersectRanges(this,e)},d.intersectRanges=function(e,t){var n=e.startLineNumber,i=e.startColumn,o=e.endLineNumber,r=e.endColumn,s=t.startLineNumber,a=t.startColumn,p=t.endLineNumber,l=t.endColumn;return n<s?(n=s,i=a):n===s&&(i=G(i,a)),o>p?(o=p,r=l):o===p&&(r=q(r,l)),n>o?null:n===o&&i>r?null:new d(n,i,o,r)},d.prototype.equalsRange=function(e){return d.equalsRange(this,e)},d.equalsRange=function(o,n){return!!o&&!!n&&o.startLineNumber===n.startLineNumber&&o.startColumn===n.startColumn&&o.endLineNumber===n.endLineNumber&&o.endColumn===n.endColumn},d.prototype.getEndPosition=function(){return new t.Position(this.endLineNumber,this.endColumn)},d.prototype.getStartPosition=function(){return new t.Position(this.startLineNumber,this.startColumn)},d.prototype.cloneRange=function(){return new d(this.startLineNumber,this.startColumn,this.endLineNumber,this.endColumn)},d.prototype.toString=function(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"},d.prototype.setEndPosition=function(e,t){return new d(this.startLineNumber,this.startColumn,e,t)},d.prototype.setStartPosition=function(e,t){return new d(e,t,this.endLineNumber,this.endColumn)},d.prototype.collapseToStart=function(){return d.collapseToStart(this)},d.collapseToStart=function(e){return new d(e.startLineNumber,e.startColumn,e.startLineNumber,e.startColumn)},d.fromPositions=function(e,t){return void 0===t&&(t=e),new d(e.lineNumber,e.column,t.lineNumber,t.column)},d.lift=function(e){return e?new d(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn):null},d.isIRange=function(t){return t&&"number"==typeof t.startLineNumber&&"number"==typeof t.startColumn&&"number"==typeof t.endLineNumber&&"number"==typeof t.endColumn},d.areIntersectingOrTouching=function(o,e){return!(o.endLineNumber<e.startLineNumber||o.endLineNumber===e.startLineNumber&&o.endColumn<e.startColumn)&&!(e.endLineNumber<o.startLineNumber||e.endLineNumber===o.startLineNumber&&e.endColumn<o.startColumn)},d.compareRangesUsingStarts=function(d,e){var t=0|d.startLineNumber,n=0|e.startLineNumber;if(t===n){var i=0|d.startColumn,o=0|e.startColumn;if(i===o){var r=0|d.endLineNumber,s=0|e.endLineNumber;return r===s?(0|d.endColumn)-(0|e.endColumn):r-s}return i-o}return t-n},d.compareRangesUsingEnds=function(o,e){return o.endLineNumber===e.endLineNumber?o.endColumn===e.endColumn?o.startLineNumber===e.startLineNumber?o.startColumn-e.startColumn:o.startLineNumber-e.startLineNumber:o.endColumn-e.endColumn:o.endLineNumber-e.endLineNumber},d.spansMultipleLines=function(t){return t.endLineNumber>t.startLineNumber},d}();e.Range=n}),define(s[164],n([1,0,72,38,26,2,3]),function(d,e,l,t,p,o,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s={followsCaret:!0,ignoreCharChanges:!0,alwaysRevealFirst:!0},i=function(a){function d(e,t){void 0===t&&(t={});var o=a.call(this,[d.Events.UPDATED])||this;return o.editor=e,o.options=p.mixin(t,s,!1),o.disposed=!1,o.toUnbind=[],o.nextIdx=-1,o.ranges=[],o.ignoreSelectionChange=!1,o.revealFirst=o.options.alwaysRevealFirst,o.toUnbind.push(o.editor.onDidDispose(function(){return o.dispose()})),o.toUnbind.push(o.editor.onDidUpdateDiff(function(){return o.onDiffUpdated()})),o.options.followsCaret&&o.toUnbind.push(o.editor.getModifiedEditor().onDidChangeCursorPosition(function(){o.ignoreSelectionChange||(o.nextIdx=-1)})),o.options.alwaysRevealFirst&&o.toUnbind.push(o.editor.getModifiedEditor().onDidChangeModel(function(){o.revealFirst=!0})),o.init(),o}return Z(d,a),d.prototype.init=function(){this.editor.getLineChanges()},d.prototype.onDiffUpdated=function(){this.init(),this.compute(this.editor.getLineChanges()),this.revealFirst&&null!==this.editor.getLineChanges()&&(this.revealFirst=!1,this.nextIdx=-1,this.next())},d.prototype.compute=function(t){var i=this;this.ranges=[],t&&t.forEach(function(t){!i.options.ignoreCharChanges&&t.charChanges?t.charChanges.forEach(function(t){i.ranges.push({rhs:!0,range:new o.Range(t.modifiedStartLineNumber,t.modifiedStartColumn,t.modifiedEndLineNumber,t.modifiedEndColumn)})}):i.ranges.push({rhs:!0,range:new o.Range(t.modifiedStartLineNumber,1,t.modifiedStartLineNumber,1)})}),this.ranges.sort(function(o,e){return o.range.getStartPosition().isBeforeOrEqual(e.range.getStartPosition())?-1:e.range.getStartPosition().isBeforeOrEqual(o.range.getStartPosition())?1:0}),this.emit(d.Events.UPDATED,{})},d.prototype.initIdx=function(a){for(var e=!1,s=this.editor.getPosition(),n=0,i=this.ranges.length,o;n<i&&!e;n++)o=this.ranges[n].range,s.isBeforeOrEqual(o.getStartPosition())&&(this.nextIdx=n+(a?0:-1),e=!0);e||(this.nextIdx=a?0:this.ranges.length-1),0>this.nextIdx&&(this.nextIdx=this.ranges.length-1)},d.prototype.move=function(o){if(l.ok(!this.disposed,"Illegal State - diff navigator has been disposed"),this.canNavigate()){-1===this.nextIdx?this.initIdx(o):o?(this.nextIdx+=1,this.nextIdx>=this.ranges.length&&(this.nextIdx=0)):(this.nextIdx-=1,0>this.nextIdx&&(this.nextIdx=this.ranges.length-1));var e=this.ranges[this.nextIdx];this.ignoreSelectionChange=!0;try{var t=e.range.getStartPosition();this.editor.setPosition(t),this.editor.revealPositionInCenter(t)}finally{this.ignoreSelectionChange=!1}}},d.prototype.canNavigate=function(){return this.ranges&&0<this.ranges.length},d.prototype.next=function(){this.move(!0)},d.prototype.previous=function(){this.move(!1)},d.prototype.dispose=function(){this.toUnbind=n.dispose(this.toUnbind),this.ranges=null,this.disposed=!0,a.prototype.dispose.call(this)},d.Events={UPDATED:"navigation.updated"},d}(t.EventEmitter);e.DiffNavigator=i}),define(s[59],n([1,0,2]),function(o,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function t(){}return t.insert=function(o,e){return{identifier:null,range:new r.Range(o.lineNumber,o.column,o.lineNumber,o.column),text:e,forceMoveMarkers:!0}},t.delete=function(t){return{identifier:null,range:t,text:null,forceMoveMarkers:!0}},t.replace=function(o,n){return{identifier:null,range:o,text:n,forceMoveMarkers:!1}},t.replaceMove=function(o,n){return{identifier:null,range:o,text:n,forceMoveMarkers:!0}},t}();e.EditOperation=t}),define(s[435],n([1,0,9,59,2]),function(a,e,t,n,i){"use strict";function d(o,e){e.sort(function(o,e){return o.lineNumber===e.lineNumber?o.column-e.column:o.lineNumber-e.lineNumber});for(var _=e.length-2;0<=_;_--)e[_].lineNumber===e[_+1].lineNumber&&e.splice(_,1);for(var y=[],s=0,a=0,u=e.length,l=1,c=o.getLineCount();l<=c;l++){var d=o.getLineContent(l),h=d.length+1,p=0;if(!(a<u&&e[a].lineNumber===l&&(p=e[a].column,a++,p===h))&&0!==d.length){var f=t.lastNonWhitespaceIndex(d),g=0;if(-1===f)g=1;else{if(f===d.length-1)continue;g=f+2}g=G(p,g),y[s++]=n.EditOperation.delete(new i.Range(l,g,l,h))}}return y}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t){this.selection=t}return t.prototype.getEditOperations=function(r,e){for(var t=d(r,[]),n=0,i=t.length,o;n<i;n++)o=t[n],e.addEditOperation(o.range,o.text);this.selectionId=e.trackSelection(this.selection)},t.prototype.computeCursorState=function(o,e){return e.getTrackedSelection(this.selectionId)},t}();e.TrimTrailingWhitespaceCommand=o,e.trimTrailingWhitespace=d}),define(s[22],n([1,0,2,12]),function(a,e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var d;!function(t){t[t.LTR=0]="LTR",t[t.RTL=1]="RTL"}(d=e.SelectionDirection||(e.SelectionDirection={}));var o=function(a){function o(e,s,n,i){var o=a.call(this,e,s,n,i)||this;return o.selectionStartLineNumber=e,o.selectionStartColumn=s,o.positionLineNumber=n,o.positionColumn=i,o}return Z(o,a),o.prototype.clone=function(){return new o(this.selectionStartLineNumber,this.selectionStartColumn,this.positionLineNumber,this.positionColumn)},o.prototype.toString=function(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"},o.prototype.equalsSelection=function(t){return o.selectionsEqual(this,t)},o.selectionsEqual=function(o,e){return o.selectionStartLineNumber===e.selectionStartLineNumber&&o.selectionStartColumn===e.selectionStartColumn&&o.positionLineNumber===e.positionLineNumber&&o.positionColumn===e.positionColumn},o.prototype.getDirection=function(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?d.LTR:d.RTL},o.prototype.setEndPosition=function(t,e){return this.getDirection()===d.LTR?new o(this.startLineNumber,this.startColumn,t,e):new o(t,e,this.startLineNumber,this.startColumn)},o.prototype.getPosition=function(){return new n.Position(this.positionLineNumber,this.positionColumn)},o.prototype.setStartPosition=function(t,e){return this.getDirection()===d.LTR?new o(t,e,this.endLineNumber,this.endColumn):new o(this.endLineNumber,this.endColumn,t,e)},o.fromPositions=function(t,e){return void 0===e&&(e=t),new o(t.lineNumber,t.column,e.lineNumber,e.column)},o.liftSelection=function(t){return new o(t.selectionStartLineNumber,t.selectionStartColumn,t.positionLineNumber,t.positionColumn)},o.selectionsArrEqual=function(o,r){if(o&&!r||!o&&r)return!1;if(!o&&!r)return!0;if(o.length!==r.length)return!1;for(var a=0,n=o.length;a<n;a++)if(!this.selectionsEqual(o[a],r[a]))return!1;return!0},o.isISelection=function(t){return t&&"number"==typeof t.selectionStartLineNumber&&"number"==typeof t.selectionStartColumn&&"number"==typeof t.positionLineNumber&&"number"==typeof t.positionColumn},o.createWithDirection=function(t,e,n,i,r){return r===d.LTR?new o(t,e,n,i):new o(n,i,t,e)},o}(t.Range);e.Selection=o}),define(s[73],n([1,0,22]),function(a,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function t(o,i,t){void 0===t&&(t=!1),this._range=o,this._text=i,this.insertsAutoWhitespace=t}return t.prototype.getEditOperations=function(o,e){e.addTrackedEditOperation(this._range,this._text)},t.prototype.computeCursorState=function(o,e){var t=e.getInverseEditOperations()[0].range;return new d.Selection(t.endLineNumber,t.endColumn,t.endLineNumber,t.endColumn)},t}();e.ReplaceCommand=t;var n=function(){function t(o,i,t){void 0===t&&(t=!1),this._range=o,this._text=i,this.insertsAutoWhitespace=t}return t.prototype.getEditOperations=function(o,e){e.addTrackedEditOperation(this._range,this._text)},t.prototype.computeCursorState=function(o,e){var t=e.getInverseEditOperations()[0].range;return new d.Selection(t.startLineNumber,t.startColumn,t.startLineNumber,t.startColumn)},t}();e.ReplaceCommandWithoutChangingPosition=n;var o=function(){function t(r,a,t,n,i){void 0===i&&(i=!1),this._range=r,this._text=a,this._columnDeltaOffset=n,this._lineNumberDeltaOffset=t,this.insertsAutoWhitespace=i}return t.prototype.getEditOperations=function(o,e){e.addTrackedEditOperation(this._range,this._text)},t.prototype.computeCursorState=function(o,e){var t=e.getInverseEditOperations()[0].range;return new d.Selection(t.endLineNumber+this._lineNumberDeltaOffset,t.endColumn+this._columnDeltaOffset,t.endLineNumber+this._lineNumberDeltaOffset,t.endColumn+this._columnDeltaOffset)},t}();e.ReplaceCommandWithOffsetCursorState=o;var i=function(){function t(o,i,t){this._range=o,this._text=i,this._initialSelection=t}return t.prototype.getEditOperations=function(o,e){e.addEditOperation(this._range,this._text),this._selectionId=e.trackSelection(this._initialSelection)},t.prototype.computeCursorState=function(o,e){return e.getTrackedSelection(this._selectionId)},t}();e.ReplaceCommandThatPreservesSelection=i}),define(s[441],n([1,0,2,22]),function(r,e,a,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function t(o,i,t){this._range=o,this._charBeforeSelection=i,this._charAfterSelection=t}return t.prototype.getEditOperations=function(o,e){e.addTrackedEditOperation(new a.Range(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),e.addTrackedEditOperation(new a.Range(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)},t.prototype.computeCursorState=function(i,e){var t=e.getInverseEditOperations(),n=t[0].range,o=t[1].range;return new s.Selection(n.endLineNumber,n.endColumn,o.endLineNumber,o.endColumn-this._charAfterSelection.length)},t}();e.SurroundSelectionCommand=t}),define(s[97],n([1,0]),function(r,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function t(o,i,t){this.offset=0|o,this.type=i,this.language=t}return t.prototype.toString=function(){return"("+this.offset+", "+this.type+")"},t}();e.Token=t;var n=function(){return function(o,e){this.tokens=o,this.endState=e}}();e.TokenizationResult=n;var i=function(){return function(o,e){this.tokens=o,this.endState=e}}();e.TokenizationResult2=i}),define(s[96],n([1,0]),function(o,e){"use strict";function r(t){return 0>t?0:4294967295<t?4294967295:0|t}Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function t(r,a,t){for(var n=new Uint8Array(r*a),i=0;i<r*a;i++)n[i]=t;this._data=n,this._rows=r,this._cols=a}return t.prototype.get=function(o,e){return this._data[o*this._cols+e]},t.prototype.set=function(o,e,t){this._data[o*this._cols+e]=t},t}();e.Uint8Matrix=t,!function(t){t[t.MAX_SAFE_SMALL_INTEGER=1073741824]="MAX_SAFE_SMALL_INTEGER",t[t.MIN_SAFE_SMALL_INTEGER=-1073741824]="MIN_SAFE_SMALL_INTEGER",t[t.MAX_UINT_8=255]="MAX_UINT_8",t[t.MAX_UINT_16=65535]="MAX_UINT_16",t[t.MAX_UINT_32=4294967295]="MAX_UINT_32"}(e.Constants||(e.Constants={})),e.toUint8=function(t){return 0>t?0:255<t?255:0|t},e.toUint32=r,e.toUint32Array=function(n){for(var e=n.length,t=new Uint32Array(e),i=0;i<e;i++)t[i]=r(n[i]);return t}}),define(s[89],n([1,0,96]),function(a,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function o(e){var t=s.toUint8(e);this._defaultValue=t,this._asciiMap=o._createAsciiMap(t),this._map=new Map}return o._createAsciiMap=function(o){for(var e=new Uint8Array(256),t=0;256>t;t++)e[t]=o;return e},o.prototype.set=function(o,e){var t=s.toUint8(e);0<=o&&256>o?this._asciiMap[o]=t:this._map.set(o,t)},o.prototype.get=function(t){return 0<=t&&256>t?this._asciiMap[t]:this._map.get(t)||this._defaultValue},o}();e.CharacterClassifier=t;var n;!function(t){t[t.False=0]="False",t[t.True=1]="True"}(n||(n={}));var o=function(){function o(){this._actual=new t(0)}return o.prototype.add=function(t){this._actual.set(t,1)},o.prototype.has=function(t){return 1===this._actual.get(t)},o}();e.CharacterSet=o}),define(s[94],n([1,0,89]),function(o,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),!function(t){t[t.Regular=0]="Regular",t[t.Whitespace=1]="Whitespace",t[t.WordSeparator=2]="WordSeparator"}(e.WordCharacterClass||(e.WordCharacterClass={}));var n=function(r){function e(e){for(var a=r.call(this,0)||this,n=0,i=e.length;n<i;n++)a.set(e.charCodeAt(n),2);return a.set(32,1),a.set(9,1),a}return Z(e,r),e}(t.CharacterClassifier);e.WordCharacterClassifier=n,e.getMapForWordSeparators=function(o){var e={};return function(t){return e.hasOwnProperty(t)||(e[t]=o(t)),e[t]}}(function(t){return new n(t)})}),define(s[457],n([1,0,139,9]),function(s,e,p,g){"use strict";function E(n,e,t,i){return new p.LcsDiff(n,e,t).ComputeDiff(i)}function o(a){if(1>=a.length)return a;for(var e=[a[0]],t=e[0],n=1,i=a.length;n<i;n++){var o=a[n],d=o.originalStart-(t.originalStart+t.originalLength),s=o.modifiedStart-(t.modifiedStart+t.modifiedLength);q(d,s)<m?(t.originalLength=o.originalStart+o.originalLength-t.originalStart,t.modifiedLength=o.modifiedStart+o.modifiedLength-t.modifiedStart):(e.push(o),t=o)}return e}Object.defineProperty(e,"__esModule",{value:!0});var m=3,_=function(){function r(o,i,t){this.buffer=o,this.startMarkers=i,this.endMarkers=t}return r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;if(this.getLength()!==t.getLength())return!1;for(var n=0,i=this.getLength();n<i;n++)if(this.getElementHash(n)!==t.getElementHash(n))return!1;return!0},r.prototype.getLength=function(){return this.startMarkers.length},r.prototype.getElementHash=function(t){return this.buffer.substring(this.startMarkers[t].offset,this.endMarkers[t].offset)},r.prototype.getStartLineNumber=function(t){return t===this.startMarkers.length?this.startMarkers[t-1].lineNumber+1:this.startMarkers[t].lineNumber},r.prototype.getStartColumn=function(t){return this.startMarkers[t].column},r.prototype.getEndLineNumber=function(t){return this.endMarkers[t].lineNumber},r.prototype.getEndColumn=function(t){return this.endMarkers[t].column},r}(),i=function(d){function e(t){for(var n="",i=[],o=[],r=0,s=0,a=t.length;s<a;s++){n+=t[s];var p=e._getFirstNonBlankColumn(t[s],1),u=e._getLastNonBlankColumn(t[s],1);i.push({offset:r+p-1,lineNumber:s+1,column:p}),o.push({offset:r+u-1,lineNumber:s+1,column:u}),r+=t[s].length}return d.call(this,n,i,o)||this}return Z(e,d),e._getFirstNonBlankColumn=function(o,e){var t=g.firstNonWhitespaceIndex(o);return-1===t?e:t+1},e._getLastNonBlankColumn=function(o,e){var t=g.lastNonWhitespaceIndex(o);return-1===t?e:t+2},e.prototype.getCharSequence=function(d,e){for(var t=[],n=[],i=d;i<=e;i++)for(var o=this.startMarkers[i],r=this.endMarkers[i],s=o.offset;s<r.offset;s++)t.push({offset:s,lineNumber:o.lineNumber,column:o.column+(s-o.offset)}),n.push({offset:s+1,lineNumber:o.lineNumber,column:o.column+(s-o.offset)+1});return new _(this.buffer,t,n)},e}(_),l=function(){function p(d,l,t,n,i,o,r,s){this.originalStartLineNumber=d,this.originalStartColumn=l,this.originalEndLineNumber=t,this.originalEndColumn=n,this.modifiedStartLineNumber=i,this.modifiedStartColumn=o,this.modifiedEndLineNumber=r,this.modifiedEndColumn=s}return p.createFromDiffChange=function(e,t,n){var i,o,r,s,a,u,l,c;return 0===e.originalLength?(i=0,o=0,r=0,s=0):(i=t.getStartLineNumber(e.originalStart),o=t.getStartColumn(e.originalStart),r=t.getEndLineNumber(e.originalStart+e.originalLength-1),s=t.getEndColumn(e.originalStart+e.originalLength-1)),0===e.modifiedLength?(a=0,u=0,l=0,c=0):(a=n.getStartLineNumber(e.modifiedStart),u=n.getStartColumn(e.modifiedStart),l=n.getEndLineNumber(e.modifiedStart+e.modifiedLength-1),c=n.getEndColumn(e.modifiedStart+e.modifiedLength-1)),new p(i,o,r,s,a,u,l,c)},p}(),L=function(){function r(r,a,t,n,i){this.originalStartLineNumber=r,this.originalEndLineNumber=a,this.modifiedStartLineNumber=t,this.modifiedEndLineNumber=n,this.charChanges=i}return r.createFromDiffResult=function(e,t,n,i,s){var a,c,u,d,h;if(0===e.originalLength?(a=t.getStartLineNumber(e.originalStart)-1,c=0):(a=t.getStartLineNumber(e.originalStart),c=t.getEndLineNumber(e.originalStart+e.originalLength-1)),0===e.modifiedLength?(u=n.getStartLineNumber(e.modifiedStart)-1,d=0):(u=n.getStartLineNumber(e.modifiedStart),d=n.getEndLineNumber(e.modifiedStart+e.modifiedLength-1)),0!==e.originalLength&&0!==e.modifiedLength&&i()){var p=t.getCharSequence(e.originalStart,e.originalStart+e.originalLength-1),f=n.getCharSequence(e.modifiedStart,e.modifiedStart+e.modifiedLength-1),g=E(p,f,i,!1);s&&(g=o(g)),h=[];for(var m=0,y=g.length;m<y;m++)h.push(l.createFromDiffChange(g[m],p,f))}return new r(a,c,u,d,h)},r}(),t=function(){function t(o,r,t){this.shouldPostProcessCharChanges=t.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=t.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=t.shouldMakePrettyDiff,this.maximumRunTimeMs=5e3,this.originalLines=o,this.modifiedLines=r,this.original=new i(o),this.modified=new i(r),t.shouldConsiderTrimWhitespaceInEmptyCase&&this.shouldIgnoreTrimWhitespace&&this.original.equals(this.modified)&&(this.shouldIgnoreTrimWhitespace=!1)}return t.prototype.computeDiff=function(){if(1===this.original.getLength()&&0===this.original.getElementHash(0).length)return[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.getLength(),charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}];if(1===this.modified.getLength()&&0===this.modified.getElementHash(0).length)return[{originalStartLineNumber:1,originalEndLineNumber:this.original.getLength(),modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}];this.computationStartTime=new Date().getTime();var o=E(this.original,this.modified,this._continueProcessingPredicate.bind(this),this.shouldMakePrettyDiff);if(this.shouldIgnoreTrimWhitespace){for(var e=[],t=0,n=o.length;t<n;t++)e.push(L.createFromDiffResult(o[t],this.original,this.modified,this._continueProcessingPredicate.bind(this),this.shouldPostProcessCharChanges));return e}for(var d=[],r=0,s=0,t=-1,a=o.length;t<a;t++){for(var l=t+1<a?o[t+1]:null,c=l?l.originalStart:this.originalLines.length,u=l?l.modifiedStart:this.modifiedLines.length;r<c&&s<u;){var p=this.originalLines[r],h=this.modifiedLines[s];if(p!==h){for(var g=i._getFirstNonBlankColumn(p,1),m=i._getFirstNonBlankColumn(h,1);1<g&&1<m&&(b=p.charCodeAt(g-2))===(v=h.charCodeAt(m-2));)g--,m--;(1<g||1<m)&&this._pushTrimWhitespaceCharChange(d,r+1,1,g,s+1,1,m);for(var f=i._getLastNonBlankColumn(p,1),_=i._getLastNonBlankColumn(h,1),y=p.length+1,C=h.length+1;f<y&&_<C;){var b=p.charCodeAt(f-1),v=p.charCodeAt(_-1);if(b!==v)break;f++,_++}(f<y||_<C)&&this._pushTrimWhitespaceCharChange(d,r+1,f,y,s+1,_,C)}r++,s++}l&&(d.push(L.createFromDiffResult(l,this.original,this.modified,this._continueProcessingPredicate.bind(this),this.shouldPostProcessCharChanges)),r+=l.originalLength,s+=l.modifiedLength)}return d},t.prototype._pushTrimWhitespaceCharChange=function(a,e,t,n,i,o,r){this._mergeTrimWhitespaceCharChange(a,e,t,n,i,o,r)||a.push(new L(e,e,i,i,[new l(e,t,e,n,i,o,i,r)]))},t.prototype._mergeTrimWhitespaceCharChange=function(d,e,t,n,i,o,r){var s=d.length;if(0===s)return!1;var a=d[s-1];return 0!==a.originalEndLineNumber&&0!==a.modifiedEndLineNumber&&a.originalEndLineNumber+1===e&&a.modifiedEndLineNumber+1===i&&(a.originalEndLineNumber=e,a.modifiedEndLineNumber=i,a.charChanges.push(new l(e,t,e,n,i,o,i,r)),!0)},t.prototype._continueProcessingPredicate=function(){return 0===this.maximumRunTimeMs||new Date().getTime()-this.computationStartTime<this.maximumRunTimeMs},t}();e.DiffComputer=t}),define(s[149],n([1,0,7]),function(o,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function o(a,s,t,n,i,o){this.id=a,this.label=s,this.alias=t,this._precondition=n,this._run=i,this._contextKeyService=o}return o.prototype.isSupported=function(){return this._contextKeyService.contextMatchesRules(this._precondition)},o.prototype.run=function(){if(!this.isSupported())return t.TPromise.as(void 0);var o=this._run();return o||t.TPromise.as(void 0)},o}();e.InternalEditorAction=n}),define(s[20],n([1,0]),function(o,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),!function(t){t[t.Left=1]="Left",t[t.Center=2]="Center",t[t.Right=4]="Right",t[t.Full=7]="Full"}(r.OverviewRulerLane||(r.OverviewRulerLane={})),!function(t){t[t.TextDefined=0]="TextDefined",t[t.LF=1]="LF",t[t.CRLF=2]="CRLF"}(r.EndOfLinePreference||(r.EndOfLinePreference={})),!function(t){t[t.LF=1]="LF",t[t.CRLF=2]="CRLF"}(r.DefaultEndOfLine||(r.DefaultEndOfLine={})),!function(t){t[t.LF=0]="LF",t[t.CRLF=1]="CRLF"}(r.EndOfLineSequence||(r.EndOfLineSequence={}));var e=function(){function t(t){this.tabSize=0|t.tabSize,this.insertSpaces=!!t.insertSpaces,this.defaultEOL=0|t.defaultEOL,this.trimAutoWhitespace=!!t.trimAutoWhitespace}return t.prototype.equals=function(t){return this.tabSize===t.tabSize&&this.insertSpaces===t.insertSpaces&&this.defaultEOL===t.defaultEOL&&this.trimAutoWhitespace===t.trimAutoWhitespace},t.prototype.createChangeEvent=function(t){return{tabSize:this.tabSize!==t.tabSize,insertSpaces:this.insertSpaces!==t.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==t.trimAutoWhitespace}},t}();r.TextModelResolvedOptions=e;var t=function(){return function(o,e){this.range=o,this.matches=e}}();r.FindMatch=t,!function(t){t[t.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",t[t.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",t[t.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",t[t.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter"}(r.TrackedRangeStickiness||(r.TrackedRangeStickiness={})),r.isThemeColor=function(t){return t&&"string"==typeof t.id},r.EditorType={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"},r.isCommonCodeEditor=function(t){return t&&"function"==typeof t.getEditorType&&t.getEditorType()===r.EditorType.ICodeEditor},r.isCommonDiffEditor=function(t){return t&&"function"==typeof t.getEditorType&&t.getEditorType()===r.EditorType.IDiffEditor},r.Handler={ExecuteCommand:"executeCommand",ExecuteCommands:"executeCommands",Type:"type",ReplacePreviousChar:"replacePreviousChar",CompositionStart:"compositionStart",CompositionEnd:"compositionEnd",Paste:"paste",Cut:"cut",Undo:"undo",Redo:"redo"}}),define(s[151],n([1,0,2,20,9]),function(a,e,C,n,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function o(o,i,t){this.value=o,this.selectionStart=i,this.selectionEnd=t}return o.prototype.equals=function(e){return e instanceof o&&this.value===e.value&&this.selectionStart===e.selectionStart&&this.selectionEnd===e.selectionEnd},o.prototype.toString=function(){return"[ <"+this.value+">, selectionStart: "+this.selectionStart+", selectionEnd: "+this.selectionEnd+"]"},o.prototype.readFromTextArea=function(e){return new o(e.getValue(),e.getSelectionStart(),e.getSelectionEnd())},o.prototype.collapseSelection=function(){return new o(this.value,this.value.length,this.value.length)},o.prototype.writeToTextArea=function(o,e,t){e.setValue(o,this.value),t&&e.setSelectionRange(o,this.selectionStart,this.selectionEnd)},o.selectedText=function(e){return new o(e,0,e.length)},o.deduceInput=function(o,y,t){if(!o)return{text:"",replaceCharCnt:0};var n=o.value,i=o.selectionStart,r=o.selectionEnd,s=y.value,C=y.selectionStart,u=y.selectionEnd,l=n.substring(r),c=s.substring(u),d=_.commonSuffixLength(l,c);s=s.substring(0,s.length-d);var h=(n=n.substring(0,n.length-d)).substring(0,i),p=s.substring(0,C),f=_.commonPrefixLength(h,p);if(s=s.substring(f),n=n.substring(f),C-=f,i-=f,u-=f,r-=f,t&&C===u&&0<n.length){var g=null;if(C===s.length?_.startsWith(s,n)&&(g=s.substring(n.length)):_.endsWith(s,n)&&(g=s.substring(0,s.length-n.length)),null!==g&&0<g.length&&(/\uFE0F/.test(g)||_.containsEmoji(g)))return{text:g,replaceCharCnt:0}}return C===u?n===s&&0===i&&r===n.length&&C===s.length&&-1===s.indexOf("\n")&&_.containsFullWidthCharacter(s)?{text:"",replaceCharCnt:0}:{text:s,replaceCharCnt:h.length-f}:{text:s,replaceCharCnt:r-i}},o.EMPTY=new o("",0,0),o}();e.TextAreaState=i;var t=function(){function b(){}return b._getPageOfLine=function(e){return M((e-1)/b._LINES_PER_PAGE)},b._getRangeForPage=function(e){var t=e*b._LINES_PER_PAGE,o=t+b._LINES_PER_PAGE;return new C.Range(t+1,1,o+1,1)},b.fromEditorSelection=function(e,t,o){var r=b._getPageOfLine(o.startLineNumber),a=b._getRangeForPage(r),s=b._getPageOfLine(o.endLineNumber),l=b._getRangeForPage(s),c=a.intersectRanges(new C.Range(1,1,o.startLineNumber,o.startColumn)),d=t.getValueInRange(c,n.EndOfLinePreference.LF),u=t.getLineCount(),p=t.getLineMaxColumn(u),h=l.intersectRanges(new C.Range(o.endLineNumber,o.endColumn,u,p)),g=t.getValueInRange(h,n.EndOfLinePreference.LF),m=null;if(r===s||r+1===s)m=t.getValueInRange(o,n.EndOfLinePreference.LF);else{var f=a.intersectRanges(o),_=l.intersectRanges(o);m=t.getValueInRange(f,n.EndOfLinePreference.LF)+"\u2026"+t.getValueInRange(_,n.EndOfLinePreference.LF)}return 500<d.length&&(d=d.substring(d.length-500,d.length)),500<g.length&&(g=g.substring(0,500)),1e3<m.length&&(m=m.substring(0,500)+"\u2026"+m.substring(m.length-500,m.length)),new i(d+m+g,d.length,d.length+m.length)},b._LINES_PER_PAGE=10,b}();e.PagedScreenReaderStrategy=t}),define(s[154],n([1,0,18,9,11,3,151,28,15,4]),function(g,m,_,e,n,t,o,y,i,s){"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.CopyOptions={forceCopyWithSyntaxHighlighting:!1};var r;!function(t){t[t.Type=0]="Type",t[t.Paste=1]="Paste"}(r||(r={}));var a=function(a){function t(p,t){var u=a.call(this)||this;u._onFocus=u._register(new n.Emitter),u.onFocus=u._onFocus.event,u._onBlur=u._register(new n.Emitter),u.onBlur=u._onBlur.event,u._onKeyDown=u._register(new n.Emitter),u.onKeyDown=u._onKeyDown.event,u._onKeyUp=u._register(new n.Emitter),u.onKeyUp=u._onKeyUp.event,u._onCut=u._register(new n.Emitter),u.onCut=u._onCut.event,u._onPaste=u._register(new n.Emitter),u.onPaste=u._onPaste.event,u._onType=u._register(new n.Emitter),u.onType=u._onType.event,u._onCompositionStart=u._register(new n.Emitter),u.onCompositionStart=u._onCompositionStart.event,u._onCompositionUpdate=u._register(new n.Emitter),u.onCompositionUpdate=u._onCompositionUpdate.event,u._onCompositionEnd=u._register(new n.Emitter),u.onCompositionEnd=u._onCompositionEnd.event,u._host=p,u._textArea=u._register(new l(t)),u._asyncTriggerCut=u._register(new _.RunOnceScheduler(function(){return u._onCut.fire()},0)),u._textAreaState=o.TextAreaState.EMPTY,u.writeScreenReaderContent("ctor"),u._hasFocus=!1,u._isDoingComposition=!1,u._nextCommand=0,u._register(s.addStandardDisposableListener(t.domNode,"keydown",function(t){u._isDoingComposition&&t.equals(109)&&t.stopPropagation(),t.equals(9)&&t.preventDefault(),u._onKeyDown.fire(t)})),u._register(s.addStandardDisposableListener(t.domNode,"keyup",function(t){u._onKeyUp.fire(t)})),u._register(s.addDisposableListener(t.domNode,"compositionstart",function(){u._isDoingComposition||(u._isDoingComposition=!0,y.isEdgeOrIE||u._setAndWriteTextAreaState("compositionstart",o.TextAreaState.EMPTY),u._onCompositionStart.fire())}));var c=function(i){var e=u._textAreaState,t=u._textAreaState.readFromTextArea(u._textArea);return[t,o.TextAreaState.deduceInput(e,t,i)]},g=function(i){var e=u._textAreaState,t=o.TextAreaState.selectedText(i);return[t,{text:t.value,replaceCharCnt:e.selectionEnd-e.selectionStart}]};return u._register(s.addDisposableListener(t.domNode,"compositionupdate",function(a){if(!y.isChromev56){if(y.isEdgeOrIE&&"ja"===a.locale){var e=c(!1),t=e[0],n=e[1];return u._textAreaState=t,u._onType.fire(n),void u._onCompositionUpdate.fire(a)}var i=g(a.data),o=i[0],r=i[1];u._textAreaState=o,u._onType.fire(r),u._onCompositionUpdate.fire(a)}})),u._register(s.addDisposableListener(t.domNode,"compositionend",function(r){if(y.isEdgeOrIE&&"ja"===r.locale){var e=c(!1),t=e[0],n=e[1];u._textAreaState=t,u._onType.fire(n)}else{var i=g(r.data),t=i[0],n=i[1];u._textAreaState=t,u._onType.fire(n)}(y.isEdgeOrIE||y.isChrome)&&(u._textAreaState=u._textAreaState.readFromTextArea(u._textArea)),u._isDoingComposition&&(u._isDoingComposition=!1,u._onCompositionEnd.fire())})),u._register(s.addDisposableListener(t.domNode,"input",function(){if(!u._isDoingComposition){var a=c(i.isMacintosh),r=a[0],s=a[1];0===s.replaceCharCnt&&1===s.text.length&&e.isHighSurrogate(s.text.charCodeAt(0))||(u._textAreaState=r,0===u._nextCommand?""!==s.text&&u._onType.fire(s):(""!==s.text&&u._onPaste.fire({text:s.text}),u._nextCommand=0))}else if(y.isChromev56){var d=g(u._textArea.getValue()),l=d[0],t=d[1];u._textAreaState=l,u._onType.fire(t);var n={data:t.text};u._onCompositionUpdate.fire(n)}})),u._register(s.addDisposableListener(t.domNode,"cut",function(t){u._ensureClipboardGetsEditorSelection(t),u._asyncTriggerCut.schedule()})),u._register(s.addDisposableListener(t.domNode,"copy",function(t){u._ensureClipboardGetsEditorSelection(t)})),u._register(s.addDisposableListener(t.domNode,"paste",function(n){if(d.canUseTextData(n)){var e=d.getTextData(n);""!==e&&u._onPaste.fire({text:e})}else u._textArea.getSelectionStart()!==u._textArea.getSelectionEnd()&&u._setAndWriteTextAreaState("paste",o.TextAreaState.EMPTY),u._nextCommand=1})),u._register(s.addDisposableListener(t.domNode,"focus",function(){return u._setHasFocus(!0)})),u._register(s.addDisposableListener(t.domNode,"blur",function(){return u._setHasFocus(!1)})),u}return Z(t,a),t.prototype.dispose=function(){a.prototype.dispose.call(this)},t.prototype.focusTextArea=function(){this._setHasFocus(!0)},t.prototype.isFocused=function(){return this._hasFocus},t.prototype._setHasFocus=function(t){this._hasFocus!==t&&(this._hasFocus=t,this._hasFocus&&(y.isEdge?this._setAndWriteTextAreaState("focusgain",o.TextAreaState.EMPTY):this.writeScreenReaderContent("focusgain")),this._hasFocus?this._onFocus.fire():this._onBlur.fire())},t.prototype._setAndWriteTextAreaState=function(o,e){this._hasFocus||(e=e.collapseSelection()),e.writeToTextArea(o,this._textArea,this._hasFocus),this._textAreaState=e},t.prototype.writeScreenReaderContent=function(t){this._isDoingComposition||this._setAndWriteTextAreaState(t,this._host.getScreenReaderContent(this._textAreaState))},t.prototype._ensureClipboardGetsEditorSelection=function(t){var e=this._host.getPlainTextToCopy();if(d.canUseTextData(t)){var n=null;!y.isEdgeOrIE&&(65536>e.length||m.CopyOptions.forceCopyWithSyntaxHighlighting)&&(n=this._host.getHTMLToCopy()),d.setTextData(t,e,n)}else this._setAndWriteTextAreaState("copy or cut",o.TextAreaState.selectedText(e))},t}(t.Disposable);m.TextAreaInput=a;var d=function(){function t(){}return t.canUseTextData=function(t){return!!t.clipboardData||!!window.clipboardData},t.getTextData=function(t){if(t.clipboardData)return t.preventDefault(),t.clipboardData.getData("text/plain");if(window.clipboardData)return t.preventDefault(),window.clipboardData.getData("Text");throw new Error("ClipboardEventUtils.getTextData: Cannot use text data!")},t.setTextData=function(o,e,t){if(o.clipboardData)return o.clipboardData.setData("text/plain",e),null!==t&&o.clipboardData.setData("text/html",t),void o.preventDefault();if(window.clipboardData)return window.clipboardData.setData("Text",e),void o.preventDefault();throw new Error("ClipboardEventUtils.setTextData: Cannot use text data!")},t}(),l=function(o){function e(e){var i=o.call(this)||this;return i._actual=e,i}return Z(e,o),e.prototype.getValue=function(){return this._actual.domNode.value},e.prototype.setValue=function(o,e){var t=this._actual.domNode;t.value!==e&&(t.value=e)},e.prototype.getSelectionStart=function(){return this._actual.domNode.selectionStart},e.prototype.getSelectionEnd=function(){return this._actual.domNode.selectionEnd},e.prototype.setSelectionRange=function(d,e,t){var n=this._actual.domNode,i=document.activeElement===n,l=n.selectionStart,r=n.selectionEnd;if(!i||l!==e||r!==t)if(i)n.setSelectionRange(e,t);else try{var p=s.saveParentsScrollTop(n);n.focus(),n.setSelectionRange(e,t),s.restoreParentsScrollTop(n,p)}catch(t){}},e}(t.Disposable)}),define(s[475],n([1,0,10]),function(o,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function o(t){this.model=t,this.currentOpenStackElement=null,this.past=[],this.future=[]}return o.prototype.pushStackElement=function(){null!==this.currentOpenStackElement&&(this.past.push(this.currentOpenStackElement),this.currentOpenStackElement=null)},o.prototype.clear=function(){this.currentOpenStackElement=null,this.past=[],this.future=[]},o.prototype.pushEditOperation=function(n,r,a){this.future=[],this.currentOpenStackElement||(this.currentOpenStackElement={beforeVersionId:this.model.getAlternativeVersionId(),beforeCursorState:n,editOperations:[],afterCursorState:null,afterVersionId:-1});var i={operations:this.model.applyEdits(r)};this.currentOpenStackElement.editOperations.push(i);try{this.currentOpenStackElement.afterCursorState=a?a(i.operations):null}catch(o){t.onUnexpectedError(o),this.currentOpenStackElement.afterCursorState=null}return this.currentOpenStackElement.afterVersionId=this.model.getVersionId(),this.currentOpenStackElement.afterCursorState},o.prototype.undo=function(){if(this.pushStackElement(),0<this.past.length){var o=this.past.pop();try{for(var e=o.editOperations.length-1;0<=e;e--)o.editOperations[e]={operations:this.model.applyEdits(o.editOperations[e].operations)}}catch(t){return this.clear(),null}return this.future.push(o),{selections:o.beforeCursorState,recordedVersionId:o.beforeVersionId}}return null},o.prototype.redo=function(){if(0<this.future.length){if(this.currentOpenStackElement)throw new Error("How is this possible?");var o=this.future.pop();try{for(var e=0;e<o.editOperations.length;e++)o.editOperations[e]={operations:this.model.applyEdits(o.editOperations[e].operations)}}catch(t){return this.clear(),null}return this.past.push(o),{selections:o.afterCursorState,recordedVersionId:o.afterVersionId}}return null},o}();e.EditStack=n}),define(s[481],n([1,0]),function(o,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var d=function(){function a(o,i,t){this.startLineNumber=o,this.endLineNumber=i,this.indent=t}return a.deepCloneArr=function(e){for(var t=[],n=0,i=e.length,o;n<i;n++)o=e[n],t[n]=new a(o.startLineNumber,o.endLineNumber,o.indent);return t},a}();e.IndentRange=d,e.computeRanges=function(n,e){void 0===e&&(e=1);var t=[],i=[];i.push({indent:-1,line:n.getLineCount()+1});for(var o=n.getLineCount(),l;0<o;o--)if(l=n.getIndentLevel(o),-1!==l){var p=i[i.length-1];if(p.indent>l){do i.pop(),p=i[i.length-1];while(p.indent>l);var a=p.line-1;a-o>=e&&t.push(new d(o,a,l))}p.indent===l?p.line=o:i.push({indent:l,line:o})}return t.reverse()}}),define(s[482],n([1,0]),function(o,e){"use strict";function L(g,e,t,m){var i;for(i=0;i<e&&i<m&&(a=g.charCodeAt(i))===(c=t.charCodeAt(i));i++);for(var o=0,r=0,s=i,a;s<e;s++)a=g.charCodeAt(s),32===a?o++:r++;for(var u=0,l=0,s=i,c;s<m;s++)c=t.charCodeAt(s),32===c?u++:l++;if(0<o&&0<r)return 0;if(0<u&&0<l)return 0;var d=I(r-l),h=I(o-u);return 0===d?h:0==h%d?h/d:0}Object.defineProperty(e,"__esModule",{value:!0}),e.guessIndentation=function(n,e,t){for(var i=q(n.length,1e4),o=0,r=0,s="",a=0,u=[2,4,6,8],l=[0,0,0,0,0,0,0,0,0],c=0;c<i;c++){for(var d=n[c],h=!1,p=0,f=0,g=0,m=0,v=d.length,_;m<v;m++)if(_=d.charCodeAt(m),9===_)g++;else{if(32!==_){h=!0,p=m;break}f++}if(h){0<g?o++:1<f&&r++;var y=L(s,a,d,p);8>=y&&l[y]++,s=d,a=p}}var C=L(s,a,"",0);8>=C&&l[C]++;var b=t;o!==r&&(b=o<r);var x=e,N=b?0:.1*i;return u.forEach(function(o){var e=l[o];e>N&&(N=e,x=o)}),{insertSpaces:b,tabSize:x}}}),define(s[55],n([1,0]),function(d,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextModelEventType={ModelDispose:"modelDispose",ModelTokensChanged:"modelTokensChanged",ModelLanguageChanged:"modelLanguageChanged",ModelOptionsChanged:"modelOptionsChanged",ModelContentChanged:"contentChanged",ModelRawContentChanged2:"rawContentChanged2",ModelDecorationsChanged:"decorationsChanged"},!function(t){t[t.Flush=1]="Flush",t[t.LineChanged=2]="LineChanged",t[t.LinesDeleted=3]="LinesDeleted",t[t.LinesInserted=4]="LinesInserted",t[t.EOLChanged=5]="EOLChanged"}(e.RawContentChangedType||(e.RawContentChangedType={}));var t=function(){return function(){this.changeType=1}}();e.ModelRawFlush=t;var n=function(){return function(o,e){this.changeType=2,this.lineNumber=o,this.detail=e}}();e.ModelRawLineChanged=n;var i=function(){return function(o,e){this.changeType=3,this.fromLineNumber=o,this.toLineNumber=e}}();e.ModelRawLinesDeleted=i;var o=function(){return function(o,e,t){this.changeType=4,this.fromLineNumber=o,this.toLineNumber=e,this.detail=t}}();e.ModelRawLinesInserted=o;var r=function(){return function(){this.changeType=5}}();e.ModelRawEOLChanged=r;var s=function(){function t(o,r,t,n){this.changes=o,this.versionId=r,this.isUndoing=t,this.isRedoing=n}return t.prototype.containsEvent=function(o){for(var e=0,t=this.changes.length;e<t;e++)if(this.changes[e].changeType===o)return!0;return!1},t}();e.ModelRawContentChangedEvent=s}),define(s[158],n([1,0,9,12,2,20,94]),function(g,e,m,_,C,y,n){"use strict";function b(r,e,t){if(!t)return new y.FindMatch(r,null);for(var a=[],i=0,o=e.length;i<o;i++)a[i]=e[i];return new y.FindMatch(r,a)}function r(a,e,t,n,i){if(0===n)return!0;var o=e.charCodeAt(n-1);if(0!==a.get(o))return!0;if(0<i){var r=e.charCodeAt(n);if(0!==a.get(r))return!0}return!1}function a(a,e,t,n,i){if(n+i===t)return!0;var o=e.charCodeAt(n+i);if(0!==a.get(o))return!0;if(0<i){var r=e.charCodeAt(n+i-1);if(0!==a.get(r))return!0}return!1}function l(s,e,t,n,i){return r(s,e,t,n,i)&&a(s,e,t,n,i)}Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function r(o,r,t,n){this.searchString=o,this.isRegex=r,this.matchCase=t,this.wordSeparators=n}return r._isMultilineRegexSource=function(o){if(!o||0===o.length)return!1;for(var r=0,t=o.length;r<t;r++)if(92===o.charCodeAt(r)){if(++r>=t)break;var n=o.charCodeAt(r);if(110===n||114===n)return!0}return!1},r.prototype.parseSearchRequest=function(){if(""===this.searchString)return null;var e=this.isRegex?r._isMultilineRegexSource(this.searchString):0<=this.searchString.indexOf("\n");var a=null;try{a=m.createRegExp(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:e,global:!0})}catch(t){return null}if(!a)return null;var d=!this.isRegex&&!e;return d&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(d=this.matchCase),new s(a,this.wordSeparators?n.getMapForWordSeparators(this.wordSeparators):null,d?this.searchString:null)},r}();e.SearchParams=t;var s=function(){return function(o,e,t){this.regex=o,this.wordSeparators=e,this.simpleSearch=t}}();e.SearchData=s;var o=function(){function t(){}return t.findMatches=function(a,e,t,n,i){var o=e.parseSearchRequest();return o?o.regex.multiline?this._doFindMatchesMultiline(a,t,new c(o.wordSeparators,o.regex),n,i):this._doFindMatchesLineByLine(a,t,o,n,i):[]},t._getMultilineMatchRange=function(o,e,t,n,i){var r;if("\r\n"===o.getEOL()){for(var s=0,a=0;a<n;a++)10===(d=t.charCodeAt(a))&&s++;r=e+n+s}else r=e+n;var u;if("\r\n"===o.getEOL()){for(var l=0,a=0,c=i.length,d;a<c;a++)d=t.charCodeAt(a+n),10===d&&l++;u=r+i.length+l}else u=r+i.length;var g=o.getPositionAt(r),p=o.getPositionAt(u);return new C.Range(g.lineNumber,g.column,p.lineNumber,p.column)},t._doFindMatchesMultiline=function(r,e,t,n,i){var o=r.getOffsetAt(e.getStartPosition()),a=r.getValueInRange(e,y.EndOfLinePreference.LF),l=[],p=0,d;for(t.reset(0);d=t.next(a);)if(l[p++]=b(this._getMultilineMatchRange(r,o,a,d.index,d[0]),d,n),p>=i)return l;return l},t._doFindMatchesLineByLine=function(d,e,t,n,i){var o=[],r=0;if(e.startLineNumber===e.endLineNumber){var s=d.getLineContent(e.startLineNumber).substring(e.startColumn-1,e.endColumn-1);return r=this._findMatchesInLine(t,s,e.startLineNumber,e.startColumn-1,r,o,n,i),o}var a=d.getLineContent(e.startLineNumber).substring(e.startColumn-1);r=this._findMatchesInLine(t,a,e.startLineNumber,e.startColumn-1,r,o,n,i);for(var p=e.startLineNumber+1;p<e.endLineNumber&&r<i;p++)r=this._findMatchesInLine(t,d.getLineContent(p),p,0,r,o,n,i);if(r<i){var l=d.getLineContent(e.endLineNumber).substring(0,e.endColumn-1);r=this._findMatchesInLine(t,l,e.endLineNumber,0,r,o,n,i)}return o},t._findMatchesInLine=function(o,e,t,n,i,r,a,s){var d=o.wordSeparators;if(!a&&o.simpleSearch){for(var u=o.simpleSearch,p=u.length,f=e.length,m=-p;-1!==(m=e.indexOf(u,m+p));)if((!d||l(d,e,f,m,p))&&(r[i++]=new y.FindMatch(new C.Range(t,m+1+n,t,m+1+p+n),null),i>=s))return i;return i}var v=new c(o.wordSeparators,o.regex),S;v.reset(0);do if((S=v.next(e))&&(r[i++]=b(new C.Range(t,S.index+1+n,t,S.index+1+S[0].length+n),S,a),i>=s))return i;while(S);return i},t.findNextMatch=function(a,e,t,n){var i=e.parseSearchRequest();if(!i)return null;var s=new c(i.wordSeparators,i.regex);return i.regex.multiline?this._doFindNextMatchMultiline(a,t,s,n):this._doFindNextMatchLineByLine(a,t,s,n)},t._doFindNextMatchMultiline=function(o,e,t,n){var i=new _.Position(e.lineNumber,1),r=o.getOffsetAt(i),a=o.getLineCount(),s=o.getValueInRange(new C.Range(i.lineNumber,i.column,a,o.getLineMaxColumn(a)),y.EndOfLinePreference.LF);t.reset(e.column-1);var d=t.next(s);return d?b(this._getMultilineMatchRange(o,r,s,d.index,d[0]),d,n):1!==e.lineNumber||1!==e.column?this._doFindNextMatchMultiline(o,new _.Position(1,1),t,n):null},t._doFindNextMatchLineByLine=function(p,e,t,n){var i=p.getLineCount(),o=e.lineNumber,r=p.getLineContent(o),s=this._findFirstMatchInLine(t,r,o,e.column,n);if(s)return s;for(var a=1;a<=i;a++){var u=(o+a-1)%i,l=p.getLineContent(u+1),c=this._findFirstMatchInLine(t,l,u+1,1,n);if(c)return c}return null},t._findFirstMatchInLine=function(o,e,t,n,i){o.reset(n-1);var r=o.next(e);return r?b(new C.Range(t,r.index+1,t,r.index+1+r[0].length),r,i):null},t.findPreviousMatch=function(a,e,t,n){var i=e.parseSearchRequest();if(!i)return null;var s=new c(i.wordSeparators,i.regex);return i.regex.multiline?this._doFindPreviousMatchMultiline(a,t,s,n):this._doFindPreviousMatchLineByLine(a,t,s,n)},t._doFindPreviousMatchMultiline=function(o,e,t,n){var i=this._doFindMatchesMultiline(o,new C.Range(1,1,e.lineNumber,e.column),t,n,9990);if(0<i.length)return i[i.length-1];var r=o.getLineCount();return e.lineNumber!==r||e.column!==o.getLineMaxColumn(r)?this._doFindPreviousMatchMultiline(o,new _.Position(r,o.getLineMaxColumn(r)),t,n):null},t._doFindPreviousMatchLineByLine=function(p,e,t,n){var i=p.getLineCount(),o=e.lineNumber,r=p.getLineContent(o).substring(0,e.column-1),s=this._findLastMatchInLine(t,r,o,n);if(s)return s;for(var a=1;a<=i;a++){var u=(i+o-a-1)%i,l=p.getLineContent(u+1),c=this._findLastMatchInLine(t,l,u+1,n);if(c)return c}return null},t._findLastMatchInLine=function(o,e,t,n){var i=null,a;for(o.reset(0);a=o.next(e);)i=b(new C.Range(t,a.index+1,t,a.index+1+a[0].length),a,n);return i},t}();e.TextModelSearch=o;var c=function(){function t(o,n){this._wordSeparators=o,this._searchRegex=n,this._prevMatchStartIndex=-1,this._prevMatchLength=0}return t.prototype.reset=function(t){this._searchRegex.lastIndex=t,this._prevMatchStartIndex=-1,this._prevMatchLength=0},t.prototype.next=function(r){var e=r.length,n;do{if(this._prevMatchStartIndex+this._prevMatchLength===e)return null;if(!(n=this._searchRegex.exec(r)))return null;var t=n.index,i=n[0].length;if(t===this._prevMatchStartIndex&&i===this._prevMatchLength)return null;if(this._prevMatchStartIndex=t,this._prevMatchLength=i,!this._wordSeparators||l(this._wordSeparators,r,e,t,i))return n}while(n);return null},t}()}),define(s[101],n([1,0,9,20]),function(a,e,d,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.fromString=function(n){for(var e=0,l=-1;-1!==(l=n.indexOf("\r",l+1));)e++;var i=d.containsRTL(n),p=!i&&d.isBasicASCII(n),c=n.split(/\r\n|\r|\n/),u="";return d.startsWithUTF8BOM(c[0])&&(u=d.UTF8_BOM_CHARACTER,c[0]=c[0].substr(1)),{BOM:u,lines:c,length:n.length,containsRTL:i,isBasicASCII:p,totalCRCount:e}},t}();e.RawTextSource=n;var t=function(){function t(){}return t._getEOL=function(o,e){var t=o.lines.length-1;return 0===t?e===s.DefaultEndOfLine.LF?"\n":"\r\n":o.totalCRCount>t/2?"\r\n":"\n"},t.fromRawTextSource=function(o,e){return{length:o.length,lines:o.lines,BOM:o.BOM,EOL:this._getEOL(o,e),containsRTL:o.containsRTL,isBasicASCII:o.isBasicASCII}},t.fromString=function(o,e){return this.fromRawTextSource(n.fromString(o),e)},t.create=function(o,n){return"string"==typeof o?this.fromString(o,n):this.fromRawTextSource(o,n)},t}();e.TextSource=t}),define(s[116],n([1,0]),function(o,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function t(){}return t.getLanguageId=function(t){return(255&t)>>>0},t.getTokenType=function(t){return(1792&t)>>>8},t.getFontStyle=function(t){return(14336&t)>>>11},t.getForeground=function(t){return(8372224&t)>>>14},t.getBackground=function(t){return(4286578688&t)>>>23},t.getClassNameFromMetadata=function(o){var e="mtk"+this.getForeground(o),t=this.getFontStyle(o);return 1&t&&(e+=" mtki"),2&t&&(e+=" mtkb"),4&t&&(e+=" mtku"),e},t.getInlineStyleFromMetadata=function(r,e){var t=this.getForeground(r),n=this.getFontStyle(r),i="color: "+e[t]+";";return 1&n&&(i+="font-style: italic;"),2&n&&(i+="font-weight: bold;"),4&n&&(i+="text-decoration: underline;"),i},t}();e.TokenMetadata=t}),define(s[90],n([1,0,116]),function(r,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var g=function(){function o(o,n){this.endIndex=o,this._metadata=n}return o.prototype.getForeground=function(){return t.TokenMetadata.getForeground(this._metadata)},o.prototype.getType=function(){return t.TokenMetadata.getClassNameFromMetadata(this._metadata)},o.prototype.getInlineStyle=function(o){return t.TokenMetadata.getInlineStyleFromMetadata(this._metadata,o)},o._equals=function(o,e){return o.endIndex===e.endIndex&&o._metadata===e._metadata},o.equalsArr=function(o,e){var t=o.length;if(t!==e.length)return!1;for(var n=0;n<t;n++)if(!this._equals(o[n],e[n]))return!1;return!0},o}();e.ViewLineToken=g;var n=function(){function t(){}return t.inflateArr=function(i,e){for(var t=[],n=0,o=i.length>>>1;n<o;n++){var r=n+1<o?i[n+1<<1]:e,s=i[1+(n<<1)];t[n]=new g(r,s)}return t},t.sliceAndInflate=function(i,e,t,n,o){for(var r=[],a=0,s=this.findIndexInSegmentsArray(i,e),l=i.length>>>1;s<l&&!(i[s<<1]>=t);s++){var c=s+1<l?i[s+1<<1]:o,d=q(t-e+n,c-e+n),u=i[1+(s<<1)];r[a++]=new g(d,u)}return r},t.findIndexInSegmentsArray=function(r,e){for(var t=0,n=(r.length>>>1)-1,i;t<n;)i=t+l((n-t)/2),r[i<<1]>e?n=i-1:t=i;return t},t}();e.ViewLineTokenFactory=n}),define(s[130],n([1,0,116,90]),function(a,e,s,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(a,s,t,n,i,o){this._source=a,this._tokenIndex=s,this._metadata=o,this.startOffset=n,this.endOffset=i,this.hasPrev=0<this._tokenIndex,this.hasNext=this._tokenIndex+1<t}return Object.defineProperty(t.prototype,"languageId",{get:function(){return s.TokenMetadata.getLanguageId(this._metadata)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tokenType",{get:function(){return s.TokenMetadata.getTokenType(this._metadata)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontStyle",{get:function(){return s.TokenMetadata.getFontStyle(this._metadata)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"foregroundId",{get:function(){return s.TokenMetadata.getForeground(this._metadata)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"backgroundId",{get:function(){return s.TokenMetadata.getBackground(this._metadata)},enumerable:!0,configurable:!0}),t.prototype.prev=function(){return this.hasPrev?this._source.tokenAt(this._tokenIndex-1):null},t.prototype.next=function(){return this.hasNext?this._source.tokenAt(this._tokenIndex+1):null},t}();e.LineToken=l;var t=function(){function t(o,n){this._tokens=o,this._tokensCount=this._tokens.length>>>1,this._text=n,this._textLength=this._text.length}return t.prototype.getTokenCount=function(){return this._tokensCount},t.prototype.getLineContent=function(){return this._text},t.prototype.getLineLength=function(){return this._textLength},t.prototype.getTokenStartOffset=function(t){return this._tokens[t<<1]},t.prototype.getLanguageId=function(o){var e=this._tokens[1+(o<<1)];return s.TokenMetadata.getLanguageId(e)},t.prototype.getStandardTokenType=function(o){var e=this._tokens[1+(o<<1)];return s.TokenMetadata.getTokenType(e)},t.prototype.getTokenEndOffset=function(t){return t+1<this._tokensCount?this._tokens[t+1<<1]:this._textLength},t.prototype.findTokenIndexAtOffset=function(t){return d.ViewLineTokenFactory.findIndexInSegmentsArray(this._tokens,t)},t.prototype.findTokenAtOffset=function(o){var e=this.findTokenIndexAtOffset(o);return this.tokenAt(e)},t.prototype.tokenAt=function(o){var e=this._tokens[o<<1],n;n=o+1<this._tokensCount?this._tokens[o+1<<1]:this._textLength;var t=this._tokens[1+(o<<1)];return new l(this,o,this._tokensCount,e,n,t)},t.prototype.firstToken=function(){return 0===this._textLength?null:this.tokenAt(0)},t.prototype.lastToken=function(){return 0===this._textLength?null:this.tokenAt(this._tokensCount-1)},t.prototype.inflate=function(){return d.ViewLineTokenFactory.inflateArr(this._tokens,this._textLength)},t.prototype.sliceAndInflate=function(o,e,t){return d.ViewLineTokenFactory.sliceAndInflate(this._tokens,o,e,t,this._textLength)},t}();e.LineTokens=t}),define(s[118],n([1,0,130,12]),function(g,e,m,_){"use strict";function n(a,e){for(var t=0,n=0,i=a.length,s;n<i;){if(s=a.charCodeAt(n),32===s)t++;else{if(9!==s)break;t=t-t%e+e}n++}return n===i?0:t+1}function o(t){return(16384|t<<0|16777216)>>>0}Object.defineProperty(e,"__esModule",{value:!0});var f=function(){function t(o,r,t,n){this.id=o,this.internalDecorationId=r,this.position=t,this.stickToPreviousCharacter=n}return t.prototype.toString=function(){return"{'"+this.id+"';"+this.position.toString()+","+this.stickToPreviousCharacter+"}"},t.prototype.updateLineNumber=function(o,e){this.position.lineNumber!==e&&(o.addChangedMarker(this),this.position=new _.Position(e,this.position.column))},t.prototype.updateColumn=function(o,e){this.position.column!==e&&(o.addChangedMarker(this),this.position=new _.Position(this.position.lineNumber,e))},t.prototype.updatePosition=function(o,e){this.position.lineNumber===e.lineNumber&&this.position.column===e.column||(o.addChangedMarker(this),this.position=e)},t.prototype.setPosition=function(t){this.position=t},t.compareMarkers=function(o,e){return o.position.column===e.position.column?(o.stickToPreviousCharacter?0:1)-(e.stickToPreviousCharacter?0:1):o.position.column-e.position.column},t}();e.LineMarker=f;var t=function(){function t(){this._changedDecorations=[],this._changedDecorationsLen=0}return t.prototype.addChangedMarker=function(o){var e=o.internalDecorationId;0!==e&&(this._changedDecorations[this._changedDecorationsLen++]=e)},t.prototype.getDecorationIds=function(){return this._changedDecorations},t}();e.MarkersTracker=t;var a={adjust:function(){},finish:function(){}},s={adjustDelta:function(){},adjustSet:function(){},finish:function(){}},i;!function(t){t[t.MarkerDefined=0]="MarkerDefined",t[t.ForceMove=1]="ForceMove",t[t.ForceStay=2]="ForceStay"}(i||(i={}));var r=function(){function i(t){t&&(this._markers=null)}return i.prototype._createMarkersAdjuster=function(d){if(!this._markers)return s;if(0===this._markers.length)return s;this._markers.sort(f.compareMarkers);var e=this._markers,t=e.length,n=0,i=e[n],o=function(o,e){return i.position.column<o||!(i.position.column>o)&&1!==e&&(2===e||i.stickToPreviousCharacter)},r=function(r,s,a,p){for(;n<t&&o(r,p);){if(0!==s){var l=G(a,i.position.column+s);i.updateColumn(d,l)}++n<t&&(i=e[n])}};return{adjustDelta:r,adjustSet:function(r,s,a){for(;n<t&&o(r,a);)i.updateColumn(d,s),++n<t&&(i=e[n])},finish:function(t){r(1073741824,t,1,0)}}},i.prototype.applyEdits=function(g,e,t){for(var n=0,i=this.text,o=this._createTokensAdjuster(),r=this._createMarkersAdjuster(g),s=0,a=e.length;s<a;s++){var u=e[s],l=n+u.startColumn,c=n+u.endColumn,d=c-l,m=u.text.length;o.adjust(u.startColumn-1,n,1),r.adjustDelta(u.startColumn,n,1,u.forceMoveMarkers?1:0<d?2:0);var p=q(d,m);0<p&&(o.adjust(u.startColumn-1+p,n,l),u.forceMoveMarkers||r.adjustDelta(u.startColumn+p,n,l,u.forceMoveMarkers?1:d>m?2:0)),i=i.substring(0,l-1)+u.text+i.substring(c-1),n+=m-d,o.adjust(u.endColumn,n,l),r.adjustSet(u.endColumn,l+m,u.forceMoveMarkers?1:0)}return o.finish(n,i.length),r.finish(n,i.length),this._setText(i,t),n},i.prototype.split=function(s,e,t,n){var i=this.text.substring(0,e-1),o=this.text.substring(e-1),r=null;if(this._markers){this._markers.sort(f.compareMarkers);for(var a=0,p=this._markers.length;a<p;a++)if((c=this._markers[a]).position.column>e||c.position.column===e&&(t||!c.stickToPreviousCharacter)){var l=this._markers.slice(0,a);r=this._markers.slice(a),this._markers=l;break}if(r)for(var a=0,p=r.length,c;a<p;a++)c=r[a],c.updateColumn(s,c.position.column-(e-1))}this._setText(i,n);var d=this._createModelLine(o,n);return r&&d.addMarkers(r),d},i.prototype.append=function(e,t,n,o){var r=this.text.length;if(this._setText(this.text+n.text,o),n instanceof i&&n._markers){for(var s=n._markers,a=0,d=s.length,l;a<d;a++)l=s[a],l.updatePosition(e,new _.Position(t,l.position.column+r));this.addMarkers(s)}},i.prototype.addMarker=function(t){this._markers?this._markers.push(t):this._markers=[t]},i.prototype.addMarkers=function(t){0!==t.length&&(this._markers?this._markers=this._markers.concat(t):this._markers=t.slice(0))},i.prototype.removeMarker=function(o){if(this._markers){var e=this._indexOfMarkerId(o.id);0>e||(1===this._markers.length?this._markers=null:this._markers.splice(e,1))}},i.prototype.removeMarkers=function(o){if(this._markers){for(var e=0,t=this._markers.length;e<t;e++)o[this._markers[e].id]&&(this._markers.splice(e,1),t--,e--);0===this._markers.length&&(this._markers=null)}},i.prototype.getMarkers=function(){return this._markers?this._markers:null},i.prototype.updateLineNumber=function(r,e){if(this._markers)for(var t=this._markers,n=0,i=t.length;n<i;n++)t[n].updateLineNumber(r,e)},i.prototype._indexOfMarkerId=function(o){for(var e=this._markers,t=0,n=e.length;t<n;t++)if(e[t].id===o)return t},i}();e.AbstractModelLine=r;var d=function(g){function _(e,o){var n=g.call(this,!0)||this;return n._metadata=0,n._setText(e,o),n._state=null,n._lineTokens=null,n}return Z(_,g),Object.defineProperty(_.prototype,"text",{get:function(){return this._text},enumerable:!0,configurable:!0}),_.prototype.isInvalid=function(){return!!(1&this._metadata)},_.prototype.setIsInvalid=function(t){this._metadata=4294967294&this._metadata|(t?1:0)},_.prototype.getIndentLevel=function(){return((4294967294&this._metadata)>>1)-1},_.prototype._setPlusOneIndentLevel=function(t){this._metadata=1&this._metadata|(4026531839&t)<<1},_.prototype.updateTabSize=function(t){0===t?this._metadata=1&this._metadata:this._setPlusOneIndentLevel(n(this._text,t))},_.prototype._createModelLine=function(t,e){return new _(t,e)},_.prototype.split=function(e,t,n,i){var o=g.prototype.split.call(this,e,t,n,i);return this._deleteMarkedTokens(this._markOverflowingTokensForDeletion(0,this.text.length)),o},_.prototype.append=function(e,t,n,o){var i=this.text.length;if(g.prototype.append.call(this,e,t,n,o),n instanceof _){var r=n._lineTokens;if(r){var a=new Uint32Array(r);if(0<i)for(var s=0,l=a.length>>>1;s<l;s++)a[s<<1]=a[s<<1]+i;var c=this._lineTokens;if(c){var d=new Uint32Array(c),u=new Uint32Array(d.length+a.length);u.set(d,0),u.set(a,d.length),this._lineTokens=u.buffer}else this._lineTokens=a.buffer}}},_.prototype.resetTokenizationState=function(){this._state=null,this._lineTokens=null},_.prototype.setState=function(t){this._state=t},_.prototype.getState=function(){return this._state||null},_.prototype.setTokens=function(n,e){this._lineTokens=e&&0!==e.length&&(2!==e.length||0!==e[0]||e[1]!==o(n))?e.buffer:null},_.prototype.getTokens=function(n){var e=this._lineTokens;if(e)return new m.LineTokens(new Uint32Array(e),this._text);var t=new Uint32Array(2);return t[0]=0,t[1]=o(n),new m.LineTokens(t,this._text)},_.prototype._createTokensAdjuster=function(){var d=this;if(!this._lineTokens)return a;var e=new Uint32Array(this._lineTokens),t=e.length>>>1,n=0,i=0,o=0,r=function(r,p,s){for(;i<r&&n<t;){if(0<i&&0!==p){var a=G(s-1,i+p);if(e[n<<1]=a,0>p)for(var l=n,c;0<l&&(c=e[l-1<<1],!!(c>=a));)4294967295!==c&&(e[l-1<<1]=4294967295,o++),l--}++n<t&&(i=e[n<<1])}};return{adjust:r,finish:function(e,t){r(1073741824,e,1),d._deleteMarkedTokens(d._markOverflowingTokensForDeletion(o,t))}}},_.prototype._markOverflowingTokensForDeletion=function(a,e){if(!this._lineTokens)return a;var t=new Uint32Array(this._lineTokens),n=t.length>>>1;if(a+1===n)return a;for(var i=n-1,o;0<i;i--){if(o=t[i<<1],o<e)return a;if(4294967295!==o&&(t[i<<1]=4294967295,++a+1===n))return a}return a},_.prototype._deleteMarkedTokens=function(d){if(0!==d){for(var e=new Uint32Array(this._lineTokens),t=e.length>>>1,n=new Uint32Array(t-d<<1),i=0,o=0,r;o<t;o++)if(r=e[o<<1],4294967295!==r){var s=e[1+(o<<1)];n[i++]=r,n[i++]=s}this._lineTokens=n.buffer}},_.prototype._setText=function(o,e){this._text=o,0===e?this._metadata=1&this._metadata:this._setPlusOneIndentLevel(n(o,e))},_}(r);e.ModelLine=d;var l=function(r){function i(e,o){var n=r.call(this,!1)||this;return n._setText(e,o),n}return Z(i,r),Object.defineProperty(i.prototype,"text",{get:function(){return this._text},enumerable:!0,configurable:!0}),i.prototype.isInvalid=function(){return!1},i.prototype.setIsInvalid=function(){},i.prototype.getIndentLevel=function(){return 0},i.prototype.updateTabSize=function(){},i.prototype._createModelLine=function(t,e){return new i(t,e)},i.prototype.split=function(e,t,n,i){return r.prototype.split.call(this,e,t,n,i)},i.prototype.append=function(e,t,n,i){r.prototype.append.call(this,e,t,n,i)},i.prototype.resetTokenizationState=function(){},i.prototype.setState=function(){},i.prototype.getState=function(){return null},i.prototype.setTokens=function(){},i.prototype.getTokens=function(n){var e=new Uint32Array(2);return e[0]=0,e[1]=o(n),new m.LineTokens(e,this._text)},i.prototype._createTokensAdjuster=function(){return a},i.prototype._setText=function(t){this._text=t},i}(r);e.MinimalModelLine=l}),define(s[95],n([1,0]),function(o,r){"use strict";function d(d,e,t,l){var i=d-1-l,o=t.lastIndexOf(" ",i-1)+1,r=t.indexOf(" ",i);-1===r&&(r=t.length),e.lastIndex=o;for(var s;s=e.exec(t);)if(s.index<=i&&e.lastIndex>=i)return{word:s[0],startColumn:l+1+s.index,endColumn:l+1+e.lastIndex};return null}function n(a,e,t,n){var s=a-1-n;e.lastIndex=0;for(var o;o=e.exec(t);){if(o.index>s)return null;if(e.lastIndex>=s)return{word:o[0],startColumn:n+1+o.index,endColumn:n+1+e.lastIndex}}return null}Object.defineProperty(r,"__esModule",{value:!0}),r.USUAL_WORD_SEPARATORS="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?",r.DEFAULT_WORD_REGEXP=function(t){void 0===t&&(t="");for(var e=r.USUAL_WORD_SEPARATORS,n="(-?\\d*\\.\\d\\w*)|([^",i=0;i<e.length;i++)0<=t.indexOf(e[i])||(n+="\\"+e[i]);return n+="\\s]+)",new RegExp(n,"g")}(),r.ensureValidWordDefinition=function(t){var e=r.DEFAULT_WORD_REGEXP;if(t&&t instanceof RegExp)if(t.global)e=t;else{var o="g";t.ignoreCase&&(o+="i"),t.multiline&&(o+="m"),e=new RegExp(t.source,o)}return e.lastIndex=0,e},r.getWordAtText=function(i,e,t,o){e.lastIndex=0;var r=e.exec(t);if(!r)return null;var l=0<=r[0].indexOf(" ")?n(i,e,t,o):d(i,e,t,o);return e.lastIndex=0,l}}),define(s[511],n([1,0]),function(o,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function t(t){this._languageIdentifier=t}return t.prototype.getId=function(){return this._languageIdentifier.language},t.prototype.getLanguageIdentifier=function(){return this._languageIdentifier},t}();e.FrankensteinMode=t}),define(s[60],n([1,0]),function(o,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),!function(t){t[t.None=0]="None",t[t.Indent=1]="Indent",t[t.IndentOutdent=2]="IndentOutdent",t[t.Outdent=3]="Outdent"}(e.IndentAction||(e.IndentAction={}));var t=function(){function t(o){if(this.open=o.open,this.close=o.close,this._standardTokenMask=0,Array.isArray(o.notIn))for(var i=0,t=o.notIn.length;i<t;i++)switch(o.notIn[i]){case"string":this._standardTokenMask|=2;break;case"comment":this._standardTokenMask|=1;break;case"regex":this._standardTokenMask|=4;}}return t.prototype.isOK=function(t){return 0==(this._standardTokenMask&t)},t}();e.StandardAutoClosingPairConditional=t}),define(s[513],n([1,0,165]),function(o,e,a){"use strict";function d(n,i,t){if(Array.isArray(n)){for(var o=0,r=0,s=n,p;r<s.length;r++){if(p=d(s[r],i,t),10===p)return p;p>o&&(o=p)}return o}if("string"==typeof n)return"*"===n?5:n===t?10:0;if(n){var u=n.language,l=n.pattern,c=n.scheme,o=0;if(c)if(c===i.scheme)o=10;else{if("*"!==c)return 0;o=5}if(u)if(u===t)o=10;else{if("*"!==u)return 0;o=G(o,5)}if(l){if(l!==i.fsPath&&!a.match(l,i.fsPath))return 0;o=10}return o}return 0}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(o,e,t){return 0<d(o,e,t)},e.score=d}),define(s[533],n([1,0,11,513]),function(r,e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function i(){this._clock=0,this._entries=[],this._onDidChange=new t.Emitter}return Object.defineProperty(i.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!0,configurable:!0}),i.prototype.register=function(o,r){var a=this,n={selector:o,provider:r,_score:-1,_time:this._clock++};return this._entries.push(n),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),{dispose:function(){if(n){var t=a._entries.indexOf(n);0<=t&&(a._entries.splice(t,1),a._lastCandidate=void 0,a._onDidChange.fire(a._entries.length),n=void 0)}}}},i.prototype.has=function(t){return 0<this.all(t).length},i.prototype.all=function(r){if(!r||r.isTooLargeForHavingARichMode())return[];this._updateScores(r);for(var a=[],t=0,n=this._entries,i;t<n.length;t++)i=n[t],0<i._score&&a.push(i.provider);return a},i.prototype.ordered=function(o){var n=[];return this._orderedForEach(o,function(t){return n.push(t.provider)}),n},i.prototype.orderedGroups=function(o){var r=[],i,t;return this._orderedForEach(o,function(o){i&&t===o._score?i.push(o.provider):(t=o._score,i=[o.provider],r.push(i))}),r},i.prototype._orderedForEach=function(o,e){if(o&&!o.isTooLargeForHavingARichMode()){this._updateScores(o);for(var t=0,n;t<this._entries.length;t++)n=this._entries[t],0<n._score&&e(n)}},i.prototype._updateScores=function(e){var t={uri:e.uri.toString(),language:e.getLanguageIdentifier().language};if(!this._lastCandidate||this._lastCandidate.language!==t.language||this._lastCandidate.uri!==t.uri){this._lastCandidate=t;for(var a=0,o=this._entries,r;a<o.length;a++)r=o[a],r._score=n.score(r.selector,e.uri,e.getLanguageIdentifier().language);this._entries.sort(i._compareByScoreAndTime)}},i._compareByScoreAndTime=function(o,e){return o._score<e._score?1:o._score>e._score?-1:o._time<e._time?1:o._time>e._time?-1:0},i}();e.default=i}),define(s[536],n([1,0,89,96]),function(p,e,t,g){"use strict";function b(){return null===r&&(r=new i([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),r}function o(){if(null===a){for(a=new t.CharacterClassifier(0),o=0;o<49;o++)a.set(" \t<>'\"\u3001\u3002\uFF61\uFF64\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF01\uFF20\uFF03\uFF04\uFF05\uFF06\uFF0A\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B\uFF62\uFF63\uFF5D\uFF3D\uFF09\u3015\u3011\u300F\u300D\u300B\u3009\u201D\u2019\uFF40\uFF5E\u2026".charCodeAt(o),1);for(var o=0;o<3;o++)a.set(".,;".charCodeAt(o),2)}return a}Object.defineProperty(e,"__esModule",{value:!0});var n;!function(t){t[t.Invalid=0]="Invalid",t[t.Start=1]="Start",t[t.H=2]="H",t[t.HT=3]="HT",t[t.HTT=4]="HTT",t[t.HTTP=5]="HTTP",t[t.F=6]="F",t[t.FI=7]="FI",t[t.FIL=8]="FIL",t[t.BeforeColon=9]="BeforeColon",t[t.AfterColon=10]="AfterColon",t[t.AlmostThere=11]="AlmostThere",t[t.End=12]="End",t[t.Accept=13]="Accept"}(n||(n={}));var i=function(){function t(i){for(var p=0,t=0,n=0,o=i.length;n<o;n++){var r=i[n],s=r[0],a=r[1],u=r[2];a>p&&(p=a),s>t&&(t=s),u>t&&(t=u)}p++,t++;for(var l=new g.Uint8Matrix(t,p,0),n=0,o=i.length;n<o;n++){var c=i[n],s=c[0],a=c[1],u=c[2];l.set(s,a,u)}this._states=l,this._maxCharCode=p}return t.prototype.nextState=function(o,e){return 0>e||e>=this._maxCharCode?0:this._states.get(o,e)},t}(),r=null,s;!function(t){t[t.None=0]="None",t[t.ForceTermination=1]="ForceTermination",t[t.CannotEndIn=2]="CannotEndIn"}(s||(s={}));var a=null,l=function(){function r(){}return r._createLink=function(a,e,t,d,i){var o=i-1;do{var r=e.charCodeAt(o);if(2!==a.get(r))break;o--}while(o>d);return{range:{startLineNumber:t,startColumn:d+1,endLineNumber:t,endColumn:o+2},url:e.substring(d,o+1)}},r.computeLinks=function(e){for(var t=b(),n=o(),i=[],s=1,a=e.getLineCount();s<=a;s++){for(var u=e.getLineContent(s),l=u.length,c=0,d=0,h=0,p=1,f=!1,g=!1,m=!1;c<l;){var v=!1,_=u.charCodeAt(c);if(13===p){var y=void 0;40===_?(f=!0,y=0):41===_?y=f?0:1:91===_?(g=!0,y=0):93===_?y=g?0:1:123===_?(m=!0,y=0):125===_?y=m?0:1:39===_?y=34===h||96===h?0:1:34===_?y=39===h||96===h?0:1:96===_?y=39===h||34===h?0:1:y=n.get(_);1===y&&(i.push(r._createLink(n,u,s,d,c)),v=!0)}else 12===p?1===(y=n.get(_))?v=!0:p=13:0===(p=t.nextState(p,_))&&(v=!0);v&&(p=1,f=!1,g=!1,m=!1,d=c+1,h=_),c++}13===p&&i.push(r._createLink(n,u,s,d,l))}return i},r}();e.computeLinks=function(t){return t&&"function"==typeof t.getLineCount&&"function"==typeof t.getLineContent?l.computeLinks(t):[]}}),define(s[543],n([1,0,60]),function(o,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function o(o){this._autoClosingPairs=o.autoClosingPairs?o.autoClosingPairs.map(function(o){return new t.StandardAutoClosingPairConditional(o)}):o.brackets?o.brackets.map(function(o){return new t.StandardAutoClosingPairConditional({open:o[0],close:o[1]})}):[],this._surroundingPairs=o.surroundingPairs||this._autoClosingPairs}return o.prototype.getAutoClosingPairs=function(){return this._autoClosingPairs},o.prototype.shouldAutoClosePair=function(a,e,t){if(0===e.getTokenCount())return!0;for(var n=e.findTokenIndexAtOffset(t-2),i=e.getStandardTokenType(n),o=0,r;o<this._autoClosingPairs.length;++o)if(r=this._autoClosingPairs[o],r.open===a)return r.isOK(i);return!0},o.prototype.getSurroundingPairs=function(){return this._surroundingPairs},o}();e.CharacterPairSupport=n}),define(s[545],n([1,0,9,60]),function(r,e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),!function(t){t[t.INCREASE_MASK=1]="INCREASE_MASK",t[t.DECREASE_MASK=2]="DECREASE_MASK",t[t.INDENT_NEXTLINE_MASK=4]="INDENT_NEXTLINE_MASK",t[t.UNINDENT_MASK=8]="UNINDENT_MASK"}(e.IndentConsts||(e.IndentConsts={}));var i=function(){function o(t){this._indentationRules=t}return o.prototype.onType=function(t){if(this._indentationRules){if(this._indentationRules.unIndentedLinePattern&&this._indentationRules.unIndentedLinePattern.test(t))return null;if(this._indentationRules.decreaseIndentPattern&&this._indentationRules.decreaseIndentPattern.test(t))return n.IndentAction.Outdent}return null},o.prototype.containNonWhitespace=function(o){return 0<=t.lastNonWhitespaceIndex(o)},o.prototype.shouldIncrease=function(t){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&this._indentationRules.increaseIndentPattern.test(t))},o.prototype.shouldDecrease=function(t){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&this._indentationRules.decreaseIndentPattern.test(t))},o.prototype.shouldIndentNextLine=function(t){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&this._indentationRules.indentNextLinePattern.test(t))},o.prototype.shouldIgnore=function(t){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&this._indentationRules.unIndentedLinePattern.test(t))},o.prototype.getIndentMetadata=function(o){var e=0;return this.shouldIncrease(o)&&(e+=1),this.shouldDecrease(o)&&(e+=2),this.shouldIndentNextLine(o)&&(e+=4),this.shouldIgnore(o)&&(e+=8),e},o}();e.IndentRulesSupport=i}),define(s[546],n([1,0]),function(o,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function t(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}return t.prototype.navigateValueSet=function(a,s,t,d,i){if(a&&s&&(o=this.doNavigateValueSet(s,i)))return{range:a,value:o};if(t&&d){var o=this.doNavigateValueSet(d,i);if(o)return{range:t,value:o}}return null},t.prototype.doNavigateValueSet=function(o,e){var t=this.numberReplace(o,e);return null===t?this.textReplace(o,e):t},t.prototype.numberReplace=function(a,s){var t=r(10,a.length-(a.lastIndexOf(".")+1)),d=+a,i=parseFloat(a);return isNaN(d)||isNaN(i)||d!==i?null:0!==d||s?(d=M(d*t),d+=s?t:-t,d/t+""):null},t.prototype.textReplace=function(o,e){return this.valueSetsReplace(this._defaultValueSet,o,e)},t.prototype.valueSetsReplace=function(a,e,t){for(var n=null,i=0,o=a.length;null===n&&i<o;i++)n=this.valueSetReplace(a[i],e,t);return n},t.prototype.valueSetReplace=function(o,e,t){var n=o.indexOf(e);return 0<=n?(0>(n+=t?1:-1)?n=o.length-1:n%=o.length,o[n]):null},t.INSTANCE=new t,t}();e.BasicInplaceReplace=t}),define(s[550],n([1,0,10,9,60]),function(a,e,t,s,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function o(e){(e=e||{}).brackets=e.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=e.brackets.map(function(e){return{open:e[0],openRegExp:o._createOpenBracketRegExp(e[0]),close:e[1],closeRegExp:o._createCloseBracketRegExp(e[1])}}),this._regExpRules=e.regExpRules||[],this._indentationRules=e.indentationRules}return o.prototype.onEnter=function(o,e,t){for(var n=0,i=this._regExpRules.length,r;n<i;n++)if(r=this._regExpRules[n],r.beforeText.test(e)){if(!r.afterText)return r.action;if(r.afterText.test(t))return r.action}if(0<e.length&&0<t.length)for(var n=0,i=this._brackets.length;n<i;n++)if((s=this._brackets[n]).openRegExp.test(e)&&s.closeRegExp.test(t))return{indentAction:d.IndentAction.IndentOutdent};if(0<e.length)for(var n=0,i=this._brackets.length,s;n<i;n++)if(s=this._brackets[n],s.openRegExp.test(e))return{indentAction:d.IndentAction.Indent};return null},o._createOpenBracketRegExp=function(e){var t=s.escapeRegExpCharacters(e);return /\B/.test(t.charAt(0))||(t="\\b"+t),t+="\\s*$",o._safeRegExp(t)},o._createCloseBracketRegExp=function(e){var t=s.escapeRegExpCharacters(e);return /\B/.test(t.charAt(t.length-1))||(t+="\\b"),t="^\\s*"+t,o._safeRegExp(t)},o._safeRegExp=function(o){try{return new RegExp(o)}catch(o){return t.onUnexpectedError(o),null}},o}();e.OnEnterSupport=o}),define(s[98],n([1,0,9,2]),function(g,e,m,_){"use strict";function t(r,e){var t={};return function(n){var i=r(n);return t.hasOwnProperty(i)||(t[i]=e(n)),t[i]}}function o(o){var e="("+o.map(m.escapeRegExpCharacters).join(")|(")+")";return m.createRegExp(e,!0)}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){return function(r,e,t,n,i){this.languageIdentifier=r,this.open=e,this.close=t,this.forwardRegex=n,this.reversedRegex=i}}();e.RichEditBracket=n;var i=function(){return function(o,e){var t=this;this.brackets=e.map(function(e){return new n(o,e[0],e[1],r({open:e[0],close:e[1]}),a({open:e[0],close:e[1]}))}),this.forwardRegex=s(this.brackets),this.reversedRegex=l(this.brackets),this.textIsBracket={},this.textIsOpenBracket={};var d=0;this.brackets.forEach(function(o){t.textIsBracket[o.open.toLowerCase()]=o,t.textIsBracket[o.close.toLowerCase()]=o,t.textIsOpenBracket[o.open.toLowerCase()]=!0,t.textIsOpenBracket[o.close.toLowerCase()]=!1,d=G(d,o.open.length),d=G(d,o.close.length)}),this.maxBracketLength=d}}();e.RichEditBrackets=i;var r=t(function(t){return t.open+";"+t.close},function(t){return o([t.open,t.close])}),a=t(function(t){return t.open+";"+t.close},function(t){return o([d(t.open),d(t.close)])}),s=t(function(t){return t.map(function(t){return t.open+";"+t.close}).join(";")},function(n){var i=[];return n.forEach(function(t){i.push(t.open),i.push(t.close)}),o(i)}),l=t(function(t){return t.map(function(t){return t.open+";"+t.close}).join(";")},function(n){var i=[];return n.forEach(function(t){i.push(d(t.open)),i.push(d(t.close))}),o(i)}),d=function(){function o(o){for(var i="",t=o.length-1;0<=t;t--)i+=o.charAt(t);return i}var e=null,t=null;return function(n){return e!==n&&(t=o(e=n)),t}}(),c=function(){function t(){}return t._findPrevBracketInText=function(i,e,t,n){var o=t.match(i);if(!o)return null;var d=t.length-o.index,s=o[0].length,a=n+d;return new _.Range(e,a-s+1,e,a+1)},t.findPrevBracketInToken=function(a,e,t,n,i){var o=d(t).substring(t.length-i,t.length-n);return this._findPrevBracketInText(a,e,o,n)},t.findNextBracketInText=function(i,e,t,n){var o=t.match(i);if(!o)return null;var d=o.index,s=o[0].length,a=n+d;return new _.Range(e,a+1,e,a+1+s)},t.findNextBracketInToken=function(a,e,t,n,i){var o=t.substring(n,i);return this.findNextBracketInText(a,e,o,n)},t}();e.BracketsUtils=c}),define(s[202],n([1,0,32]),function(g,e,m){"use strict";function t(a){if(!a||!Array.isArray(a))return[];for(var p=[],t=0,n=0,g=a.length;n<g;n++){var o=a[n],r=-1;if("string"==typeof o.fontStyle){r=0;for(var s=o.fontStyle.split(" "),u=0,l=s.length;u<l;u++)switch(s[u]){case"italic":r|=1;break;case"bold":r|=2;break;case"underline":r|=4;}}var c=null;"string"==typeof o.foreground&&(c=o.foreground);var d=null;"string"==typeof o.background&&(d=o.background),p[t++]=new f(o.token||"",n,r,c,d)}return p}function n(p){p.sort(function(i,e){var t=o(i.token,e.token);return 0===t?i.index-e.index:t});for(var e=0,t="000000",n="ffffff",i;1<=p.length&&""===p[0].token;)i=p.shift(),-1!==i.fontStyle&&(e=i.fontStyle),null!==i.foreground&&(t=i.foreground),null!==i.background&&(n=i.background);for(var m=new s,r=new l(e,m.getId(t),m.getId(n)),a=new d(r),c=0,h=p.length,_;c<h;c++)_=p[c],a.insert(_.token,_.fontStyle,m.getId(_.foreground),m.getId(_.background));return new u(m,a)}function _(o){var e=o.match(i);if(!e)return 0;switch(e[1]){case"comment":return 1;case"string":return 2;case"regex":return 4;}throw new Error("Unexpected match for standard token type!")}function o(o,e){return o<e?-1:o>e?1:0}Object.defineProperty(e,"__esModule",{value:!0});var f=function(){return function(r,e,t,n,i){this.token=r,this.index=e,this.fontStyle=t,this.foreground=n,this.background=i}}();e.ParsedTokenThemeRule=f,e.parseTokenTheme=t;var s=function(){function t(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}return t.prototype.getId=function(o){if(null===o)return 0;if(o=o.toUpperCase(),!/^[0-9A-F]{6}$/.test(o))throw new Error("Illegal color name: "+o);var e=this._color2id.get(o);return e||(e=++this._lastColorId,this._color2id.set(o,e),this._id2color[e]=m.Color.fromHex("#"+o),e)},t.prototype.getColorMap=function(){return this._id2color.slice(0)},t}();e.ColorMap=s;var u=function(){function o(o,n){this._colorMap=o,this._root=n,this._cache=new Map}return o.createFromRawTokenTheme=function(o){return this.createFromParsedTokenTheme(t(o))},o.createFromParsedTokenTheme=function(t){return n(t)},o.prototype.getColorMap=function(){return this._colorMap.getColorMap()},o.prototype.getThemeTrieElement=function(){return this._root.toExternalThemeTrieElement()},o.prototype._match=function(t){return this._root.match(t)},o.prototype.match=function(r,e){var t=this._cache.get(e);if(void 0===t){var n=this._match(e),i=_(e);t=(n.metadata|i<<8)>>>0,this._cache.set(e,t)}return(t|r<<0)>>>0},o}();e.TokenTheme=u;var i=/\b(comment|string|regex)\b/;e.toStandardTokenType=_,e.strcmp=o;var l=function(){function t(o,i,t){this._fontStyle=o,this._foreground=i,this._background=t,this.metadata=(this._fontStyle<<11|this._foreground<<14|this._background<<23)>>>0}return t.prototype.clone=function(){return new t(this._fontStyle,this._foreground,this._background)},t.cloneArr=function(o){for(var e=[],t=0,n=o.length;t<n;t++)e[t]=o[t].clone();return e},t.prototype.acceptOverwrite=function(o,e,t){-1!==o&&(this._fontStyle=o),0!==e&&(this._foreground=e),0!==t&&(this._background=t),this.metadata=(this._fontStyle<<11|this._foreground<<14|this._background<<23)>>>0},t}();e.ThemeTrieElementRule=l;var r=function(){return function(o,e){this.mainRule=o,this.children=e||Object.create(null)}}();e.ExternalThemeTrieElement=r;var d=function(){function d(t){this._mainRule=t,this._children=new Map}return d.prototype.toExternalThemeTrieElement=function(){var o=Object.create(null);return this._children.forEach(function(e,t){o[t]=e.toExternalThemeTrieElement()}),new r(this._mainRule,o)},d.prototype.match=function(r){if(""===r)return this._mainRule;var e=r.indexOf("."),i,t;-1===e?(i=r,t=""):(i=r.substring(0,e),t=r.substring(e+1));var n=this._children.get(i);return void 0===n?this._mainRule:n.match(t)},d.prototype.insert=function(e,t,n,i){if(""!==e){var o=e.indexOf("."),a,r;-1===o?(a=e,r=""):(a=e.substring(0,o),r=e.substring(o+1));var s=this._children.get(a);void 0===s&&(s=new d(this._mainRule.clone()),this._children.set(a,s)),s.insert(r,t,n,i)}else this._mainRule.acceptOverwrite(t,n,i)},d}();e.ThemeTrieElement=d,e.generateTokensCSSForColorMap=function(r){for(var e=[],t=1,n=r.length,i;t<n;t++)i=r[t],e[t]=".mtk"+t+" { color: "+i.toString()+"; }";return e.push(".mtki { font-style: italic; }"),e.push(".mtkb { font-weight: bold; }"),e.push(".mtku { text-decoration: underline; }"),e.join("\n")}}),define(s[203],n([1,0,11,26]),function(r,e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function o(){this._onDidChange=new t.Emitter,this.onDidChange=this._onDidChange.event,this._map=Object.create(null),this._colorMap=null}return o.prototype.fire=function(t){this._onDidChange.fire({changedLanguages:t,changedColorMap:!1})},o.prototype.register=function(o,e){var t=this;return this._map[o]=e,this.fire([o]),{dispose:function(){t._map[o]===e&&(delete t._map[o],t.fire([o]))}}},o.prototype.get=function(t){return this._map[t]||null},o.prototype.setColorMap=function(t){n.equals(t,this._colorMap)||(this._colorMap=t,this._onDidChange.fire({changedLanguages:Object.keys(this._map),changedColorMap:!0}))},o.prototype.getColorMap=function(){return this._colorMap},o.prototype.getDefaultForeground=function(){return this._colorMap[1]},o.prototype.getDefaultBackground=function(){return this._colorMap[2]},o}();e.TokenizationRegistryImpl=i}),define(s[17],n([1,0,533,203]),function(a,e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),!function(t){t[t.Null=0]="Null",t[t.PlainText=1]="PlainText"}(e.LanguageId||(e.LanguageId={}));var i=function(){return function(o,e){this.language=o,this.id=e}}();e.LanguageIdentifier=i,!function(t){t[t.NotSet=-1]="NotSet",t[t.None=0]="None",t[t.Italic=1]="Italic",t[t.Bold=2]="Bold",t[t.Underline=4]="Underline"}(e.FontStyle||(e.FontStyle={})),!function(t){t[t.None=0]="None",t[t.DefaultForeground=1]="DefaultForeground",t[t.DefaultBackground=2]="DefaultBackground"}(e.ColorId||(e.ColorId={})),!function(t){t[t.Other=0]="Other",t[t.Comment=1]="Comment",t[t.String=2]="String",t[t.RegEx=4]="RegEx"}(e.StandardTokenType||(e.StandardTokenType={})),!function(t){t[t.LANGUAGEID_MASK=255]="LANGUAGEID_MASK",t[t.TOKEN_TYPE_MASK=1792]="TOKEN_TYPE_MASK",t[t.FONT_STYLE_MASK=14336]="FONT_STYLE_MASK",t[t.FOREGROUND_MASK=8372224]="FOREGROUND_MASK",t[t.BACKGROUND_MASK=4286578688]="BACKGROUND_MASK",t[t.LANGUAGEID_OFFSET=0]="LANGUAGEID_OFFSET",t[t.TOKEN_TYPE_OFFSET=8]="TOKEN_TYPE_OFFSET",t[t.FONT_STYLE_OFFSET=11]="FONT_STYLE_OFFSET",t[t.FOREGROUND_OFFSET=14]="FOREGROUND_OFFSET",t[t.BACKGROUND_OFFSET=23]="BACKGROUND_OFFSET"}(e.MetadataConsts||(e.MetadataConsts={})),!function(t){t[t.Text=0]="Text",t[t.Read=1]="Read",t[t.Write=2]="Write"}(e.DocumentHighlightKind||(e.DocumentHighlightKind={}));var o;!function(t){t[t.File=0]="File",t[t.Module=1]="Module",t[t.Namespace=2]="Namespace",t[t.Package=3]="Package",t[t.Class=4]="Class",t[t.Method=5]="Method",t[t.Property=6]="Property",t[t.Field=7]="Field",t[t.Constructor=8]="Constructor",t[t.Enum=9]="Enum",t[t.Interface=10]="Interface",t[t.Function=11]="Function",t[t.Variable=12]="Variable",t[t.Constant=13]="Constant",t[t.String=14]="String",t[t.Number=15]="Number",t[t.Boolean=16]="Boolean",t[t.Array=17]="Array",t[t.Object=18]="Object",t[t.Key=19]="Key",t[t.Null=20]="Null",t[t.EnumMember=21]="EnumMember",t[t.Struct=22]="Struct",t[t.Event=23]="Event",t[t.Operator=24]="Operator",t[t.TypeParameter=25]="TypeParameter"}(o=e.SymbolKind||(e.SymbolKind={})),e.symbolKindToCssClass=function(){var n=Object.create(null);return n[o.File]="file",n[o.Module]="module",n[o.Namespace]="namespace",n[o.Package]="package",n[o.Class]="class",n[o.Method]="method",n[o.Property]="property",n[o.Field]="field",n[o.Constructor]="constructor",n[o.Enum]="enum",n[o.Interface]="interface",n[o.Function]="function",n[o.Variable]="variable",n[o.Constant]="constant",n[o.String]="string",n[o.Number]="number",n[o.Boolean]="boolean",n[o.Array]="array",n[o.Object]="object",n[o.Key]="key",n[o.Null]="null",n[o.EnumMember]="enum-member",n[o.Struct]="struct",n[o.Event]="event",n[o.Operator]="operator",n[o.TypeParameter]="type-parameter",function(e){return n[e]||"property"}}(),e.ReferenceProviderRegistry=new t.default,e.RenameProviderRegistry=new t.default,e.SuggestRegistry=new t.default,e.SignatureHelpProviderRegistry=new t.default,e.HoverProviderRegistry=new t.default,e.DocumentSymbolProviderRegistry=new t.default,e.DocumentHighlightProviderRegistry=new t.default,e.DefinitionProviderRegistry=new t.default,e.ImplementationProviderRegistry=new t.default,e.TypeDefinitionProviderRegistry=new t.default,e.CodeLensProviderRegistry=new t.default,e.CodeActionProviderRegistry=new t.default,e.DocumentFormattingEditProviderRegistry=new t.default,e.DocumentRangeFormattingEditProviderRegistry=new t.default,e.OnTypeFormattingEditProviderRegistry=new t.default,e.LinkProviderRegistry=new t.default,e.ColorProviderRegistry=new t.default,e.TokenizationRegistry=new n.TokenizationRegistryImpl}),define(s[68],n([1,0,17,97]),function(r,e,t,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.prototype.clone=function(){return this},t.prototype.equals=function(t){return this===t},t}();e.NULL_STATE=new n,e.NULL_MODE_ID="vs.editor.nullMode",e.NULL_LANGUAGE_IDENTIFIER=new t.LanguageIdentifier(e.NULL_MODE_ID,0),e.nullTokenize=function(i,e,t,n){return new a.TokenizationResult([new a.Token(n,"",i)],t)},e.nullTokenize2=function(i,e,t,n){var o=new Uint32Array(2);return o[0]=n,o[1]=(16384|i<<0|16777216)>>>0,new a.TokenizationResult2(o,t)}}),define(s[91],n([1,0,17]),function(n,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createScopedLineTokens=function(i,e){for(var t=i.getTokenCount(),n=i.findTokenIndexAtOffset(e),o=i.getLanguageId(n),r=n;r+1<t&&i.getLanguageId(r+1)===o;)r++;for(var s=n;0<s&&i.getLanguageId(s-1)===o;)s--;return new d(i,o,s,r+1,i.getTokenStartOffset(s),i.getTokenEndOffset(r))};var d=function(){function t(a,s,t,n,i,o){this._actual=a,this.languageId=s,this._firstTokenIndex=t,this._lastTokenIndex=n,this.firstCharOffset=i,this._lastCharOffset=o}return t.prototype.getLineContent=function(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)},t.prototype.getTokenCount=function(){return this._lastTokenIndex-this._firstTokenIndex},t.prototype.findTokenIndexAtOffset=function(t){return this._actual.findTokenIndexAtOffset(t+this.firstCharOffset)-this._firstTokenIndex},t.prototype.getTokenStartOffset=function(t){return this._actual.getTokenStartOffset(t+this._firstTokenIndex)-this.firstCharOffset},t.prototype.getStandardTokenType=function(t){return this._actual.getStandardTokenType(t+this._firstTokenIndex)},t}();e.ScopedLineTokens=d;var t;!function(t){t[t.value=7]="value"}(t||(t={})),e.ignoreBracketsInToken=function(t){return 0!=(7&t)}}),define(s[207],n([1,0,91,98,60]),function(a,e,d,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function t(o,r,t){t=t||{},this._richEditBrackets=o,this._complexAutoClosePairs=r.filter(function(t){return 1<t.open.length&&!!t.close}).map(function(t){return new i.StandardAutoClosingPairConditional(t)}),t.docComment&&this._complexAutoClosePairs.push(new i.StandardAutoClosingPairConditional({open:t.docComment.open,close:t.docComment.close}))}return t.prototype.getElectricCharacters=function(){var d=[];if(this._richEditBrackets)for(var e=0,t=this._richEditBrackets.brackets.length;e<t;e++){var n=this._richEditBrackets.brackets[e],i=n.close.charAt(n.close.length-1);d.push(i)}for(var o=0,r=this._complexAutoClosePairs,s;o<r.length;o++)s=r[o],d.push(s.open.charAt(s.open.length-1));return d=d.filter(function(o,e,t){return t.indexOf(o)===e})},t.prototype.onElectricCharacter=function(o,e,t){return this._onElectricAutoClose(o,e,t)||this._onElectricAutoIndent(o,e,t)},t.prototype._onElectricAutoIndent=function(i,e,t){if(!this._richEditBrackets||0===this._richEditBrackets.brackets.length)return null;var o=e.findTokenIndexAtOffset(t-1);if(d.ignoreBracketsInToken(e.getStandardTokenType(o)))return null;var r=this._richEditBrackets.reversedRegex,s=e.getLineContent().substring(0,t-1)+i,a=n.BracketsUtils.findPrevBracketInToken(r,1,s,0,s.length);if(!a)return null;var p=s.substring(a.startColumn-1,a.endColumn-1);if(p=p.toLowerCase(),this._richEditBrackets.textIsOpenBracket[p])return null;var g=s.substring(0,a.startColumn-1);return /^\s*$/.test(g)?{matchOpenBracket:p}:null},t.prototype._onElectricAutoClose=function(d,e,t){if(!this._complexAutoClosePairs.length)return null;for(var n=e.getLineContent(),i=0,o=this._complexAutoClosePairs.length,r;i<o;i++)if(r=this._complexAutoClosePairs[i],d===r.open.charAt(r.open.length-1)&&n.substring(n.length-r.open.length+1)+d===r.open){var s=e.findTokenIndexAtOffset(t-1),a=e.getStandardTokenType(s);if(r.isOK(a)&&!(0<=n.indexOf(r.close,t-1)))return{appendText:r.close}}return null},t}();e.BracketElectricCharacterSupport=t}),define(s[43],n([1,0,543,207,550,545,98,11,10,9,95,91,2,60]),function(m,e,_,n,i,y,r,t,o,v,s,l,a,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var d=function(){function d(e,t,o){var i=null;t&&(i=t._conf),this._conf=d._mergeConf(i,o),this._conf.brackets&&(this.brackets=new r.RichEditBrackets(e,this._conf.brackets)),this.onEnter=d._handleOnEnter(this._conf),this.comments=d._handleComments(this._conf),this.characterPair=new _.CharacterPairSupport(this._conf),this.electricCharacter=new n.BracketElectricCharacterSupport(this.brackets,this.characterPair.getAutoClosingPairs(),this._conf.__electricCharacterSupport),this.wordDefinition=this._conf.wordPattern||s.DEFAULT_WORD_REGEXP,this.indentationRules=this._conf.indentationRules,this._conf.indentationRules&&(this.indentRulesSupport=new y.IndentRulesSupport(this._conf.indentationRules))}return d._mergeConf=function(o,e){return{comments:o?e.comments||o.comments:e.comments,brackets:o?e.brackets||o.brackets:e.brackets,wordPattern:o?e.wordPattern||o.wordPattern:e.wordPattern,indentationRules:o?e.indentationRules||o.indentationRules:e.indentationRules,onEnterRules:o?e.onEnterRules||o.onEnterRules:e.onEnterRules,autoClosingPairs:o?e.autoClosingPairs||o.autoClosingPairs:e.autoClosingPairs,surroundingPairs:o?e.surroundingPairs||o.surroundingPairs:e.surroundingPairs,__electricCharacterSupport:o?e.__electricCharacterSupport||o.__electricCharacterSupport:e.__electricCharacterSupport}},d._handleOnEnter=function(o){var e={},t=!0;return o.brackets&&(t=!1,e.brackets=o.brackets),o.indentationRules&&(t=!1,e.indentationRules=o.indentationRules),o.onEnterRules&&(t=!1,e.regExpRules=o.onEnterRules),t?null:new i.OnEnterSupport(e)},d._handleComments=function(a){var e=a.comments;if(!e)return null;var s={};if(e.lineComment&&(s.lineCommentToken=e.lineComment),e.blockComment){var n=e.blockComment,i=n[0],o=n[1];s.blockCommentStartToken=i,s.blockCommentEndToken=o}return s},d}();e.RichEditSupport=d;var p=function(){function n(){this._onDidChange=new t.Emitter,this.onDidChange=this._onDidChange.event,this._entries=[]}return n.prototype.register=function(r,e){var t=this,n=this._getRichEditSupport(r.id),i=new d(r,n,e);return this._entries[r.id]=i,this._onDidChange.fire(void 0),{dispose:function(){t._entries[r.id]===i&&(t._entries[r.id]=n,t._onDidChange.fire(void 0))}}},n.prototype._getRichEditSupport=function(t){return this._entries[t]||null},n.prototype.getIndentationRules=function(o){var e=this._entries[o];return e?e.indentationRules||null:null},n.prototype._getElectricCharacterSupport=function(o){var e=this._getRichEditSupport(o);return e?e.electricCharacter||null:null},n.prototype.getElectricCharacters=function(o){var e=this._getElectricCharacterSupport(o);return e?e.getElectricCharacters():[]},n.prototype.onElectricCharacter=function(r,e,t){var n=l.createScopedLineTokens(e,t-1),i=this._getElectricCharacterSupport(n.languageId);return i?i.onElectricCharacter(r,n,t-n.firstCharOffset):null},n.prototype.getComments=function(o){var e=this._getRichEditSupport(o);return e?e.comments||null:null},n.prototype._getCharacterPairSupport=function(o){var e=this._getRichEditSupport(o);return e?e.characterPair||null:null},n.prototype.getAutoClosingPairs=function(o){var e=this._getCharacterPairSupport(o);return e?e.getAutoClosingPairs():[]},n.prototype.getSurroundingPairs=function(o){var e=this._getCharacterPairSupport(o);return e?e.getSurroundingPairs():[]},n.prototype.shouldAutoClosePair=function(r,e,t){var n=l.createScopedLineTokens(e,t-1),i=this._getCharacterPairSupport(n.languageId);return!!i&&i.shouldAutoClosePair(r,n,t-n.firstCharOffset)},n.prototype.getWordDefinition=function(o){var e=this._getRichEditSupport(o);return e?s.ensureValidWordDefinition(e.wordDefinition||null):s.ensureValidWordDefinition(null)},n.prototype.getIndentRulesSupport=function(o){var e=this._getRichEditSupport(o);return e?e.indentRulesSupport||null:null},n.prototype.getPrecedingValidLine=function(a,e,t){var n=a.getLanguageIdAtPosition(e,0);if(1<e){var i=e-1,o=-1;for(i=e-1;1<=i;i--){if(a.getLanguageIdAtPosition(i,0)!==n)return o;var r=a.getLineContent(i);if(!t.shouldIgnore(r)&&!/^\s+$/.test(r)&&""!==r)return i;o=i}}return-1},n.prototype.getInheritIndentForLine=function(l,e,t){void 0===t&&(t=!0);var n=this.getIndentRulesSupport(l.getLanguageIdentifier().id);if(!n)return null;if(1>=e)return{indentation:"",action:null};var p=this.getPrecedingValidLine(l,e,n);if(0>p)return null;if(1>p)return{indentation:"",action:null};var g=l.getLineContent(p);if(n.shouldIncrease(g)||n.shouldIndentNextLine(g))return{indentation:v.getLeadingWhitespace(g),action:S.IndentAction.Indent,line:p};if(n.shouldDecrease(g))return{indentation:v.getLeadingWhitespace(g),action:null,line:p};if(1===p)return{indentation:v.getLeadingWhitespace(l.getLineContent(p)),action:null,line:p};var r=p-1,s=n.getIndentMetadata(l.getLineContent(r));if(!(3&s)&&4&s){for(var a=0,u=r-1;0<u;u--)if(!n.shouldIndentNextLine(l.getLineContent(u))){a=u;break}return{indentation:v.getLeadingWhitespace(l.getLineContent(a+1)),action:null,line:a+1}}if(t)return{indentation:v.getLeadingWhitespace(l.getLineContent(p)),action:null,line:p};for(u=p;0<u;u--){var m=l.getLineContent(u);if(n.shouldIncrease(m))return{indentation:v.getLeadingWhitespace(m),action:S.IndentAction.Indent,line:u};if(n.shouldIndentNextLine(m)){for(var a=0,d=u-1;0<d;d--)if(!n.shouldIndentNextLine(l.getLineContent(u))){a=d;break}return{indentation:v.getLeadingWhitespace(l.getLineContent(a+1)),action:null,line:a+1}}if(n.shouldDecrease(m))return{indentation:v.getLeadingWhitespace(m),action:null,line:u}}return{indentation:v.getLeadingWhitespace(l.getLineContent(1)),action:null,line:1}},n.prototype.getGoodIndentForLine=function(l,e,t,n){var i=this.getIndentRulesSupport(e);if(!i)return null;var p=this.getInheritIndentForLine(l,t),r=l.getLineContent(t);if(p){var s=p.line;if(void 0!==s){var a=this._getOnEnterSupport(e),c=null;try{c=a.onEnter("",l.getLineContent(s),"")}catch(t){o.onUnexpectedError(t)}if(c){var d=v.getLeadingWhitespace(l.getLineContent(s));return c.removeText&&(d=d.substring(0,d.length-c.removeText)),c.indentAction===S.IndentAction.Indent||c.indentAction===S.IndentAction.IndentOutdent?d=n.shiftIndent(d):c.indentAction===S.IndentAction.Outdent&&(d=n.unshiftIndent(d)),i.shouldDecrease(r)&&(d=n.unshiftIndent(d)),c.appendText&&(d+=c.appendText),v.getLeadingWhitespace(d)}}return i.shouldDecrease(r)?p.action===S.IndentAction.Indent?p.indentation:n.unshiftIndent(p.indentation):p.action===S.IndentAction.Indent?n.shiftIndent(p.indentation):p.indentation}return null},n.prototype.getIndentForEnter=function(d,e,t,n){d.forceTokenization(e.startLineNumber);var p=d.getLineTokens(e.startLineNumber),s=l.createScopedLineTokens(p,e.startColumn-1),a=s.getLineContent(),u=!1,E,o;0<s.firstCharOffset&&p.getLanguageId(0)!==s.languageId?(u=!0,E=a.substr(0,e.startColumn-1-s.firstCharOffset)):E=p.getLineContent().substring(0,e.startColumn-1),o=e.isEmpty()?a.substr(e.startColumn-1-s.firstCharOffset):this.getScopedLineTokens(d,e.endLineNumber,e.endColumn).getLineContent().substr(e.endColumn-1-s.firstCharOffset);var r=this.getIndentRulesSupport(s.languageId);if(!r)return null;var L=E,f=v.getLeadingWhitespace(E);if(!n&&!u){var g=this.getInheritIndentForLine(d,e.startLineNumber);r.shouldDecrease(E)&&g&&(f=g.indentation,g.action!==S.IndentAction.Indent&&(f=t.unshiftIndent(f))),L=f+v.ltrim(v.ltrim(E," "),"\t")}var m=v.getLeadingWhitespace(p.getLineContent()),_=this.getInheritIndentForLine({getLineTokens:function(e){return d.getLineTokens(e)},getLanguageIdentifier:function(){return d.getLanguageIdentifier()},getLanguageIdAtPosition:function(e,t){return d.getLanguageIdAtPosition(e,t)},getLineContent:function(t){return t===e.startLineNumber?L:d.getLineContent(t)}},e.startLineNumber+1);if(!_){var w=u?m:f;return{beforeEnter:w,afterEnter:w}}var x=u?m:_.indentation;return _.action===S.IndentAction.Indent&&(x=t.shiftIndent(x)),r.shouldDecrease(o)&&(x=t.unshiftIndent(x)),{beforeEnter:u?m:f,afterEnter:x}},n.prototype.getIndentActionForType=function(d,e,t,n){var i=this.getScopedLineTokens(d,e.startLineNumber,e.startColumn),o=this.getIndentRulesSupport(i.languageId);if(!o)return null;var p=i.getLineContent(),a=p.substr(0,e.startColumn-1-i.firstCharOffset),u;if(u=e.isEmpty()?p.substr(e.startColumn-1-i.firstCharOffset):this.getScopedLineTokens(d,e.endLineNumber,e.endColumn).getLineContent().substr(e.endColumn-1-i.firstCharOffset),!o.shouldDecrease(a+u)&&o.shouldDecrease(a+t+u)){var s=this.getInheritIndentForLine(d,e.startLineNumber,!1);if(!s)return null;var g=s.indentation;return s.action!==S.IndentAction.Indent&&(g=n.unshiftIndent(g)),g}return null},n.prototype.getIndentMetadata=function(o,e){var t=this.getIndentRulesSupport(o.getLanguageIdentifier().id);return t?1>e||e>o.getLineCount()?null:t.getIndentMetadata(o.getLineContent(e)):null},n.prototype._getOnEnterSupport=function(o){var e=this._getRichEditSupport(o);return e?e.onEnter||null:null},n.prototype.getRawEnterActionAtPosition=function(o,e,t){var n=this.getEnterAction(o,new a.Range(e,t,e,t));return n?n.enterAction:null},n.prototype.getEnterAction=function(p,e){var t=this.getIndentationAtPosition(p,e.startLineNumber,e.startColumn),u=this.getScopedLineTokens(p,e.startLineNumber,e.startColumn),i=this._getOnEnterSupport(u.languageId);if(!i)return null;var g=u.getLineContent(),s=g.substr(0,e.startColumn-1-u.firstCharOffset),a;a=e.isEmpty()?g.substr(e.startColumn-1-u.firstCharOffset):this.getScopedLineTokens(p,e.endLineNumber,e.endColumn).getLineContent().substr(e.endColumn-1-u.firstCharOffset);var r=e.startLineNumber,l="";if(1<r&&0===u.firstCharOffset){var c=this.getScopedLineTokens(p,r-1);c.languageId===u.languageId&&(l=c.getLineContent())}var d=null;try{d=i.onEnter(l,s,a)}catch(t){o.onUnexpectedError(t)}return d?(d.appendText||(d.indentAction===S.IndentAction.Indent||d.indentAction===S.IndentAction.IndentOutdent?d.appendText="\t":d.appendText=""),d.removeText&&(t=t.substring(0,t.length-d.removeText)),{enterAction:d,indentation:t}):null},n.prototype.getIndentationAtPosition=function(r,e,t){var n=r.getLineContent(e),i=v.getLeadingWhitespace(n);return i.length>t-1&&(i=i.substring(0,t-1)),i},n.prototype.getScopedLineTokens=function(r,e,t){r.forceTokenization(e);var n=r.getLineTokens(e),i=isNaN(t)?r.getLineMaxColumn(e)-1:t-1;return l.createScopedLineTokens(n,i)},n.prototype.getBracketsSupport=function(o){var e=this._getRichEditSupport(o);return e?e.brackets||null:null},n}();e.LanguageConfigurationRegistryImpl=p,e.LanguageConfigurationRegistry=new p}),define(s[122],n([1,0,9,17,68,130]),function(d,e,u,n,i,o){"use strict";function r(o){var e=n.TokenizationRegistry.get(o);return e||{getInitialState:function(){return i.NULL_STATE},tokenize:void 0,tokenize2:function(o,e,t){return i.nullTokenize2(0,o,e,t)}}}function s(n,e){for(var t="<div class=\"monaco-tokenized-source\">",i=n.split(/\r\n|\r|\n/),r=e.getInitialState(),s=0,m=i.length,_;s<m;s++){_=i[s],0<s&&(t+="<br/>");for(var l=e.tokenize2(_,r,0),c=new o.LineTokens(l.tokens,_).inflate(),d=0,h=0,p=c.length,f;h<p;h++)f=c[h],t+="<span class=\""+f.getType()+"\">"+u.escape(_.substring(d,f.endIndex))+"</span>",d=f.endIndex;r=l.endState}return t+="</div>"}Object.defineProperty(e,"__esModule",{value:!0}),e.tokenizeToString=function(o,e){return s(o,r(e))},e.tokenizeLineToHTML=function(m,e,t,n,i,o){for(var r="<div>",s=n,a=0,u=0,l=e.length;u<l;u++){var c=e[u],d=c.endIndex;if(!(c.endIndex<=n)){for(var h="",p;s<d&&s<i;s++)switch(p=m.charCodeAt(s),p){case 9:var _=o-(s+a)%o;for(a+=_-1;0<_;)h+="&nbsp;",_--;break;case 60:h+="&lt;";break;case 62:h+="&gt;";break;case 38:h+="&amp;";break;case 0:h+="&#00;";break;case 65279:case 8232:h+="\uFFFD";break;case 13:h+="&#8203";break;default:h+=k(p);}if(r+="<span style=\""+c.getInlineStyle(t)+"\">"+h+"</span>",c.endIndex>i||s>=i)break}}return r+="</div>"}}),define(s[210],n([1,0,11]),function(r,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function o(){this._transientWatchers={},this._codeEditors=Object.create(null),this._diffEditors=Object.create(null),this._onCodeEditorAdd=new t.Emitter,this._onCodeEditorRemove=new t.Emitter,this._onDiffEditorAdd=new t.Emitter,this._onDiffEditorRemove=new t.Emitter}return o.prototype.addCodeEditor=function(t){this._codeEditors[t.getId()]=t,this._onCodeEditorAdd.fire(t)},Object.defineProperty(o.prototype,"onCodeEditorAdd",{get:function(){return this._onCodeEditorAdd.event},enumerable:!0,configurable:!0}),o.prototype.removeCodeEditor=function(t){delete this._codeEditors[t.getId()]&&this._onCodeEditorRemove.fire(t)},Object.defineProperty(o.prototype,"onCodeEditorRemove",{get:function(){return this._onCodeEditorRemove.event},enumerable:!0,configurable:!0}),o.prototype.getCodeEditor=function(t){return this._codeEditors[t]||null},o.prototype.listCodeEditors=function(){var o=this;return Object.keys(this._codeEditors).map(function(e){return o._codeEditors[e]})},o.prototype.addDiffEditor=function(t){this._diffEditors[t.getId()]=t,this._onDiffEditorAdd.fire(t)},Object.defineProperty(o.prototype,"onDiffEditorAdd",{get:function(){return this._onDiffEditorAdd.event},enumerable:!0,configurable:!0}),o.prototype.removeDiffEditor=function(t){delete this._diffEditors[t.getId()]&&this._onDiffEditorRemove.fire(t)},Object.defineProperty(o.prototype,"onDiffEditorRemove",{get:function(){return this._onDiffEditorRemove.event},enumerable:!0,configurable:!0}),o.prototype.getDiffEditor=function(t){return this._diffEditors[t]||null},o.prototype.listDiffEditors=function(){var o=this;return Object.keys(this._diffEditors).map(function(e){return o._diffEditors[e]})},o.prototype.getFocusedCodeEditor=function(){for(var o=null,e=this.listCodeEditors(),t=0,n;t<e.length;t++){if(n=e[t],n.isFocused())return n;n.hasWidgetFocus()&&(o=n)}return o},o.prototype.setTransientModelProperty=function(o,e,t){var n=o.uri.toString(),r;this._transientWatchers.hasOwnProperty(n)?r=this._transientWatchers[n]:(r=new a(n,o,this),this._transientWatchers[n]=r),r.set(e,t)},o.prototype.getTransientModelProperty=function(o,e){var t=o.uri.toString();if(this._transientWatchers.hasOwnProperty(t))return this._transientWatchers[t].get(e)},o.prototype._removeWatcher=function(t){delete this._transientWatchers[t.uri]},o}();e.AbstractCodeEditorService=n;var a=function(){function t(o,r,t){var n=this;this.uri=o,this._values={},r.onWillDispose(function(){return t._removeWatcher(n)})}return t.prototype.set=function(o,e){this._values[o]=e},t.prototype.get=function(t){return this._values[t]},t}();e.ModelTransientSettingWatcher=a}),define(s[152],n([1,0,11,40,12,2,22,7,123,97,24]),function(g,e,t,n,i,o,r,s,a,u,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var c;!function(t){t[t.Ignore=0]="Ignore",t[t.Info=1]="Info",t[t.Warning=2]="Warning",t[t.Error=3]="Error"}(c=e.Severity||(e.Severity={}));var m=function(){function t(){}return t.chord=function(o,e){return n.KeyChord(o,e)},t.CtrlCmd=2048,t.Shift=1024,t.Alt=512,t.WinCtrl=256,t}();e.KeyMod=m;var _;!function(t){t[t.Unknown=0]="Unknown",t[t.Backspace=1]="Backspace",t[t.Tab=2]="Tab",t[t.Enter=3]="Enter",t[t.Shift=4]="Shift",t[t.Ctrl=5]="Ctrl",t[t.Alt=6]="Alt",t[t.PauseBreak=7]="PauseBreak",t[t.CapsLock=8]="CapsLock",t[t.Escape=9]="Escape",t[t.Space=10]="Space",t[t.PageUp=11]="PageUp",t[t.PageDown=12]="PageDown",t[t.End=13]="End",t[t.Home=14]="Home",t[t.LeftArrow=15]="LeftArrow",t[t.UpArrow=16]="UpArrow",t[t.RightArrow=17]="RightArrow",t[t.DownArrow=18]="DownArrow",t[t.Insert=19]="Insert",t[t.Delete=20]="Delete",t[t.KEY_0=21]="KEY_0",t[t.KEY_1=22]="KEY_1",t[t.KEY_2=23]="KEY_2",t[t.KEY_3=24]="KEY_3",t[t.KEY_4=25]="KEY_4",t[t.KEY_5=26]="KEY_5",t[t.KEY_6=27]="KEY_6",t[t.KEY_7=28]="KEY_7",t[t.KEY_8=29]="KEY_8",t[t.KEY_9=30]="KEY_9",t[t.KEY_A=31]="KEY_A",t[t.KEY_B=32]="KEY_B",t[t.KEY_C=33]="KEY_C",t[t.KEY_D=34]="KEY_D",t[t.KEY_E=35]="KEY_E",t[t.KEY_F=36]="KEY_F",t[t.KEY_G=37]="KEY_G",t[t.KEY_H=38]="KEY_H",t[t.KEY_I=39]="KEY_I",t[t.KEY_J=40]="KEY_J",t[t.KEY_K=41]="KEY_K",t[t.KEY_L=42]="KEY_L",t[t.KEY_M=43]="KEY_M",t[t.KEY_N=44]="KEY_N",t[t.KEY_O=45]="KEY_O",t[t.KEY_P=46]="KEY_P",t[t.KEY_Q=47]="KEY_Q",t[t.KEY_R=48]="KEY_R",t[t.KEY_S=49]="KEY_S",t[t.KEY_T=50]="KEY_T",t[t.KEY_U=51]="KEY_U",t[t.KEY_V=52]="KEY_V",t[t.KEY_W=53]="KEY_W",t[t.KEY_X=54]="KEY_X",t[t.KEY_Y=55]="KEY_Y",t[t.KEY_Z=56]="KEY_Z",t[t.Meta=57]="Meta",t[t.ContextMenu=58]="ContextMenu",t[t.F1=59]="F1",t[t.F2=60]="F2",t[t.F3=61]="F3",t[t.F4=62]="F4",t[t.F5=63]="F5",t[t.F6=64]="F6",t[t.F7=65]="F7",t[t.F8=66]="F8",t[t.F9=67]="F9",t[t.F10=68]="F10",t[t.F11=69]="F11",t[t.F12=70]="F12",t[t.F13=71]="F13",t[t.F14=72]="F14",t[t.F15=73]="F15",t[t.F16=74]="F16",t[t.F17=75]="F17",t[t.F18=76]="F18",t[t.F19=77]="F19",t[t.NumLock=78]="NumLock",t[t.ScrollLock=79]="ScrollLock",t[t.US_SEMICOLON=80]="US_SEMICOLON",t[t.US_EQUAL=81]="US_EQUAL",t[t.US_COMMA=82]="US_COMMA",t[t.US_MINUS=83]="US_MINUS",t[t.US_DOT=84]="US_DOT",t[t.US_SLASH=85]="US_SLASH",t[t.US_BACKTICK=86]="US_BACKTICK",t[t.US_OPEN_SQUARE_BRACKET=87]="US_OPEN_SQUARE_BRACKET",t[t.US_BACKSLASH=88]="US_BACKSLASH",t[t.US_CLOSE_SQUARE_BRACKET=89]="US_CLOSE_SQUARE_BRACKET",t[t.US_QUOTE=90]="US_QUOTE",t[t.OEM_8=91]="OEM_8",t[t.OEM_102=92]="OEM_102",t[t.NUMPAD_0=93]="NUMPAD_0",t[t.NUMPAD_1=94]="NUMPAD_1",t[t.NUMPAD_2=95]="NUMPAD_2",t[t.NUMPAD_3=96]="NUMPAD_3",t[t.NUMPAD_4=97]="NUMPAD_4",t[t.NUMPAD_5=98]="NUMPAD_5",t[t.NUMPAD_6=99]="NUMPAD_6",t[t.NUMPAD_7=100]="NUMPAD_7",t[t.NUMPAD_8=101]="NUMPAD_8",t[t.NUMPAD_9=102]="NUMPAD_9",t[t.NUMPAD_MULTIPLY=103]="NUMPAD_MULTIPLY",t[t.NUMPAD_ADD=104]="NUMPAD_ADD",t[t.NUMPAD_SEPARATOR=105]="NUMPAD_SEPARATOR",t[t.NUMPAD_SUBTRACT=106]="NUMPAD_SUBTRACT",t[t.NUMPAD_DECIMAL=107]="NUMPAD_DECIMAL",t[t.NUMPAD_DIVIDE=108]="NUMPAD_DIVIDE",t[t.KEY_IN_COMPOSITION=109]="KEY_IN_COMPOSITION",t[t.ABNT_C1=110]="ABNT_C1",t[t.ABNT_C2=111]="ABNT_C2",t[t.MAX_VALUE=112]="MAX_VALUE"}(_=e.KeyCode||(e.KeyCode={})),e.createMonacoBaseAPI=function(){return{editor:void 0,languages:void 0,CancellationTokenSource:a.CancellationTokenSource,Emitter:t.Emitter,KeyCode:_,KeyMod:m,Position:i.Position,Range:o.Range,Selection:r.Selection,SelectionDirection:r.SelectionDirection,Severity:c,Promise:s.TPromise,Uri:l.default,Token:u.Token}}}),define(s[111],n([1,0,17,11]),function(a,e,s,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function o(){var o=this;this._onDidChange=new t.Emitter,this.onDidChange=this._onDidChange.event,this._updateColorMap(),s.TokenizationRegistry.onDidChange(function(e){e.changedColorMap&&o._updateColorMap()})}return o.getInstance=function(){return this._INSTANCE||(this._INSTANCE=new o),this._INSTANCE},o.prototype._updateColorMap=function(){var o=s.TokenizationRegistry.getColorMap();if(!o)return this._colors=[null],void(this._backgroundIsLight=!0);this._colors=[null];for(var n=1;n<o.length;n++)this._colors[n]=o[n].toRGBA();var t=o[2].getLuminosity();this._backgroundIsLight=.5<=t,this._onDidChange.fire(void 0)},o.prototype.getColor=function(t){return(1>t||t>=this._colors.length)&&(t=2),this._colors[t]},o.prototype.backgroundIsLight=function(){return this._backgroundIsLight},o._INSTANCE=null,o}();e.MinimapTokensColorTracker=n,!function(t){t[t.START_CH_CODE=32]="START_CH_CODE",t[t.END_CH_CODE=126]="END_CH_CODE",t[t.CHAR_COUNT=95]="CHAR_COUNT",t[t.SAMPLED_CHAR_HEIGHT=16]="SAMPLED_CHAR_HEIGHT",t[t.SAMPLED_CHAR_WIDTH=10]="SAMPLED_CHAR_WIDTH",t[t.SAMPLED_HALF_CHAR_WIDTH=5]="SAMPLED_HALF_CHAR_WIDTH",t[t.x2_CHAR_HEIGHT=4]="x2_CHAR_HEIGHT",t[t.x2_CHAR_WIDTH=2]="x2_CHAR_WIDTH",t[t.x1_CHAR_HEIGHT=2]="x1_CHAR_HEIGHT",t[t.x1_CHAR_WIDTH=1]="x1_CHAR_WIDTH",t[t.RGBA_CHANNELS_CNT=4]="RGBA_CHANNELS_CNT"}(e.Constants||(e.Constants={}));var o=function(){function b(e,t){if(760!==e.length)throw new Error("Invalid x2CharData");if(190!==t.length)throw new Error("Invalid x1CharData");this.x2charData=e,this.x1charData=t,this.x2charDataLight=b.soften(e,.8),this.x1charDataLight=b.soften(t,50/60)}return b.soften=function(r,e){for(var t=new Uint8ClampedArray(r.length),n=0,i=r.length;n<i;n++)t[n]=r[n]*e;return t},b._getChIndex=function(t){return 0>(t-=32)&&(t+=95),t%95},b.prototype.x2RenderChar=function(e,t,n,i,o,r,s){if(t+2>e.width||n+4>e.height)console.warn("bad render request outside image data");else{var a=s?this.x2charDataLight:this.x2charData,u=b._getChIndex(i),l=4*e.width,c=r.r,d=r.g,h=r.b,p=o.r-c,f=o.g-d,g=o.b-h,m=e.data,v=2*(4*u),_=n*l+4*t,y=a[v]/255;m[_+0]=c+p*y,m[_+1]=d+f*y,m[_+2]=h+g*y,y=a[v+1]/255,m[_+4]=c+p*y,m[_+5]=d+f*y,m[_+6]=h+g*y,_+=l,y=a[v+2]/255,m[_+0]=c+p*y,m[_+1]=d+f*y,m[_+2]=h+g*y,y=a[v+3]/255,m[_+4]=c+p*y,m[_+5]=d+f*y,m[_+6]=h+g*y,_+=l,y=a[v+4]/255,m[_+0]=c+p*y,m[_+1]=d+f*y,m[_+2]=h+g*y,y=a[v+5]/255,m[_+4]=c+p*y,m[_+5]=d+f*y,m[_+6]=h+g*y,_+=l,y=a[v+6]/255,m[_+0]=c+p*y,m[_+1]=d+f*y,m[_+2]=h+g*y,y=a[v+7]/255,m[_+4]=c+p*y,m[_+5]=d+f*y,m[_+6]=h+g*y}},b.prototype.x1RenderChar=function(e,t,n,i,o,r,s){if(t+1>e.width||n+2>e.height)console.warn("bad render request outside image data");else{var a=s?this.x1charDataLight:this.x1charData,u=b._getChIndex(i),l=4*e.width,c=r.r,d=r.g,h=r.b,p=o.r-c,f=o.g-d,g=o.b-h,m=e.data,v=1*(2*u),_=n*l+4*t,y=a[v]/255;m[_+0]=c+p*y,m[_+1]=d+f*y,m[_+2]=h+g*y,_+=l,y=a[v+1]/255,m[_+0]=c+p*y,m[_+1]=d+f*y,m[_+2]=h+g*y}},b.prototype.x2BlockRenderChar=function(r,e,t,n,i){if(e+2>r.width||t+4>r.height)console.warn("bad render request outside image data");else{var o=4*r.width,s=i.r,a=i.g,u=i.b,l=s+.5*(n.r-s),c=a+.5*(n.g-a),d=u+.5*(n.b-u),g=r.data,p=t*o+4*e;g[p+0]=l,g[p+1]=c,g[p+2]=d,g[p+4]=l,g[p+5]=c,g[p+6]=d,g[(p+=o)+0]=l,g[p+1]=c,g[p+2]=d,g[p+4]=l,g[p+5]=c,g[p+6]=d,g[(p+=o)+0]=l,g[p+1]=c,g[p+2]=d,g[p+4]=l,g[p+5]=c,g[p+6]=d,g[(p+=o)+0]=l,g[p+1]=c,g[p+2]=d,g[p+4]=l,g[p+5]=c,g[p+6]=d}},b.prototype.x1BlockRenderChar=function(r,e,t,n,i){if(e+1>r.width||t+2>r.height)console.warn("bad render request outside image data");else{var o=4*r.width,s=i.r,a=i.g,u=i.b,l=s+.5*(n.r-s),c=a+.5*(n.g-a),d=u+.5*(n.b-u),g=r.data,p=t*o+4*e;g[p+0]=l,g[p+1]=c,g[p+2]=d,g[(p+=o)+0]=l,g[p+1]=c,g[p+2]=d}},b}();e.MinimapCharRenderer=o}),define(s[78],n([1,0,2]),function(a,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function t(o,i){this._viewLayout=o,this.viewportData=i,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;var t=this._viewLayout.getCurrentViewport();this.scrollTop=t.top,this.scrollLeft=t.left,this.viewportWidth=t.width,this.viewportHeight=t.height}return t.prototype.getScrolledTopFromAbsoluteTop=function(t){return t-this.scrollTop},t.prototype.getVerticalOffsetForLineNumber=function(t){return this._viewLayout.getVerticalOffsetForLineNumber(t)},t.prototype.lineIsVisible=function(t){return this.visibleRange.startLineNumber<=t&&t<=this.visibleRange.endLineNumber},t.prototype.getDecorationsInViewport=function(){return this.viewportData.getDecorationsInViewport()},t}();e.RestrictedRenderingContext=t;var n=function(r){function e(e,a,n){var i=r.call(this,e,a)||this;return i._viewLines=n,i}return Z(e,r),e.prototype.linesVisibleRangesForRange=function(o,e){return this._viewLines.linesVisibleRangesForRange(o,e)},e.prototype.visibleRangeForPosition=function(o){var e=this._viewLines.visibleRangesForRange2(new d.Range(o.lineNumber,o.column,o.lineNumber,o.column));return e?e[0]:null},e}(t);e.RenderingContext=n;var o=function(){return function(o,e){this.lineNumber=o,this.ranges=e}}();e.LineVisibleRanges=o;var i=function(){function t(o,n){this.left=w(o),this.width=w(n)}return t.prototype.toString=function(){return"["+this.left+","+this.width+"]"},t}();e.HorizontalRange=i}),define(s[214],n([1,0,78]),function(r,e,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var g=function(){function t(o,n){this.left=o,this.width=n}return t.prototype.toString=function(){return"["+this.left+","+this.width+"]"},t.compare=function(o,e){return o.left-e.left},t}(),t=function(){function t(){}return t._createRange=function(){return this._handyReadyRange||(this._handyReadyRange=document.createRange()),this._handyReadyRange},t._detachRange=function(o,e){o.selectNodeContents(e)},t._readClientRects=function(a,e,t,n,i){var o=this._createRange();try{return o.setStart(a,e),o.setEnd(t,n),o.getClientRects()}catch(t){return null}finally{this._detachRange(o,i)}},t._mergeAdjacentRanges=function(n){if(1===n.length)return[new p.HorizontalRange(n[0].left,n[0].width)];n.sort(g.compare);for(var e=[],t=0,o=n[0].left,i=n[0].width,r=1,a=n.length;r<a;r++){var s=n[r],l=s.left,c=s.width;o+i+.9>=l?i=G(i,l+c-o):(e[t++]=new p.HorizontalRange(o,i),o=l,i=c)}return e[t++]=new p.HorizontalRange(o,i),e},t._createHorizontalRangesFromClientRects=function(i,a){if(!i||0===i.length)return null;for(var t=[],n=0,o=i.length,r;n<o;n++)r=i[n],t[n]=new g(G(0,r.left-a),r.width);return this._mergeAdjacentRanges(t)},t.readHorizontalRanges=function(d,e,t,n,i,o,r){var s=d.children.length-1;if(0>s)return null;(e=q(s,G(0,e)))!==(n=q(s,G(0,n)))&&0<n&&0===i&&(n--,i=T);var a=d.children[e].firstChild,p=d.children[n].firstChild;if(!a||!p)return null;t=q(a.textContent.length,G(0,t)),i=q(p.textContent.length,G(0,i));var g=this._readClientRects(a,t,p,i,r);return this._createHorizontalRangesFromClientRects(g,o)},t}();e.RangeUtil=t}),define(s[215],n([1,0,111]),function(a,e,d){"use strict";function n(o){for(var e=new Uint8ClampedArray(o.length),t=0,n=o.length;t<n;t++)e[t]=o[t];return e}Object.defineProperty(e,"__esModule",{value:!0});var i=null;e.getOrCreateMinimapCharRenderer=function(){if(!i){var a=n(r);r=null;var e=n(l);l=null,i=new d.MinimapCharRenderer(e,a)}return i};var l=[0,0,0,0,0,0,0,0,39,14,39,14,14,5,29,10,96,96,29,29,0,0,0,0,49,113,195,214,227,166,135,42,40,29,194,38,75,148,197,187,145,0,160,61,75,143,2,183,138,58,163,6,177,223,197,227,38,13,11,4,0,0,0,0,10,54,52,8,62,4,71,122,73,2,19,40,10,50,155,36,79,70,145,121,7,5,0,0,2,1,36,12,204,166,16,5,0,0,0,0,1,0,154,34,0,0,0,0,96,83,0,0,0,0,0,0,0,0,46,34,0,82,2,56,53,3,146,0,146,119,152,132,152,131,145,119,170,42,15,42,15,42,172,194,131,132,0,139,80,28,227,143,159,135,15,118,11,126,171,144,20,124,88,106,217,196,0,106,189,92,168,43,5,130,164,133,130,115,183,65,134,120,141,141,170,196,2,106,31,32,105,2,145,130,116,114,132,135,138,140,138,113,147,137,81,183,129,94,0,0,21,16,4,3,46,34,0,0,45,34,1,0,160,49,0,0,43,143,203,23,1,76,0,0,38,28,131,96,38,28,0,0,168,31,29,191,98,0,118,139,5,113,45,13,37,6,97,115,161,179,204,105,223,224,83,52,111,100,184,186,120,132,212,145,180,139,174,161,212,182,104,162,131,0,131,0,104,161,219,120,110,116,110,116,219,120,207,154,163,40,147,22,207,154,202,159,161,47,145,23,111,0,139,154,144,30,144,135,139,187,110,110,168,161,150,145,110,110,185,162,43,16,43,16,185,162,73,129,0,110,0,110,191,87,149,149,236,48,195,91,146,149,146,0,146,0,146,0,187,173,200,201,222,215,172,147,95,95,193,97,224,129,159,206,97,192,155,139,153,115,153,115,156,140,189,158,123,136,190,64,111,0,155,139,153,115,153,114,156,241,197,148,150,152,170,116,110,157,156,128,169,14,13,159,158,149,212,189,43,16,43,16,43,16,148,110,148,110,147,109,182,151,133,121,106,118,114,103,89,66,94,94,211,188,205,207,139,168,151,152,87,76,101,79,151,152,130,156,125,116,47,29,43,16,169,228,11,103,120,6,230,176,55,49,55,6,55,6,193,102,92,0,71,0,13,30,0,147,63,43,12,43,12,43,142,152,71,53,61,61,0,0,0,0,0,0,0,0,0,0,158,146,25,2,0,0,0,0,0,0,0,0,107,130,170,194,176,188,109,0,203,159,113,111,202,158,0,0,135,135,114,0,136,135,0,109,187,190,148,126,177,187,0,0,149,130,218,105,169,135,37,113,146,113,49,13,49,13,0,0,178,195,147,114,255,255,109,0,193,149,110,109,109,109,12,15,125,41,33,41,144,188,1,6,75,53,10,53,210,161,110,0,152,148,210,60,110,156,213,5,63,5,63,5,45,111,0,0,232,172,190,168,190,169,0,0,190,144,109,109,109,109,0,0,168,140,148,111,168,140,0,0,200,151,113,110,255,158,0,0,184,188,147,139,186,255,0,0,122,130,111,0,109,0,0,0,132,69,109,93,110,136,51,5,205,103,61,6,47,106,0,0,110,109,110,122,155,179,0,0,132,120,113,114,84,63,0,0,124,108,202,189,160,174,0,0,144,142,79,57,159,146,0,0,138,138,119,117,255,69,0,0,97,198,47,38,208,84,23,112,41,14,157,7,121,192,35,11,35,11,35,11,160,61,129,9,40,19,20,139,236,44,0,0,15,3,97,93,0,0],r=[0,0,23,12,53,0,130,127,58,149,67,77,72,198,13,0,25,51,25,49,94,2,8,64,0,24,0,21,0,9,19,27,126,126,51,80,72,105,87,98,73,93,106,85,111,123,87,30,116,126,123,110,4,16,9,28,21,53,8,62,23,52,73,21,132,183,78,142,168,175,70,70,128,128,123,110,125,43,100,139,125,119,78,78,54,77,139,139,33,87,201,117,162,149,130,130,138,60,130,172,149,127,95,98,95,25,118,135,110,85,147,175,105,110,121,30,101,113,34,68,20,26,34,68,56,0,0,44,3,0,27,175,80,133,31,66,85,147,32,150,90,25,45,230,77,101,36,83,22,84,71,118,44,44,52,172,38,101,35,130,40,197,43,197,29,26,23,103,67,44,25,129,29,85,27,177,33,97,32,145,33,77,38,96,20,55,36,95,2,22]}),define(s[216],n([1,0]),function(o,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function t(o,r,t,n){this.configuration=o,this.theme=r,this.model=t,this.viewLayout=t.viewLayout,this.privateViewEventBus=n}return t.prototype.addEventHandler=function(t){this.privateViewEventBus.addEventHandler(t)},t.prototype.removeEventHandler=function(t){this.privateViewEventBus.removeEventHandler(t)},t}();e.ViewContext=t}),define(s[217],n([1,0]),function(o,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function t(t){this._eventHandlerGateKeeper=t,this._eventHandlers=[],this._eventQueue=null,this._isConsumingQueue=!1}return t.prototype.addEventHandler=function(o){for(var e=0,t=this._eventHandlers.length;e<t;e++)this._eventHandlers[e]===o&&console.warn("Detected duplicate listener in ViewEventDispatcher",o);this._eventHandlers.push(o)},t.prototype.removeEventHandler=function(o){for(var e=0;e<this._eventHandlers.length;e++)if(this._eventHandlers[e]===o){this._eventHandlers.splice(e,1);break}},t.prototype.emit=function(t){this._eventQueue?this._eventQueue.push(t):this._eventQueue=[t],this._isConsumingQueue||this.consumeQueue()},t.prototype.emitMany=function(t){this._eventQueue=this._eventQueue?this._eventQueue.concat(t):t,this._isConsumingQueue||this.consumeQueue()},t.prototype.consumeQueue=function(){var t=this;this._eventHandlerGateKeeper(function(){try{t._isConsumingQueue=!0,t._doConsumeQueue()}finally{t._isConsumingQueue=!1}})},t.prototype._doConsumeQueue=function(){for(;this._eventQueue;){var o=this._eventQueue;this._eventQueue=null;for(var e=this._eventHandlers.slice(0),t=0,n=e.length;t<n;t++)e[t].handleEvents(o)}},t}();e.ViewEventDispatcher=t}),define(s[57],n([1,0,10,3]),function(f,e,t,n){"use strict";function S(o,e){try{o(e)}catch(o){t.onUnexpectedError(o)}}Object.defineProperty(e,"__esModule",{value:!0}),!function(t){t[t.ViewConfigurationChanged=1]="ViewConfigurationChanged",t[t.ViewCursorStateChanged=2]="ViewCursorStateChanged",t[t.ViewDecorationsChanged=3]="ViewDecorationsChanged",t[t.ViewFlushed=4]="ViewFlushed",t[t.ViewFocusChanged=5]="ViewFocusChanged",t[t.ViewLineMappingChanged=6]="ViewLineMappingChanged",t[t.ViewLinesChanged=7]="ViewLinesChanged",t[t.ViewLinesDeleted=8]="ViewLinesDeleted",t[t.ViewLinesInserted=9]="ViewLinesInserted",t[t.ViewRevealRangeRequest=10]="ViewRevealRangeRequest",t[t.ViewScrollChanged=11]="ViewScrollChanged",t[t.ViewTokensChanged=12]="ViewTokensChanged",t[t.ViewTokensColorsChanged=13]="ViewTokensColorsChanged",t[t.ViewZonesChanged=14]="ViewZonesChanged",t[t.ViewThemeChanged=15]="ViewThemeChanged"}(e.ViewEventType||(e.ViewEventType={}));var o=function(){return function(t){this.type=1,this.canUseLayerHinting=t.canUseLayerHinting,this.pixelRatio=t.pixelRatio,this.editorClassName=t.editorClassName,this.lineHeight=t.lineHeight,this.readOnly=t.readOnly,this.accessibilitySupport=t.accessibilitySupport,this.emptySelectionClipboard=t.emptySelectionClipboard,this.layoutInfo=t.layoutInfo,this.fontInfo=t.fontInfo,this.viewInfo=t.viewInfo,this.wrappingInfo=t.wrappingInfo}}();e.ViewConfigurationChangedEvent=o;var i=function(){return function(o,e,t){this.type=2,this.selections=o,this.isInEditableRange=e,this.screenReaderMessage=t}}();e.ViewCursorStateChangedEvent=i;var r=function(){return function(){this.type=3}}();e.ViewDecorationsChangedEvent=r;var a=function(){return function(){this.type=4}}();e.ViewFlushedEvent=a;var s=function(){return function(t){this.type=5,this.isFocused=t}}();e.ViewFocusChangedEvent=s;var l=function(){return function(){this.type=6}}();e.ViewLineMappingChangedEvent=l;var c=function(){return function(o,e){this.type=7,this.fromLineNumber=o,this.toLineNumber=e}}();e.ViewLinesChangedEvent=c;var d=function(){return function(o,e){this.type=8,this.fromLineNumber=o,this.toLineNumber=e}}();e.ViewLinesDeletedEvent=d;var u=function(){return function(o,e){this.type=9,this.fromLineNumber=o,this.toLineNumber=e}}();e.ViewLinesInsertedEvent=u,!function(t){t[t.Simple=0]="Simple",t[t.Center=1]="Center",t[t.CenterIfOutsideViewport=2]="CenterIfOutsideViewport",t[t.Top=3]="Top",t[t.Bottom=4]="Bottom"}(e.VerticalRevealType||(e.VerticalRevealType={}));var p=function(){return function(o,e,t){this.type=10,this.range=o,this.verticalType=e,this.revealHorizontal=t}}();e.ViewRevealRangeRequestEvent=p;var g=function(){return function(t){this.type=11,this.scrollWidth=t.scrollWidth,this.scrollLeft=t.scrollLeft,this.scrollHeight=t.scrollHeight,this.scrollTop=t.scrollTop,this.scrollWidthChanged=t.scrollWidthChanged,this.scrollLeftChanged=t.scrollLeftChanged,this.scrollHeightChanged=t.scrollHeightChanged,this.scrollTopChanged=t.scrollTopChanged}}();e.ViewScrollChangedEvent=g;var m=function(){return function(t){this.type=12,this.ranges=t}}();e.ViewTokensChangedEvent=m;var h=function(){return function(){this.type=15}}();e.ViewThemeChangedEvent=h;var _=function(){return function(){this.type=13}}();e.ViewTokensColorsChangedEvent=_;var y=function(){return function(){this.type=14}}();e.ViewZonesChangedEvent=y;var C=function(o){function e(){var e=o.call(this)||this;return e._listeners=[],e}return Z(e,o),e.prototype.dispose=function(){this._listeners=[],o.prototype.dispose.call(this)},e.prototype._emit=function(o){for(var e=this._listeners.slice(0),t=0,n=e.length;t<n;t++)S(e[t],o)},e.prototype.addEventListener=function(r){var e=this;return this._listeners.push(r),{dispose:function(){for(var t=e._listeners,n=0,i=t.length;n<i;n++)if(t[n]===r){t.splice(n,1);break}}}},e}(n.Disposable);e.ViewEventEmitter=C}),define(s[138],n([1,0]),function(a,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function a(o,r,t,n){this.startColumn=o,this.endColumn=r,this.className=t,this.insertsBeforeOrAfter=n}return a._equals=function(o,e){return o.startColumn===e.startColumn&&o.endColumn===e.endColumn&&o.className===e.className&&o.insertsBeforeOrAfter===e.insertsBeforeOrAfter},a.equalsArr=function(e,t){var n=e.length;if(n!==t.length)return!1;for(var i=0;i<n;i++)if(!a._equals(e[i],t[i]))return!1;return!0},a.filter=function(e,t,n,i){if(0===e.length)return[];for(var o=[],r=0,s=0,p=e.length;s<p;s++){var u=e[s],l=u.range;if(!(l.endLineNumber<t||l.startLineNumber>t)&&!l.isEmpty()){var c=l.startLineNumber===t?l.startColumn:n,d=l.endLineNumber===t?l.endColumn:i;1>=d||(o[r++]=new a(c,d,u.inlineClassName,u.insertsBeforeOrAfter))}}return o},a.compare=function(o,e){return o.startColumn===e.startColumn?o.endColumn===e.endColumn?o.className<e.className?-1:o.className>e.className?1:0:o.endColumn-e.endColumn:o.startColumn-e.startColumn},a}();e.LineDecoration=t;var s=function(){return function(o,e,t){this.startOffset=o,this.endOffset=e,this.className=t}}();e.DecorationSegment=s;var d=function(){function t(){this.stopOffsets=[],this.classNames=[],this.count=0}return t.prototype.consumeLowerThan=function(i,e,t){for(;0<this.count&&this.stopOffsets[0]<i;){for(var n=0;n+1<this.count&&this.stopOffsets[n]===this.stopOffsets[n+1];)n++;t.push(new s(e,this.stopOffsets[n],this.classNames.join(" "))),e=this.stopOffsets[n]+1,this.stopOffsets.splice(0,n+1),this.classNames.splice(0,n+1),this.count-=n+1}return 0<this.count&&e<i&&(t.push(new s(e,i-1,this.classNames.join(" "))),e=i),e},t.prototype.insert=function(o,e){if(0===this.count||this.stopOffsets[this.count-1]<=o)this.stopOffsets.push(o),this.classNames.push(e);else for(var t=0;t<this.count;t++)if(this.stopOffsets[t]>=o){this.stopOffsets.splice(t,0,o),this.classNames.splice(t,0,e);break}this.count++},t}(),o=function(){function t(){}return t.normalize=function(o){if(0===o.length)return[];for(var e=[],t=new d,n=0,i=0,r=o.length;i<r;i++){var s=o[i],a=s.startColumn-1,p=s.endColumn-2;n=t.consumeLowerThan(a,n,e),0===t.count&&(n=a),t.insert(p,s.className)}return t.consumeLowerThan(1073741824,n,e),e},t}();e.LineDecorationsNormalizer=o}),define(s[106],n([1,0,90,138,9]),function(_,e,t,y,S){"use strict";function C(l){var e=l.useMonospaceOptimizations,g=l.lineContent,m,t;-1!==l.stopRenderingLineAfter&&l.stopRenderingLineAfter<g.length?(m=!0,t=l.stopRenderingLineAfter):(m=!1,t=g.length);var n=o(l.lineTokens,l.fauxIndentLength,t);2!==l.renderWhitespace&&1!==l.renderWhitespace||(n=a(g,t,n,l.fauxIndentLength,l.tabSize,e,1===l.renderWhitespace));var c=!1;if(0<l.lineDecorations.length){for(var d=0,h=l.lineDecorations.length;d<h;d++)if(l.lineDecorations[d].insertsBeforeOrAfter){c=!0;break}n=i(g,t,n,l.lineDecorations)}var p=!1;return l.mightContainRTL&&(p=S.containsRTL(g)),p||l.fontLigatures||(n=s(g,n)),new u(e,g,t,m,n,c,l.tabSize,p,l.spaceWidth,l.renderWhitespace,l.renderControlCharacters)}function o(d,e,t){var n=[],i=0;0<e&&(n[i++]=new E(e,""));for(var o=0,r=d.length;o<r;o++){var p=d[o],a=p.endIndex;if(!(a<=e)){var c=p.getType();if(a>=t){n[i++]=new E(t,c);break}n[i++]=new E(a,c)}}return n}function s(o,e){for(var t=0,n=[],i=0,r=0,s=e.length;r<s;r++){var d=e[r],u=d.endIndex,_=u-t;if(50<_){for(var c=d.type,h=l(_/50),p=1;p<h;p++){var f=t+50*p,g=o.charCodeAt(f-1);S.isHighSurrogate(g)&&f--,n[i++]=new E(f,c)}n[i++]=new E(u,c)}else n[i++]=d;t=u}return n}function a(o,e,t,n,i,r,d){var L=[],l=0,c=0,h=t[c].type,p=t[c].endIndex,f=S.firstNonWhitespaceIndex(o),g;-1===f?(f=e,g=e):g=S.lastNonWhitespaceIndex(o);for(var w=0,m=0;m<n;m++)9===(_=o.charCodeAt(m))?w=i:w++;w%=i;for(var v=!1,m=n;m<e;m++){var _=o.charCodeAt(m),y=void 0;if(m<f||m>g)y=!0;else if(9===_)y=!0;else if(!(32===_))y=!1;else if(!d)y=!0;else if(v)y=!0;else{var x=m+1<e?o.charCodeAt(m+1):0;y=32===x||9===x}v?(!y||!r&&w>=i)&&(L[l++]=new E(m,"vs-whitespace"),w%=i):(m===p||y&&m>n)&&(L[l++]=new E(m,h),w%=i),9===_?w=i:w++,v=y,m===p&&(h=t[++c].type,p=t[c].endIndex)}return L[l++]=v?new E(e,"vs-whitespace"):new E(e,h),L}function i(i,e,t,n){n.sort(y.LineDecoration.compare);for(var o=y.LineDecorationsNormalizer.normalize(n),r=o.length,s=0,a=[],d=0,u=0,c=0,h=t.length;c<h;c++){for(var p=t[c],_=p.endIndex,g=p.type,m;s<r&&o[s].startOffset<_;){if(m=o[s],m.startOffset>u&&(u=m.startOffset,a[d++]=new E(u,g)),!(m.endOffset+1<=_)){u=_,a[d++]=new E(u,g+" "+m.className);break}u=m.endOffset+1,a[d++]=new E(u,g+" "+m.className),s++}_>u&&(u=_,a[d++]=new E(u,g))}return a}function r(f){for(var e=f.fontIsMonospace,t=f.containsForeignElements,n=f.lineContent,i=f.len,o=f.isOverflowing,r=f.parts,s=f.tabSize,a=f.containsRTL,u=f.spaceWidth,l=f.renderWhitespace,I=f.renderControlCharacters,d=new T(i+1,r.length),h=0,g=0,m=0,v="<span>",_=0,y=r.length;_<y;_++){var C=r[_],b=C.endIndex,w=C.type;if(m=0,0!==l&&0<=w.indexOf("vs-whitespace")){for(var S=0,E="";h<b;h++){if(d.setPartData(h,_,m),9===(L=n.charCodeAt(h)))for(g+=(x=s-(h+g)%s)-1,m+=x-1,0<x&&(E+="&rarr;",S++,x--);0<x;)E+="&nbsp;",S++,x--;else E+="&middot;",S++;m++}d.setPartLength(_,S),v+=e||t?"<span class=\""+w+"\">"+E+"</span>":"<span class=\""+w+"\" style=\"width:"+u*S+"px\">"+E+"</span>"}else{for(var S=0,E="";h<b;h++){d.setPartData(h,_,m);var L=n.charCodeAt(h);switch(L){case 9:var x=s-(h+g)%s;for(g+=x-1,m+=x-1;0<x;)E+="&nbsp;",S++,x--;break;case 32:E+="&nbsp;",S++;break;case 60:E+="&lt;",S++;break;case 62:E+="&gt;",S++;break;case 38:E+="&amp;",S++;break;case 0:E+="&#00;",S++;break;case 65279:case 8232:E+="\uFFFD",S++;break;case 13:E+="&#8203",S++;break;default:I&&32>L?(E+=k(9216+L),S++):(E+=k(L),S++);}m++}d.setPartLength(_,S),v+=a?"<span dir=\"ltr\" class=\""+w+"\">"+E+"</span>":"<span class=\""+w+"\">"+E+"</span>"}}return d.setPartData(i,r.length-1,m),o&&(v+="<span>&hellip;</span>"),v+="</span>",new p(d,v,a,t)}Object.defineProperty(e,"__esModule",{value:!0}),!function(t){t[t.None=0]="None",t[t.Boundary=1]="Boundary",t[t.All=2]="All"}(e.RenderWhitespace||(e.RenderWhitespace={}));var E=function(){return function(o,e){this.endIndex=o,this.type=e}}(),n=function(){function o(p,g,t,n,i,o,r,s,a,u,l,c){this.useMonospaceOptimizations=p,this.lineContent=g,this.mightContainRTL=t,this.fauxIndentLength=n,this.lineTokens=i,this.lineDecorations=o,this.tabSize=r,this.spaceWidth=s,this.stopRenderingLineAfter=a,this.renderWhitespace="all"===u?2:"boundary"===u?1:0,this.renderControlCharacters=l,this.fontLigatures=c}return o.prototype.equals=function(o){return this.useMonospaceOptimizations===o.useMonospaceOptimizations&&this.lineContent===o.lineContent&&this.mightContainRTL===o.mightContainRTL&&this.fauxIndentLength===o.fauxIndentLength&&this.tabSize===o.tabSize&&this.spaceWidth===o.spaceWidth&&this.stopRenderingLineAfter===o.stopRenderingLineAfter&&this.renderWhitespace===o.renderWhitespace&&this.renderControlCharacters===o.renderControlCharacters&&this.fontLigatures===o.fontLigatures&&y.LineDecoration.equalsArr(this.lineDecorations,o.lineDecorations)&&t.ViewLineToken.equalsArr(this.lineTokens,o.lineTokens)},o}();e.RenderLineInput=n,!function(t){t[t.PART_INDEX_MASK=4294901760]="PART_INDEX_MASK",t[t.CHAR_INDEX_MASK=65535]="CHAR_INDEX_MASK",t[t.CHAR_INDEX_OFFSET=0]="CHAR_INDEX_OFFSET",t[t.PART_INDEX_OFFSET=16]="PART_INDEX_OFFSET"}(e.CharacterMappingConstants||(e.CharacterMappingConstants={}));var T=function(){function p(o,n){this.length=o,this._data=new Uint32Array(this.length),this._partLengths=new Uint16Array(n)}return p.getPartIndex=function(t){return(4294901760&t)>>>16},p.getCharIndex=function(t){return(65535&t)>>>0},p.prototype.setPartData=function(o,e,t){this._data[o]=(e<<16|t<<0)>>>0},p.prototype.setPartLength=function(o,e){this._partLengths[o]=e},p.prototype.getPartLengths=function(){return this._partLengths},p.prototype.charOffsetToPartData=function(t){return 0===this.length?0:0>t?this._data[0]:t>=this.length?this._data[this.length-1]:this._data[t]},p.prototype.partDataToCharOffset=function(e,t,n){if(0===this.length)return 0;for(var i=(e<<16|n<<0)>>>0,o=0,r=this.length-1;o+1<r;){var s=o+r>>>1,a=this._data[s];if(a===i)return s;a>i?r=s:o=s}if(o===r)return o;var u=this._data[o],l=this._data[r];if(u===i)return o;if(l===i)return r;var c=p.getPartIndex(u);return n-p.getCharIndex(u)<=(c===p.getPartIndex(l)?p.getCharIndex(l):t)-n?o:r},p}();e.CharacterMapping=T;var p=function(){return function(o,e,t,n){this.characterMapping=o,this.html=e,this.containsRTL=t,this.containsForeignElements=n}}();e.RenderLineOutput=p,e.renderViewLine=function(a){if(0===a.lineContent.length){var e=!1,t="<span><span>&nbsp;</span></span>";if(0<a.lineDecorations.length){for(var n=[],i=0,o=a.lineDecorations.length;i<o;i++)a.lineDecorations[i].insertsBeforeOrAfter&&(n[i]=a.lineDecorations[i].className,e=!0);e&&(t="<span><span class=\""+n.join(" ")+"\">&nbsp;</span></span>")}return new p(new T(0,0),t,!1,e)}return r(C(a))};var u=function(){return function(d,e,t,n,i,o,r,s,a,p,l){this.fontIsMonospace=d,this.lineContent=e,this.len=t,this.isOverflowing=n,this.parts=i,this.containsForeignElements=o,this.tabSize=r,this.containsRTL=s,this.spaceWidth=a,this.renderWhitespace=p,this.renderControlCharacters=l}}(),d;!function(t){t[t.LongToken=50]="LongToken"}(d||(d={}))}),define(s[221],n([1,0,2]),function(o,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function t(n,a,t,i){this.selections=n,this.startLineNumber=0|a.startLineNumber,this.endLineNumber=0|a.endLineNumber,this.relativeVerticalOffset=a.relativeVerticalOffset,this.bigNumbersDelta=0|a.bigNumbersDelta,this.whitespaceViewportData=t,this._model=i,this.visibleRange=new r.Range(a.startLineNumber,this._model.getLineMinColumn(a.startLineNumber),a.endLineNumber,this._model.getLineMaxColumn(a.endLineNumber))}return t.prototype.getViewLineRenderingData=function(t){return this._model.getViewLineRenderingData(this.visibleRange,t)},t.prototype.getDecorationsInViewport=function(){return this._model.getDecorationsInViewport(this.visibleRange)},t}();e.ViewportData=t}),define(s[222],n([1,0]),function(o,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function d(){this._heights=[],this._ids=[],this._afterLineNumbers=[],this._ordinals=[],this._prefixSum=[],this._prefixSumValidIndex=-1,this._whitespaceId2Index={},this._lastWhitespaceId=0}return d.findInsertionIndex=function(a,e,t,n){for(var i=0,o=a.length,r;i<o;)r=i+o>>>1,e===a[r]?n<t[r]?o=r:i=r+1:e<a[r]?o=r:i=r+1;return i},d.prototype.insertWhitespace=function(e,t,n){e|=0,t|=0,n|=0;var i=++this._lastWhitespaceId,o=d.findInsertionIndex(this._afterLineNumbers,e,this._ordinals,t);return this._insertWhitespaceAtIndex(i,o,e,t,n),i},d.prototype._insertWhitespaceAtIndex=function(d,e,t,n,i){d|=0,e|=0,t|=0,n|=0,i|=0,this._heights.splice(e,0,i),this._ids.splice(e,0,d),this._afterLineNumbers.splice(e,0,t),this._ordinals.splice(e,0,n),this._prefixSum.splice(e,0,0);for(var o=Object.keys(this._whitespaceId2Index),r=0,s=o.length;r<s;r++){var a=o[r],p=this._whitespaceId2Index[a];p>=e&&(this._whitespaceId2Index[a]=p+1)}this._whitespaceId2Index[d.toString()]=e,this._prefixSumValidIndex=q(this._prefixSumValidIndex,e-1)},d.prototype.changeWhitespace=function(o,e,t){o|=0,e|=0,t|=0;var n=!1;return n=this.changeWhitespaceHeight(o,t)||n,n=this.changeWhitespaceAfterLineNumber(o,e)||n},d.prototype.changeWhitespaceHeight=function(o,e){e|=0;var t=(o|=0).toString();if(this._whitespaceId2Index.hasOwnProperty(t)){var n=this._whitespaceId2Index[t];if(this._heights[n]!==e)return this._heights[n]=e,this._prefixSumValidIndex=q(this._prefixSumValidIndex,n-1),!0}return!1},d.prototype.changeWhitespaceAfterLineNumber=function(e,t){t|=0;var n=(e|=0).toString();if(this._whitespaceId2Index.hasOwnProperty(n)){var i=this._whitespaceId2Index[n];if(this._afterLineNumbers[i]!==t){var o=this._ordinals[i],r=this._heights[i];this.removeWhitespace(e);var s=d.findInsertionIndex(this._afterLineNumbers,t,this._ordinals,o);return this._insertWhitespaceAtIndex(e,s,t,o,r),!0}}return!1},d.prototype.removeWhitespace=function(o){var e=(o|=0).toString();if(this._whitespaceId2Index.hasOwnProperty(e)){var t=this._whitespaceId2Index[e];return delete this._whitespaceId2Index[e],this._removeWhitespaceAtIndex(t),!0}return!1},d.prototype._removeWhitespaceAtIndex=function(a){a|=0,this._heights.splice(a,1),this._ids.splice(a,1),this._afterLineNumbers.splice(a,1),this._ordinals.splice(a,1),this._prefixSum.splice(a,1),this._prefixSumValidIndex=q(this._prefixSumValidIndex,a-1);for(var e=Object.keys(this._whitespaceId2Index),t=0,n=e.length;t<n;t++){var i=e[t],o=this._whitespaceId2Index[i];o>=a&&(this._whitespaceId2Index[i]=o-1)}},d.prototype.onLinesDeleted=function(r,e){r|=0,e|=0;for(var t=0,n=this._afterLineNumbers.length,i;t<n;t++)i=this._afterLineNumbers[t],r<=i&&i<=e?this._afterLineNumbers[t]=r-1:i>e&&(this._afterLineNumbers[t]-=e-r+1)},d.prototype.onLinesInserted=function(o,e){o|=0,e|=0;for(var t=0,n=this._afterLineNumbers.length;t<n;t++)o<=this._afterLineNumbers[t]&&(this._afterLineNumbers[t]+=e-o+1)},d.prototype.getTotalHeight=function(){return 0===this._heights.length?0:this.getAccumulatedHeight(this._heights.length-1)},d.prototype.getAccumulatedHeight=function(o){o|=0;var e=G(0,this._prefixSumValidIndex+1);0===e&&(this._prefixSum[0]=this._heights[0],e++);for(var t=e;t<=o;t++)this._prefixSum[t]=this._prefixSum[t-1]+this._heights[t];return this._prefixSumValidIndex=G(this._prefixSumValidIndex,o),this._prefixSum[o]},d.prototype.getAccumulatedHeightBeforeLineNumber=function(o){o|=0;var e=this._findLastWhitespaceBeforeLineNumber(o);return-1===e?0:this.getAccumulatedHeight(e)},d.prototype._findLastWhitespaceBeforeLineNumber=function(r){r|=0;for(var e=this._afterLineNumbers,t=0,n=e.length-1,i;t<=n;)if(i=0|t+(0|(0|n-t)/2),e[i]<r){if(i+1>=e.length||e[i+1]>=r)return i;t=0|i+1}else n=0|i-1;return-1},d.prototype._findFirstWhitespaceAfterLineNumber=function(o){o|=0;var e=this._findLastWhitespaceBeforeLineNumber(o)+1;return e<this._heights.length?e:-1},d.prototype.getFirstWhitespaceIndexAfterLineNumber=function(t){return t|=0,this._findFirstWhitespaceAfterLineNumber(t)},d.prototype.getCount=function(){return this._heights.length},d.prototype.getAfterLineNumberForWhitespaceIndex=function(t){return t|=0,this._afterLineNumbers[t]},d.prototype.getIdForWhitespaceIndex=function(t){return t|=0,this._ids[t]},d.prototype.getHeightForWhitespaceIndex=function(t){return t|=0,this._heights[t]},d.prototype.getWhitespaces=function(o){o|=0;for(var e=[],t=0;t<this._heights.length;t++)e.push({id:this._ids[t],afterLineNumber:this._afterLineNumbers[t],heightInLines:this._heights[t]/o});return e},d}();e.WhitespaceComputer=t}),define(s[223],n([1,0,222]),function(o,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function t(o,n){this._lineCount=o,this._lineHeight=n,this._whitespaces=new r.WhitespaceComputer}return t.prototype.setLineHeight=function(t){this._lineHeight=t},t.prototype.onFlushed=function(t){this._lineCount=t},t.prototype.insertWhitespace=function(o,e,t){return this._whitespaces.insertWhitespace(o,e,t)},t.prototype.changeWhitespace=function(o,e,t){return this._whitespaces.changeWhitespace(o,e,t)},t.prototype.removeWhitespace=function(t){return this._whitespaces.removeWhitespace(t)},t.prototype.onLinesDeleted=function(o,e){this._lineCount-=e-o+1,this._whitespaces.onLinesDeleted(o,e)},t.prototype.onLinesInserted=function(o,e){this._lineCount+=e-o+1,this._whitespaces.onLinesInserted(o,e)},t.prototype.getLinesTotalHeight=function(){return this._lineHeight*this._lineCount+this._whitespaces.getTotalHeight()},t.prototype.getVerticalOffsetForLineNumber=function(t){return(1<(t|=0)?this._lineHeight*(t-1):0)+this._whitespaces.getAccumulatedHeightBeforeLineNumber(t)},t.prototype.getWhitespaceAccumulatedHeightBeforeLineNumber=function(t){return this._whitespaces.getAccumulatedHeightBeforeLineNumber(t)},t.prototype.hasWhitespace=function(){return 0<this._whitespaces.getCount()},t.prototype.isAfterLines=function(t){return t>this.getLinesTotalHeight()},t.prototype.getLineNumberAtOrAfterVerticalOffset=function(a){if(0>(a|=0))return 1;for(var e=0|this._lineCount,t=this._lineHeight,n=1,i=e;n<i;){var o=0|(n+i)/2,r=0|this.getVerticalOffsetForLineNumber(o);if(a>=r+t)n=o+1;else{if(a>=r)return o;i=o}}return n>e?e:n},t.prototype.getLinesViewportData=function(S,e){S|=0,e|=0;var t=this._lineHeight,o=0|this.getLineNumberAtOrAfterVerticalOffset(S),E=0|this.getVerticalOffsetForLineNumber(o),s=0|this._lineCount,L=0|this._whitespaces.getFirstWhitespaceIndexAfterLineNumber(o),u=0|this._whitespaces.getCount(),l,n;-1===L?(L=u,n=s+1,l=0):(n=0|this._whitespaces.getAfterLineNumberForWhitespaceIndex(L),l=0|this._whitespaces.getHeightForWhitespaceIndex(L));var i=E,c=i,d=0;5e5<=E&&(d=5e5*M(E/5e5),c-=d=M(d/t)*t);for(var w=[],x=S+(e-S)/2,f=-1,N=o;N<=s;N++){if(-1===f){var m=i,v=i+t;(m<=x&&x<v||m>x)&&(f=N)}for(i+=t,w[N-o]=c,c+=t;n===N;)c+=l,i+=l,++L>=u?n=s+1:(n=0|this._whitespaces.getAfterLineNumberForWhitespaceIndex(L),l=0|this._whitespaces.getHeightForWhitespaceIndex(L));if(i>=e){s=N;break}}-1===f&&(f=s);var _=0|this.getVerticalOffsetForLineNumber(s),y=o,T=s;return y<T&&E<S&&y++,y<T&&_+t>e&&T--,{bigNumbersDelta:d,startLineNumber:o,endLineNumber:s,relativeVerticalOffset:w,centeredLineNumber:f,completelyVisibleStartLineNumber:y,completelyVisibleEndLineNumber:T}},t.prototype.getVerticalOffsetForWhitespaceIndex=function(o){o|=0;var e=this._whitespaces.getAfterLineNumberForWhitespaceIndex(o),n;n=1<=e?this._lineHeight*e:0;var t;return t=0<o?this._whitespaces.getAccumulatedHeight(o-1):0,n+t},t.prototype.getWhitespaceIndexAtOrAfterVerticallOffset=function(a){a|=0;var e=0,o=this._whitespaces.getCount()-1,r,t,n;if(0>o)return-1;if(a>=this.getVerticalOffsetForWhitespaceIndex(o)+this._whitespaces.getHeightForWhitespaceIndex(o))return-1;for(;e<o;)if(r=M((e+o)/2),t=this.getVerticalOffsetForWhitespaceIndex(r),n=this._whitespaces.getHeightForWhitespaceIndex(r),a>=t+n)e=r+1;else{if(a>=t)return r;o=r}return e},t.prototype.getWhitespaceAtVerticalOffset=function(o){o|=0;var e=this.getWhitespaceIndexAtOrAfterVerticallOffset(o);if(0>e)return null;if(e>=this._whitespaces.getCount())return null;var t=this.getVerticalOffsetForWhitespaceIndex(e);if(t>o)return null;var r=this._whitespaces.getHeightForWhitespaceIndex(e);return{id:this._whitespaces.getIdForWhitespaceIndex(e),afterLineNumber:this._whitespaces.getAfterLineNumberForWhitespaceIndex(e),verticalOffset:t,height:r}},t.prototype.getWhitespaceViewportData=function(d,e){d|=0,e|=0;var t=this.getWhitespaceIndexAtOrAfterVerticallOffset(d),n=this._whitespaces.getCount()-1;if(0>t)return[];for(var i=[],o=t;o<=n;o++){var r=this.getVerticalOffsetForWhitespaceIndex(o),l=this._whitespaces.getHeightForWhitespaceIndex(o);if(r>=e)break;i.push({id:this._whitespaces.getIdForWhitespaceIndex(o),afterLineNumber:this._whitespaces.getAfterLineNumberForWhitespaceIndex(o),verticalOffset:r,height:l})}return i},t.prototype.getWhitespaces=function(){return this._whitespaces.getWhitespaces(this._lineHeight)},t}();e.LinesLayout=t}),define(s[104],n([1,0,96]),function(a,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var d=function(){return function(o,e){this.index=o,this.remainder=e}}();e.PrefixSumIndexOfResult=d;var t=function(){function t(t){this.values=t,this.prefixSum=new Uint32Array(t.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}return t.prototype.getCount=function(){return this.values.length},t.prototype.insertValues=function(n,e){n=s.toUint32(n);var t=this.values,i=this.prefixSum,o=e.length;return 0!==o&&(this.values=new Uint32Array(t.length+o),this.values.set(t.subarray(0,n),0),this.values.set(t.subarray(n),n+o),this.values.set(e,n),n-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=n-1),this.prefixSum=new Uint32Array(this.values.length),0<=this.prefixSumValidIndex[0]&&this.prefixSum.set(i.subarray(0,this.prefixSumValidIndex[0]+1)),!0)},t.prototype.changeValue=function(o,e){return o=s.toUint32(o),e=s.toUint32(e),this.values[o]!==e&&(this.values[o]=e,o-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=o-1),!0)},t.prototype.removeValues=function(n,e){n=s.toUint32(n),e=s.toUint32(e);var t=this.values,i=this.prefixSum;if(n>=t.length)return!1;var o=t.length-n;return e>=o&&(e=o),0!==e&&(this.values=new Uint32Array(t.length-e),this.values.set(t.subarray(0,n),0),this.values.set(t.subarray(n+e),n),this.prefixSum=new Uint32Array(this.values.length),n-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=n-1),0<=this.prefixSumValidIndex[0]&&this.prefixSum.set(i.subarray(0,this.prefixSumValidIndex[0]+1)),!0)},t.prototype.getTotalValue=function(){return 0===this.values.length?0:this._getAccumulatedValue(this.values.length-1)},t.prototype.getAccumulatedValue=function(t){return 0>t?0:(t=s.toUint32(t),this._getAccumulatedValue(t))},t.prototype._getAccumulatedValue=function(o){if(o<=this.prefixSumValidIndex[0])return this.prefixSum[o];var e=this.prefixSumValidIndex[0]+1;0===e&&(this.prefixSum[0]=this.values[0],e++),o>=this.values.length&&(o=this.values.length-1);for(var t=e;t<=o;t++)this.prefixSum[t]=this.prefixSum[t-1]+this.values[t];return this.prefixSumValidIndex[0]=G(this.prefixSumValidIndex[0],o),this.prefixSum[o]},t.prototype.getIndexOf=function(i){i=M(i),this.getTotalValue();for(var e=0,r=this.values.length-1,a,t,n;e<=r;)if(a=0|e+(r-e)/2,t=this.prefixSum[a],n=t-this.values[a],i<n)r=a-1;else{if(!(i>=t))break;e=a+1}return new d(a,i-n)},t}();e.PrefixSumComputer=t;var o=function(){function o(o){this._cacheAccumulatedValueStart=0,this._cache=null,this._actual=new t(o),this._bustCache()}return o.prototype._bustCache=function(){this._cacheAccumulatedValueStart=0,this._cache=null},o.prototype.getCount=function(){return this._actual.getCount()},o.prototype.insertValues=function(o,e){this._actual.insertValues(o,e)&&this._bustCache()},o.prototype.changeValue=function(o,e){this._actual.changeValue(o,e)&&this._bustCache()},o.prototype.removeValues=function(o,e){this._actual.removeValues(o,e)&&this._bustCache()},o.prototype.getTotalValue=function(){return this._actual.getTotalValue()},o.prototype.getAccumulatedValue=function(t){return this._actual.getAccumulatedValue(t)},o.prototype.getIndexOf=function(o){if(o=M(o),null!==this._cache){var e=o-this._cacheAccumulatedValueStart;if(0<=e&&e<this._cache.length)return this._cache[e]}return this._actual.getIndexOf(o)},o.prototype.warmUpCache=function(o,e){for(var t=[],n=o;n<=e;n++)t[n-o]=this.getIndexOf(n);this._cache=t,this._cacheAccumulatedValueStart=o},o}();e.PrefixSumComputerWithCache=o}),define(s[225],n([1,0,104]),function(o,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function t(o,r,t,n){this._uri=o,this._lines=r,this._eol=t,this._versionId=n}return t.prototype.dispose=function(){this._lines.length=0},Object.defineProperty(t.prototype,"version",{get:function(){return this._versionId},enumerable:!0,configurable:!0}),t.prototype.getText=function(){return this._lines.join(this._eol)},t.prototype.onEvents=function(r){r.eol&&r.eol!==this._eol&&(this._eol=r.eol,this._lineStarts=null);for(var e=r.changes,t=0,n=e.length,i;t<n;t++)i=e[t],this._acceptDeleteRange(i.range),this._acceptInsertText({lineNumber:i.range.startLineNumber,column:i.range.startColumn},i.text);this._versionId=r.versionId},t.prototype._ensureLineStarts=function(){if(!this._lineStarts){for(var n=this._eol.length,e=this._lines.length,t=new Uint32Array(e),i=0;i<e;i++)t[i]=this._lines[i].length+n;this._lineStarts=new r.PrefixSumComputer(t)}},t.prototype._setLineText=function(o,e){this._lines[o]=e,this._lineStarts&&this._lineStarts.changeValue(o,this._lines[o].length+this._eol.length)},t.prototype._acceptDeleteRange=function(t){if(t.startLineNumber!==t.endLineNumber)this._setLineText(t.startLineNumber-1,this._lines[t.startLineNumber-1].substring(0,t.startColumn-1)+this._lines[t.endLineNumber-1].substring(t.endColumn-1)),this._lines.splice(t.startLineNumber,t.endLineNumber-t.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(t.startLineNumber,t.endLineNumber-t.startLineNumber);else{if(t.startColumn===t.endColumn)return;this._setLineText(t.startLineNumber-1,this._lines[t.startLineNumber-1].substring(0,t.startColumn-1)+this._lines[t.startLineNumber-1].substring(t.endColumn-1))}},t.prototype._acceptInsertText=function(r,e){if(0!==e.length){var t=e.split(/\r\n|\r|\n/);if(1!==t.length){t[t.length-1]+=this._lines[r.lineNumber-1].substring(r.column-1),this._setLineText(r.lineNumber-1,this._lines[r.lineNumber-1].substring(0,r.column-1)+t[0]);for(var n=new Uint32Array(t.length-1),i=1;i<t.length;i++)this._lines.splice(r.lineNumber+i-1,0,t[i]),n[i-1]=t[i].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(r.lineNumber,n)}else this._setLineText(r.lineNumber-1,this._lines[r.lineNumber-1].substring(0,r.column-1)+t[0]+this._lines[r.lineNumber-1].substring(r.column-1))}},t}();e.MirrorModel=t}),define(s[226],n([1,0,24,7,2,457,139,12,225,536,546,95,152]),function(_,e,t,L,i,f,o,r,n,a,y,s,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=function(o){function e(){return null!==o&&o.apply(this,arguments)||this}return Z(e,o),Object.defineProperty(e.prototype,"uri",{get:function(){return this._uri},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"version",{get:function(){return this._versionId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"eol",{get:function(){return this._eol},enumerable:!0,configurable:!0}),e.prototype.getValue=function(){return this.getText()},e.prototype.getLinesContent=function(){return this._lines.slice(0)},e.prototype.getLineCount=function(){return this._lines.length},e.prototype.getLineContent=function(t){return this._lines[t-1]},e.prototype.getWordAtPosition=function(o,e){var t=s.getWordAtText(o.column,s.ensureValidWordDefinition(e),this._lines[o.lineNumber-1],0);return t?new i.Range(o.lineNumber,t.startColumn,o.lineNumber,t.endColumn):null},e.prototype.getWordUntilPosition=function(o,e){var t=this.getWordAtPosition(o,e);return t?{word:this._lines[o.lineNumber-1].substring(t.startColumn-1,o.column-1),startColumn:t.startColumn,endColumn:o.column}:{word:"",startColumn:o.column,endColumn:o.column}},e.prototype._getAllWords=function(o){var e=this,t=[];return this._lines.forEach(function(n){e._wordenize(n,o).forEach(function(o){t.push(n.substring(o.start,o.end))})}),t},e.prototype.getAllUniqueWords=function(o,r){var t=!1,a=Object.create(null);return this._getAllWords(o).filter(function(o){return r&&!t&&r===o?(t=!0,!1):!a[o]&&(a[o]=!0,!0)})},e.prototype._wordenize=function(o,e){var t=[],i;for(e.lastIndex=0;(i=e.exec(o))&&0!==i[0].length;)t.push({start:i.index,end:i.index+i[0].length});return t},e.prototype.getValueInRange=function(a){if((a=this._validateRange(a)).startLineNumber===a.endLineNumber)return this._lines[a.startLineNumber-1].substring(a.startColumn-1,a.endColumn-1);var e=this._eol,t=a.startLineNumber-1,n=a.endLineNumber-1,i=[];i.push(this._lines[t].substring(a.startColumn-1));for(var o=t+1;o<n;o++)i.push(this._lines[o]);return i.push(this._lines[n].substring(0,a.endColumn-1)),i.join(e)},e.prototype.offsetAt=function(t){return t=this._validatePosition(t),this._ensureLineStarts(),this._lineStarts.getAccumulatedValue(t.lineNumber-2)+(t.column-1)},e.prototype.positionAt=function(o){o=M(o),o=G(0,o),this._ensureLineStarts();var e=this._lineStarts.getIndexOf(o),t=this._lines[e.index].length;return{lineNumber:1+e.index,column:1+q(e.remainder,t)}},e.prototype._validateRange=function(o){var e=this._validatePosition({lineNumber:o.startLineNumber,column:o.startColumn}),t=this._validatePosition({lineNumber:o.endLineNumber,column:o.endColumn});return e.lineNumber!==o.startLineNumber||e.column!==o.startColumn||t.lineNumber!==o.endLineNumber||t.column!==o.endColumn?{startLineNumber:e.lineNumber,startColumn:e.column,endLineNumber:t.lineNumber,endColumn:t.column}:o},e.prototype._validatePosition=function(a){if(!r.Position.isIPosition(a))throw new Error("bad position");var e=a.lineNumber,s=a.column,d=!1;if(1>e)e=1,s=1,d=!0;else if(e>this._lines.length)e=this._lines.length,s=this._lines[e-1].length+1,d=!0;else{var i=this._lines[e-1].length+1;1>s?(s=1,d=!0):s>i&&(s=i,d=!0)}return d?{lineNumber:e,column:s}:a},e}(n.MirrorModel),p=function(){function t(){this._foreignModule=null}return t.prototype.computeDiff=function(i,e,t){var r=this._getModel(i),d=this._getModel(e);if(!r||!d)return null;var p=r.getLinesContent(),a=d.getLinesContent(),c=new f.DiffComputer(p,a,{shouldPostProcessCharChanges:!0,shouldIgnoreTrimWhitespace:t,shouldConsiderTrimWhitespaceInEmptyCase:!0,shouldMakePrettyDiff:!0});return L.TPromise.as(c.computeDiff())},t.prototype.computeDirtyDiff=function(i,e,t){var r=this._getModel(i),d=this._getModel(e);if(!r||!d)return null;var p=r.getLinesContent(),a=d.getLinesContent(),c=new f.DiffComputer(p,a,{shouldPostProcessCharChanges:!1,shouldIgnoreTrimWhitespace:t,shouldConsiderTrimWhitespaceInEmptyCase:!1,shouldMakePrettyDiff:!0});return L.TPromise.as(c.computeDiff())},t.prototype.computeMoreMinimalEdits=function(e,r){var n=this._getModel(e);if(!n)return L.TPromise.as(r);for(var s=[],l=0,c=r,d;l<c.length;l++){var x=c[l],h=x.range,N=x.text,T=x.eol;if("number"==typeof T&&(d=T),h){var I=n.getValueInRange(h);if(N=N.replace(/\r\n|\n|\r/g,n.eol),I!==N)if(G(N.length,I.length)>t._diffLimit)s.push({range:h,text:N});else for(var m=o.stringDiff(I,N,!1),v=n.offsetAt(i.Range.lift(h).getStartPosition()),_=0,y=m;_<y.length;_++){var C=y[_],b=n.positionAt(v+C.originalStart),w=n.positionAt(v+C.originalStart+C.originalLength),S={text:N.substr(C.modifiedStart,C.modifiedLength),range:{startLineNumber:b.lineNumber,startColumn:b.column,endLineNumber:w.lineNumber,endColumn:w.column}};n.getValueInRange(S.range)!==S.text&&s.push(S)}}}return"number"==typeof d&&s.push({eol:d,text:void 0,range:void 0}),L.TPromise.as(s)},t.prototype.computeLinks=function(o){var e=this._getModel(o);return e?L.TPromise.as(a.computeLinks(e)):null},t.prototype.textualSuggest=function(i,e,t,n){var o=this._getModel(i);if(o){for(var r=[],p=new RegExp(t,n),a=o.getWordUntilPosition(e,p).word,u=0,l=o.getAllUniqueWords(p),c;u<l.length;u++)c=l[u],c!==a&&isNaN(+c)&&r.push({type:"text",label:c,insertText:c,noAutoAccept:!0,overwriteBefore:a.length});return L.TPromise.as({suggestions:r})}},t.prototype.navigateValueSet=function(i,e,t,n,o){var r=this._getModel(i);if(!r)return null;var p=new RegExp(n,o);e.startColumn===e.endColumn&&(e={startLineNumber:e.startLineNumber,startColumn:e.startColumn,endLineNumber:e.endLineNumber,endColumn:e.endColumn+1});var a=r.getValueInRange(e),c=r.getWordAtPosition({lineNumber:e.startLineNumber,column:e.startColumn},p),l=null;null!==c&&(l=r.getValueInRange(c));var d=y.BasicInplaceReplace.INSTANCE.navigateValueSet(e,a,c,l,t);return L.TPromise.as(d)},t.prototype.loadForeignModule=function(r,o){var t=this;return new L.TPromise(function(n,e){self.require([r],function(i){t._foreignModule=i.create({getMirrorModels:function(){return t._getModels()}},o);var e=[];for(var r in t._foreignModule)"function"==typeof t._foreignModule[r]&&e.push(r);n(e)},e)})},t.prototype.fmr=function(o,e){if(!this._foreignModule||"function"!=typeof this._foreignModule[o])return L.TPromise.wrapError(new Error("Missing requestHandler or method: "+o));try{return L.TPromise.as(this._foreignModule[o].apply(this._foreignModule,e))}catch(t){return L.TPromise.wrapError(t)}},t._diffLimit=1e4,t}();e.BaseEditorSimpleWorker=p;var c=function(o){function e(){var e=o.call(this)||this;return e._models=Object.create(null),e}return Z(e,o),e.prototype.dispose=function(){this._models=Object.create(null)},e.prototype._getModel=function(t){return this._models[t]},e.prototype._getModels=function(){var o=this,e=[];return Object.keys(this._models).forEach(function(t){return e.push(o._models[t])}),e},e.prototype.acceptNewModel=function(o){this._models[o.url]=new l(t.default.parse(o.url),o.lines,o.EOL,o.versionId)},e.prototype.acceptModelChanged=function(o,e){this._models[o]&&this._models[o].onEvents(e)},e.prototype.acceptRemovedModel=function(t){this._models[t]&&delete this._models[t]},e}(p);e.EditorSimpleWorkerImpl=c,e.create=function(){return new c};var u=self;"function"==typeof u.importScripts&&(u.monaco=d.createMonacoBaseAPI())}),define(s[82],n([1,0,57,3]),function(r,e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(o){function e(){var e=o.call(this)||this;return e._shouldRender=!0,e}return Z(e,o),e.prototype.shouldRender=function(){return this._shouldRender},e.prototype.forceShouldRender=function(){this._shouldRender=!0},e.prototype.setShouldRender=function(){this._shouldRender=!0},e.prototype.onDidRender=function(){this._shouldRender=!1},e.prototype.onConfigurationChanged=function(){return!1},e.prototype.onCursorStateChanged=function(){return!1},e.prototype.onDecorationsChanged=function(){return!1},e.prototype.onFlushed=function(){return!1},e.prototype.onFocusChanged=function(){return!1},e.prototype.onLineMappingChanged=function(){return!1},e.prototype.onLinesChanged=function(){return!1},e.prototype.onLinesDeleted=function(){return!1},e.prototype.onLinesInserted=function(){return!1},e.prototype.onRevealRangeRequest=function(){return!1},e.prototype.onScrollChanged=function(){return!1},e.prototype.onTokensChanged=function(){return!1},e.prototype.onTokensColorsChanged=function(){return!1},e.prototype.onZonesChanged=function(){return!1},e.prototype.onThemeChanged=function(){return!1},e.prototype.handleEvents=function(r){for(var e=!1,t=0,n=r.length,i;t<n;t++)switch(i=r[t],i.type){case 1:this.onConfigurationChanged(i)&&(e=!0);break;case 2:this.onCursorStateChanged(i)&&(e=!0);break;case 3:this.onDecorationsChanged(i)&&(e=!0);break;case 4:this.onFlushed(i)&&(e=!0);break;case 5:this.onFocusChanged(i)&&(e=!0);break;case 6:this.onLineMappingChanged(i)&&(e=!0);break;case 7:this.onLinesChanged(i)&&(e=!0);break;case 8:this.onLinesDeleted(i)&&(e=!0);break;case 9:this.onLinesInserted(i)&&(e=!0);break;case 10:this.onRevealRangeRequest(i)&&(e=!0);break;case 11:this.onScrollChanged(i)&&(e=!0);break;case 12:this.onTokensChanged(i)&&(e=!0);break;case 13:this.onTokensColorsChanged(i)&&(e=!0);break;case 14:this.onZonesChanged(i)&&(e=!0);break;case 15:this.onThemeChanged(i)&&(e=!0);break;default:console.info("View received unknown event: "),console.info(i);}e&&(this._shouldRender=!0)},e}(n.Disposable);e.ViewEventHandler=i}),define(s[67],n([1,0,82]),function(o,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(o){function e(){return null!==o&&o.apply(this,arguments)||this}return Z(e,o),e}(t.ViewEventHandler);e.DynamicViewOverlay=n}),define(s[35],n([1,0,82,27]),function(a,e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(o){function e(e){var i=o.call(this)||this;return i._context=e,i._context.addEventHandler(i),i}return Z(e,o),e.prototype.dispose=function(){this._context.removeEventHandler(this),this._context=null,o.prototype.dispose.call(this)},e}(t.ViewEventHandler);e.ViewPart=i,!function(t){t[t.None=0]="None",t[t.ContentWidgets=1]="ContentWidgets",t[t.OverflowingContentWidgets=2]="OverflowingContentWidgets",t[t.OverflowGuard=3]="OverflowGuard",t[t.OverlayWidgets=4]="OverlayWidgets",t[t.ScrollableElement=5]="ScrollableElement",t[t.TextArea=6]="TextArea",t[t.ViewLines=7]="ViewLines",t[t.Minimap=8]="Minimap"}(e.PartFingerprint||(e.PartFingerprint={}));var o=function(){function t(){}return t.write=function(o,e){n.FastDomNode,o.setAttribute("data-mprt",e+"")},t.read=function(o){var e=o.getAttribute("data-mprt");return null===e?0:parseInt(e,10)},t.collect=function(a,e){for(var t=[],n=0;a&&a!==document.body&&a!==e;)a.nodeType===a.ELEMENT_NODE&&(t[n++]=this.read(a)),a=a.parentElement;for(var i=new Uint8Array(n),o=0;o<n;o++)i[o]=t[n-o-1];return i},t}();e.PartFingerprints=o}),define(s[230],n([1,0,4,27,25,35]),function(d,e,_,l,t,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){return function(o,e){this.top=o,this.left=e}}(),n=function(a){function e(e,r){var n=a.call(this,e)||this;return n._viewDomNode=r,n._widgets={},n.domNode=l.createFastDomNode(document.createElement("div")),i.PartFingerprints.write(n.domNode,1),n.domNode.setClassName("contentWidgets"),n.domNode.setPosition("absolute"),n.domNode.setTop(0),n.overflowingContentWidgetsDomNode=l.createFastDomNode(document.createElement("div")),i.PartFingerprints.write(n.overflowingContentWidgetsDomNode,2),n.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets"),n}return Z(e,a),e.prototype.dispose=function(){a.prototype.dispose.call(this),this._widgets=null,this.domNode=null},e.prototype.onConfigurationChanged=function(r){for(var e=Object.keys(this._widgets),t=0,n=e.length,i;t<n;t++)i=e[t],this._widgets[i].onConfigurationChanged(r);return!0},e.prototype.onDecorationsChanged=function(){return!0},e.prototype.onFlushed=function(){return!0},e.prototype.onLinesChanged=function(){return!0},e.prototype.onLinesDeleted=function(){return!0},e.prototype.onLinesInserted=function(){return!0},e.prototype.onScrollChanged=function(){return!0},e.prototype.onZonesChanged=function(){return!0},e.prototype.addWidget=function(o){var e=new r(this._context,this._viewDomNode,o);this._widgets[e.id]=e,e.allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(e.domNode):this.domNode.appendChild(e.domNode),this.setShouldRender()},e.prototype.setWidgetPosition=function(o,e,t){this._widgets[o.getId()].setPosition(e,t),this.setShouldRender()},e.prototype.removeWidget=function(o){var e=o.getId();if(this._widgets.hasOwnProperty(e)){var t=this._widgets[e];delete this._widgets[e];var n=t.domNode.domNode;n.parentNode.removeChild(n),n.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}},e.prototype.shouldSuppressMouseDownOnWidget=function(t){return!!this._widgets.hasOwnProperty(t)&&this._widgets[t].suppressMouseDown},e.prototype.prepareRender=function(r){for(var e=Object.keys(this._widgets),t=0,n=e.length,i;t<n;t++)i=e[t],this._widgets[i].prepareRender(r)},e.prototype.render=function(r){for(var e=Object.keys(this._widgets),t=0,n=e.length,i;t<n;t++)i=e[t],this._widgets[i].render(r)},e}(i.ViewPart);e.ViewContentWidgets=n;var r=function(){function n(o,i,t){this._context=o,this._viewDomNode=i,this._actual=t,this.domNode=l.createFastDomNode(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1,this._fixedOverflowWidgets=this._context.configuration.editor.viewInfo.fixedOverflowWidgets,this._contentWidth=this._context.configuration.editor.layoutInfo.contentWidth,this._contentLeft=this._context.configuration.editor.layoutInfo.contentLeft,this._lineHeight=this._context.configuration.editor.lineHeight,this._position=null,this._preference=null,this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this._updateMaxWidth(),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id)}return n.prototype.onConfigurationChanged=function(t){t.lineHeight&&(this._lineHeight=this._context.configuration.editor.lineHeight),t.layoutInfo&&(this._contentLeft=this._context.configuration.editor.layoutInfo.contentLeft,this._contentWidth=this._context.configuration.editor.layoutInfo.contentWidth,this._updateMaxWidth())},n.prototype._updateMaxWidth=function(){var t=this.allowEditorOverflow?window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth:this._contentWidth;this.domNode.setMaxWidth(t)},n.prototype.setPosition=function(o,e){this._position=o,this._preference=e},n.prototype._layoutBoxInViewport=function(r,e,t,n){var i=r.top,o=r.top+this._lineHeight,a=n.viewportHeight-o>=t,l=r.left;return l+e>n.scrollLeft+n.viewportWidth&&(l=n.scrollLeft+n.viewportWidth-e),l<n.scrollLeft&&(l=n.scrollLeft),{aboveTop:i-t,fitsAbove:i>=t,belowTop:o,fitsBelow:a,left:l}},n.prototype._layoutBoxInPage=function(n,e,t,i){var o=n.left-i.scrollLeft;if(0>o+e||o>this._contentWidth)return null;var r=n.top-t,f=n.top+this._lineHeight,y=o+this._contentLeft,C=_.getDomNodePagePosition(this._viewDomNode.domNode),l=C.top+r-_.StandardWindow.scrollY,c=C.top+f-_.StandardWindow.scrollY,d=C.left+y-_.StandardWindow.scrollX,h=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,p=c+t<=(window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight)-22;if(d+e+20>h&&(d-=b=d-(h-e-20),y-=b),0>d){var b=d;d-=b,y-=b}return this._fixedOverflowWidgets&&(r=l,f=c,y=d),{aboveTop:r,fitsAbove:22<=l,belowTop:f,fitsBelow:p,left:y}},n.prototype._prepareRenderWidgetAtExactPositionOverflowing=function(t){return new o(t.top,t.left+this._contentLeft)},n.prototype._getTopLeft=function(r,e){var t=r.visibleRangeForPosition(e);if(!t)return null;var a=r.getVerticalOffsetForLineNumber(e.lineNumber)-r.scrollTop;return new o(a,t.left)},n.prototype._prepareRenderWidget=function(p){var e=this;if(!this._position||!this._preference)return null;var s=this._context.model.validateModelPosition(this._position);if(!this._context.model.coordinatesConverter.modelPositionIsVisible(s))return null;for(var g=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(s),i=null,n=function(){if(!i){var t=e._getTopLeft(p,g);if(t){var n=e.domNode.domNode,o=n.clientWidth,s=n.clientHeight;i=e.allowEditorOverflow?e._layoutBoxInPage(t,o,s,p):e._layoutBoxInViewport(t,o,s,p)}}},a=1;2>=a;a++)for(var u=0,l;u<this._preference.length;u++)if(l=this._preference[u],l===t.ContentWidgetPositionPreference.ABOVE){if(n(),!i)return null;if(2===a||i.fitsAbove)return new o(i.aboveTop,i.left)}else{if(l!==t.ContentWidgetPositionPreference.BELOW){var c=this._getTopLeft(p,g);return c?this.allowEditorOverflow?this._prepareRenderWidgetAtExactPositionOverflowing(c):c:null}if(n(),!i)return null;if(2===a||i.fitsBelow)return new o(i.belowTop,i.left)}return null},n.prototype.prepareRender=function(t){this._renderData=this._prepareRenderWidget(t)},n.prototype.render=function(t){this._renderData?(this.allowEditorOverflow?(this.domNode.setTop(this._renderData.top),this.domNode.setLeft(this._renderData.left)):(this.domNode.setTop(this._renderData.top+t.scrollTop-t.bigNumbersDelta),this.domNode.setLeft(this._renderData.left)),this._isVisible||(this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0)):this._isVisible&&(this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,this.domNode.setVisibility("hidden"))},n}()}),define(s[231],n([1,0,67,2,78,278]),function(a,e,t,u,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(o){function e(e){var i=o.call(this)||this;return i._context=e,i._lineHeight=i._context.configuration.editor.lineHeight,i._typicalHalfwidthCharacterWidth=i._context.configuration.editor.fontInfo.typicalHalfwidthCharacterWidth,i._renderResult=null,i._context.addEventHandler(i),i}return Z(e,o),e.prototype.dispose=function(){this._context.removeEventHandler(this),this._context=null,this._renderResult=null,o.prototype.dispose.call(this)},e.prototype.onConfigurationChanged=function(t){return t.lineHeight&&(this._lineHeight=this._context.configuration.editor.lineHeight),t.fontInfo&&(this._typicalHalfwidthCharacterWidth=this._context.configuration.editor.fontInfo.typicalHalfwidthCharacterWidth),!0},e.prototype.onDecorationsChanged=function(){return!0},e.prototype.onFlushed=function(){return!0},e.prototype.onLinesChanged=function(){return!0},e.prototype.onLinesDeleted=function(){return!0},e.prototype.onLinesInserted=function(){return!0},e.prototype.onScrollChanged=function(t){return t.scrollTopChanged||t.scrollWidthChanged},e.prototype.onZonesChanged=function(){return!0},e.prototype.prepareRender=function(i){for(var e=i.getDecorationsInViewport(),t=[],n=0,o=0,r=e.length,s;o<r;o++)s=e[o],s.source.options.className&&(t[n++]=s);t=t.sort(function(i,e){var t=i.source.options.className,n=e.source.options.className;return t<n?-1:t>n?1:u.Range.compareRangesUsingStarts(i.range,e.range)});for(var a=i.visibleRange.startLineNumber,p=i.visibleRange.endLineNumber,l=[],c=a;c<=p;c++)l[c-a]="";this._renderWholeLineDecorations(i,t,l),this._renderNormalDecorations(i,t,l),this._renderResult=l},e.prototype._renderWholeLineDecorations=function(p,e,t){for(var n=this._lineHeight+"",i=p.visibleRange.startLineNumber,o=p.visibleRange.endLineNumber,r=0,s=e.length,a;r<s;r++)if(a=e[r],a.source.options.isWholeLine)for(var u="<div class=\"cdr "+a.source.options.className+"\" style=\"left:0;width:100%;height:"+n+"px;\"></div>",l=G(a.range.startLineNumber,i),c=q(a.range.endLineNumber,o),d=l;d<=c;d++)t[d-i]+=u},e.prototype._renderNormalDecorations=function(o,e,t){for(var i=this._lineHeight+"",r=o.visibleRange.startLineNumber,s=0,a=e.length,S;s<a;s++)if(S=e[s],!S.source.options.isWholeLine){var l=S.source.options.className,c=S.source.options.showIfCollapsed,d=S.range;c&&1===d.endColumn&&d.endLineNumber!==d.startLineNumber&&(d=new u.Range(d.startLineNumber,d.startColumn,d.endLineNumber-1,this._context.model.getLineMaxColumn(d.endLineNumber-1)));var h=o.linesVisibleRangesForRange(d,"findMatch"===l);if(h)for(var p=0,f=h.length;p<f;p++){var g=h[p],m=g.lineNumber-r;if(c&&1===g.ranges.length){var v=g.ranges[0];0===v.width&&(g.ranges[0]=new n.HorizontalRange(v.left,this._typicalHalfwidthCharacterWidth))}for(var _=0,y=g.ranges.length;_<y;_++){var C=g.ranges[_],b="<div class=\"cdr "+l+"\" style=\"left:"+(C.left+"px;width:")+(C.width+"px;height:")+i+"px;\"></div>";t[m]+=b}}}},e.prototype.render=function(o,e){if(!this._renderResult)return"";var t=e-o;if(0>t||t>=this._renderResult.length)throw new Error("Unexpected render request");return this._renderResult[t]},e}(t.DynamicViewOverlay);e.DecorationsOverlay=o}),define(s[113],n([1,0,67,279]),function(a,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var d=function(){return function(o,i,r){this.startLineNumber=+o,this.endLineNumber=+i,this.className=r+""}}();e.DecorationToRender=d;var n=function(o){function e(){return null!==o&&o.apply(this,arguments)||this}return Z(e,o),e.prototype._render=function(g,e,t){for(var n=[],i=g;i<=e;i++)n[i-g]=[];if(0===t.length)return n;t.sort(function(o,e){return o.className===e.className?o.startLineNumber===e.startLineNumber?o.endLineNumber-e.endLineNumber:o.startLineNumber-e.startLineNumber:o.className<e.className?-1:1});for(var o=null,r=0,s=0,a=t.length;s<a;s++){var u=t[s],l=u.className,c=G(u.startLineNumber,g)-g,d=q(u.endLineNumber,e)-g;o===l?(c=G(r+1,c),r=G(r,d)):(o=l,r=d);for(var m=c;m<=r;m++)n[m].push(o)}return n},e}(t.DynamicViewOverlay);e.DedupOverlay=n;var o=function(o){function e(e){var i=o.call(this)||this;return i._context=e,i._lineHeight=i._context.configuration.editor.lineHeight,i._glyphMargin=i._context.configuration.editor.viewInfo.glyphMargin,i._glyphMarginLeft=i._context.configuration.editor.layoutInfo.glyphMarginLeft,i._glyphMarginWidth=i._context.configuration.editor.layoutInfo.glyphMarginWidth,i._renderResult=null,i._context.addEventHandler(i),i}return Z(e,o),e.prototype.dispose=function(){this._context.removeEventHandler(this),this._context=null,this._renderResult=null,o.prototype.dispose.call(this)},e.prototype.onConfigurationChanged=function(t){return t.lineHeight&&(this._lineHeight=this._context.configuration.editor.lineHeight),t.viewInfo&&(this._glyphMargin=this._context.configuration.editor.viewInfo.glyphMargin),t.layoutInfo&&(this._glyphMarginLeft=this._context.configuration.editor.layoutInfo.glyphMarginLeft,this._glyphMarginWidth=this._context.configuration.editor.layoutInfo.glyphMarginWidth),!0},e.prototype.onDecorationsChanged=function(){return!0},e.prototype.onFlushed=function(){return!0},e.prototype.onLinesChanged=function(){return!0},e.prototype.onLinesDeleted=function(){return!0},e.prototype.onLinesInserted=function(){return!0},e.prototype.onScrollChanged=function(t){return t.scrollTopChanged},e.prototype.onZonesChanged=function(){return!0},e.prototype._getDecorations=function(i){for(var e=i.getDecorationsInViewport(),t=[],n=0,o=e.length;n<o;n++){var r=e[n],s=r.source.options.glyphMarginClassName;s&&t.push(new d(r.range.startLineNumber,r.range.endLineNumber,s))}return t},e.prototype.prepareRender=function(d){if(this._glyphMargin){for(var e=d.visibleRange.startLineNumber,t=d.visibleRange.endLineNumber,n=this._render(e,t,this._getDecorations(d)),i=this._lineHeight.toString(),o="\" style=\"left:"+this._glyphMarginLeft.toString()+"px;width:"+this._glyphMarginWidth.toString()+"px;height:"+i+"px;\"></div>",r=[],s=e;s<=t;s++){var a=s-e,p=n[a];r[a]=0===p.length?"":"<div class=\"cgmr "+p.join(" ")+o}this._renderResult=r}else this._renderResult=null},e.prototype.render=function(o,e){if(!this._renderResult)return"";var t=e-o;if(0>t||t>=this._renderResult.length)throw new Error("Unexpected render request");return this._renderResult[t]},e}(n);e.GlyphMarginOverlay=o}),define(s[233],n([1,0,113,288]),function(o,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(o){function e(e){var i=o.call(this)||this;return i._context=e,i._decorationsLeft=i._context.configuration.editor.layoutInfo.decorationsLeft,i._decorationsWidth=i._context.configuration.editor.layoutInfo.decorationsWidth,i._renderResult=null,i._context.addEventHandler(i),i}return Z(e,o),e.prototype.dispose=function(){this._context.removeEventHandler(this),this._context=null,this._renderResult=null,o.prototype.dispose.call(this)},e.prototype.onConfigurationChanged=function(t){return t.layoutInfo&&(this._decorationsLeft=this._context.configuration.editor.layoutInfo.decorationsLeft,this._decorationsWidth=this._context.configuration.editor.layoutInfo.decorationsWidth),!0},e.prototype.onDecorationsChanged=function(){return!0},e.prototype.onFlushed=function(){return!0},e.prototype.onLinesChanged=function(){return!0},e.prototype.onLinesDeleted=function(){return!0},e.prototype.onLinesInserted=function(){return!0},e.prototype.onScrollChanged=function(t){return t.scrollTopChanged},e.prototype.onZonesChanged=function(){return!0},e.prototype._getDecorations=function(n){for(var e=n.getDecorationsInViewport(),t=[],i=0,o=e.length;i<o;i++){var d=e[i],s=d.source.options.linesDecorationsClassName;s&&t.push(new r.DecorationToRender(d.range.startLineNumber,d.range.endLineNumber,s))}return t},e.prototype.prepareRender=function(p){for(var e=p.visibleRange.startLineNumber,t=p.visibleRange.endLineNumber,n=this._render(e,t,this._getDecorations(p)),i="\" style=\"left:"+this._decorationsLeft.toString()+"px;width:"+this._decorationsWidth.toString()+"px;\"></div>",o=[],r=e;r<=t;r++){for(var s=r-e,a=n[s],u="",l=0,c=a.length;l<c;l++)u+="<div class=\"cldr "+a[l]+i;o[s]=u}this._renderResult=o},e.prototype.render=function(o,e){return this._renderResult?this._renderResult[e-o]:""},e}(r.DedupOverlay);e.LinesDecorationsOverlay=t}),define(s[182],n([1,0,27,35]),function(r,e,a,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(o){function n(e){var i=o.call(this,e)||this;return i._canUseLayerHinting=i._context.configuration.editor.canUseLayerHinting,i._contentLeft=i._context.configuration.editor.layoutInfo.contentLeft,i._glyphMarginLeft=i._context.configuration.editor.layoutInfo.glyphMarginLeft,i._glyphMarginWidth=i._context.configuration.editor.layoutInfo.glyphMarginWidth,i._domNode=i._createDomNode(),i}return Z(n,o),n.prototype.dispose=function(){o.prototype.dispose.call(this)},n.prototype.getDomNode=function(){return this._domNode},n.prototype._createDomNode=function(){var t=a.createFastDomNode(document.createElement("div"));return t.setClassName("margin"),t.setPosition("absolute"),t.setAttribute("role","presentation"),t.setAttribute("aria-hidden","true"),this._glyphMarginBackgroundDomNode=a.createFastDomNode(document.createElement("div")),this._glyphMarginBackgroundDomNode.setClassName(n.CLASS_NAME),t.appendChild(this._glyphMarginBackgroundDomNode),t},n.prototype.onConfigurationChanged=function(t){return t.canUseLayerHinting&&(this._canUseLayerHinting=this._context.configuration.editor.canUseLayerHinting),t.layoutInfo&&(this._contentLeft=this._context.configuration.editor.layoutInfo.contentLeft,this._glyphMarginLeft=this._context.configuration.editor.layoutInfo.glyphMarginLeft,this._glyphMarginWidth=this._context.configuration.editor.layoutInfo.glyphMarginWidth),!0},n.prototype.onScrollChanged=function(e){return o.prototype.onScrollChanged.call(this,e)||e.scrollTopChanged},n.prototype.prepareRender=function(){},n.prototype.render=function(o){this._domNode.setLayerHinting(this._canUseLayerHinting);var e=o.scrollTop-o.bigNumbersDelta;this._domNode.setTop(-e);var i=q(o.scrollHeight,1e6);this._domNode.setHeight(i),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(i)},n.CLASS_NAME="glyph-margin",n}(t.ViewPart);e.Margin=n}),define(s[235],n([1,0,113,291]),function(o,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(o){function e(e){var i=o.call(this)||this;return i._context=e,i._renderResult=null,i._context.addEventHandler(i),i}return Z(e,o),e.prototype.dispose=function(){this._context.removeEventHandler(this),this._context=null,this._renderResult=null,o.prototype.dispose.call(this)},e.prototype.onConfigurationChanged=function(){return!0},e.prototype.onDecorationsChanged=function(){return!0},e.prototype.onFlushed=function(){return!0},e.prototype.onLinesChanged=function(){return!0},e.prototype.onLinesDeleted=function(){return!0},e.prototype.onLinesInserted=function(){return!0},e.prototype.onScrollChanged=function(t){return t.scrollTopChanged},e.prototype.onZonesChanged=function(){return!0},e.prototype._getDecorations=function(n){for(var e=n.getDecorationsInViewport(),t=[],i=0,o=e.length;i<o;i++){var d=e[i],s=d.source.options.marginClassName;s&&t.push(new r.DecorationToRender(d.range.startLineNumber,d.range.endLineNumber,s))}return t},e.prototype.prepareRender=function(d){for(var e=d.visibleRange.startLineNumber,t=d.visibleRange.endLineNumber,n=this._render(e,t,this._getDecorations(d)),i=[],o=e;o<=t;o++){for(var r=o-e,s=n[r],a="",p=0,l=s.length;p<l;p++)a+="<div class=\"cmdr "+s[p]+"\" style=\"\"></div>";i[r]=a}this._renderResult=i},e.prototype.render=function(o,e){return this._renderResult?this._renderResult[e-o]:""},e}(r.DedupOverlay);e.MarginViewLineDecorationsOverlay=t}),define(s[236],n([1,0,27,25,35,296]),function(a,e,s,d,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(o){function e(e){var r=o.call(this,e)||this;return r._widgets={},r._verticalScrollbarWidth=r._context.configuration.editor.layoutInfo.verticalScrollbarWidth,r._minimapWidth=r._context.configuration.editor.layoutInfo.minimapWidth,r._horizontalScrollbarHeight=r._context.configuration.editor.layoutInfo.horizontalScrollbarHeight,r._editorHeight=r._context.configuration.editor.layoutInfo.height,r._editorWidth=r._context.configuration.editor.layoutInfo.width,r._domNode=s.createFastDomNode(document.createElement("div")),n.PartFingerprints.write(r._domNode,4),r._domNode.setClassName("overlayWidgets"),r}return Z(e,o),e.prototype.dispose=function(){o.prototype.dispose.call(this),this._widgets=null},e.prototype.getDomNode=function(){return this._domNode},e.prototype.onConfigurationChanged=function(t){return!!t.layoutInfo&&(this._verticalScrollbarWidth=this._context.configuration.editor.layoutInfo.verticalScrollbarWidth,this._minimapWidth=this._context.configuration.editor.layoutInfo.minimapWidth,this._horizontalScrollbarHeight=this._context.configuration.editor.layoutInfo.horizontalScrollbarHeight,this._editorHeight=this._context.configuration.editor.layoutInfo.height,this._editorWidth=this._context.configuration.editor.layoutInfo.width,!0)},e.prototype.addWidget=function(o){var n=s.createFastDomNode(o.getDomNode());this._widgets[o.getId()]={widget:o,preference:null,domNode:n},n.setPosition("absolute"),n.setAttribute("widgetId",o.getId()),this._domNode.appendChild(n),this.setShouldRender()},e.prototype.setWidgetPosition=function(o,e){var t=this._widgets[o.getId()];return t.preference!==e&&(t.preference=e,this.setShouldRender(),!0)},e.prototype.removeWidget=function(o){var e=o.getId();if(this._widgets.hasOwnProperty(e)){var t=this._widgets[e].domNode.domNode;delete this._widgets[e],t.parentNode.removeChild(t),this.setShouldRender()}},e.prototype._renderWidget=function(o){var e=o.domNode;if(!(null!==o.preference))e.unsetTop();else if(o.preference===d.OverlayWidgetPositionPreference.TOP_RIGHT_CORNER)e.setTop(0),e.setRight(2*this._verticalScrollbarWidth+this._minimapWidth);else if(o.preference===d.OverlayWidgetPositionPreference.BOTTOM_RIGHT_CORNER){var t=e.domNode.clientHeight;e.setTop(this._editorHeight-t-2*this._horizontalScrollbarHeight),e.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)}else o.preference===d.OverlayWidgetPositionPreference.TOP_CENTER&&(e.setTop(0),e.domNode.style.right="50%")},e.prototype.prepareRender=function(){},e.prototype.render=function(){this._domNode.setWidth(this._editorWidth);for(var e=Object.keys(this._widgets),t=0,n=e.length,i;t<n;t++)i=e[t],this._renderWidget(this._widgets[i])},e}(n.ViewPart);e.ViewOverlayWidgets=t}),define(s[237],n([1,0,10,27,35,12]),function(a,e,t,d,n,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(i){function e(e){var o=i.call(this,e)||this;return o._lineHeight=o._context.configuration.editor.lineHeight,o._contentWidth=o._context.configuration.editor.layoutInfo.contentWidth,o._contentLeft=o._context.configuration.editor.layoutInfo.contentLeft,o.domNode=d.createFastDomNode(document.createElement("div")),o.domNode.setClassName("view-zones"),o.domNode.setPosition("absolute"),o.domNode.setAttribute("role","presentation"),o.domNode.setAttribute("aria-hidden","true"),o.marginDomNode=d.createFastDomNode(document.createElement("div")),o.marginDomNode.setClassName("margin-view-zones"),o.marginDomNode.setPosition("absolute"),o.marginDomNode.setAttribute("role","presentation"),o.marginDomNode.setAttribute("aria-hidden","true"),o._zones={},o}return Z(e,i),e.prototype.dispose=function(){i.prototype.dispose.call(this),this._zones={}},e.prototype._recomputeWhitespacesProps=function(){for(var a=!1,e=Object.keys(this._zones),t=0,n=e.length;t<n;t++){var i=e[t],o=this._zones[i],r=this._computeWhitespaceProps(o.delegate);this._context.viewLayout.changeWhitespace(parseInt(i,10),r.afterViewLineNumber,r.heightInPx)&&(this._safeCallOnComputedHeight(o.delegate,r.heightInPx),a=!0)}return a},e.prototype.onConfigurationChanged=function(t){return t.lineHeight?(this._lineHeight=this._context.configuration.editor.lineHeight,this._recomputeWhitespacesProps()):(t.layoutInfo&&(this._contentWidth=this._context.configuration.editor.layoutInfo.contentWidth,this._contentLeft=this._context.configuration.editor.layoutInfo.contentLeft),!0)},e.prototype.onLineMappingChanged=function(){return this._recomputeWhitespacesProps()},e.prototype.onLinesDeleted=function(){return!0},e.prototype.onScrollChanged=function(t){return t.scrollTopChanged||t.scrollWidthChanged},e.prototype.onZonesChanged=function(){return!0},e.prototype.onLinesInserted=function(){return!0},e.prototype._getZoneOrdinal=function(t){return void 0===t.afterColumn?1e4:t.afterColumn},e.prototype._computeWhitespaceProps=function(r){if(0===r.afterLineNumber)return{afterViewLineNumber:0,heightInPx:this._heightInPixels(r)};var e;if(void 0!==r.afterColumn)e=this._context.model.validateModelPosition({lineNumber:r.afterLineNumber,column:r.afterColumn});else{var t=this._context.model.validateModelPosition({lineNumber:r.afterLineNumber,column:1}).lineNumber;e=new o.Position(t,this._context.model.getModelLineMaxColumn(t))}var n=e.column===this._context.model.getModelLineMaxColumn(e.lineNumber)?this._context.model.validateModelPosition({lineNumber:e.lineNumber+1,column:1}):this._context.model.validateModelPosition({lineNumber:e.lineNumber,column:e.column+1});var i=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(e),a=this._context.model.coordinatesConverter.modelPositionIsVisible(n);return{afterViewLineNumber:i.lineNumber,heightInPx:a?this._heightInPixels(r):0}},e.prototype.addZone=function(o){var i=this._computeWhitespaceProps(o),t={whitespaceId:this._context.viewLayout.addWhitespace(i.afterViewLineNumber,this._getZoneOrdinal(o),i.heightInPx),delegate:o,isVisible:!1,domNode:d.createFastDomNode(o.domNode),marginDomNode:o.marginDomNode?d.createFastDomNode(o.marginDomNode):null};return this._safeCallOnComputedHeight(t.delegate,i.heightInPx),t.domNode.setPosition("absolute"),t.domNode.domNode.style.width="100%",t.domNode.setDisplay("none"),t.domNode.setAttribute("monaco-view-zone",t.whitespaceId.toString()),this.domNode.appendChild(t.domNode),t.marginDomNode&&(t.marginDomNode.setPosition("absolute"),t.marginDomNode.domNode.style.width="100%",t.marginDomNode.setDisplay("none"),t.marginDomNode.setAttribute("monaco-view-zone",t.whitespaceId.toString()),this.marginDomNode.appendChild(t.marginDomNode)),this._zones[t.whitespaceId.toString()]=t,this.setShouldRender(),t.whitespaceId},e.prototype.removeZone=function(o){if(this._zones.hasOwnProperty(o.toString())){var e=this._zones[o.toString()];return delete this._zones[o.toString()],this._context.viewLayout.removeWhitespace(e.whitespaceId),e.domNode.removeAttribute("monaco-visible-view-zone"),e.domNode.removeAttribute("monaco-view-zone"),e.domNode.domNode.parentNode.removeChild(e.domNode.domNode),e.marginDomNode&&(e.marginDomNode.removeAttribute("monaco-visible-view-zone"),e.marginDomNode.removeAttribute("monaco-view-zone"),e.marginDomNode.domNode.parentNode.removeChild(e.marginDomNode.domNode)),this.setShouldRender(),!0}return!1},e.prototype.layoutZone=function(o){var e=!1;if(this._zones.hasOwnProperty(o.toString())){var t=this._zones[o.toString()],n=this._computeWhitespaceProps(t.delegate);(e=this._context.viewLayout.changeWhitespace(t.whitespaceId,n.afterViewLineNumber,n.heightInPx)||e)&&(this._safeCallOnComputedHeight(t.delegate,n.heightInPx),this.setShouldRender())}return e},e.prototype.shouldSuppressMouseDownOnViewZone=function(t){return!!this._zones.hasOwnProperty(t.toString())&&this._zones[t.toString()].delegate.suppressMouseDown},e.prototype._heightInPixels=function(t){return"number"==typeof t.heightInPx?t.heightInPx:"number"==typeof t.heightInLines?this._lineHeight*t.heightInLines:this._lineHeight},e.prototype._safeCallOnComputedHeight=function(o,e){if("function"==typeof o.onComputedHeight)try{o.onComputedHeight(e)}catch(o){t.onUnexpectedError(o)}},e.prototype._safeCallOnDomNodeTop=function(o,e){if("function"==typeof o.onDomNodeTop)try{o.onDomNodeTop(e)}catch(o){t.onUnexpectedError(o)}},e.prototype.prepareRender=function(){},e.prototype.render=function(p){for(var e=p.viewportData.whitespaceViewportData,t={},n=!1,i=0,o=e.length;i<o;i++)t[e[i].id.toString()]=e[i],n=!0;for(var r=Object.keys(this._zones),i=0,o=r.length;i<o;i++){var s=r[i],a=this._zones[s],u=0,l=0,c="none";t.hasOwnProperty(s)?(u=t[s].verticalOffset-p.bigNumbersDelta,l=t[s].height,c="block",a.isVisible||(a.domNode.setAttribute("monaco-visible-view-zone","true"),a.isVisible=!0),this._safeCallOnDomNodeTop(a.delegate,p.getScrolledTopFromAbsoluteTop(t[s].verticalOffset))):(a.isVisible&&(a.domNode.removeAttribute("monaco-visible-view-zone"),a.isVisible=!1),this._safeCallOnDomNodeTop(a.delegate,p.getScrolledTopFromAbsoluteTop(-1e6))),a.domNode.setTop(u),a.domNode.setHeight(l),a.domNode.setDisplay(c),a.marginDomNode&&(a.marginDomNode.setTop(u),a.marginDomNode.setHeight(l),a.marginDomNode.setDisplay(c))}n&&(this.domNode.setWidth(G(p.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft))},e}(n.ViewPart);e.ViewZones=i}),define(s[86],n([1,0]),function(d,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(){return function(o,e,t,n){this.top=0|o,this.left=0|e,this.width=0|t,this.height=0|n}}();e.Viewport=t;var n=function(){return function(o,e){this.tabSize=o,this.data=e}}();e.MinimapLinesRenderingData=n;var i=function(){return function(o,e,t,n){this.content=o,this.minColumn=e,this.maxColumn=t,this.tokens=n}}();e.ViewLineData=i;var o=function(){return function(d,e,t,n,i,o,r,s){this.minColumn=d,this.maxColumn=e,this.content=t,this.mightContainRTL=n,this.mightContainNonBasicASCII=i,this.tokens=o,this.inlineDecorations=r,this.tabSize=s}}();e.ViewLineRenderingData=o;var r=function(){return function(o,e,t){this.range=o,this.inlineClassName=e,this.insertsBeforeOrAfter=t}}();e.InlineDecoration=r;var s=function(){return function(t){this.range=null,this.source=t}}();e.ViewModelDecoration=s;var a=function(){function t(){this._eventsLen=0,this._events=[],this._eventsLen=0}return t.prototype.emit=function(t){this._events[this._eventsLen++]=t},t.prototype.finalize=function(){var t=this._events;return this._events=null,t},t}();e.ViewEventsCollector=a}),define(s[239],n([1,0,3,48,223,86]),function(a,e,t,d,i,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(a){function r(e,o){var n=a.call(this)||this;return n._configuration=e,n._linesLayout=new i.LinesLayout(o,n._configuration.editor.lineHeight),n.scrollable=n._register(new d.Scrollable),n.scrollable.updateState({width:e.editor.layoutInfo.contentWidth,height:e.editor.layoutInfo.contentHeight}),n.onDidScroll=n.scrollable.onScroll,n._updateHeight(),n}return Z(r,a),r.prototype.dispose=function(){a.prototype.dispose.call(this)},r.prototype.getScrollable=function(){return this.scrollable},r.prototype.onHeightMaybeChanged=function(){this._updateHeight()},r.prototype.onConfigurationChanged=function(t){t.lineHeight&&this._linesLayout.setLineHeight(this._configuration.editor.lineHeight),t.layoutInfo&&this.scrollable.updateState({width:this._configuration.editor.layoutInfo.contentWidth,height:this._configuration.editor.layoutInfo.contentHeight}),this._updateHeight()},r.prototype.onFlushed=function(t){this._linesLayout.onFlushed(t),this._updateHeight()},r.prototype.onLinesDeleted=function(o,e){this._linesLayout.onLinesDeleted(o,e),this._updateHeight()},r.prototype.onLinesInserted=function(o,e){this._linesLayout.onLinesInserted(o,e),this._updateHeight()},r.prototype._getHorizontalScrollbarHeight=function(t){return this._configuration.editor.viewInfo.scrollbar.horizontal===d.ScrollbarVisibility.Hidden?0:t.width>=t.scrollWidth?0:this._configuration.editor.viewInfo.scrollbar.horizontalScrollbarSize},r.prototype._getTotalHeight=function(){var o=this.scrollable.getState(),e=this._linesLayout.getLinesTotalHeight();return e+=this._configuration.editor.viewInfo.scrollBeyondLastLine?o.height-this._configuration.editor.lineHeight:this._getHorizontalScrollbarHeight(o),G(o.height,e)},r.prototype._updateHeight=function(){this.scrollable.updateState({scrollHeight:this._getTotalHeight()})},r.prototype.getCurrentViewport=function(){var t=this.scrollable.getState();return new o.Viewport(t.scrollTop,t.scrollLeft,t.width,t.height)},r.prototype._computeScrollWidth=function(t,e){return this._configuration.editor.wrappingInfo.isViewportWrapping?G(t,e):G(t+r.LINES_HORIZONTAL_EXTRA_PX,e)},r.prototype.onMaxLineWidthChanged=function(o){var e=this._computeScrollWidth(o,this.getCurrentViewport().width);this.scrollable.updateState({scrollWidth:e}),this._updateHeight()},r.prototype.saveState=function(){var o=this.scrollable.getState(),e=o.scrollTop,i=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(e);return{scrollTop:e,scrollTopWithoutViewZones:e-this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(i),scrollLeft:o.scrollLeft}},r.prototype.restoreState=function(o){var e=o.scrollTop;"number"!=typeof o.scrollTopWithoutViewZones||this._linesLayout.hasWhitespace()||(e=o.scrollTopWithoutViewZones),this.scrollable.updateState({scrollLeft:o.scrollLeft,scrollTop:e})},r.prototype.addWhitespace=function(o,e,t){return this._linesLayout.insertWhitespace(o,e,t)},r.prototype.changeWhitespace=function(o,e,t){return this._linesLayout.changeWhitespace(o,e,t)},r.prototype.removeWhitespace=function(t){return this._linesLayout.removeWhitespace(t)},r.prototype.getVerticalOffsetForLineNumber=function(t){return this._linesLayout.getVerticalOffsetForLineNumber(t)},r.prototype.isAfterLines=function(t){return this._linesLayout.isAfterLines(t)},r.prototype.getLineNumberAtVerticalOffset=function(t){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(t)},r.prototype.getWhitespaceAtVerticalOffset=function(t){return this._linesLayout.getWhitespaceAtVerticalOffset(t)},r.prototype.getLinesViewportData=function(){var t=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(t.top,t.top+t.height)},r.prototype.getLinesViewportDataAtScrollTop=function(o){var e=this.scrollable.getState();return o+e.height>e.scrollHeight&&(o=e.scrollHeight-e.height),0>o&&(o=0),this._linesLayout.getLinesViewportData(o,o+e.height)},r.prototype.getWhitespaceViewportData=function(){var t=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(t.top,t.top+t.height)},r.prototype.getWhitespaces=function(){return this._linesLayout.getWhitespaces()},r.prototype.getScrollWidth=function(){return this.scrollable.getState().scrollWidth},r.prototype.getScrollLeft=function(){return this.scrollable.getState().scrollLeft},r.prototype.getScrollHeight=function(){return this.scrollable.getState().scrollHeight},r.prototype.getScrollTop=function(){return this.scrollable.getState().scrollTop},r.prototype.setScrollPosition=function(t){this.scrollable.updateState(t)},r.LINES_HORIZONTAL_EXTRA_PX=30,r}(t.Disposable);e.ViewLayout=n}),define(s[240],n([1,0,2,12,86]),function(a,e,t,n,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function o(o,r,t,n){this.editorId=o,this.model=r,this.configuration=t,this._coordinatesConverter=n,this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}return o.prototype._clearCachedModelDecorationsResolver=function(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null},o.prototype.dispose=function(){this._decorationsCache=null,this._clearCachedModelDecorationsResolver()},o.prototype.reset=function(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()},o.prototype.onModelDecorationsChanged=function(d){for(var e=d.changedDecorations,t=0,n=e.length;t<n;t++){var i=e[t],o=this._decorationsCache[i];o&&(o.range=null)}var r=d.removedDecorations;if(null!==this._decorationsCache&&void 0!==this._decorationsCache)for(var t=0,n=r.length,s;t<n;t++)s=r[t],delete this._decorationsCache[s];this._clearCachedModelDecorationsResolver()},o.prototype.onLineMappingChanged=function(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()},o.prototype._getOrCreateViewModelDecoration=function(o){var e=o.id,i=this._decorationsCache[e];if(i||(i=new h.ViewModelDecoration(o),this._decorationsCache[e]=i),null===i.range){var r=o.range;if(o.options.isWholeLine){var s=this._coordinatesConverter.convertModelPositionToViewPosition(new n.Position(r.startLineNumber,1)),a=this._coordinatesConverter.convertModelPositionToViewPosition(new n.Position(r.endLineNumber,this.model.getLineMaxColumn(r.endLineNumber)));i.range=new t.Range(s.lineNumber,s.column,a.lineNumber,a.column)}else i.range=this._coordinatesConverter.convertModelRangeToViewRange(r)}return i},o.prototype.getAllOverviewRulerDecorations=function(){for(var a=this.model.getAllDecorations(this.editorId,this.configuration.editor.readOnly),e=[],t=0,n=0,i=a.length,o;n<i;n++)if(o=a[n],o.options.overviewRuler.color){var r=this._getOrCreateViewModelDecoration(o);e[t++]=r}return e},o.prototype.getDecorationsViewportData=function(o){var e=!0;return e=e&&null!==this._cachedModelDecorationsResolver,(e=e&&o.equalsRange(this._cachedModelDecorationsResolverViewRange))||(this._cachedModelDecorationsResolver=this._getDecorationsViewportData(o),this._cachedModelDecorationsResolverViewRange=o),this._cachedModelDecorationsResolver},o.prototype._getDecorationsViewportData=function(o){for(var e=this._coordinatesConverter.convertViewRangeToModelRange(o),n=o.startLineNumber,i=o.endLineNumber,r=this.model.getDecorationsInRange(e,this.editorId,this.configuration.editor.readOnly),s=[],C=0,u=[],b=n;b<=i;b++)u[b-n]=[];for(var c=0,d=r.length;c<d;c++){var S=r[c],p=S.options,f=this._getOrCreateViewModelDecoration(S),g=f.range;if(s[C++]=f,p.inlineClassName)for(var m=new h.InlineDecoration(g,p.inlineClassName,!1),v=G(n,g.startLineNumber),_=q(i,g.endLineNumber),b=v;b<=_;b++)u[b-n].push(m);p.beforeContentClassName&&n<=g.startLineNumber&&g.startLineNumber<=i&&(m=new h.InlineDecoration(new t.Range(g.startLineNumber,g.startColumn,g.startLineNumber,g.startColumn+1),p.beforeContentClassName,!0),u[g.startLineNumber-n].push(m)),p.afterContentClassName&&n<=g.endLineNumber&&g.endLineNumber<=i&&1<g.endColumn&&(m=new h.InlineDecoration(new t.Range(g.endLineNumber,g.endColumn-1,g.endLineNumber,g.endColumn),p.afterContentClassName,!0),u[g.endLineNumber-n].push(m))}return{decorations:s,inlineDecorations:u}},o}();e.ViewModelDecorations=o}),define(s[241],n([1,0,2]),function(o,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function t(o,n){this._selection=o,this._isMovingLeft=n}return t.prototype.getEditOperations=function(n,e){var t=this._selection;if(this._selectionId=e.trackSelection(t),t.startLineNumber===t.endLineNumber&&(!this._isMovingLeft||0!==t.startColumn)&&(this._isMovingLeft||t.endColumn!==n.getLineMaxColumn(t.startLineNumber))){var i=t.selectionStartLineNumber,a=n.getLineContent(i),p,o,r;this._isMovingLeft?(p=a.substring(0,t.startColumn-2),o=a.substring(t.startColumn-1,t.endColumn-1),r=a.substring(t.startColumn-2,t.startColumn-1)+a.substring(t.endColumn-1)):(p=a.substring(0,t.startColumn-1)+a.substring(t.endColumn-1,t.endColumn),o=a.substring(t.startColumn-1,t.endColumn-1),r=a.substring(t.endColumn));var s=p+o+r;e.addEditOperation(new d.Range(i,1,i,n.getLineMaxColumn(i)),null),e.addEditOperation(new d.Range(i,1,i,1),s),this._cutStartIndex=t.startColumn+(this._isMovingLeft?-1:1),this._cutEndIndex=this._cutStartIndex+t.endColumn-t.startColumn,this._moved=!0}},t.prototype.computeCursorState=function(o,e){var t=e.getTrackedSelection(this._selectionId);return this._moved&&(t=(t=t.setStartPosition(t.startLineNumber,this._cutStartIndex)).setEndPosition(t.startLineNumber,this._cutEndIndex)),t},t}();e.MoveCaretCommand=t}),define(s[242],n([1,0,32,2]),function(a,e,d,l){"use strict";function t(t){return!!t.transparentFormatter}Object.defineProperty(e,"__esModule",{value:!0}),e.isAdvancedFormatter=t;var o=function(){function o(i,d,t,n,o,r,s){this.editorModel=r,this.colorFormatters=[],this._colorModelIndex=0,this.originalColor=i,this._opaqueFormatter=t,this.colorFormatters=o,this.color=d,this.hue=d.getHue(),this.saturation=d.getSaturation(),this.value=d.getValue(),this._colorRange=new l.Range(s.startLineNumber,s.startColumn,s.endLineNumber,s.endColumn)}return Object.defineProperty(o.prototype,"color",{get:function(){return this._color},set:function(o){this._color=o;var e=o.toRGBA().a;this._opacity||(this._opacity=e/255),this.saturation=o.getSaturation(),this.value=o.getValue(),1===this._opacity?this.selectedColorString=this._opaqueFormatter.toString(this._color):this._transparentFormatter?this.selectedColorString=this._transparentFormatter.toString(this._color):this.nextColorMode()},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"selectedColorString",{get:function(){return this._selectedColor},set:function(t){this._selectedColor!==t&&(this._selectedColor=t,this.widget&&this.widget.header&&this.widget.body&&(this.widget.header.updatePickedColor(),this.widget.body.fillOpacityOverlay(this._color),this.editorModel.pushEditOperations([],[{identifier:null,range:this._colorRange,text:t,forceMoveMarkers:!1}],function(){return[]}),this._colorRange=this._colorRange.setEndPosition(this._colorRange.endLineNumber,this._colorRange.startColumn+t.length)))},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"hue",{get:function(){return this._hue},set:function(t){this._hue=t,this.widget&&this.widget.body&&this.widget.body.saturationBox.fillSaturationBox()},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"opacity",{get:function(){return this._opacity},set:function(o){this._opacity=o;var e=this._color.toRGBA();this.color=d.Color.fromRGBA(new d.RGBA(e.r,e.g,e.b,255*o)),this.widget.header&&this.widget.header.updatePickedColor()},enumerable:!0,configurable:!0}),o.prototype.nextColorMode=function(){this._colorModelIndex++,this._colorModelIndex===this.colorFormatters.length&&(this._colorModelIndex=0);var o=this.colorFormatters[this._colorModelIndex];t(o)?(this._transparentFormatter=o.transparentFormatter,this._opaqueFormatter=o.opaqueFormatter,this.selectedColorString=1===this._opacity?this._opaqueFormatter.toString(this._color):this._transparentFormatter.toString(this._color)):this._transparentFormatter&&1!==this._opacity?this.nextColorMode():(this._transparentFormatter=null,this._opaqueFormatter=o,this.selectedColorString=this._opaqueFormatter.toString(this._color))},o.prototype.getHueColor=function(n){var e=n/60,t=1-I(e%2-1),i=0,o=0,r=0;return 0<=e&&1>e?(i=1,o=t):1<=e&&2>e?(i=t,o=1):2<=e&&3>e?(o=1,r=t):3<=e&&4>e?(o=t,r=1):4<=e&&5>e?(i=t,r=1):(i=1,r=t),i=w(255*i),o=w(255*o),r=w(255*r),d.Color.fromRGBA(new d.RGBA(i,o,r))},o}();e.ColorPickerModel=o;var n=function(){return function(){}}();e.ISaturationState=n}),define(s[243],n([1,0,4,3,83,15,32]),function(d,e,p,t,g,o,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=p.$,i=function(s){function e(e,r){var i=s.call(this)||this;return i.widget=e,i.model=r,i.pixelRatio=i.widget.editor.getConfiguration().pixelRatio,i.domNode=n(".colorpicker-body"),p.append(e.getDomNode(),i.domNode),i.drawSaturationBox(),i.drawOpacityStrip(),i.drawHueStrip(),i.registerListeners(),i}return Z(e,s),e.prototype.fillOpacityOverlay=function(r){var e=r.toRGBA(),t=e.r,n=e.g,i=e.b;this.opacityOverlay.style.background="linear-gradient(to bottom, rgba("+t+", "+n+", "+i+", 1) 0%, rgba("+t+", "+n+", "+i+", 0) 100%)"},e.prototype.registerListeners=function(){var o=this,e=this._register(new g.GlobalMouseMoveMonitor);this._register(p.addDisposableListener(this.saturationBox.domNode,p.EventType.MOUSE_DOWN,function(t){o.saturationListener(t,e)})),this._register(p.addDisposableListener(this.hueStrip,p.EventType.MOUSE_DOWN,function(t){o.stripListener(o.hueStrip,t,e)})),this._register(p.addDisposableListener(this.opacityStrip,p.EventType.MOUSE_DOWN,function(t){o.stripListener(o.opacityStrip,t,e)}))},e.prototype.saturationListener=function(o,e){var s=this;if(0===o.button){var d=function(o,n){var r=s.saturationBox.extractColor(o,n).toRGBA();s.widget.model.color=m.Color.fromRGBA(new m.RGBA(r.r,r.g,r.b,255*s.widget.model.opacity)),s.saturationBox.focusSaturationSelection({x:o,y:n})},a,i;o.target===this.saturationBox.saturationSelection?(a=this.widget.model.saturationSelection.x,i=this.widget.model.saturationSelection.y):(a=o.offsetX,i=o.offsetY,d(a,i));var r=o.clientY,p=o.clientX;e.startMonitoring(g.standardMouseMoveMerger,function(o){var e=o.posx-p,t=o.posy-r;d(a+e,i+t)},function(){return null})}},e.prototype.stripListener=function(r,e,t){var p=this;if(0===e.button){var i=r===this.hueStrip?this.hueSlider:this.opacitySlider,s=r===this.hueStrip?this.hueStrip:this.opacityStrip;e.target!==this.hueStrip&&e.target!==this.opacityStrip||(i.top=e.offsetY);var a=function(){i===p.hueSlider?p.widget.model.hue=p.calculateSliderHue(i):i===p.opacitySlider&&(p.widget.model.opacity=p.calculateOpacity(i))};a();var u=e.clientY,l=e.clientX,c=i.top;t.startMonitoring(g.standardMouseMoveMerger,function(r){s.style.cursor="-webkit-grabbing";var e=I(r.posx-l);if(o.isWindows&&140<e)return i.top=0,void(i===p.hueSlider?p.widget.model.hue=0:i===p.opacitySlider&&(p.widget.model.opacity=1));var t=r.posy-u;i.top=c+t,a()},function(){s.style.cursor="-webkit-grab"})}},e.prototype.drawSaturationBox=function(){this.saturationBox=new r(this.model,this.domNode,this.pixelRatio)},e.prototype.drawOpacityStrip=function(){this.opacityStrip=n(".strip.opacity-strip"),p.append(this.domNode,this.opacityStrip),this.opacityOverlay=n(".opacity-overlay"),this.fillOpacityOverlay(this.model.color),p.append(this.opacityStrip,this.opacityOverlay),this.opacitySlider=new a(this.opacityStrip),this.opacitySlider.top=1===this.model.opacity?0:this.opacityStrip.offsetHeight*(1-this.model.opacity),p.append(this.opacityStrip,this.opacitySlider.domNode)},e.prototype.drawHueStrip=function(){this.hueStrip=n(".strip.hue-strip"),p.append(this.domNode,this.hueStrip),this.hueSlider=new a(this.hueStrip),p.append(this.hueStrip,this.hueSlider.domNode),this.hueSlider.top=(this.hueStrip.offsetHeight-this.hueSlider.domNode.offsetHeight)*(this.model.color.getHue()/359)},e.prototype.calculateSliderHue=function(o){var e=this.hueStrip.offsetHeight-o.domNode.offsetHeight;return 359*(1-(e-o.top)/e)},e.prototype.calculateOpacity=function(o){var e=this.opacityStrip.offsetHeight-o.domNode.offsetHeight;return(e-o.top)/e},e}(t.Disposable);e.ColorPickerBody=i;var r=function(){function t(o,r,t){this.model=o,this.pixelRatio=t,this.domNode=n(".saturation-wrap"),p.append(r,this.domNode),this.saturationCanvas=document.createElement("canvas"),this.saturationCanvas.className="saturation-box",p.append(this.domNode,this.saturationCanvas),this.saturationSelection=n(".saturation-selection"),p.append(this.domNode,this.saturationSelection)}return t.prototype.layout=function(){var a=this.domNode.offsetWidth*this.pixelRatio,e=this.domNode.offsetHeight*this.pixelRatio;this.saturationCanvas.width=a,this.saturationCanvas.height=e,this.saturationCtx=this.saturationCanvas.getContext("2d"),this.saturationCtx.rect(0,0,a,e);var t=document.createElement("canvas").getContext("2d");this.whiteGradient=t.createLinearGradient(0,0,a,0),this.whiteGradient.addColorStop(0,"rgba(255, 255, 255, 1)"),this.whiteGradient.addColorStop(1,"rgba(255, 255, 255, 0)"),this.blackGradient=t.createLinearGradient(0,0,0,e),this.blackGradient.addColorStop(0,"rgba(0, 0, 0, 0)"),this.blackGradient.addColorStop(1,"rgba(0, 0, 0, 1)"),this.fillSaturationBox();var n=this.model.saturation*this.saturationCanvas.clientWidth,s=this.model.value*this.saturationCanvas.clientHeight,o=0===s?this.saturationCanvas.clientHeight:this.saturationCanvas.clientHeight-s;this.focusSaturationSelection({x:n,y:o})},t.prototype.fillSaturationBox=function(){if(this.saturationCtx.fillStyle=this.calculateHueColor(this.model.hue).toString(),this.saturationCtx.fill(),this.saturationCtx.fillStyle=this.whiteGradient,this.saturationCtx.fill(),this.saturationCtx.fillStyle=this.blackGradient,this.saturationCtx.fill(),this.model.saturationSelection){var t=m.Color.fromHSV(this.model.hue,this.model.saturation,this.model.value,255*this.model.opacity);this.model.color=t}},t.prototype.focusSaturationSelection=function(o){var e=o.x,i=o.y;0>e?e=0:e>this.domNode.offsetWidth&&(e=this.domNode.offsetWidth),0>i?i=0:i>this.domNode.offsetHeight&&(i=this.domNode.offsetHeight),this.saturationSelection.style.left=e+"px",this.saturationSelection.style.top=i+"px",this.model.saturationSelection={x:e,y:i}},t.prototype.extractColor=function(r,e){var t=1-r/this.domNode.offsetWidth,n=e/this.domNode.offsetHeight,i=m.Color.fromRGBA(new m.RGBA(255,255,255,255*t));return m.Color.fromRGBA(new m.RGBA(0,0,0,255*n)).blend(i).blend(this.calculateHueColor(this.model.hue))},t.prototype.calculateHueColor=function(a){var e=a/60,t=1-I(e%2-1),n=0,i=0,o=0;return 0<=e&&1>e?(n=1,i=t):1<=e&&2>e?(n=t,i=1):2<=e&&3>e?(i=1,o=t):3<=e&&4>e?(i=t,o=1):4<=e&&5>e?(n=t,o=1):(n=1,o=t),n=w(255*n),i=w(255*i),o=w(255*o),m.Color.fromRGBA(new m.RGBA(n,i,o))},t}();e.SaturationBox=r;var a=function(){function t(t){this.strip=t,this.domNode=n(".slider"),this._top=0}return Object.defineProperty(t.prototype,"top",{get:function(){return this._top},set:function(t){0>t?t=0:t>this.strip.offsetHeight-this.domNode.offsetHeight&&(t=this.strip.offsetHeight-this.domNode.offsetHeight),this.domNode.style.top=t+"px",this._top=t},enumerable:!0,configurable:!0}),t}()}),define(s[244],n([1,0,4,3]),function(a,e,s,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s.$,o=function(o){function e(e,a){var i=o.call(this)||this;return i.widget=e,i.model=a,i.domNode=n(".colorpicker-header"),s.append(e.getDomNode(),i.domNode),i.drawPickedColorBox(),i.drawOriginalColorBox(),s.addDisposableListener(i.pickedColorNode,s.EventType.CLICK,function(){0!==i.model.colorFormatters.length&&i.model.nextColorMode()}),i}return Z(e,o),e.prototype.updatePickedColor=function(){this.pickedColorNode.textContent=this.model.selectedColorString,this.pickedColorNode.style.backgroundColor=this.model.color.toString()},e.prototype.drawPickedColorBox=function(){this.pickedColorNode=n(".picked-color"),this.pickedColorNode.style.backgroundColor=this.model.color.toString(),this.pickedColorNode.textContent=this.model.selectedColorString,s.append(this.domNode,this.pickedColorNode)},e.prototype.drawOriginalColorBox=function(){var t=n(".original-color");t.style.backgroundColor=this.model.originalColor,s.append(this.domNode,t)},e}(t.Disposable);e.ColorPickerHeader=o}),define(s[245],n([1,0,41,4,28,244,243,316]),function(d,e,t,n,l,o,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n.$,a=function(a){function e(e,o){var n=a.call(this)||this;return n.model=e,n.editor=o,n.visible=!1,n._register(l.onDidChangeZoomLevel(function(){return n.layout()})),n.domNode=r(".editor-widget.colorpicker-widget"),n}return Z(e,a),e.prototype.layout=function(){this.visible||(this.header=new o.ColorPickerHeader(this,this.model),this.body=new i.ColorPickerBody(this,this.model),this.visible=!0)},e.prototype.layoutSaturationBox=function(){this.body.saturationBox.layout()},e.prototype.dispose=function(){this.visible=!1,this.domNode=null,a.prototype.dispose.call(this)},e.prototype.getId=function(){return e.ID},e.prototype.getDomNode=function(){return this.domNode},e.ID="editor.contrib.colorPickerWidget",e}(t.Widget);e.ColorPickerWidget=a}),define(s[246],n([1,0]),function(o,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isColorDecorationOptions=function(t){return t&&t.color}}),define(s[247],n([1,0]),function(d,e){"use strict";function p(t){return function(){return t}}function g(r,e,t,n){var a=r;if(e||t){if(e>t)throw new Error("Color format range defined is not correct. Range start is bigger than end.");if(e===t)throw new Error("Color format range defined is not correct. Range start is the same as end.");a=a/n*(t-e)+e}return a}function n(a,e,t,n,p){return function(o){var l;if("red"===a?l=g(o.toRGBA().r,n,p,i):"green"===a?l=g(o.toRGBA().g,n,p,i):"blue"===a?l=g(o.toRGBA().b,n,p,i):"alpha"===a?l=g(o.toRGBA().a,n,p,i):"hue"===a?l=g(o.toHSLA().h,n,p,r):"saturation"===a?l=g(o.toHSLA().s,n,p,s):"luminosity"===a?l=g(o.toHSLA().l,n,p,s):void 0,void 0===l)throw new Error(a+" is not supported as a color format.");var c;return"f"===t?(e=e||2,c=l.toFixed(e)):"x"===t||"X"===t?(2!==(c=g(l,n,p,i).toString(16)).length&&(c="0"+c),"X"===t&&(c=c.toUpperCase())):c=l.toFixed(0),c.toString()}}Object.defineProperty(e,"__esModule",{value:!0});var i=255,r=360,s=1,t=function(){function o(t){this.tree=[],this.parse(t)}return o.prototype.parse=function(e){for(var t=o.PATTERN.exec(e),i=0,r;null!==t;){r=t.index,i<r&&this.tree.push(p(e.substring(i,r)));var s=t[1];if(!s)throw new Error(s+" is not defined.");var g=parseInt(t[2]),u=t[3],l=parseInt(t[4]),c=parseInt(t[5]);this.tree.push(n(s,g,u,l,c)),i=r+t[0].length,t=o.PATTERN.exec(e)}this.tree.push(p(e.substring(i,e.length)))},o.prototype.toString=function(o){var e=[];return this.tree.forEach(function(t){e.push(t(o))}),e.join("")},o.PATTERN=/{(\w+)(?::(\d*)(\w)+(?:\[(\d+)-(\d+)\])?)?}/g,o}();e.ColorFormatter=t}),define(s[248],n([1,0,7,17,18,10]),function(a,e,d,n,i,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getColors=function(r){var a=[],e=n.ColorProviderRegistry.ordered(r).reverse().map(function(e){return i.asWinJsPromise(function(o){return e.provideColorRanges(r,o)}).then(function(t){Array.isArray(t)&&(a=a.concat(t))},o.onUnexpectedExternalError)});return d.TPromise.join(e).then(function(){return a})}}),define(s[189],n([1,0,59,12,2,22,43]),function(d,e,l,n,m,p,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function _(t){this._selection=t,this._usedEndToken=null}return _._haystackHasNeedleAtOffset=function(r,e,t){if(0>t)return!1;var n=e.length;if(t+n>r.length)return!1;for(var i=0;i<n;i++)if(r.charCodeAt(t+i)!==e.charCodeAt(i))return!1;return!0},_.prototype._createOperationsForBlockComment=function(e,t,o,n){var i=e.startLineNumber,r=e.startColumn,a=e.endLineNumber,l=e.endColumn,c=t.blockCommentStartToken,d=t.blockCommentEndToken,u=o.getLineContent(i).lastIndexOf(c,r-1+c.length),p=o.getLineContent(a).indexOf(d,l-1-d.length),h;-1!==u&&-1!==p?(32===o.getLineContent(i).charCodeAt(u+c.length)&&(c+=" "),32===o.getLineContent(a).charCodeAt(p-1)&&(d=" "+d,p-=1),h=_._createRemoveBlockCommentOperations(new m.Range(i,u+1+c.length,a,p+1),c,d)):(h=_._createAddBlockCommentOperations(e,c,d),this._usedEndToken=1===h.length?d:null);for(var s=0;s<h.length;s++)n.addTrackedEditOperation(h[s].range,h[s].text)},_._createRemoveBlockCommentOperations=function(o,e,t){var n=[];return m.Range.isEmpty(o)?n.push(l.EditOperation.delete(new m.Range(o.startLineNumber,o.startColumn-e.length,o.endLineNumber,o.endColumn+t.length))):(n.push(l.EditOperation.delete(new m.Range(o.startLineNumber,o.startColumn-e.length,o.startLineNumber,o.startColumn))),n.push(l.EditOperation.delete(new m.Range(o.endLineNumber,o.endColumn,o.endLineNumber,o.endColumn+t.length)))),n},_._createAddBlockCommentOperations=function(o,e,t){var i=[];return m.Range.isEmpty(o)?i.push(l.EditOperation.replace(new m.Range(o.startLineNumber,o.startColumn,o.endLineNumber,o.endColumn),e+"  "+t)):(i.push(l.EditOperation.insert(new n.Position(o.startLineNumber,o.startColumn),e+" ")),i.push(l.EditOperation.insert(new n.Position(o.endLineNumber,o.endColumn)," "+t))),i},_.prototype.getEditOperations=function(s,e){var t=this._selection.startLineNumber,n=this._selection.startColumn,i=this._selection.endLineNumber,r=this._selection.endColumn;s.forceTokenization(t);var a=s.getLanguageIdAtPosition(t,n),d=o.LanguageConfigurationRegistry.getComments(a);d&&d.blockCommentStartToken&&d.blockCommentEndToken&&this._createOperationsForBlockComment(new m.Range(t,n,i,r),d,s,e)},_.prototype.computeCursorState=function(r,e){var t=e.getInverseEditOperations();if(2===t.length){var n=t[0],i=t[1];return new p.Selection(n.range.endLineNumber,n.range.endColumn,i.range.startLineNumber,i.range.startColumn)}var o=t[0].range,s=this._usedEndToken?-this._usedEndToken.length-1:0;return new p.Selection(o.endLineNumber,o.endColumn+s,o.endLineNumber,o.endColumn+s)},_}();e.BlockCommentCommand=t}),define(s[250],n([1,0,9,59,12,2,22,189,43]),function(d,e,g,p,i,m,o,_,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),!function(t){t[t.Toggle=0]="Toggle",t[t.ForceAdd=1]="ForceAdd",t[t.ForceRemove=2]="ForceRemove"}(e.Type||(e.Type={}));var t=function(){function h(o,i,t){this._selection=o,this._tabSize=i,this._type=t,this._deltaColumn=0}return h._gatherPreflightCommentStrings=function(d,e,t){d.forceTokenization(e);var n=d.getLanguageIdAtPosition(e,1),i=y.LanguageConfigurationRegistry.getComments(n),o=i?i.lineCommentToken:null;if(!o)return null;for(var l=[],s=0;s<t-e+1;s++)l[s]={ignore:!1,commentStr:o,commentStrOffset:0,commentStrLength:o.length};return l},h._analyzeLines=function(n,e,t,a){var o=!0,m,r,s,u,l,c,d,f;for(d=0===n||1!==n,u=0,l=t.length;u<l;u++)m=t[u],c=a+u,f=e.getLineContent(c),-1===(r=g.firstNonWhitespaceIndex(f))?(m.ignore=!0,m.commentStrOffset=f.length):(o=!1,m.ignore=!1,m.commentStrOffset=r,d&&!_.BlockCommentCommand._haystackHasNeedleAtOffset(f,m.commentStr,r)&&(0===n?d=!1:1===n||(m.ignore=!0)),d&&(s=r+m.commentStrLength)<f.length&&32===f.charCodeAt(s)&&(m.commentStrLength+=1));if(0===n&&o)for(d=!1,u=0,l=t.length;u<l;u++)t[u].ignore=!1;return{supported:!0,shouldRemoveComments:d,lines:t}},h._gatherPreflightData=function(e,t,n,i){var o=h._gatherPreflightCommentStrings(t,n,i);return null===o?{supported:!1,shouldRemoveComments:!1,lines:null}:h._analyzeLines(e,t,o,n)},h.prototype._executeLineComments=function(e,t,o,n){var r;o.shouldRemoveComments?r=h._createRemoveLineCommentsOperations(o.lines,n.startLineNumber):(h._normalizeInsertionPoint(e,o.lines,n.startLineNumber,this._tabSize),r=h._createAddLineCommentsOperations(o.lines,n.startLineNumber));for(var s=new i.Position(n.positionLineNumber,n.positionColumn),a=0,d=r.length;a<d;a++)t.addEditOperation(r[a].range,r[a].text),r[a].range.isEmpty()&&r[a].range.getStartPosition().equals(s)&&(this._deltaColumn=r[a].text.length);this._selectionId=t.trackSelection(n)},h.prototype._attemptRemoveBlockComment=function(r,e,t,n){var i=e.startLineNumber,o=e.endLineNumber,a=n.length+G(r.getLineFirstNonWhitespaceColumn(e.startLineNumber),e.startColumn),s=r.getLineContent(i).lastIndexOf(t,a-1),d=r.getLineContent(o).indexOf(n,e.endColumn-1-t.length);return-1!==s&&-1===d&&(d=r.getLineContent(i).indexOf(n,s+t.length),o=i),-1===s&&-1!==d&&(s=r.getLineContent(o).lastIndexOf(t,d),i=o),!e.isEmpty()||-1!==s&&-1!==d||-1!==(s=r.getLineContent(i).indexOf(t))&&(d=r.getLineContent(i).indexOf(n,s+t.length)),-1!==s&&32===r.getLineContent(i).charCodeAt(s+t.length)&&(t+=" "),-1!==d&&32===r.getLineContent(o).charCodeAt(d-1)&&(n=" "+n,d-=1),-1!==s&&-1!==d?_.BlockCommentCommand._createRemoveBlockCommentOperations(new m.Range(i,s+t.length+1,o,d+1),t,n):null},h.prototype._executeBlockComment=function(n,e,t){n.forceTokenization(t.startLineNumber);var i=n.getLanguageIdAtPosition(t.startLineNumber,t.startColumn),o=y.LanguageConfigurationRegistry.getComments(i);if(o&&o.blockCommentStartToken&&o.blockCommentEndToken){var r=o.blockCommentStartToken,a=o.blockCommentEndToken,s=this._attemptRemoveBlockComment(n,t,r,a);if(!s){if(t.isEmpty()){var l=n.getLineContent(t.startLineNumber),c=g.firstNonWhitespaceIndex(l);-1===c&&(c=l.length),s=_.BlockCommentCommand._createAddBlockCommentOperations(new m.Range(t.startLineNumber,c+1,t.startLineNumber,l.length+1),r,a)}else s=_.BlockCommentCommand._createAddBlockCommentOperations(new m.Range(t.startLineNumber,n.getLineFirstNonWhitespaceColumn(t.startLineNumber),t.endLineNumber,n.getLineMaxColumn(t.endLineNumber)),r,a);1===s.length&&(this._deltaColumn=r.length+1)}this._selectionId=e.trackSelection(t);for(var p=0;p<s.length;p++)e.addEditOperation(s[p].range,s[p].text)}},h.prototype.getEditOperations=function(e,t){var n=this._selection;this._moveEndPositionDown=!1,n.startLineNumber<n.endLineNumber&&1===n.endColumn&&(this._moveEndPositionDown=!0,n=n.setEndPosition(n.endLineNumber-1,e.getLineMaxColumn(n.endLineNumber-1)));var i=h._gatherPreflightData(this._type,e,n.startLineNumber,n.endLineNumber);return i.supported?this._executeLineComments(e,t,i,n):this._executeBlockComment(e,t,n)},h.prototype.computeCursorState=function(i,e){var t=e.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(t=t.setEndPosition(t.endLineNumber+1,1)),new o.Selection(t.startLineNumber,t.startColumn+this._deltaColumn,t.endLineNumber,t.endColumn+this._deltaColumn)},h._createRemoveLineCommentsOperations=function(i,e){var t=[],r,n,o;for(r=0,n=i.length;r<n;r++)(o=i[r]).ignore||t.push(p.EditOperation.delete(new m.Range(e+r,o.commentStrOffset+1,e+r,o.commentStrOffset+o.commentStrLength+1)));return t},h._createAddLineCommentsOperations=function(o,e){var t=[],a,n,r;for(a=0,n=o.length;a<n;a++)(r=o[a]).ignore||t.push(p.EditOperation.insert(new i.Position(e+a,r.commentStrOffset+1),r.commentStr+" "));return t},h.nextVisibleColumn=function(o,e,t,n){return t?o+(e-o%e):o+n},h._normalizeInsertionPoint=function(e,t,n,i){var o=T,d,r,s,a,p,l;for(d=0,r=t.length;d<r;d++)if(!t[d].ignore){for(s=e.getLineContent(n+d),l=0,a=0,p=t[d].commentStrOffset;l<o&&a<p;a++)l=h.nextVisibleColumn(l,i,9===s.charCodeAt(a),1);l<o&&(o=l)}for(o=M(o/i)*i,d=0,r=t.length;d<r;d++)if(!t[d].ignore){for(s=e.getLineContent(n+d),l=0,a=0,p=t[d].commentStrOffset;l<o&&a<p;a++)l=h.nextVisibleColumn(l,i,9===s.charCodeAt(a),1);t[d].commentStrOffset=l>o?a-1:a}},h}();e.LineCommentCommand=t}),define(s[251],n([1,0,22,2]),function(r,e,a,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function t(o,i,t){this.selection=o,this.targetPosition=i,this.copy=t}return t.prototype.getEditOperations=function(i,e){var t=i.getValueInRange(this.selection);this.copy||e.addEditOperation(this.selection,null),e.addEditOperation(new n.Range(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column),t),this.targetSelection=!this.selection.containsPosition(this.targetPosition)||this.copy&&(this.selection.getEndPosition().equals(this.targetPosition)||this.selection.getStartPosition().equals(this.targetPosition))?this.copy?new a.Selection(this.targetPosition.lineNumber,this.targetPosition.column,this.selection.endLineNumber-this.selection.startLineNumber+this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn):this.targetPosition.lineNumber>this.selection.endLineNumber?new a.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn):this.targetPosition.lineNumber<this.selection.endLineNumber?new a.Selection(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber+this.selection.endLineNumber-this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn):this.selection.endColumn<=this.targetPosition.column?new a.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,(this.selection.startLineNumber,this.selection.endLineNumber,this.targetPosition.column-this.selection.endColumn+this.selection.startColumn),this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column:this.selection.endColumn):new a.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column+this.selection.endColumn-this.selection.startColumn):this.selection},t.prototype.computeCursorState=function(){return this.targetSelection},t}();e.DragAndDropCommand=t}),define(s[252],n([1,0]),function(o,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSelectionSearchString=function(o){var e=o.getSelection();if(e.startLineNumber===e.endLineNumber){if(!e.isEmpty())return o.getModel().getValueInRange(e);var t=o.getModel().getWordAtPosition(e.getStartPosition());if(t)return t.word}return null}}),define(s[253],n([1,0,38,2]),function(r,e,t,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function i(){this._searchString="",this._replaceString="",this._isRevealed=!1,this._isReplaceRevealed=!1,this._isRegex=!1,this._wholeWord=!1,this._matchCase=!1,this._searchScope=null,this._matchesPosition=0,this._matchesCount=0,this._currentMatch=null,this._eventEmitter=new t.EventEmitter}return Object.defineProperty(i.prototype,"searchString",{get:function(){return this._searchString},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"replaceString",{get:function(){return this._replaceString},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isRevealed",{get:function(){return this._isRevealed},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isReplaceRevealed",{get:function(){return this._isReplaceRevealed},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isRegex",{get:function(){return this._isRegex},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"wholeWord",{get:function(){return this._wholeWord},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"matchCase",{get:function(){return this._matchCase},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"searchScope",{get:function(){return this._searchScope},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"matchesPosition",{get:function(){return this._matchesPosition},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"matchesCount",{get:function(){return this._matchesCount},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"currentMatch",{get:function(){return this._currentMatch},enumerable:!0,configurable:!0}),i.prototype.dispose=function(){this._eventEmitter.dispose()},i.prototype.addChangeListener=function(e){return this._eventEmitter.addListener(i._CHANGED_EVENT,e)},i.prototype.changeMatchInfo=function(e,t,n){var o={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1},r=!1;0===t&&(e=0),e>t&&(e=t),this._matchesPosition!==e&&(this._matchesPosition=e,o.matchesPosition=!0,r=!0),this._matchesCount!==t&&(this._matchesCount=t,o.matchesCount=!0,r=!0),void 0!==n&&(a.Range.equalsRange(this._currentMatch,n)||(this._currentMatch=n,o.currentMatch=!0,r=!0)),r&&this._eventEmitter.emit(i._CHANGED_EVENT,o)},i.prototype.change=function(e,t,d){void 0===d&&(d=!0);var l={moveCursor:t,updateHistory:d,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1},r=!1;void 0!==e.searchString&&this._searchString!==e.searchString&&(this._searchString=e.searchString,l.searchString=!0,r=!0),void 0!==e.replaceString&&this._replaceString!==e.replaceString&&(this._replaceString=e.replaceString,l.replaceString=!0,r=!0),void 0!==e.isRevealed&&this._isRevealed!==e.isRevealed&&(this._isRevealed=e.isRevealed,l.isRevealed=!0,r=!0),void 0!==e.isReplaceRevealed&&this._isReplaceRevealed!==e.isReplaceRevealed&&(this._isReplaceRevealed=e.isReplaceRevealed,l.isReplaceRevealed=!0,r=!0),void 0!==e.isRegex&&this._isRegex!==e.isRegex&&(this._isRegex=e.isRegex,l.isRegex=!0,r=!0),void 0!==e.wholeWord&&this._wholeWord!==e.wholeWord&&(this._wholeWord=e.wholeWord,l.wholeWord=!0,r=!0),void 0!==e.matchCase&&this._matchCase!==e.matchCase&&(this._matchCase=e.matchCase,l.matchCase=!0,r=!0),void 0!==e.searchScope&&(a.Range.equalsRange(this._searchScope,e.searchScope)||(this._searchScope=e.searchScope,l.searchScope=!0,r=!0)),r&&this._eventEmitter.emit(i._CHANGED_EVENT,l)},i._CHANGED_EVENT="changed",i}();e.FindReplaceState=n}),define(s[254],n([1,0,2]),function(o,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function t(o,i,t){this._editorSelection=o,this._ranges=i,this._replaceStrings=t}return t.prototype.getEditOperations=function(n,e){if(0<this._ranges.length){for(var t=[],i=0;i<this._ranges.length;i++)t.push({range:this._ranges[i],text:this._replaceStrings[i]});t.sort(function(o,e){return r.Range.compareRangesUsingStarts(o.range,e.range)});for(var o=[],a=t[0],i=1;i<t.length;i++)a.range.endLineNumber===t[i].range.startLineNumber&&a.range.endColumn===t[i].range.startColumn?(a.range=a.range.plusRange(t[i].range),a.text+=t[i].text):(o.push(a),a=t[i]);for(o.push(a),i=0;i<o.length;i++)e.addEditOperation(o[i].range,o[i].text)}this._trackedEditorSelectionId=e.trackSelection(this._editorSelection)},t.prototype.computeCursorState=function(o,e){return e.getTrackedSelection(this._trackedEditorSelectionId)},t}();e.ReplaceAllCommand=t}),define(s[255],n([1,0]),function(r,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var d=function(){function a(t){t&&0!==t.length?1===t.length&&null!==t[0].staticValue?(this._staticValue=t[0].staticValue,this._pieces=null):(this._staticValue=null,this._pieces=t):(this._staticValue="",this._pieces=null)}return a.fromStaticValue=function(e){return new a([n.staticValue(e)])},Object.defineProperty(a.prototype,"hasReplacementPatterns",{get:function(){return null===this._staticValue},enumerable:!0,configurable:!0}),a.prototype.buildReplaceString=function(e){if(null!==this._staticValue)return this._staticValue;for(var t="",n=0,i=this._pieces.length,o;n<i;n++)o=this._pieces[n],t+=null===o.staticValue?a._substitute(o.matchIndex,e):o.staticValue;return t},a._substitute=function(o,e){if(0===o)return e[0];for(var t="";0<o;){if(o<e.length)return(e[o]||"")+t;t=o%10+""+t,o=M(o/10)}return"$"+t},a}();e.ReplacePattern=d;var n=function(){function o(o,n){this.staticValue=o,this.matchIndex=n}return o.staticValue=function(e){return new o(e,-1)},o.matchIndex=function(e){return new o(null,e)},o}();e.ReplacePiece=n;var p=function(){function t(t){this._source=t,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}return t.prototype.emitUnchanged=function(t){this._emitStatic(this._source.substring(this._lastCharIndex,t)),this._lastCharIndex=t},t.prototype.emitStatic=function(o,e){this._emitStatic(o),this._lastCharIndex=e},t.prototype._emitStatic=function(t){0!==t.length&&(this._currentStaticPiece+=t)},t.prototype.emitMatchIndex=function(o,e){0!==this._currentStaticPiece.length&&(this._result[this._resultLen++]=n.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=n.matchIndex(o),this._lastCharIndex=e},t.prototype.finalize=function(){return this.emitUnchanged(this._source.length),0!==this._currentStaticPiece.length&&(this._result[this._resultLen++]=n.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new d(this._result)},t}();e.parseReplaceString=function(o){if(!o||0===o.length)return new d(null);for(var n=new p(o),t=0,i=o.length,r;t<i;t++)if(r=o.charCodeAt(t),92===r){if(++t>=i)break;switch(s=o.charCodeAt(t)){case 92:n.emitUnchanged(t-1),n.emitStatic("\\",t+1);break;case 110:n.emitUnchanged(t-1),n.emitStatic("\n",t+1);break;case 116:n.emitUnchanged(t-1),n.emitStatic("\t",t+1);}}else if(36===r){if(++t>=i)break;var s=o.charCodeAt(t);if(36===s){n.emitUnchanged(t-1),n.emitStatic("$",t+1);continue}if(48===s||38===s){n.emitUnchanged(t-1),n.emitMatchIndex(0,t+1);continue}if(49<=s&&57>=s){var a=s-48;if(t+1<i){var c=o.charCodeAt(t+1);if(48<=c&&57>=c){t++,a=10*a+(c-48),n.emitUnchanged(t-2),n.emitMatchIndex(a,t+1);continue}}n.emitUnchanged(t-1),n.emitMatchIndex(a,t+1);continue}}return n.finalize()}}),define(s[256],n([1,0]),function(o,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ID="editor.contrib.folding"}),define(s[257],n([1,0]),function(o,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.computeRanges=function(t){return t.getIndentRanges()},e.limitByIndent=function(r,e){if(r.length<=e)return r;var t=[];r.forEach(function(o){1e3>o.indent&&(t[o.indent]=(t[o.indent]||0)+1)});for(var n=t.length,i=0;i<t.length;i++)if(t[i]&&0>(e-=t[i])){n=i;break}return r.filter(function(t){return t.indent<n})}}),define(s[258],n([1,0,9,2]),function(r,e,d,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function a(r,a){this._initialSelection=a,this._edits=[],this._newEol=void 0;for(var t=0,n=r,i;t<n.length;t++)i=n[t],"number"==typeof i.eol&&(this._newEol=i.eol),i.range&&"string"==typeof i.text&&this._edits.push(i)}return a.execute=function(e,t){var o=new a(t,e.getSelection());"number"==typeof o._newEol&&e.getModel().setEOL(o._newEol),e.pushUndoStop(),e.executeCommand("formatEditsCommand",o),e.pushUndoStop()},a.prototype.getEditOperations=function(e,t){for(var n=0,o=this._edits,i;n<o.length;n++)i=o[n],null!==a.trimEdit(i,e)&&t.addEditOperation(p.Range.lift(i.range),i.text);var r=!1;Array.isArray(this._edits)&&1===this._edits.length&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(r=!0,this._selectionId=t.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(r=!0,this._selectionId=t.trackSelection(this._initialSelection,!1))),r||(this._selectionId=t.trackSelection(this._initialSelection))},a.prototype.computeCursorState=function(o,e){return e.getTrackedSelection(this._selectionId)},a.fixLineTerminators=function(o,e){o.text=o.text.replace(/\r\n|\r|\n/g,e.getEOL())},a.trimEdit=function(o,e){return this.fixLineTerminators(o,e),this._trimEdit(e.validateRange(o.range),o.text,o.forceMoveMarkers,e)},a._trimEdit=function(n,i,g,m){var r=m.getValueInRange(n),s=d.commonPrefixLength(i,r);if(s===r.length&&s===i.length)return null;if(0<s){var a=m.modifyPosition(n.getStartPosition(),s);n=new p.Range(a.lineNumber,a.column,n.endLineNumber,n.endColumn),i=i.substring(s),r=r.substr(s)}var u=d.commonSuffixLength(i,r);if(0<u){var h=m.modifyPosition(n.getEndPosition(),-u);n=new p.Range(n.startLineNumber,n.startColumn,h.lineNumber,h.column),i=i.substring(0,i.length-u),r=r.substring(0,r.length-u)}return{text:i,range:n,forceMoveMarkers:g}},a}();e.EditOperationsCommand=t}),define(s[192],n([1,0,28,3,11,15,171]),function(p,e,g,t,i,o){"use strict";function n(o,e){return!!o[e]}function r(t){return"altKey"===t?o.isMacintosh?new l(57,"metaKey",6,"altKey"):new l(5,"ctrlKey",6,"altKey"):o.isMacintosh?new l(6,"altKey",57,"metaKey"):new l(6,"altKey",5,"ctrlKey")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){return function(o,e){this.target=o.target,this.hasTriggerModifier=n(o.event,e.triggerModifier),this.hasSideBySideModifier=n(o.event,e.triggerSideBySideModifier),this.isNoneOrSingleMouseDown=g.isIE||1>=o.event.detail}}();e.ClickLinkMouseEvent=a;var s=function(){return function(o,e){this.keyCodeIsTriggerKey=o.keyCode===e.triggerKey,this.keyCodeIsSideBySideKey=o.keyCode===e.triggerSideBySideKey,this.hasTriggerModifier=n(o,e.triggerModifier)}}();e.ClickLinkKeyboardEvent=s;var l=function(){function t(o,r,t,n){this.triggerKey=o,this.triggerModifier=r,this.triggerSideBySideKey=t,this.triggerSideBySideModifier=n}return t.prototype.equals=function(t){return this.triggerKey===t.triggerKey&&this.triggerModifier===t.triggerModifier&&this.triggerSideBySideKey===t.triggerSideBySideKey&&this.triggerSideBySideModifier===t.triggerSideBySideModifier},t}();e.ClickLinkOptions=l;var c=function(o){function e(e){var d=o.call(this)||this;return d._onMouseMoveOrRelevantKeyDown=d._register(new i.Emitter),d.onMouseMoveOrRelevantKeyDown=d._onMouseMoveOrRelevantKeyDown.event,d._onExecute=d._register(new i.Emitter),d.onExecute=d._onExecute.event,d._onCancel=d._register(new i.Emitter),d.onCancel=d._onCancel.event,d._editor=e,d._opts=r(d._editor.getConfiguration().multiCursorModifier),d.lastMouseMoveEvent=null,d.hasTriggerKeyOnMouseDown=!1,d._register(d._editor.onDidChangeConfiguration(function(o){if(o.multiCursorModifier){var e=r(d._editor.getConfiguration().multiCursorModifier);if(d._opts.equals(e))return;d._opts=e,d.lastMouseMoveEvent=null,d.hasTriggerKeyOnMouseDown=!1,d._onCancel.fire()}})),d._register(d._editor.onMouseMove(function(t){return d.onEditorMouseMove(new a(t,d._opts))})),d._register(d._editor.onMouseDown(function(t){return d.onEditorMouseDown(new a(t,d._opts))})),d._register(d._editor.onMouseUp(function(t){return d.onEditorMouseUp(new a(t,d._opts))})),d._register(d._editor.onKeyDown(function(t){return d.onEditorKeyDown(new s(t,d._opts))})),d._register(d._editor.onKeyUp(function(t){return d.onEditorKeyUp(new s(t,d._opts))})),d._register(d._editor.onMouseDrag(function(){return d.resetHandler()})),d._register(d._editor.onDidChangeCursorSelection(function(t){return d.onDidChangeCursorSelection(t)})),d._register(d._editor.onDidChangeModel(function(){return d.resetHandler()})),d._register(d._editor.onDidChangeModelContent(function(){return d.resetHandler()})),d._register(d._editor.onDidScrollChange(function(t){(t.scrollTopChanged||t.scrollLeftChanged)&&d.resetHandler()})),d}return Z(e,o),e.prototype.onDidChangeCursorSelection=function(t){t.selection&&t.selection.startColumn!==t.selection.endColumn&&this.resetHandler()},e.prototype.onEditorMouseMove=function(t){this.lastMouseMoveEvent=t,this._onMouseMoveOrRelevantKeyDown.fire([t,null])},e.prototype.onEditorMouseDown=function(t){this.hasTriggerKeyOnMouseDown=t.hasTriggerModifier},e.prototype.onEditorMouseUp=function(t){this.hasTriggerKeyOnMouseDown&&this._onExecute.fire(t)},e.prototype.onEditorKeyDown=function(t){this.lastMouseMoveEvent&&(t.keyCodeIsTriggerKey||t.keyCodeIsSideBySideKey&&t.hasTriggerModifier)?this._onMouseMoveOrRelevantKeyDown.fire([this.lastMouseMoveEvent,t]):t.hasTriggerModifier&&this._onCancel.fire()},e.prototype.onEditorKeyUp=function(t){t.keyCodeIsTriggerKey&&this._onCancel.fire()},e.prototype.resetHandler=function(){this.lastMouseMoveEvent=null,this.hasTriggerKeyOnMouseDown=!1,this._onCancel.fire()},e}(t.Disposable);e.ClickLinkGesture=c}),define(s[195],n([1,0,18,10]),function(a,e,s,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n;!function(t){t[t.IDLE=0]="IDLE",t[t.FIRST_WAIT=1]="FIRST_WAIT",t[t.SECOND_WAIT=2]="SECOND_WAIT",t[t.WAITING_FOR_ASYNC_COMPUTATION=3]="WAITING_FOR_ASYNC_COMPUTATION"}(n||(n={}));var o=function(){function o(n,a,t,i){var o=this;this._computer=n,this._state=0,this._firstWaitScheduler=new s.RunOnceScheduler(function(){return o._triggerAsyncComputation()},this._getHoverTimeMillis()/2),this._secondWaitScheduler=new s.RunOnceScheduler(function(){return o._triggerSyncComputation()},this._getHoverTimeMillis()/2),this._loadingMessageScheduler=new s.RunOnceScheduler(function(){return o._showLoadingMessage()},3*this._getHoverTimeMillis()),this._asyncComputationPromise=null,this._asyncComputationPromiseDone=!1,this._completeCallback=a,this._errorCallback=t,this._progressCallback=i}return o.prototype.getComputer=function(){return this._computer},o.prototype._getHoverTimeMillis=function(){return this._computer.getHoverTimeMillis?this._computer.getHoverTimeMillis():o.HOVER_TIME},o.prototype._triggerAsyncComputation=function(){var o=this;this._state=2,this._secondWaitScheduler.schedule(),this._computer.computeAsync?(this._asyncComputationPromiseDone=!1,this._asyncComputationPromise=this._computer.computeAsync().then(function(e){o._asyncComputationPromiseDone=!0,o._withAsyncResult(e)},function(){return o._onError})):this._asyncComputationPromiseDone=!0},o.prototype._triggerSyncComputation=function(){this._computer.computeSync&&this._computer.onResult(this._computer.computeSync(),!0),this._asyncComputationPromiseDone?(this._state=0,this._onComplete(this._computer.getResult())):(this._state=3,this._onProgress(this._computer.getResult()))},o.prototype._showLoadingMessage=function(){3===this._state&&this._onProgress(this._computer.getResultWithLoadingMessage())},o.prototype._withAsyncResult=function(t){t&&this._computer.onResult(t,!1),3===this._state&&(this._state=0,this._onComplete(this._computer.getResult()))},o.prototype._onComplete=function(t){this._completeCallback&&this._completeCallback(t)},o.prototype._onError=function(o){this._errorCallback?this._errorCallback(o):t.onUnexpectedError(o)},o.prototype._onProgress=function(t){this._progressCallback&&this._progressCallback(t)},o.prototype.start=function(){0===this._state&&(this._state=1,this._firstWaitScheduler.schedule(),this._loadingMessageScheduler.schedule())},o.prototype.cancel=function(){this._loadingMessageScheduler.cancel(),1===this._state&&this._firstWaitScheduler.cancel(),2===this._state&&(this._secondWaitScheduler.cancel(),this._asyncComputationPromise&&(this._asyncComputationPromise.cancel(),this._asyncComputationPromise=null)),3===this._state&&this._asyncComputationPromise&&(this._asyncComputationPromise.cancel(),this._asyncComputationPromise=null),this._state=0},o.HOVER_TIME=300,o}();e.HoverOperation=o}),define(s[196],n([1,0,4,12,25,41,63,3]),function(d,e,t,n,i,o,r,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=function(o){function e(e,a){var n=o.call(this)||this;return n.disposables=[],n.allowEditorOverflow=!0,n._id=e,n._editor=a,n._isVisible=!1,n._containerDomNode=document.createElement("div"),n._containerDomNode.className="monaco-editor-hover hidden",n._containerDomNode.tabIndex=0,n._domNode=document.createElement("div"),n._domNode.className="monaco-editor-hover-content",n.scrollbar=new r.DomScrollableElement(n._domNode,{}),n.disposables.push(n.scrollbar),n._containerDomNode.appendChild(n.scrollbar.getDomNode()),n.onkeydown(n._containerDomNode,function(t){t.equals(9)&&n.hide()}),n._register(n._editor.onDidChangeConfiguration(function(t){t.fontInfo&&n.updateFont()})),n._editor.onDidLayoutChange(function(){return n.updateMaxHeight()}),n.updateMaxHeight(),n._editor.addContentWidget(n),n._showAtPosition=null,n}return Z(e,o),Object.defineProperty(e.prototype,"isVisible",{get:function(){return this._isVisible},set:function(o){this._isVisible=o,t.toggleClass(this._containerDomNode,"hidden",!this._isVisible)},enumerable:!0,configurable:!0}),e.prototype.getId=function(){return this._id},e.prototype.getDomNode=function(){return this._containerDomNode},e.prototype.showAt=function(o,e){this._showAtPosition=new n.Position(o.lineNumber,o.column),this.isVisible=!0,this._editor.layoutContentWidget(this),this._editor.render(),this._stoleFocus=e,e&&this._containerDomNode.focus()},e.prototype.hide=function(){this.isVisible&&(this.isVisible=!1,this._editor.layoutContentWidget(this),this._stoleFocus&&this._editor.focus())},e.prototype.getPosition=function(){return this.isVisible?{position:this._showAtPosition,preference:[i.ContentWidgetPositionPreference.ABOVE,i.ContentWidgetPositionPreference.BELOW]}:null},e.prototype.dispose=function(){this._editor.removeContentWidget(this),this.disposables=s.dispose(this.disposables),o.prototype.dispose.call(this)},e.prototype.updateFont=function(){var o=this,e=Array.prototype.slice.call(this._domNode.getElementsByTagName("code")),t=Array.prototype.slice.call(this._domNode.getElementsByClassName("code"));e.concat(t).forEach(function(e){return o._editor.applyFontInfo(e)})},e.prototype.updateContents=function(t){this._domNode.textContent="",this._domNode.appendChild(t),this.updateFont(),this._editor.layoutContentWidget(this),this.scrollbar.scanDomNode()},e.prototype.updateMaxHeight=function(){var o=G(this._editor.getLayoutInfo().height/4,250),e=this._editor.getConfiguration().fontInfo,t=e.fontSize,n=e.lineHeight;this._domNode.style.fontSize=t+"px",this._domNode.style.lineHeight=n+"px",this._domNode.style.maxHeight=o+"px"},e}(o.Widget);e.ContentHoverWidget=a;var p=function(o){function e(e,r){var n=o.call(this)||this;return n._id=e,n._editor=r,n._isVisible=!1,n._domNode=document.createElement("div"),n._domNode.className="monaco-editor-hover hidden",n._domNode.setAttribute("aria-hidden","true"),n._domNode.setAttribute("role","presentation"),n._showAtLineNumber=-1,n._register(n._editor.onDidChangeConfiguration(function(t){t.fontInfo&&n.updateFont()})),n._editor.addOverlayWidget(n),n}return Z(e,o),Object.defineProperty(e.prototype,"isVisible",{get:function(){return this._isVisible},set:function(o){this._isVisible=o,t.toggleClass(this._domNode,"hidden",!this._isVisible)},enumerable:!0,configurable:!0}),e.prototype.getId=function(){return this._id},e.prototype.getDomNode=function(){return this._domNode},e.prototype.showAt=function(a){this._showAtLineNumber=a,this.isVisible||(this.isVisible=!0);var e=this._editor.getLayoutInfo(),t=this._editor.getTopForLineNumber(this._showAtLineNumber),n=this._editor.getScrollTop(),i=this._editor.getConfiguration().lineHeight,o=t-n-(this._domNode.clientHeight-i)/2;this._domNode.style.left=e.glyphMarginLeft+e.glyphMarginWidth+"px",this._domNode.style.top=G(w(o),0)+"px"},e.prototype.hide=function(){this.isVisible&&(this.isVisible=!1)},e.prototype.getPosition=function(){return null},e.prototype.dispose=function(){this._editor.removeOverlayWidget(this),o.prototype.dispose.call(this)},e.prototype.updateFont=function(){var o=this,e=Array.prototype.slice.call(this._domNode.getElementsByTagName("code")),t=Array.prototype.slice.call(this._domNode.getElementsByClassName("code"));e.concat(t).forEach(function(e){return o._editor.applyFontInfo(e)})},e.prototype.updateContents=function(t){this._domNode.textContent="",this._domNode.appendChild(t),this.updateFont()},e}(o.Widget);e.GlyphHoverWidget=p}),define(s[262],n([1,0,22]),function(o,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function t(o,i,t){this._editRange=o,this._originalSelection=i,this._text=t}return t.prototype.getEditOperations=function(o,e){e.addTrackedEditOperation(this._editRange,this._text)},t.prototype.computeCursorState=function(o,e){var t=e.getInverseEditOperations()[0].range;return this._originalSelection.isEmpty()?new r.Selection(t.endLineNumber,q(this._originalSelection.positionColumn,t.endColumn),t.endLineNumber,q(this._originalSelection.positionColumn,t.endColumn)):new r.Selection(t.endLineNumber,t.endColumn-this._text.length,t.endLineNumber,t.endColumn)},t}();e.InPlaceReplaceCommand=t}),define(s[263],n([1,0]),function(o,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSpaceCnt=function(o,e){for(var t=0,n=0;n<o.length;n++)"\t"===o.charAt(n)?t+=e:t++;return t},e.generateIndent=function(a,e,t){a=0>a?0:a;var s="";if(!t){var i=M(a/e);for(a%=e,o=0;o<i;o++)s+="\t"}for(var o=0;o<a;o++)s+=" ";return s}}),define(s[264],n([1,0,2,22]),function(r,e,a,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function o(o,n){this._selection=o,this._isCopyingDown=n}return o.prototype.getEditOperations=function(n,e){var t=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,t.startLineNumber<t.endLineNumber&&1===t.endColumn&&(this._endLineNumberDelta=1,t=t.setEndPosition(t.endLineNumber-1,n.getLineMaxColumn(t.endLineNumber-1)));for(var i=[],o=t.startLineNumber;o<=t.endLineNumber;o++)i.push(n.getLineContent(o));var r=i.join("\n");""===r&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._isCopyingDown?e.addEditOperation(new a.Range(t.startLineNumber,1,t.startLineNumber,1),r+"\n"):e.addEditOperation(new a.Range(t.endLineNumber,n.getLineMaxColumn(t.endLineNumber),t.endLineNumber,n.getLineMaxColumn(t.endLineNumber)),"\n"+r),this._selectionId=e.trackSelection(t),this._selectionDirection=this._selection.getDirection()},o.prototype.computeCursorState=function(i,e){var d=e.getTrackedSelection(this._selectionId);if(0!==this._startLineNumberDelta||0!==this._endLineNumberDelta){var n=d.startLineNumber,o=d.startColumn,r=d.endLineNumber,s=d.endColumn;0!==this._startLineNumberDelta&&(n+=this._startLineNumberDelta,o=1),0!==this._endLineNumberDelta&&(r+=this._endLineNumberDelta,s=1),d=t.Selection.createWithDirection(n,o,r,s,this._selectionDirection)}return d},o}();e.CopyLinesCommand=n}),define(s[265],n([1,0,2,22]),function(r,e,a,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function o(o,i,t){this.startLineNumber=o,this.endLineNumber=i,this.restoreCursorToColumn=t}return o.createFromSelection=function(e){var t=e.endLineNumber;return e.startLineNumber<e.endLineNumber&&1===e.endColumn&&(t-=1),new o(e.startLineNumber,t,e.positionColumn)},o.prototype.getEditOperations=function(n,e){if(1!==n.getLineCount()||1!==n.getLineMaxColumn(1)){var t=this.startLineNumber,i=this.endLineNumber,o=1,r=n.getLineMaxColumn(i);i<n.getLineCount()?(i+=1,r=1):1<t&&(t-=1,o=n.getLineMaxColumn(t)),e.addTrackedEditOperation(new a.Range(t,o,i,r),null)}},o.prototype.computeCursorState=function(o,e){var t=e.getInverseEditOperations()[0].range;return new s.Selection(t.endLineNumber,this.restoreCursorToColumn,t.endLineNumber,this.restoreCursorToColumn)},o}();e.DeleteLinesCommand=t}),define(s[266],n([1,0,59,2]),function(a,e,d,n){"use strict";function l(d,e,t){var n=e.startLineNumber,l=e.endLineNumber;if(1===e.endColumn&&l--,n>=l)return null;for(var p=[],c=n;c<=l;c++)p.push(d.getLineContent(c));var s=p.slice(0);return s.sort(function(o,e){return o.toLowerCase().localeCompare(e.toLowerCase())}),!0===t&&(s=s.reverse()),{startLineNumber:n,endLineNumber:l,before:p,after:s}}function o(o,e,t){var i=l(o,e,t);return i?d.EditOperation.replace(new n.Range(i.startLineNumber,1,i.endLineNumber,o.getLineMaxColumn(i.endLineNumber)),i.after.join("\n")):null}Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function t(o,n){this.selection=o,this.descending=n}return t.prototype.getEditOperations=function(i,e){var t=o(i,this.selection,this.descending);t&&e.addEditOperation(t.range,t.text),this.selectionId=e.trackSelection(this.selection)},t.prototype.computeCursorState=function(o,e){return e.getTrackedSelection(this.selectionId)},t.canRun=function(o,e,t){var n=l(o,e,t);if(!n)return!1;for(var a=0,r=n.before.length;a<r;a++)if(n.before[a]!==n.after[a])return!0;return!1},t}();e.SortLinesCommand=t});var h=this&&this.__assign||Object.assign||function(r){for(var e=1,n=arguments.length,i;e<n;e++)for(var t in i=arguments[e],i)Object.prototype.hasOwnProperty.call(i,t)&&(r[t]=i[t]);return r};define(s[267],n([1,0,123,11,4,20,25,391]),function(d,e,l,n,p,o,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function t(i){var s=this;this._options={stickiness:o.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,glyphMarginClassName:"lightbulb-glyph",glyphMarginHoverMessage:void 0},this._onClick=new n.Emitter,this._decorationIds=[],this._futureFixes=new l.CancellationTokenSource,this._editor=i,this._mouseDownSubscription=this._editor.onMouseDown(function(t){if(t.target.type===c.MouseTargetType.GUTTER_GLYPH_MARGIN&&void 0!==s._currentLine&&s._currentLine===t.target.position.lineNumber){var e=p.getDomNodePagePosition(t.target.element),o=e.top,n=e.height,i=s._editor.getConfiguration().lineHeight;s._onClick.fire({x:t.event.posx,y:o+n+M(i/3)})}})}return t.prototype.dispose=function(){this._mouseDownSubscription.dispose(),this.hide()},Object.defineProperty(t.prototype,"onClick",{get:function(){return this._onClick.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"model",{get:function(){return this._model},set:function(o){var e=this;this._model=o,this.hide(),this._futureFixes=new l.CancellationTokenSource;var t=this._futureFixes.token;o.fixes.done(function(i){!t.isCancellationRequested&&i&&0<i.length?e.show(o):e.hide()},function(){e.hide()})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){return this._options.glyphMarginHoverMessage},set:function(){},enumerable:!0,configurable:!0}),t.prototype.show=function(t){this._currentLine=t.range.startLineNumber,this._decorationIds=this._editor.deltaDecorations(this._decorationIds,[{options:this._options,range:h({},t.range,{endLineNumber:t.range.startLineNumber})}])},t.prototype.hide=function(){this._decorationIds=this._editor.deltaDecorations(this._decorationIds,[]),this._futureFixes.cancel(),this._currentLine=void 0},t}();e.LightBulbWidget=t}),define(s[268],n([1,0,18,4,12,53,11]),function(d,e,l,p,n,t,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function i(i,r,t){this._onDidExecuteCodeAction=new o.Emitter,this.onDidExecuteCodeAction=this._onDidExecuteCodeAction.event,this._editor=i,this._contextMenuService=r,this._commandService=t}return i.prototype.show=function(o,e){var r=this,i=o.then(function(o){return o.map(function(o){return new t.Action(o.id,o.title,void 0,!0,function(){return l.always((e=r._commandService).executeCommand.apply(e,[o.id].concat(o.arguments)),function(){return r._onDidExecuteCodeAction.fire(void 0)});var e})})});this._contextMenuService.showContextMenu({getAnchor:function(){return n.Position.isIPosition(e)&&(e=r._toCoords(e)),e},getActions:function(){return i},onHide:function(){r._visible=!1}})},Object.defineProperty(i.prototype,"isVisible",{get:function(){return this._visible},enumerable:!0,configurable:!0}),i.prototype._toCoords=function(o){this._editor.revealPosition(o),this._editor.render();var e=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),t=p.getDomNodePagePosition(this._editor.getDomNode());return{x:t.left+e.left,y:t.top+e.top+e.height}},i}();e.QuickFixContextMenu=i}),define(s[269],n([1,0,2,91,98,43]),function(_,e,y,n,i,o){"use strict";function r(o){var e=new a;return e.start=o.range.getStartPosition(),e.end=o.range.getEndPosition(),e}function s(n,e){if(n instanceof u&&n.isEmpty)return null;if(!y.Range.containsPosition(n.range,e))return null;var t;if(!(n instanceof u))n instanceof l&&(t=s(n.open,e)||s(n.elements,e)||s(n.close,e));else if(n.hasChildren)for(var a=0,o=n.children.length;a<o&&!t;a++)t=s(n.children[a],e);return t||n}Object.defineProperty(e,"__esModule",{value:!0}),!function(t){t[t.None=0]="None",t[t.Open=1]="Open",t[t.Close=-1]="Close"}(e.TokenTreeBracket||(e.TokenTreeBracket={}));var a=function(){function t(){}return Object.defineProperty(t.prototype,"range",{get:function(){return new y.Range(this.start.lineNumber,this.start.column,this.end.lineNumber,this.end.column)},enumerable:!0,configurable:!0}),t}();e.Node=a;var u=function(o){function n(){return null!==o&&o.apply(this,arguments)||this}return Z(n,o),Object.defineProperty(n.prototype,"start",{get:function(){return this.hasChildren?this.children[0].start:this.parent.start},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"end",{get:function(){return this.hasChildren?this.children[this.children.length-1].end:this.parent.end},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"hasChildren",{get:function(){return this.children&&0<this.children.length},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isEmpty",{get:function(){return!this.hasChildren&&!this.parent},enumerable:!0,configurable:!0}),n.prototype.append=function(t){return!!t&&(t.parent=this,this.children||(this.children=[]),t instanceof n?t.children&&this.children.push.apply(this.children,t.children):this.children.push(t),!0)},n}(a);e.NodeList=u;var l=function(o){function e(){var e=o.call(this)||this;return e.elements=new u,e.elements.parent=e,e}return Z(e,o),Object.defineProperty(e.prototype,"start",{get:function(){return this.open.start},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"end",{get:function(){return this.close.end},enumerable:!0,configurable:!0}),e}(a);e.Block=l;var C=function(){return function(o,e,t){this.range=o,this.bracket=e,this.bracketType=t}}(),t=function(){return function(o,e,t){this.lineNumber=e,this.lineText=t,this.startOffset=o.startOffset,this.endOffset=o.endOffset,this.type=o.tokenType,this.languageId=o.languageId}}(),d=function(){function o(t){this._model=t,this._lineCount=this._model.getLineCount(),this._versionId=this._model.getVersionId(),this._lineNumber=0,this._lineText=null,this._advance()}return o.prototype._advance=function(){for(this._next=this._next?this._next.next():null;!this._next&&this._lineNumber<this._lineCount;){this._lineNumber++,this._lineText=this._model.getLineContent(this._lineNumber),this._model.forceTokenization(this._lineNumber);var t=this._model.getLineTokens(this._lineNumber);this._next=t.firstToken()}},o.prototype.next=function(){if(!this._next)return null;if(this._model.getVersionId()!==this._versionId)return null;var o=new t(this._next,this._lineNumber,this._lineText);return this._advance(),o},o}(),p=function(){function t(t){this._rawTokenScanner=new d(t),this._nextBuff=[],this._cachedLanguageBrackets=null,this._cachedLanguageId=-1}return t.prototype.next=function(){if(0<this._nextBuff.length)return this._nextBuff.shift();var r=this._rawTokenScanner.next();if(!r)return null;var d=r.lineNumber,t=r.lineText,s=r.type,a=r.startOffset,u=r.endOffset;this._cachedLanguageId!==r.languageId&&(this._cachedLanguageId=r.languageId,this._cachedLanguageBrackets=o.LanguageConfigurationRegistry.getBracketsSupport(this._cachedLanguageId));var l=this._cachedLanguageBrackets;if(!l||n.ignoreBracketsInToken(s))return new C(new y.Range(d,a+1,d,u+1),0,null);var _;do if(_=i.BracketsUtils.findNextBracketInToken(l.forwardRegex,d,t,a,u)){var h=_.startColumn-1,p=_.endColumn-1;a<h&&this._nextBuff.push(new C(new y.Range(d,a+1,d,h+1),0,null));var f=t.substring(h,p);f=f.toLowerCase();var g=l.textIsBracket[f],m=l.textIsOpenBracket[f];this._nextBuff.push(new C(new y.Range(d,h+1,d,p+1),m?1:-1,g.languageIdentifier.language+";"+g.open+";"+g.close)),a=p}while(_);return a<u&&this._nextBuff.push(new C(new y.Range(d,a+1,d,u+1),0,null)),this._nextBuff.shift()},t}(),c=function(){function t(t){this._stack=[],this._scanner=new p(t)}return t.prototype.build=function(){for(var t=new u;t.append(this._line()||this._any()););return t},t.prototype._accept=function(o){var e=this._stack.pop()||this._scanner.next();if(!e)return!1;var i=o(e);return i?this._currentToken=e:(this._stack.push(e),this._currentToken=null),i},t.prototype._peek=function(o){var e=!1;return this._accept(function(t){return e=o(t),!1}),e},t.prototype._line=function(){var o=new u,n;for(this._peek(function(e){return n=e.range.startLineNumber,!1});this._peek(function(e){return e.range.startLineNumber===n})&&o.append(this._token()||this._block()););return o.children&&0!==o.children.length?1===o.children.length?o.children[0]:o:null},t.prototype._token=function(){return this._accept(function(t){return 0===t.bracket})?r(this._currentToken):null},t.prototype._block=function(){var o;if(!this._accept(function(e){return o=e.bracketType,1===e.bracket}))return null;var e=new l;for(e.open=r(this._currentToken);e.elements.append(this._line()););if(!this._accept(function(e){return-1===e.bracket&&e.bracketType===o})){var t=new u;return t.append(e.open),t.append(e.elements),t}return e.close=r(this._currentToken),e},t.prototype._any=function(){return this._accept(function(){return!0})?r(this._currentToken):null},t}();e.build=function(t){return new c(t).build()},e.find=s}),define(s[142],n([1,0]),function(p,e){"use strict";function g(o,e){for(var t=o.slice(),r;0<t.length&&(r=t.shift(),!!e(r));)t.unshift.apply(t,r.children)}Object.defineProperty(e,"__esModule",{value:!0});var m;!function(t){t[t.Dollar=0]="Dollar",t[t.Colon=1]="Colon",t[t.Comma=2]="Comma",t[t.CurlyOpen=3]="CurlyOpen",t[t.CurlyClose=4]="CurlyClose",t[t.Backslash=5]="Backslash",t[t.Forwardslash=6]="Forwardslash",t[t.Pipe=7]="Pipe",t[t.Int=8]="Int",t[t.VariableName=9]="VariableName",t[t.Format=10]="Format",t[t.EOF=11]="EOF"}(m=e.TokenType||(e.TokenType={}));var t=function(){function i(){this.text("")}return i.isDigitCharacter=function(t){return 48<=t&&57>=t},i.isVariableCharacter=function(t){return 95===t||97<=t&&122>=t||65<=t&&90>=t},i.prototype.text=function(t){this.value=t,this.pos=0},i.prototype.tokenText=function(t){return this.value.substr(t.pos,t.len)},i.prototype.next=function(){if(this.pos>=this.value.length)return{type:m.EOF,pos:this.pos,len:0};var e=this.pos,a=0,s=this.value.charCodeAt(e),r;if("number"==typeof(r=i._table[s]))return this.pos+=1,{type:r,pos:e,len:1};if(i.isDigitCharacter(s)){r=m.Int;do a+=1,s=this.value.charCodeAt(e+a);while(i.isDigitCharacter(s));return this.pos+=a,{type:r,pos:e,len:a}}if(i.isVariableCharacter(s)){r=m.VariableName;do s=this.value.charCodeAt(e+ ++a);while(i.isVariableCharacter(s)||i.isDigitCharacter(s));return this.pos+=a,{type:r,pos:e,len:a}}r=m.Format;do a+=1,s=this.value.charCodeAt(e+a);while(!isNaN(s)&&void 0===i._table[s]&&!i.isDigitCharacter(s)&&!i.isVariableCharacter(s));return this.pos+=a,{type:r,pos:e,len:a}},i._table=(d={},d[36]=m.Dollar,d[58]=m.Colon,d[44]=m.Comma,d[123]=m.CurlyOpen,d[125]=m.CurlyClose,d[92]=m.Backslash,d[47]=m.Forwardslash,d[124]=m.Pipe,d),i}();e.Scanner=t;var o=function(){function t(){this._children=[]}return t.prototype.appendChild=function(t){return t instanceof i&&this._children[this._children.length-1]instanceof i?this._children[this._children.length-1].value+=t.value:(t.parent=this,this._children.push(t)),this},t.prototype.replace=function(r,e){var t=r.parent,n=t.children.indexOf(r),i=t.children.slice(0);i.splice.apply(i,[n,1].concat(e)),t._children=i,e.forEach(function(o){return o.parent=t})},Object.defineProperty(t.prototype,"children",{get:function(){return this._children},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"snippet",{get:function(){for(var t=this;;){if(!t)return;if(t instanceof n)return t;t=t.parent}},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this.children.reduce(function(o,e){return o+e.toString()},"")},t.prototype.len=function(){return 0},t}();e.Marker=o;var i=function(o){function e(e){var i=o.call(this)||this;return i.value=e,i}return Z(e,o),e.prototype.toString=function(){return this.value},e.prototype.toTextmateString=function(){return this.value.replace(/\$|}|\\/g,"\\$&")},e.prototype.len=function(){return this.value.length},e.prototype.clone=function(){return new e(this.value)},e}(o);e.Text=i;var _=function(o){function n(e){var i=o.call(this)||this;return i.index=e,i}return Z(n,o),n.compareByIndex=function(o,e){return o.index===e.index?0:o.isFinalTabstop?1:e.isFinalTabstop?-1:o.index<e.index?-1:o.index>e.index?1:0},Object.defineProperty(n.prototype,"isFinalTabstop",{get:function(){return 0===this.index},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"choice",{get:function(){return 1===this._children.length&&this._children[0]instanceof a?this._children[0]:void 0},enumerable:!0,configurable:!0}),n.prototype.toTextmateString=function(){return 0===this.children.length?"$"+this.index:this.choice?"${"+this.index+"|"+this.choice.toTextmateString()+"|}":"${"+this.index+":"+this.children.map(function(t){return t.toTextmateString()}).join("")+"}"},n.prototype.clone=function(){var t=new n(this.index);return t._children=this.children.map(function(t){return t.clone()}),t},n}(o);e.Placeholder=_;var a=function(o){function n(){var e=null!==o&&o.apply(this,arguments)||this;return e.options=[],e}return Z(n,o),n.prototype.appendChild=function(t){return t instanceof i&&(t.parent=this,this.options.push(t)),this},n.prototype.toString=function(){return this.options[0].value},n.prototype.toTextmateString=function(){return this.options.map(function(t){return t.value.replace(/\||,/g,"\\$&")}).join(",")},n.prototype.len=function(){return this.options[0].len()},n.prototype.clone=function(){var t=new n;return this.options.forEach(t.appendChild,t),t},n}(o);e.Choice=a;var r=function(o){function n(e){var i=o.call(this)||this;return i.name=e,i}return Z(n,o),n.prototype.resolve=function(o){var e=o.resolve(this);return void 0!==e&&(this._children=[new i(e)],!0)},n.prototype.toTextmateString=function(){return 0===this.children.length?"${"+this.name+"}":"${"+this.name+":"+this.children.map(function(t){return t.toTextmateString()}).join("")+"}"},n.prototype.clone=function(){var t=new n(this.name);return t._children=this.children.map(function(t){return t.clone()}),t},n}(o);e.Variable=r;var n=function(o){function n(){return null!==o&&o.apply(this,arguments)||this}return Z(n,o),Object.defineProperty(n.prototype,"placeholders",{get:function(){var o=this;return this._placeholders||(this._placeholders=[],this.walk(function(e){return e instanceof _&&o.placeholders.push(e),!0})),this._placeholders},enumerable:!0,configurable:!0}),n.prototype.offset=function(o){var e=0,t=!1;return this.walk(function(n){return n===o?(t=!0,!1):(e+=n.len(),!0)}),t?e:-1},n.prototype.fullLen=function(o){var n=0;return g([o],function(t){return n+=t.len(),!0}),n},n.prototype.enclosingPlaceholders=function(o){for(var e=[],t=o.parent;t;)t instanceof _&&e.push(t),t=t.parent;return e},n.prototype.resolveVariables=function(o){var e=this;return this.walk(function(t){return t instanceof r&&t.resolve(o)&&(e._placeholders=void 0),!0}),this},n.prototype.appendChild=function(e){return this._placeholders=void 0,o.prototype.appendChild.call(this,e)},n.prototype.replace=function(e,t){return this._placeholders=void 0,o.prototype.replace.call(this,e,t)},n.prototype.toTextmateString=function(){return this.children.reduce(function(o,e){return o+e.toTextmateString()},"")},n.prototype.clone=function(){var t=new n;return this._children=this.children.map(function(t){return t.clone()}),t},n.prototype.walk=function(t){g(this.children,t)},n}(o);e.TextmateSnippet=n;var s=function(){function o(){this._scanner=new t}return o.escape=function(t){return t.replace(/\$|}|\\/g,"\\$&")},o.prototype.text=function(t){return this.parse(t).toString()},o.prototype.parse=function(a,e,t){this._scanner.text(a),this._token=this._scanner.next();for(var c=new n;this._parse(c););var i=new Map,o=[];c.walk(function(t){return t instanceof _&&(t.isFinalTabstop?i.set(0):!i.has(t.index)&&0<t.children.length?i.set(t.index,t.children):o.push(t)),!0});for(var r=0,s=o,u;r<s.length;r++)if(u=s[r],i.has(u.index)){for(var l=new _(u.index),d=0,g=i.get(u.index),p;d<g.length;d++)p=g[d],l.appendChild(p.clone());c.replace(u,[l])}return!i.has(0)&&(e&&0<i.size||t)&&c.appendChild(new _(0)),c},o.prototype._accept=function(o,e){if(void 0===o||this._token.type===o){var i=!e||this._scanner.tokenText(this._token);return this._token=this._scanner.next(),i}return!1},o.prototype._backTo=function(t){return this._scanner.pos=t.pos+t.len,this._token=t,!1},o.prototype._parse=function(t){return this._parseEscaped(t)||this._parseTabstopOrVariableName(t)||this._parseComplexPlaceholder(t)||this._parseComplexVariable(t)||this._parseAnything(t)},o.prototype._parseEscaped=function(o){var e;return!!(e=this._accept(m.Backslash,!0))&&(e=this._accept(m.Dollar,!0)||this._accept(m.CurlyClose,!0)||this._accept(m.Backslash,!0)||e,o.appendChild(new i(e)),!0)},o.prototype._parseTabstopOrVariableName=function(o){var e=this._token,n;return this._accept(m.Dollar)&&(n=this._accept(m.VariableName,!0)||this._accept(m.Int,!0))?(o.appendChild(/^\d+$/.test(n)?new _(+n):new r(n)),!0):this._backTo(e)},o.prototype._parseComplexPlaceholder=function(s){var e=this._token,n;if(!(this._accept(m.Dollar)&&this._accept(m.CurlyOpen)&&(n=this._accept(m.Int,!0))))return this._backTo(e);var d=new _(+n);if(this._accept(m.Colon))for(;;){if(this._accept(m.CurlyClose))return s.appendChild(d),!0;if(!this._parse(d))return s.appendChild(new i("${"+n+":")),d.children.forEach(s.appendChild,s),!0}else{if(!this._accept(m.Pipe))return this._accept(m.CurlyClose)?(s.appendChild(d),!0):this._backTo(e);for(var o=new a;;){if(this._parseChoiceElement(o)){if(this._accept(m.Comma))continue;if(this._accept(m.Pipe)&&this._accept(m.CurlyClose))return d.appendChild(o),s.appendChild(d),!0}return this._backTo(e),!1}}},o.prototype._parseChoiceElement=function(r){for(var e=this._token,t=[];;){if(this._token.type===m.Comma||this._token.type===m.Pipe)break;var n=void 0;if(!(n=(n=this._accept(m.Backslash,!0))?this._accept(m.Comma,!0)||this._accept(m.Pipe,!0)||n:this._accept(void 0,!0)))return this._backTo(e),!1;t.push(n)}return 0===t.length?(this._backTo(e),!1):(r.appendChild(new i(t.join(""))),!0)},o.prototype._parseComplexVariable=function(a){var e=this._token,n;if(!(this._accept(m.Dollar)&&this._accept(m.CurlyOpen)&&(n=this._accept(m.VariableName,!0))))return this._backTo(e);var t=new r(n);if(!this._accept(m.Colon))return this._accept(m.CurlyClose)?(a.appendChild(t),!0):this._backTo(e);for(;;){if(this._accept(m.CurlyClose))return a.appendChild(t),!0;if(!this._parse(t))return a.appendChild(new i("${"+n+":")),t.children.forEach(a.appendChild,a),!0}},o.prototype._parseAnything=function(t){return this._token.type!==m.EOF&&(t.appendChild(new i(this._scanner.tokenText(this._token))),this._accept(void 0),!0)},o}();e.SnippetParser=s;var d}),define(s[271],n([1,0,45,142,9]),function(a,e,p,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function t(o,n){this._model=o,this._selection=n}return t.prototype.resolve=function(o){var e=o.name;if("SELECTION"===e||"TM_SELECTED_TEXT"===e){var t=this._model.getValueInRange(this._selection)||void 0;if(t&&this._selection.startLineNumber!==this._selection.endLineNumber){var r=this._model.getLineContent(this._selection.startLineNumber),s=i.getLeadingWhitespace(r,0,this._selection.startColumn-1),a=s;o.snippet.walk(function(e){return e!==o&&(e instanceof n.Text&&(a=i.getLeadingWhitespace(e.value.split(/\r\n|\r|\n/).pop())),!0)});var u=i.commonPrefixLength(a,s);t=t.replace(/(\r\n|\r|\n)(.*)/g,function(o,e,t){return""+e+a.substr(u)+t})}return t}if("TM_CURRENT_LINE"===e)return this._model.getLineContent(this._selection.positionLineNumber);if("TM_CURRENT_WORD"===e){var l=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return l&&l.word||void 0}if("TM_LINE_INDEX"===e)return this._selection.positionLineNumber-1+"";if("TM_LINE_NUMBER"===e)return this._selection.positionLineNumber+"";if("TM_FILENAME"===e)return p.basename(this._model.uri.fsPath);if("TM_DIRECTORY"===e){var c=p.dirname(this._model.uri.fsPath);return"."===c?"":c}return"TM_FILEPATH"===e?this._model.uri.fsPath:void 0},t.VariableNames=Object.freeze({SELECTION:!0,TM_SELECTED_TEXT:!0,TM_CURRENT_LINE:!0,TM_CURRENT_WORD:!0,TM_LINE_INDEX:!0,TM_LINE_NUMBER:!0,TM_FILENAME:!0,TM_DIRECTORY:!0,TM_FILEPATH:!0}),t}();e.EditorSnippetVariableResolver=t}),define(s[272],n([1,0,81]),function(r,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){return function(){}}();e.LineContext=n;var i=function(){function r(e,t,n,i){this._snippetCompareFn=r._compareCompletionItems,this._items=e,this._column=t,this._lineContext=n,"top"===i?this._snippetCompareFn=r._compareCompletionItemsSnippetsUp:"bottom"===i&&(this._snippetCompareFn=r._compareCompletionItemsSnippetsDown)}return Object.defineProperty(r.prototype,"lineContext",{get:function(){return this._lineContext},set:function(t){this._lineContext.leadingLineContent===t.leadingLineContent&&this._lineContext.characterCountDelta===t.characterCountDelta||(this._lineContext=t,this._filteredItems=void 0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"items",{get:function(){return this._ensureCachedState(),this._filteredItems},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"incomplete",{get:function(){return this._ensureCachedState(),this._isIncomplete},enumerable:!0,configurable:!0}),r.prototype.resolveIncompleteInfo=function(){for(var r=[],a=[],s=0,n=this._items,i;s<n.length;s++)i=n[s],i.container.incomplete?0>r.indexOf(i.support)&&r.push(i.support):a.push(i);return{incomplete:r,complete:a}},Object.defineProperty(r.prototype,"stats",{get:function(){return this._ensureCachedState(),this._stats},enumerable:!0,configurable:!0}),r.prototype._ensureCachedState=function(){this._filteredItems||this._createCachedState()},r.prototype._createCachedState=function(){this._filteredItems=[],this._isIncomplete=!1,this._stats={suggestionCount:0,snippetCount:0,textCount:0};for(var n=this._lineContext,e=n.leadingLineContent,d=n.characterCountDelta,i="",o=0;o<this._items.length;o++){var r=this._items[o],s=r.suggestion,a=r.container;this._isIncomplete=this._isIncomplete||a.incomplete;var p=s.overwriteBefore+d-(r.position.column-this._column);if(i.length!==p&&(i=0===p?"":e.slice(-p)),0===p)r.score=-100;else if("string"==typeof s.filterText){if(!(u=t.fuzzyScore(i,s.filterText,s.overwriteBefore)))continue;r.score=u[0],r.matches=[],(u=t.fuzzyScore(i,s.label,s.overwriteBefore))&&(r.matches=u[1])}else{var u=t.fuzzyScore(i,s.label,s.overwriteBefore);if(!u)continue;r.score=u[0],r.matches=u[1]}switch(r.idx=o,this._filteredItems.push(r),this._stats.suggestionCount++,s.type){case"snippet":this._stats.snippetCount++;break;case"text":this._stats.textCount++;}}this._filteredItems.sort(this._snippetCompareFn)},r._compareCompletionItems=function(o,e){return o.score>e.score?-1:o.score<e.score?1:o.idx<e.idx?-1:o.idx>e.idx?1:0},r._compareCompletionItemsSnippetsDown=function(e,t){if(e.suggestion.type!==t.suggestion.type){if("snippet"===e.suggestion.type)return 1;if("snippet"===t.suggestion.type)return-1}return r._compareCompletionItems(e,t)},r._compareCompletionItemsSnippetsUp=function(e,t){if(e.suggestion.type!==t.suggestion.type){if("snippet"===e.suggestion.type)return-1;if("snippet"===t.suggestion.type)return 1}return r._compareCompletionItems(e,t)},r}();e.CompletionModel=i}),define(s[273],n([1,0,7,17,106,90,130,9]),function(p,e,g,m,_,o,f,n){"use strict";function i(o,e,t){return r(o,e,t)}function a(r,e){for(var t=[],n=0,i=r.length;n<i;n++){var s=r[n],a=_.renderViewLine(new _.RenderLineInput(!1,s,!1,0,[new o.ViewLineToken(s.length,16793600)],[],e,0,-1,"none",!1,!1));(t=t.concat(a.html)).push("<br/>")}return t.join("")}function r(o,e,t){for(var n=[],i=t.getInitialState(),r=0,a=o.length;r<a;r++){var s=o[r],l=t.tokenize2(s,i,0),p=new f.LineTokens(l.tokens,s),d=_.renderViewLine(new _.RenderLineInput(!1,s,!0,0,p.inflate(),[],e,0,-1,"none",!1,!1));(n=n.concat(d.html)).push("<br/>"),i=l.endState}return n.join("")}Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function t(){}return t.colorizeElement=function(d,e,t,n){var i=(n=n||{}).theme||"vs",o=n.mimeType||t.getAttribute("lang")||t.getAttribute("data-lang");if(o){d.setTheme(i);var r=t.firstChild.nodeValue;t.className+="monaco-editor "+i;var s=function(o){t.innerHTML=o};return this.colorize(e,r,o,n).then(s,function(t){return console.error(t)},s)}console.error("Mode not detected")},t._tokenizationSupportChangedPromise=function(i){var e=null,r=function(){e&&(e.dispose(),e=null)};return new g.TPromise(function(o){e=m.TokenizationRegistry.onDidChange(function(e){0<=e.changedLanguages.indexOf(i)&&(r(),o(void 0))})},r)},t.colorize=function(l,e,t,o){n.startsWithUTF8BOM(e)&&(e=e.substr(1));var r=e.split(/\r\n|\r|\n/),s=l.getModeId(t);void 0===(o=o||{}).tabSize&&(o.tabSize=4),l.getOrCreateMode(s);var p=m.TokenizationRegistry.get(s);return p?g.TPromise.as(i(r,o.tabSize,p)):g.TPromise.any([this._tokenizationSupportChangedPromise(s),g.TPromise.timeout(500)]).then(function(){var e=m.TokenizationRegistry.get(s);return e?i(r,o.tabSize,e):a(r,o.tabSize)})},t.colorizeLine=function(o,e,t,n){return void 0===n&&(n=4),_.renderViewLine(new _.RenderLineInput(!1,o,e,0,t,[],n,0,-1,"none",!1,!1)).html},t.colorizeModelLine=function(r,e,t){void 0===t&&(t=4);var n=r.getLineContent(e);r.forceTokenization(e);var i=r.getLineTokens(e).inflate();return this.colorizeLine(n,r.mightContainRTL(),i,t)},t}();e.Colorizer=t}),define(s[145],n([1,0]),function(a,e){"use strict";function t(t){return Array.isArray(t)}function n(t){return"string"==typeof t}function g(t){return!t}function o(o,e){return o.ignoreCase&&e?e.toLowerCase():e}Object.defineProperty(e,"__esModule",{value:!0}),!function(t){t[t.None=0]="None",t[t.Open=1]="Open",t[t.Close=-1]="Close"}(e.MonarchBracket||(e.MonarchBracket={})),e.isFuzzyActionArr=t,e.isFuzzyAction=function(o){return!t(o)},e.isString=n,e.isIAction=function(t){return!n(t)},e.empty=g,e.fixCase=o,e.sanitize=function(t){return t.replace(/[&<>'"_]/g,"-")},e.log=function(o,e){console.log(o.languageId+": "+e)},e.throwError=function(o,e){throw new Error(o.languageId+": "+e)},e.substituteMatches=function(r,e,m,n,i){var t=/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g,s=null;return e.replace(t,function(e,t,a,l,c,d,u){return g(a)?g(l)?!g(c)&&c<n.length?o(r,n[c]):!g(u)&&r&&"string"==typeof r[u]?r[u]:(null===s&&(s=i.split(".")).unshift(i),!g(d)&&d<s.length?o(r,s[d]):""):o(r,m):"$"})},e.findRules=function(o,e){for(;e&&0<e.length;){var t=o.tokenizer[e];if(t)return t;var n=e.lastIndexOf(".");e=0>n?null:e.substr(0,n)}return null},e.stateExists=function(o,e){for(;e&&0<e.length;){if(o.stateNames[e])return!0;var t=e.lastIndexOf(".");e=0>t?null:e.substr(0,t)}return!1}}),define(s[275],n([1,0,26,145]),function(p,e,m,y){"use strict";function n(o,e){if(!e)return!1;if(!Array.isArray(e))return!1;for(var i in e)if(e.hasOwnProperty(i)&&!o(e[i]))return!1;return!0}function i(o,i,t){return"boolean"==typeof o?o:(t&&(o||void 0===i)&&t(),void 0===i?null:i)}function r(o,i,t){return"string"==typeof o?o:(t&&(o||void 0===i)&&t(),void 0===i?null:i)}function s(i,e){if("string"!=typeof e)return null;for(var o=0;0<=e.indexOf("@")&&5>o;)o++,e=e.replace(/@(\w+)/g,function(t,n){var o="";return"string"==typeof i[n]?o=i[n]:i[n]&&i[n]instanceof RegExp?o=i[n].source:void 0===i[n]?y.throwError(i,"language definition does not contain attribute '"+n+"', used at: "+e):y.throwError(i,"attribute reference '"+n+"' must be a string, used at: "+e),y.empty(o)?"":"(?:"+o+")"});return new RegExp(e,i.ignoreCase?"i":"")}function a(r,e,t,n){if(0>n)return r;if(n<e.length)return e[n];if(100<=n){n-=100;var i=t.split(".");if(i.unshift(t),n<i.length)return i[n]}return null}function o(i,e,t,o){var u=-1,C=t,c=t.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);c&&(c[3]&&(u=parseInt(c[3]),c[2]&&(u+=100)),C=c[4]);var d="~",h=C;C&&0!==C.length?/^\w*$/.test(h)?d="==":(c=C.match(/^(@|!@|~|!~|==|!=)(.*)$/))&&(d=c[1],h=c[2]):(d="!=",h="");var p;if(!("~"!==d&&"!~"!==d||!/^(\w|\|)*$/.test(h))){var f=m.createKeywordMatcher(h.split("|"),i.ignoreCase);p=function(t){return"~"===d?f(t):!f(t)}}else if("@"===d||"!@"===d){var _=i[h];_||y.throwError(i,"the @ match target '"+h+"' is not defined, in rule: "+e),n(function(t){return"string"==typeof t},_)||y.throwError(i,"the @ match target '"+h+"' must be an array of strings, in rule: "+e),f=m.createKeywordMatcher(_,i.ignoreCase),p=function(t){return"@"===d?f(t):!f(t)}}else if("~"===d||"!~"===d){if(0>h.indexOf("$")){var g=s(i,"^"+h+"$");p=function(t){return"~"===d?g.test(t):!g.test(t)}}else p=function(e,t,n,o){return s(i,"^"+y.substituteMatches(i,h,t,n,o)+"$").test(e)};}else if(0>h.indexOf("$"))b=y.fixCase(i,h),p=function(t){return"=="===d?t===b:t!==b};else{var b=y.fixCase(i,h);p=function(e,t,n,o){var r=y.substituteMatches(i,b,t,n,o);return"=="===d?e===r:e!==r}}return-1===u?{name:t,value:o,test:function(o,e,t,n){return p(o,o,e,t,n)}}:{name:t,value:o,test:function(r,e,t,n){var i=a(r,e,t,u);return p(i||"",r,e,t,n)}}}function l(i,e,t){if(t){if("string"==typeof t)return t;if(t.token||""===t.token){if("string"!=typeof t.token)return y.throwError(i,"a 'token' attribute must be of type string, in rule: "+e),{token:""};var c={token:t.token};if(0<=t.token.indexOf("$")&&(c.tokenSubst=!0),"string"==typeof t.bracket&&("@open"===t.bracket?c.bracket=1:"@close"===t.bracket?c.bracket=-1:y.throwError(i,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+e)),t.next)if("string"!=typeof t.next)y.throwError(i,"the next state must be a string value in rule: "+e);else{var g=t.next;/^(@pop|@push|@popall)$/.test(g)||("@"===g[0]&&(g=g.substr(1)),0>g.indexOf("$")&&(y.stateExists(i,y.substituteMatches(i,g,"",[],""))||y.throwError(i,"the next state '"+t.next+"' is not defined in rule: "+e))),c.next=g}return"number"==typeof t.goBack&&(c.goBack=t.goBack),"string"==typeof t.switchTo&&(c.switchTo=t.switchTo),"string"==typeof t.log&&(c.log=t.log),"string"==typeof t.nextEmbedded&&(c.nextEmbedded=t.nextEmbedded,i.usesEmbedded=!0),c}if(Array.isArray(t)){var r=[],m;for(m in t)t.hasOwnProperty(m)&&(r[m]=l(i,e,t[m]));return{group:r}}if(t.cases){var s=[],d;for(d in t.cases)if(t.cases.hasOwnProperty(d)){var _=l(i,e,t.cases[d]);"@default"===d||"@"===d||""===d?s.push({test:null,value:_,name:d}):"@eos"===d?s.push({test:function(o,e,t,n){return n},value:_,name:d}):s.push(o(i,e,d,_))}var f=i.defaultToken;return{test:function(r,e,t,n){for(var i in s)if(s.hasOwnProperty(i)&&(!s[i].test||s[i].test(r,e,t,n)))return s[i].value;return f}}}return y.throwError(i,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+e),""}return{token:""}}Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function t(t){this.regex=/(?:)/,this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=t}return t.prototype.setRegex=function(o,e){var i;"string"==typeof e?i=e:e instanceof RegExp?i=e.source:y.throwError(o,"rules must start with a match string or regular expression: "+this.name),this.matchOnlyAtLineStart=0<i.length&&"^"===i[0],this.name=this.name+": "+i,this.regex=s(o,"^(?:"+(this.matchOnlyAtLineStart?i.substr(1):i)+")")},t.prototype.setAction=function(o,e){this.action=l(o,this.name,e)},t}();e.compile=function(s,d){function m(a,e,s){for(var l in s)if(s.hasOwnProperty(l)){var c=s[l],u=c.include;if(u)"string"!=typeof u&&y.throwError(n,"an 'include' attribute must be a string at: "+a),"@"===u[0]&&(u=u.substr(1)),d.tokenizer[u]||y.throwError(n,"include target '"+u+"' is not defined at: "+a),m(a+"."+u,e,d.tokenizer[u]);else{var h=new t(a);if(!(Array.isArray(c)&&1<=c.length&&3>=c.length))c.regex||y.throwError(n,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+a),c.name&&(h.name=r(c.name)),c.matchOnlyAtStart&&(h.matchOnlyAtLineStart=i(c.matchOnlyAtLineStart)),h.setRegex(o,c.regex),h.setAction(o,c.action);else if(!(h.setRegex(o,c[0]),3<=c.length))h.setAction(o,c[1]);else if("string"==typeof c[1])h.setAction(o,{token:c[1],next:c[2]});else if("object"==typeof c[1]){var _=c[1];_.next=c[2],h.setAction(o,_)}else y.throwError(n,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+a);e.push(h)}}}if(!d||"object"!=typeof d)throw new Error("Monarch: expecting a language definition object");var n={};n.languageId=s,n.noThrow=!1,n.maxStack=100,n.start=r(d.start),n.ignoreCase=i(d.ignoreCase,!1),n.tokenPostfix=r(d.tokenPostfix,"."+n.languageId),n.defaultToken=r(d.defaultToken,"source",function(){y.throwError(n,"the 'defaultToken' must be a string")}),n.usesEmbedded=!1;var o=d;o.languageId=s,o.ignoreCase=n.ignoreCase,o.noThrow=n.noThrow,o.usesEmbedded=n.usesEmbedded,o.stateNames=d.tokenizer,o.defaultToken=n.defaultToken,d.tokenizer&&"object"==typeof d.tokenizer||y.throwError(n,"a language definition must define the 'tokenizer' attribute as an object"),n.tokenizer=[];for(var e in d.tokenizer)if(d.tokenizer.hasOwnProperty(e)){n.start||(n.start=e);var a=d.tokenizer[e];n.tokenizer[e]=[],m("tokenizer."+e,n.tokenizer[e],a)}n.usesEmbedded=o.usesEmbedded,d.brackets?Array.isArray(d.brackets)||y.throwError(n,"the 'brackets' attribute must be defined as an array"):d.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];var l=[];for(var c in d.brackets)if(d.brackets.hasOwnProperty(c)){var u=d.brackets[c];u&&Array.isArray(u)&&3===u.length&&(u={token:u[2],open:u[0],close:u[1]}),u.open===u.close&&y.throwError(n,"open and close brackets in a 'brackets' attribute must be different: "+u.open+"\n hint: use the 'bracket' attribute if matching on equal brackets is required."),"string"==typeof u.open&&"string"==typeof u.token?l.push({token:r(u.token)+n.tokenPostfix,open:y.fixCase(n,r(u.open)),close:y.fixCase(n,r(u.close))}):y.throwError(n,"every element in the 'brackets' array must be a '{open,close,token}' object or array")}return n.brackets=l,n.noThrow=!0,n}}),define(s[276],n([1,0,17,145,97,68]),function(m,e,_,B,n,y){"use strict";function t(i,e){if(!e)return null;e=B.fixCase(i,e);for(var a=i.brackets,n=0,o;n<a.length;n++){if(o=a[n],o.open===e)return{token:o.token,bracketType:1};if(o.close===e)return{token:o.token,bracketType:-1}}return null}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t){this._maxCacheDepth=t,this._entries=Object.create(null)}return t.create=function(o,e){return this._INSTANCE.create(o,e)},t.prototype.create=function(o,e){if(null!==o&&o.depth>=this._maxCacheDepth)return new r(o,e);var t=r.getStackElementId(o);0<t.length&&(t+="|"),t+=e;var n=this._entries[t];return n||(n=new r(o,e),this._entries[t]=n,n)},t._INSTANCE=new t(5),t}(),r=function(){function n(o,n){this.parent=o,this.state=n,this.depth=(this.parent?this.parent.depth:0)+1}return n.getStackElementId=function(o){for(var e="";null!==o;)0<e.length&&(e+="|"),e+=o.state,o=o.parent;return e},n._equals=function(o,e){for(;null!==o&&null!==e;){if(o===e)return!0;if(o.state!==e.state)return!1;o=o.parent,e=e.parent}return null===o&&null===e},n.prototype.equals=function(e){return n._equals(this,e)},n.prototype.push=function(t){return o.create(this,t)},n.prototype.pop=function(){return this.parent},n.prototype.popall=function(){for(var t=this;t.parent;)t=t.parent;return t},n.prototype.switchTo=function(t){return o.create(this.parent,t)},n}(),a=function(){function t(o,n){this.modeId=o,this.state=n}return t.prototype.equals=function(t){return this.modeId===t.modeId&&this.state.equals(t.state)},t.prototype.clone=function(){return this.state.clone()===this.state?this:new t(this.modeId,this.state)},t}(),s=function(){function t(t){this._maxCacheDepth=t,this._entries=Object.create(null)}return t.create=function(o,e){return this._INSTANCE.create(o,e)},t.prototype.create=function(o,e){if(null!==e)return new l(o,e);if(null!==o&&o.depth>=this._maxCacheDepth)return new l(o,e);var t=r.getStackElementId(o),n=this._entries[t];return n||(n=new l(o,null),this._entries[t]=n,n)},t._INSTANCE=new t(5),t}(),l=function(){function o(o,n){this.stack=o,this.embeddedModeData=n}return o.prototype.clone=function(){return(this.embeddedModeData?this.embeddedModeData.clone():null)===this.embeddedModeData?this:s.create(this.stack,this.embeddedModeData)},o.prototype.equals=function(e){return e instanceof o&&!!this.stack.equals(e.stack)&&(null===this.embeddedModeData&&null===e.embeddedModeData||null!==this.embeddedModeData&&null!==e.embeddedModeData&&this.embeddedModeData.equals(e.embeddedModeData))},o}(),i=Object.hasOwnProperty,d=function(){function t(){this._tokens=[],this._language=null,this._lastTokenType=null,this._lastTokenLanguage=null}return t.prototype.enterMode=function(o,e){this._language=e},t.prototype.emit=function(o,e){this._lastTokenType===e&&this._lastTokenLanguage===this._language||(this._lastTokenType=e,this._lastTokenLanguage=this._language,this._tokens.push(new n.Token(o,e,this._language)))},t.prototype.nestedModeTokenize=function(n,e,t){var i=e.modeId,o=e.state,r=_.TokenizationRegistry.get(i);if(!r)return this.enterMode(t,i),this.emit(t,""),o;var d=r.tokenize(n,o,t);return this._tokens=this._tokens.concat(d.tokens),this._lastTokenType=null,this._lastTokenLanguage=null,this._language=null,d.endState},t.prototype.finalize=function(t){return new n.TokenizationResult(this._tokens,t)},t}(),p=function(){function d(o,n){this._modeService=o,this._theme=n,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}return d.prototype.enterMode=function(o,e){this._currentLanguageId=this._modeService.getLanguageIdentifier(e).id},d.prototype.emit=function(o,e){var t=this._theme.match(this._currentLanguageId,e);this._lastTokenMetadata!==t&&(this._lastTokenMetadata=t,this._tokens.push(o),this._tokens.push(t))},d._merge=function(d,e,t){var n=null===d?0:d.length,i=e.length,o=null===t?0:t.length;if(0===n&&0===i&&0===o)return new Uint32Array(0);if(0===n&&0===i)return t;if(0===i&&0===o)return d;var r=new Uint32Array(n+i+o);null!==d&&r.set(d);for(var s=0;s<i;s++)r[n+s]=e[s];return null!==t&&r.set(t,n+i),r},d.prototype.nestedModeTokenize=function(e,t,n){var o=t.modeId,i=t.state,r=_.TokenizationRegistry.get(o);if(!r)return this.enterMode(n,o),this.emit(n,""),i;var s=r.tokenize2(e,i,n);return this._prependTokens=d._merge(this._prependTokens,this._tokens,s.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,s.endState},d.prototype.finalize=function(e){return new n.TokenizationResult2(d._merge(this._prependTokens,this._tokens,null),e)},d}(),c=function(){function n(n,a,t,i){var d=this;this._modeService=n,this._standaloneThemeService=a,this._modeId=t,this._lexer=i,this._embeddedModes=Object.create(null);var r=!1;this._tokenizationRegistryListener=_.TokenizationRegistry.onDidChange(function(n){if(!r){for(var e=!1,t=0,i=n.changedLanguages.length,o;t<i;t++)if(o=n.changedLanguages[t],d._embeddedModes[o]){e=!0;break}e&&(r=!0,_.TokenizationRegistry.fire([d._modeId]),r=!1)}})}return n.prototype.dispose=function(){this._tokenizationRegistryListener.dispose()},n.prototype.getInitialState=function(){var t=o.create(null,this._lexer.start);return s.create(t,null)},n.prototype.tokenize=function(r,e,t){var n=new d,i=this._tokenize(r,e,t,n);return n.finalize(i)},n.prototype.tokenize2=function(r,e,t){var n=new p(this._modeService,this._standaloneThemeService.getTheme().tokenTheme),i=this._tokenize(r,e,t,n);return n.finalize(i)},n.prototype._tokenize=function(o,e,t,n){return e.embeddedModeData?this._nestedTokenize(o,e,t,n):this._myTokenize(o,e,t,n)},n.prototype._findLeavingNestedModeOffset=function(d,e){var t=this._lexer.tokenizer[e.stack.state];t||(t=B.findRules(this._lexer,e.stack.state))||B.throwError(this._lexer,"tokenizer state is not defined: "+e.stack.state);var n=-1,o=!1;for(var r in t)if(i.call(t,r)){var s=t[r];if(!B.isIAction(s.action)||"@pop"===s.action.nextEmbedded){o=!0;var a=s.regex,p=s.regex.source;"^(?:"===p.substr(0,4)&&")"===p.substr(p.length-1,1)&&(a=new RegExp(p.substr(4,p.length-5),a.ignoreCase?"i":""));var l=d.search(a);-1!==l&&(-1===n||l<n)&&(n=l)}}return o||B.throwError(this._lexer,"no rule containing nextEmbedded: \"@pop\" in tokenizer embedded state: "+e.stack.state),n},n.prototype._nestedTokenize=function(d,e,t,n){var i=this._findLeavingNestedModeOffset(d,e);if(-1===i){var o=n.nestedModeTokenize(d,e.embeddedModeData,t);return s.create(e.stack,new a(e.embeddedModeData.modeId,o))}var r=d.substring(0,i);0<r.length&&n.nestedModeTokenize(r,e.embeddedModeData,t);var l=d.substring(i);return this._myTokenize(l,e,t+i,n)},n.prototype._myTokenize=function(c,e,h,n){n.enterMode(h,this._modeId);for(var o=c.length,r=e.embeddedModeData,a=e.stack,u=0,l=null,d=null,p=null,f=null;u<o;){var g=u,m=a.depth,v=l?l.length:0,_=a.state,y=null,C=null,b=null,V=null,S=null;if(l)y=d,C=p.shift(),b=l.shift(),V=f,0===l.length&&(l=null,d=null,p=null,f=null);else{if(u>=o)break;var E=this._lexer.tokenizer[_];for(var L in E||(E=B.findRules(this._lexer,_))||B.throwError(this._lexer,"tokenizer state is not defined: "+_),F=c.substr(u),E)if(i.call(E,L)){var x=E[L];if((0===u||!x.matchOnlyAtLineStart)&&(y=F.match(x.regex))){C=y[0],b=x.action;break}}}for(y||(y=[""],C=""),b||(u<o&&(C=(y=[c.charAt(u)])[0]),b=this._lexer.defaultToken),u+=C.length;B.isFuzzyAction(b)&&B.isIAction(b)&&b.test;)b=b.test(C,y,_,u===o);var N=null;if("string"==typeof b||Array.isArray(b))N=b;else if(b.group)N=b.group;else if(null!==b.token&&void 0!==b.token){if(N=b.tokenSubst?B.substituteMatches(this._lexer,b.token,C,y,_):b.token,b.nextEmbedded&&("@pop"===b.nextEmbedded?(r||B.throwError(this._lexer,"cannot pop embedded mode if not inside one"),r=null):r?B.throwError(this._lexer,"cannot enter embedded mode from within an embedded mode"):S=B.substituteMatches(this._lexer,b.nextEmbedded,C,y,_)),b.goBack&&(u=G(0,u-b.goBack)),b.switchTo&&"string"==typeof b.switchTo)"@"===(M=B.substituteMatches(this._lexer,b.switchTo,C,y,_))[0]&&(M=M.substr(1)),B.findRules(this._lexer,M)?a=a.switchTo(M):B.throwError(this._lexer,"trying to switch to a state '"+M+"' that is undefined in rule: "+V.name);else if(b.transform&&"function"==typeof b.transform)B.throwError(this._lexer,"action.transform not supported");else if(b.next)if("@push"===b.next)a.depth>=this._lexer.maxStack?B.throwError(this._lexer,"maximum tokenizer stack size reached: ["+a.state+","+a.parent.state+",...]"):a=a.push(_);else if("@pop"===b.next)1>=a.depth?B.throwError(this._lexer,"trying to pop an empty stack in rule: "+V.name):a=a.pop();else if("@popall"===b.next)a=a.popall();else{var M=B.substituteMatches(this._lexer,b.next,C,y,_);"@"===M[0]&&(M=M.substr(1)),B.findRules(this._lexer,M)?a=a.push(M):B.throwError(this._lexer,"trying to set a next state '"+M+"' that is undefined in rule: "+V.name)}b.log&&"string"==typeof b.log&&B.log(this._lexer,this._lexer.languageId+": "+B.substituteMatches(this._lexer,b.log,C,y,_))}if(null===N&&B.throwError(this._lexer,"lexer rule has no well-defined action in rule: "+V.name),Array.isArray(N)){l&&0<l.length&&B.throwError(this._lexer,"groups cannot be nested: "+V.name),y.length!==N.length+1&&B.throwError(this._lexer,"matched number of groups does not match the number of actions in rule: "+V.name);for(var T=0,k=1;k<y.length;k++)T+=y[k].length;T!==C.length&&B.throwError(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+V.name),d=y,p=y.slice(1),l=N.slice(0),f=V,u-=C.length}else{if("@rematch"===N&&(u-=C.length,C="",y=null,N=""),0===C.length){if(m!==a.depth||_!==a.state||(l?l.length:0)!==v)continue;B.throwError(this._lexer,"no progress in tokenizer in rule: "+V.name),u=o}var I=null;if(B.isString(N)&&0===N.indexOf("@brackets")){var D=N.substr(9),O=t(this._lexer,C);O||(B.throwError(this._lexer,"@brackets token returned but no bracket defined as: "+C),O={token:"",bracketType:0}),I=B.sanitize(O.token+D)}else{var R=""===N?"":N+this._lexer.tokenPostfix;I=B.sanitize(R)}if(n.emit(g+h,I),null!==S){var P=this._modeService.getModeIdForLanguageName(S);P&&(S=P);var A=this._getNestedEmbeddedModeData(S);if(u<o){var F=c.substr(u);return this._nestedTokenize(F,s.create(a,A),h+u,n)}return s.create(a,A)}}}return s.create(a,r)},n.prototype._getNestedEmbeddedModeData=function(n){var e=this._locateMode(n);if(e){var t=_.TokenizationRegistry.get(e.getId());if(t)return new a(e.getId(),t.getInitialState())}var i=e?e.getId():y.NULL_MODE_ID;return new a(i,y.NULL_STATE)},n.prototype._locateMode=function(o){if(!o||!this._modeService.isRegisteredMode(o))return null;var i=this._modeService.getModeId(o);this._modeService.getOrCreateMode(i);var t=this._modeService.getMode(i);return t?(this._embeddedModes[i]=!0,t):(this._embeddedModes[i]=!0,null)},n}();e.createTokenizationSupport=function(o,e,t,n){return new c(o,e,t,n)}}),define(s[427],n([6,8]),function(o,e){return o.create("vs/base/browser/ui/actionbar/actionbar",e)}),define(s[75],n([1,0,427,3,52,259,53,4,79,29,38,74,65,496]),function(f,e,t,n,b,S,E,o,i,a,r,s,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=function(r){function e(e,a,n){var i=r.call(this)||this;return i.options=n,i._callOnDispose=[],i._context=e||i,i._action=a,a instanceof E.Action&&i._callOnDispose.push(a.onDidChange(function(t){i.builder&&i._handleActionChangeEvent(t)})),i}return Z(e,r),e.prototype._handleActionChangeEvent=function(t){void 0!==t.enabled&&this._updateEnabled(),void 0!==t.checked&&this._updateChecked(),void 0!==t.class&&this._updateClass(),void 0!==t.label&&(this._updateLabel(),this._updateTooltip()),void 0!==t.tooltip&&this._updateTooltip()},Object.defineProperty(e.prototype,"callOnDispose",{get:function(){return this._callOnDispose},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"actionRunner",{get:function(){return this._actionRunner},set:function(t){this._actionRunner=t},enumerable:!0,configurable:!0}),e.prototype.getAction=function(){return this._action},e.prototype.isEnabled=function(){return this._action.enabled},e.prototype.setActionContext=function(t){this._context=t},e.prototype.render=function(i){var r=this;this.builder=b.$(i),this.gesture=new s.Gesture(i);var t=this.options&&this.options.draggable;t&&(i.draggable=!0),this.builder.on(s.EventType.Tap,function(t){return r.onClick(t)}),this.builder.on(o.EventType.MOUSE_DOWN,function(n){t||o.EventHelper.stop(n),r._action.enabled&&0===n.button&&r.builder.addClass("active")}),this.builder.on(o.EventType.CLICK,function(t){o.EventHelper.stop(t,!0),r.options&&r.options.isMenu?r.onClick(t):setTimeout(function(){return r.onClick(t)},50)}),this.builder.on([o.EventType.MOUSE_UP,o.EventType.MOUSE_OUT],function(t){o.EventHelper.stop(t),r.builder.removeClass("active")})},e.prototype.onClick=function(n){o.EventHelper.stop(n,!0);var e;a.isUndefinedOrNull(this._context)?e=n:(e=this._context).event=n,this._actionRunner.run(this._action,e)},e.prototype.focus=function(){this.builder&&this.builder.domFocus()},e.prototype.blur=function(){this.builder&&this.builder.domBlur()},e.prototype._updateEnabled=function(){},e.prototype._updateLabel=function(){},e.prototype._updateTooltip=function(){},e.prototype._updateClass=function(){},e.prototype._updateChecked=function(){},e.prototype.dispose=function(){r.prototype.dispose.call(this),this.builder&&(this.builder.destroy(),this.builder=null),this.gesture&&(this.gesture.dispose(),this.gesture=null),this._callOnDispose=n.dispose(this._callOnDispose)},e}(r.EventEmitter);e.BaseActionItem=l;var p=function(r){function e(t,n){var i=r.call(this,e.ID,t,t?"separator text":"separator")||this;return i.checked=!1,i.radio=!1,i.enabled=!1,i.order=n,i}return Z(e,r),e.ID="vs.actions.separator",e}(E.Action);e.Separator=p;var c=function(r){function e(e,a,n){void 0===n&&(n={});var i=r.call(this,e,a,n)||this;return i.options=n,i.options.icon=void 0!==n.icon&&n.icon,i.options.label=void 0===n.label||n.label,i.cssClass="",i}return Z(e,r),e.prototype.render=function(e){r.prototype.render.call(this,e),this.$e=b.$("a.action-label").appendTo(this.builder),this._action.id===p.ID?this.$e.attr({role:"presentation"}):this.options.isMenu?this.$e.attr({role:"menuitem"}):this.$e.attr({role:"button"}),this.options.label&&this.options.keybinding&&b.$("span.keybinding").text(this.options.keybinding).appendTo(this.builder),this._updateClass(),this._updateLabel(),this._updateTooltip(),this._updateEnabled(),this._updateChecked()},e.prototype.focus=function(){r.prototype.focus.call(this),this.$e.domFocus()},e.prototype._updateLabel=function(){this.options.label&&this.$e.text(this.getAction().label)},e.prototype._updateTooltip=function(){var o=null;this.getAction().tooltip?o=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(o=this.getAction().label,this.options.keybinding&&(o=t.localize(0,null,o,this.options.keybinding))),o&&this.$e.attr({title:o})},e.prototype._updateClass=function(){this.cssClass&&this.$e.removeClass(this.cssClass),this.options.icon?(this.cssClass=this.getAction().class,this.$e.addClass("icon"),this.cssClass&&this.$e.addClass(this.cssClass),this._updateEnabled()):this.$e.removeClass("icon")},e.prototype._updateEnabled=function(){this.getAction().enabled?(this.builder.removeClass("disabled"),this.$e.removeClass("disabled"),this.$e.attr({tabindex:0})):(this.builder.addClass("disabled"),this.$e.addClass("disabled"),o.removeTabIndexAndUpdateFocus(this.$e.getHTMLElement()))},e.prototype._updateChecked=function(){this.getAction().checked?this.$e.addClass("checked"):this.$e.removeClass("checked")},e.prototype._updateRadio=function(){this.getAction().radio?this.$e.addClass("radio"):this.$e.removeClass("radio")},e}(l);e.ActionItem=c;var u;!function(t){t[t.HORIZONTAL=1]="HORIZONTAL",t[t.VERTICAL=2]="VERTICAL"}(u=e.ActionsOrientation||(e.ActionsOrientation={}));var g={orientation:u.HORIZONTAL,context:null},m=function(s){function e(e,a){void 0===a&&(a=g);var l=s.call(this)||this;l.options=a,l._context=a.context,l.toDispose=[],l._actionRunner=l.options.actionRunner,l._actionRunner||(l._actionRunner=new E.ActionRunner,l.toDispose.push(l._actionRunner)),l.toDispose.push(l.addEmitter(l._actionRunner)),l.items=[],l.focusedItem=void 0,l.domNode=document.createElement("div"),l.domNode.className="monaco-action-bar",!1!==a.animated&&o.addClass(l.domNode,"animated");var i=l.options.orientation===u.VERTICAL;return i&&(l.domNode.className+=" vertical"),b.$(l.domNode).on(o.EventType.KEY_DOWN,function(o){var e=new d.StandardKeyboardEvent(o),t=!0;e.equals(i?16:15)?l.focusPrevious():e.equals(i?18:17)?l.focusNext():e.equals(9)?l.cancel():e.equals(3)||e.equals(10)||(t=!1),t&&(e.preventDefault(),e.stopPropagation())}),b.$(l.domNode).on(o.EventType.KEY_UP,function(o){var e=new d.StandardKeyboardEvent(o);e.equals(3)||e.equals(10)?(l.doTrigger(e),e.preventDefault(),e.stopPropagation()):(e.equals(2)||e.equals(1026))&&l.updateFocusedItem()}),l.focusTracker=o.trackFocus(l.domNode),l.focusTracker.addBlurListener(function(){document.activeElement!==l.domNode&&o.isAncestor(document.activeElement,l.domNode)||(l.emit(o.EventType.BLUR,{}),l.focusedItem=void 0)}),l.focusTracker.addFocusListener(function(){return l.updateFocusedItem()}),l.actionsList=document.createElement("ul"),l.actionsList.className="actions-container",l.options.isMenu?l.actionsList.setAttribute("role","menubar"):l.actionsList.setAttribute("role","toolbar"),l.options.ariaLabel&&l.actionsList.setAttribute("aria-label",l.options.ariaLabel),l.domNode.appendChild(l.actionsList),(e instanceof b.Builder?e.getHTMLElement():e).appendChild(l.domNode),l}return Z(e,s),e.prototype.setAriaLabel=function(t){t?this.actionsList.setAttribute("aria-label",t):this.actionsList.removeAttribute("aria-label")},e.prototype.updateFocusedItem=function(){for(var n=0,e;n<this.actionsList.children.length;n++)if(e=this.actionsList.children[n],o.isAncestor(document.activeElement,e)){this.focusedItem=n;break}},Object.defineProperty(e.prototype,"context",{get:function(){return this._context},set:function(o){this._context=o,this.items.forEach(function(e){return e.setActionContext(o)})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"actionRunner",{get:function(){return this._actionRunner},set:function(o){o&&(this._actionRunner=o,this.items.forEach(function(e){return e.actionRunner=o}))},enumerable:!0,configurable:!0}),e.prototype.getContainer=function(){return b.$(this.domNode)},e.prototype.push=function(s,d){var t=this;void 0===d&&(d={});var e=Array.isArray(s)?s:[s],n=a.isNumber(d.index)?d.index:null;e.forEach(function(r){var e=document.createElement("li");e.className="action-item",e.setAttribute("role","presentation"),b.$(e).on(o.EventType.CONTEXT_MENU,function(t){t.preventDefault(),t.stopPropagation()});var i=null;t.options.actionItemProvider&&(i=t.options.actionItemProvider(r)),i||(i=new c(t.context,r,d)),i.actionRunner=t._actionRunner,i.setActionContext(t.context),t.addEmitter(i),i.render(e),null===n||0>n||n>=t.actionsList.children.length?t.actionsList.appendChild(e):t.actionsList.insertBefore(e,t.actionsList.children[n++]),t.items.push(i)})},e.prototype.pull=function(t){0<=t&&t<this.items.length&&(this.items.splice(t,1),this.actionsList.removeChild(this.actionsList.childNodes[t]))},e.prototype.clear=function(){this.items=n.dispose(this.items),b.$(this.actionsList).empty()},e.prototype.length=function(){return this.items.length},e.prototype.isEmpty=function(){return 0===this.items.length},e.prototype.focus=function(t){t&&void 0===this.focusedItem&&(this.focusedItem=0),this.updateFocus()},e.prototype.focusNext=function(){void 0===this.focusedItem&&(this.focusedItem=this.items.length-1);var o=this.focusedItem,t;do this.focusedItem=(this.focusedItem+1)%this.items.length,t=this.items[this.focusedItem];while(this.focusedItem!==o&&!t.isEnabled());this.focusedItem!==o||t.isEnabled()||(this.focusedItem=void 0),this.updateFocus()},e.prototype.focusPrevious=function(){void 0===this.focusedItem&&(this.focusedItem=0);var o=this.focusedItem,t;do--this.focusedItem,0>this.focusedItem&&(this.focusedItem=this.items.length-1),t=this.items[this.focusedItem];while(this.focusedItem!==o&&!t.isEnabled());this.focusedItem!==o||t.isEnabled()||(this.focusedItem=void 0),this.updateFocus(!0)},e.prototype.updateFocus=function(o){if(void 0!==this.focusedItem)for(var e=0,t;e<this.items.length;e++)t=this.items[e],e===this.focusedItem?a.isFunction(t.focus)&&t.focus(o):a.isFunction(t.blur)&&t.blur();else this.domNode.focus()},e.prototype.doTrigger=function(o){if(void 0!==this.focusedItem){var e=this.items[this.focusedItem];if(e instanceof l){var t=null===e._context||void 0===e._context?o:e._context;this.run(e._action,t).done()}}},e.prototype.cancel=function(){document.activeElement instanceof HTMLElement&&document.activeElement.blur(),this.emit(i.EventType.CANCEL)},e.prototype.run=function(o,e){return this._actionRunner.run(o,e)},e.prototype.dispose=function(){null!==this.items&&n.dispose(this.items),this.items=null,this.focusTracker&&(this.focusTracker.dispose(),this.focusTracker=null),this.toDispose=n.dispose(this.toDispose),this.getContainer().destroy(),s.prototype.dispose.call(this)},e}(r.EventEmitter);e.ActionBar=m;var h=function(r){function e(e,a,n,i){var o=r.call(this,e,a)||this;return o.selectBox=new S.SelectBox(n,i),o.toDispose=[],o.toDispose.push(o.selectBox),o.registerListeners(),o}return Z(e,r),e.prototype.setOptions=function(o,e){this.selectBox.setOptions(o,e)},e.prototype.select=function(t){this.selectBox.select(t)},e.prototype.registerListeners=function(){var o=this;this.toDispose.push(this.selectBox.onDidSelect(function(e){o.actionRunner.run(o._action,o.getActionContext(e.selected)).done()}))},e.prototype.getActionContext=function(t){return t},e.prototype.focus=function(){this.selectBox&&this.selectBox.focus()},e.prototype.blur=function(){this.selectBox&&this.selectBox.blur()},e.prototype.render=function(t){this.selectBox.render(t)},e.prototype.dispose=function(){this.toDispose=n.dispose(this.toDispose),r.prototype.dispose.call(this)},e}(l);e.SelectActionItem=h}),define(s[281],n([1,0,52,75,38,218]),function(a,e,d,n,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(i){function e(e,l,o){void 0===o&&(o={});var r=i.call(this)||this;d.$(e).addClass("monaco-menu-container");var s=d.$(".monaco-menu").appendTo(e);return r.actionBar=new n.ActionBar(s,{orientation:n.ActionsOrientation.VERTICAL,actionItemProvider:o.actionItemProvider,context:o.context,actionRunner:o.actionRunner,isMenu:!0}),r.listener=r.addEmitter(r.actionBar),r.actionBar.push(l,{icon:!0,label:!0}),r}return Z(e,i),e.prototype.focus=function(){this.actionBar.focus(!0)},e.prototype.dispose=function(){i.prototype.dispose.call(this),this.actionBar&&(this.actionBar.dispose(),this.actionBar=null),this.listener&&(this.listener.dispose(),this.listener=null)},e}(t.EventEmitter);e.Menu=o}),define(s[282],n([6,8]),function(o,e){return o.create("vs/base/browser/ui/aria/aria",e)}),define(s[51],n([1,0,282,15,4,500]),function(d,e,p,t,n){"use strict";function o(t){i(a,t)}function i(o,e){r&&(o.textContent===e&&(e=p.localize(0,null,e)),n.clearNode(o),o.textContent=e,o.style.visibility="hidden",o.style.visibility="visible")}Object.defineProperty(e,"__esModule",{value:!0});var r,a,s;e.setARIAContainer=function(t){(r=document.createElement("div")).className="monaco-aria-container",(a=document.createElement("div")).className="monaco-alert",a.setAttribute("role","alert"),a.setAttribute("aria-atomic","true"),r.appendChild(a),(s=document.createElement("div")).className="monaco-status",s.setAttribute("role","status"),s.setAttribute("aria-atomic","true"),r.appendChild(s),t.appendChild(r)},e.alert=o,e.status=function(n){t.isMacintosh?o(n):i(s,n)}}),define(s[284],n([6,8]),function(o,e){return o.create("vs/base/browser/ui/findinput/findInput",e)}),define(s[285],n([6,8]),function(o,e){return o.create("vs/base/browser/ui/findinput/findInputCheckboxes",e)}),define(s[153],n([1,0,285,506,206]),function(d,e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=t.localize(0,null),o=t.localize(1,null),r=t.localize(2,null),s=function(o){function e(e){return o.call(this,{actionClassName:"monaco-case-sensitive",title:i+e.appendTitle,isChecked:e.isChecked,onChange:e.onChange,onKeyDown:e.onKeyDown,inputActiveOptionBorder:e.inputActiveOptionBorder})||this}return Z(e,o),e}(n.Checkbox);e.CaseSensitiveCheckbox=s;var a=function(n){function e(e){return n.call(this,{actionClassName:"monaco-whole-word",title:o+e.appendTitle,isChecked:e.isChecked,onChange:e.onChange,onKeyDown:e.onKeyDown,inputActiveOptionBorder:e.inputActiveOptionBorder})||this}return Z(e,n),e}(n.Checkbox);e.WholeWordsCheckbox=a;var p=function(o){function e(e){return o.call(this,{actionClassName:"monaco-regex",title:r+e.appendTitle,isChecked:e.isChecked,onChange:e.onChange,onKeyDown:e.onKeyDown,inputActiveOptionBorder:e.inputActiveOptionBorder})||this}return Z(e,o),e}(n.Checkbox);e.RegexCheckbox=p}),define(s[287],n([6,8]),function(o,e){return o.create("vs/base/browser/ui/inputbox/inputBox",e)}),define(s[115],n([1,0,287,28,4,102,51,75,160,11,41,32,26,211]),function(_,e,f,y,C,o,n,i,r,a,t,s,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=C.$,c;!function(t){t[t.INFO=1]="INFO",t[t.WARNING=2]="WARNING",t[t.ERROR=3]="ERROR"}(c=e.MessageType||(e.MessageType={}));var p={inputBackground:s.Color.fromHex("#3C3C3C"),inputForeground:s.Color.fromHex("#CCCCCC"),inputValidationInfoBorder:s.Color.fromHex("#55AAFF"),inputValidationInfoBackground:s.Color.fromHex("#063B49"),inputValidationWarningBorder:s.Color.fromHex("#B89500"),inputValidationWarningBackground:s.Color.fromHex("#352A05"),inputValidationErrorBorder:s.Color.fromHex("#BE1100"),inputValidationErrorBackground:s.Color.fromHex("#5A1D1D")},u=function(g){function e(e,o,n){var r=g.call(this)||this;r.state="idle",r._onDidChange=r._register(new a.Emitter),r.onDidChange=r._onDidChange.event,r._onDidHeightChange=r._register(new a.Emitter),r.onDidHeightChange=r._onDidHeightChange.event,r.contextViewProvider=o,r.options=n||Object.create(null),d.mixin(r.options,p,!1),r.message=null,r.cachedHeight=null,r.placeholder=r.options.placeholder||"",r.ariaLabel=r.options.ariaLabel||"",r.inputBackground=r.options.inputBackground,r.inputForeground=r.options.inputForeground,r.inputBorder=r.options.inputBorder,r.inputValidationInfoBorder=r.options.inputValidationInfoBorder,r.inputValidationInfoBackground=r.options.inputValidationInfoBackground,r.inputValidationWarningBorder=r.options.inputValidationWarningBorder,r.inputValidationWarningBackground=r.options.inputValidationWarningBackground,r.inputValidationErrorBorder=r.options.inputValidationErrorBorder,r.inputValidationErrorBackground=r.options.inputValidationErrorBackground,r.options.validationOptions&&(r.validation=r.options.validationOptions.validation,r.showValidationMessage=r.options.validationOptions.showMessage||!1),r.element=C.append(e,l(".monaco-inputbox.idle"));var s=r.options.flexibleHeight?"textarea":"input",u=C.append(r.element,l(".wrapper"));return r.input=C.append(u,l(s+".input")),r.input.setAttribute("autocorrect","off"),r.input.setAttribute("autocapitalize","off"),r.input.setAttribute("spellcheck","false"),r.onfocus(r.input,function(){return C.addClass(r.element,"synthetic-focus")}),r.onblur(r.input,function(){return C.removeClass(r.element,"synthetic-focus")}),r.options.flexibleHeight?r.mirror=C.append(u,l("div.mirror")):(r.input.type=r.options.type||"text",r.input.setAttribute("wrap","off")),r.ariaLabel&&r.input.setAttribute("aria-label",r.ariaLabel),r.placeholder&&(r.input.setAttribute("placeholder",r.placeholder),r.input.title=r.placeholder),r.oninput(r.input,function(){return r.onValueChange()}),r.onblur(r.input,function(){return r.onBlur()}),r.onfocus(r.input,function(){return r.onFocus()}),r.placeholder&&y.isIE&&r.onclick(r.input,function(t){C.EventHelper.stop(t,!0),r.input.focus()}),setTimeout(function(){return r.updateMirror()},0),r.options.actions&&(r.actionbar=r._register(new i.ActionBar(r.element)),r.actionbar.push(r.options.actions,{icon:!0,label:!1})),r.applyStyles(),r}return Z(e,g),e.prototype.onBlur=function(){this._hideMessage()},e.prototype.onFocus=function(){this._showMessage()},e.prototype.setPlaceHolder=function(t){this.input&&this.input.setAttribute("placeholder",t)},e.prototype.setAriaLabel=function(t){this.ariaLabel=t,this.input&&(t?this.input.setAttribute("aria-label",this.ariaLabel):this.input.removeAttribute("aria-label"))},e.prototype.setContextViewProvider=function(t){this.contextViewProvider=t},Object.defineProperty(e.prototype,"inputElement",{get:function(){return this.input},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.input.value},set:function(t){this.input.value!==t&&(this.input.value=t,this.onValueChange())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return null===this.cachedHeight?C.getTotalHeight(this.element):this.cachedHeight},enumerable:!0,configurable:!0}),e.prototype.focus=function(){this.input.focus()},e.prototype.blur=function(){this.input.blur()},e.prototype.hasFocus=function(){return document.activeElement===this.input},e.prototype.select=function(t){void 0===t&&(t=null),this.input.select(),t&&this.input.setSelectionRange(t.start,t.end)},e.prototype.enable=function(){this.input.removeAttribute("disabled")},e.prototype.disable=function(){this.input.disabled=!0,this._hideMessage()},e.prototype.setEnabled=function(t){t?this.enable():this.disable()},Object.defineProperty(e.prototype,"width",{get:function(){return C.getTotalWidth(this.input)},set:function(t){this.input.style.width=t+"px"},enumerable:!0,configurable:!0}),e.prototype.showMessage=function(o,e){this.message=o,C.removeClass(this.element,"idle"),C.removeClass(this.element,"info"),C.removeClass(this.element,"warning"),C.removeClass(this.element,"error"),C.addClass(this.element,this.classForType(o.type));var t=this.stylesForType(this.message.type);this.element.style.border=t.border?"1px solid "+t.border:null;var i;i=o.type===c.ERROR?f.localize(0,null,o.content):o.type===c.WARNING?f.localize(1,null,o.content):f.localize(2,null,o.content),n.alert(i),(this.hasFocus()||e)&&this._showMessage()},e.prototype.hideMessage=function(){this.message=null,C.removeClass(this.element,"info"),C.removeClass(this.element,"warning"),C.removeClass(this.element,"error"),C.addClass(this.element,"idle"),this._hideMessage(),this.applyStyles()},e.prototype.isInputValid=function(){return!!this.validation&&!this.validation(this.value)},e.prototype.validate=function(){var t=null;return this.validation&&((t=this.validation(this.value))?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(t)):(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),!t},e.prototype.stylesForType=function(t){return t===c.INFO?{border:this.inputValidationInfoBorder,background:this.inputValidationInfoBackground}:t===c.WARNING?{border:this.inputValidationWarningBorder,background:this.inputValidationWarningBackground}:{border:this.inputValidationErrorBorder,background:this.inputValidationErrorBackground}},e.prototype.classForType=function(t){return t===c.INFO?"info":t===c.WARNING?"warning":"error"},e.prototype._showMessage=function(){var d=this;if(this.contextViewProvider&&this.message){var e=function(){return p.style.width=C.getTotalWidth(d.element)+"px"},p;this.state="open",this.contextViewProvider.showContextView({getAnchor:function(){return d.element},anchorAlignment:r.AnchorAlignment.RIGHT,render:function(t){p=C.append(t,l(".monaco-inputbox-container")),e();var n={inline:!0,className:"monaco-inputbox-message"},i=d.message.formatContent?o.renderFormattedText(d.message.content,n):o.renderText(d.message.content,n);C.addClass(i,d.classForType(d.message.type));var r=d.stylesForType(d.message.type);return i.style.backgroundColor=r.background?r.background.toString():null,i.style.border=r.border?"1px solid "+r.border:null,C.append(p,i),null},layout:e})}},e.prototype._hideMessage=function(){this.contextViewProvider&&"open"===this.state&&(this.state="idle",this.contextViewProvider.hideContextView())},e.prototype.onValueChange=function(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),"open"===this.state&&this.contextViewProvider.layout()},e.prototype.updateMirror=function(){if(this.mirror){var o=this.value||this.placeholder,e=10===o.charCodeAt(o.length-1)?" ":"";this.mirror.textContent=o+e,this.layout()}},e.prototype.style=function(t){this.inputBackground=t.inputBackground,this.inputForeground=t.inputForeground,this.inputBorder=t.inputBorder,this.inputValidationInfoBackground=t.inputValidationInfoBackground,this.inputValidationInfoBorder=t.inputValidationInfoBorder,this.inputValidationWarningBackground=t.inputValidationWarningBackground,this.inputValidationWarningBorder=t.inputValidationWarningBorder,this.inputValidationErrorBackground=t.inputValidationErrorBackground,this.inputValidationErrorBorder=t.inputValidationErrorBorder,this.applyStyles()},e.prototype.applyStyles=function(){if(this.element){var o=this.inputBackground?this.inputBackground.toString():null,e=this.inputForeground?this.inputForeground.toString():null,t=this.inputBorder?this.inputBorder.toString():null;this.element.style.backgroundColor=o,this.element.style.color=e,this.input.style.backgroundColor=o,this.input.style.color=e,this.element.style.borderWidth=t?"1px":null,this.element.style.borderStyle=t?"solid":null,this.element.style.borderColor=t}},e.prototype.layout=function(){if(this.mirror){var t=this.cachedHeight;this.cachedHeight=C.getTotalHeight(this.mirror),t!==this.cachedHeight&&(this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedHeight))}},e.prototype.dispose=function(){this._hideMessage(),this.element=null,this.input=null,this.contextViewProvider=null,this.message=null,this.placeholder=null,this.ariaLabel=null,this.validation=null,this.showValidationMessage=null,this.state=null,this.actionbar=null,g.prototype.dispose.call(this)},e}(t.Widget);e.InputBox=u}),define(s[289],n([1,0,284,4,115,41,11,153,205]),function(d,e,t,p,i,o,r,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=t.localize(0,null),n=function(s){function e(e,d,n){var i=s.call(this)||this;return i._onDidOptionChange=i._register(new r.Emitter),i.onDidOptionChange=i._onDidOptionChange.event,i._onKeyDown=i._register(new r.Emitter),i.onKeyDown=i._onKeyDown.event,i._onMouseDown=i._register(new r.Emitter),i.onMouseDown=i._onMouseDown.event,i._onInput=i._register(new r.Emitter),i.onInput=i._onInput.event,i._onKeyUp=i._register(new r.Emitter),i.onKeyUp=i._onKeyUp.event,i._onCaseSensitiveKeyDown=i._register(new r.Emitter),i.onCaseSensitiveKeyDown=i._onCaseSensitiveKeyDown.event,i._lastHighlightFindOptions=0,i.contextViewProvider=d,i.width=n.width||100,i.placeholder=n.placeholder||"",i.validation=n.validation,i.label=n.label||a,i.inputActiveOptionBorder=n.inputActiveOptionBorder,i.inputBackground=n.inputBackground,i.inputForeground=n.inputForeground,i.inputBorder=n.inputBorder,i.inputValidationInfoBorder=n.inputValidationInfoBorder,i.inputValidationInfoBackground=n.inputValidationInfoBackground,i.inputValidationWarningBorder=n.inputValidationWarningBorder,i.inputValidationWarningBackground=n.inputValidationWarningBackground,i.inputValidationErrorBorder=n.inputValidationErrorBorder,i.inputValidationErrorBackground=n.inputValidationErrorBackground,i.regex=null,i.wholeWords=null,i.caseSensitive=null,i.domNode=null,i.inputBox=null,i.buildDomNode(n.appendCaseSensitiveLabel||"",n.appendWholeWordsLabel||"",n.appendRegexLabel||""),!!e&&e.appendChild(i.domNode),i.onkeydown(i.inputBox.inputElement,function(t){return i._onKeyDown.fire(t)}),i.onkeyup(i.inputBox.inputElement,function(t){return i._onKeyUp.fire(t)}),i.oninput(i.inputBox.inputElement,function(){return i._onInput.fire()}),i.onmousedown(i.inputBox.inputElement,function(t){return i._onMouseDown.fire(t)}),i}return Z(e,s),e.prototype.enable=function(){p.removeClass(this.domNode,"disabled"),this.inputBox.enable(),this.regex.enable(),this.wholeWords.enable(),this.caseSensitive.enable()},e.prototype.disable=function(){p.addClass(this.domNode,"disabled"),this.inputBox.disable(),this.regex.disable(),this.wholeWords.disable(),this.caseSensitive.disable()},e.prototype.setEnabled=function(t){t?this.enable():this.disable()},e.prototype.clear=function(){this.clearValidation(),this.setValue(""),this.focus()},e.prototype.setWidth=function(t){this.width=t,this.domNode.style.width=this.width+"px",this.contextViewProvider.layout(),this.setInputWidth()},e.prototype.getValue=function(){return this.inputBox.value},e.prototype.setValue=function(t){this.inputBox.value!==t&&(this.inputBox.value=t)},e.prototype.style=function(t){this.inputActiveOptionBorder=t.inputActiveOptionBorder,this.inputBackground=t.inputBackground,this.inputForeground=t.inputForeground,this.inputBorder=t.inputBorder,this.inputValidationInfoBackground=t.inputValidationInfoBackground,this.inputValidationInfoBorder=t.inputValidationInfoBorder,this.inputValidationWarningBackground=t.inputValidationWarningBackground,this.inputValidationWarningBorder=t.inputValidationWarningBorder,this.inputValidationErrorBackground=t.inputValidationErrorBackground,this.inputValidationErrorBorder=t.inputValidationErrorBorder,this.applyStyles()},e.prototype.applyStyles=function(){if(this.domNode){var o={inputActiveOptionBorder:this.inputActiveOptionBorder};this.regex.style(o),this.wholeWords.style(o),this.caseSensitive.style(o);var e={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(e)}},e.prototype.select=function(){this.inputBox.select()},e.prototype.focus=function(){this.inputBox.focus()},e.prototype.getCaseSensitive=function(){return this.caseSensitive.checked},e.prototype.setCaseSensitive=function(t){this.caseSensitive.checked=t,this.setInputWidth()},e.prototype.getWholeWords=function(){return this.wholeWords.checked},e.prototype.setWholeWords=function(t){this.wholeWords.checked=t,this.setInputWidth()},e.prototype.getRegex=function(){return this.regex.checked},e.prototype.setRegex=function(t){this.regex.checked=t,this.setInputWidth()},e.prototype.focusOnCaseSensitive=function(){this.caseSensitive.focus()},e.prototype.highlightFindOptions=function(){p.removeClass(this.domNode,"highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,p.addClass(this.domNode,"highlight-"+this._lastHighlightFindOptions)},e.prototype.setInputWidth=function(){var t=this.width-this.caseSensitive.width()-this.wholeWords.width()-this.regex.width();this.inputBox.width=t},e.prototype.buildDomNode=function(o,a,d){var l=this;this.domNode=document.createElement("div"),this.domNode.style.width=this.width+"px",p.addClass(this.domNode,"monaco-findInput"),this.inputBox=this._register(new i.InputBox(this.domNode,this.contextViewProvider,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation||null,showMessage:!0},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorBorder:this.inputValidationErrorBorder})),this.regex=this._register(new c.RegexCheckbox({appendTitle:d,isChecked:!1,onChange:function(t){l._onDidOptionChange.fire(t),t||l.inputBox.focus(),l.setInputWidth(),l.validate()},inputActiveOptionBorder:this.inputActiveOptionBorder})),this.wholeWords=this._register(new c.WholeWordsCheckbox({appendTitle:a,isChecked:!1,onChange:function(t){l._onDidOptionChange.fire(t),t||l.inputBox.focus(),l.setInputWidth(),l.validate()},inputActiveOptionBorder:this.inputActiveOptionBorder})),this.caseSensitive=this._register(new c.CaseSensitiveCheckbox({appendTitle:o,isChecked:!1,onChange:function(t){l._onDidOptionChange.fire(t),t||l.inputBox.focus(),l.setInputWidth(),l.validate()},onKeyDown:function(t){l._onCaseSensitiveKeyDown.fire(t)},inputActiveOptionBorder:this.inputActiveOptionBorder}));var r=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,function(o){if(o.equals(15)||o.equals(17)||o.equals(9)){var e=r.indexOf(document.activeElement);if(0<=e){var t;o.equals(17)?t=(e+1)%r.length:o.equals(15)&&(t=0===e?r.length-1:e-1),o.equals(9)?r[e].blur():0<=t&&r[t].focus(),p.EventHelper.stop(o,!0)}}}),this.setInputWidth();var s=document.createElement("div");s.className="controls",s.appendChild(this.caseSensitive.domNode),s.appendChild(this.wholeWords.domNode),s.appendChild(this.regex.domNode),this.domNode.appendChild(s)},e.prototype.validate=function(){this.inputBox.validate()},e.prototype.showMessage=function(t){this.inputBox.showMessage(t)},e.prototype.clearMessage=function(){this.inputBox.hideMessage()},e.prototype.clearValidation=function(){this.inputBox.hideMessage()},e.prototype.dispose=function(){s.prototype.dispose.call(this)},e.OPTION_CHANGE="optionChange",e}(o.Widget);e.FindInput=n}),define(s[290],n([6,8]),function(o,e){return o.create("vs/base/common/keybindingLabels",e)}),define(s[155],n([1,0,290]),function(a,e,t){"use strict";function d(o,e,t){if(null===e)return"";var n=[];return o.ctrlKey&&n.push(t.ctrlKey),o.shiftKey&&n.push(t.shiftKey),o.altKey&&n.push(t.altKey),o.metaKey&&n.push(t.metaKey),n.push(e),n.join(t.separator)}function s(i,e,t,n,a){var r=d(i,e,a);return null!==n&&(r+=" ",r+=d(t,n,a)),r}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(o,i,t){void 0===t&&(t=i),this.modifierLabels=[null],this.modifierLabels[2]=o,this.modifierLabels[1]=i,this.modifierLabels[3]=t}return t.prototype.toLabel=function(o,e,t,n,i){return null===e&&null===n?null:s(o,e,t,n,this.modifierLabels[i])},t}();e.ModifierLabelProvider=o,e.UILabelProvider=new o({ctrlKey:"\u2303",shiftKey:"\u21E7",altKey:"\u2325",metaKey:"\u2318",separator:""},{ctrlKey:t.localize(0,null),shiftKey:t.localize(1,null),altKey:t.localize(2,null),metaKey:t.localize(3,null),separator:"+"}),e.AriaLabelProvider=new o({ctrlKey:t.localize(4,null),shiftKey:t.localize(5,null),altKey:t.localize(6,null),metaKey:t.localize(7,null),separator:"+"},{ctrlKey:t.localize(8,null),shiftKey:t.localize(9,null),altKey:t.localize(10,null),metaKey:t.localize(11,null),separator:"+"}),e.ElectronAcceleratorLabelProvider=new o({ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Cmd",separator:"+"},{ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Super",separator:"+"}),e.UserSettingsLabelProvider=new o({ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"cmd",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"win",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"meta",separator:"+"})}),define(s[292],n([1,0,26,155,4,212]),function(a,e,d,l,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=p.$,t=function(){function i(n,i){this.os=i,this.domNode=p.append(n,o(".monaco-keybinding")),this.didEverRender=!1,n.appendChild(this.domNode)}return Object.defineProperty(i.prototype,"element",{get:function(){return this.domNode},enumerable:!0,configurable:!0}),i.prototype.set=function(e,t){this.didEverRender&&this.keybinding===e&&i.areSame(this.matches,t)||(this.keybinding=e,this.matches=t,this.render())},i.prototype.render=function(){if(p.clearNode(this.domNode),this.keybinding){var i=this.keybinding.getParts(),e=i[0],t=i[1];e&&this.renderPart(this.domNode,e,this.matches?this.matches.firstPart:null),t&&(p.append(this.domNode,o("span.monaco-keybinding-key-chord-separator",null," ")),this.renderPart(this.domNode,t,this.matches?this.matches.chordPart:null)),this.domNode.title=this.keybinding.getAriaLabel()}this.didEverRender=!0},i.prototype.renderPart=function(i,e,t){var n=l.UILabelProvider.modifierLabels[this.os];e.ctrlKey&&this.renderKey(i,n.ctrlKey,t&&t.ctrlKey,n.separator),e.shiftKey&&this.renderKey(i,n.shiftKey,t&&t.shiftKey,n.separator),e.altKey&&this.renderKey(i,n.altKey,t&&t.altKey,n.separator),e.metaKey&&this.renderKey(i,n.metaKey,t&&t.metaKey,n.separator);var o=e.keyLabel;o&&this.renderKey(i,o,t&&t.keyCode,"")},i.prototype.renderKey=function(r,e,t,n){p.append(r,o("span.monaco-keybinding-key"+(t?".highlight":""),null,e)),n&&p.append(r,o("span.monaco-keybinding-key-separator",null,n))},i.prototype.dispose=function(){this.keybinding=null},i.areSame=function(o,n){return o===n||!o&&!n||!!o&&!!n&&d.equals(o.firstPart,n.firstPart)&&d.equals(o.chordPart,n.chordPart)},i}();e.KeybindingLabel=t}),define(s[293],n([6,8]),function(o,e){return o.create("vs/base/common/severity",e)}),define(s[36],n([1,0,293,9]),function(r,e,t,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n;!function(t){t[t.Ignore=0]="Ignore",t[t.Info=1]="Info",t[t.Warning=2]="Warning",t[t.Error=3]="Error"}(n||(n={})),function(o){var n=Object.create(null);n[o.Error]=t.localize(0,null),n[o.Warning]=t.localize(1,null),n[o.Info]=t.localize(2,null),o.fromValue=function(e){return e?s.equalsIgnoreCase("error",e)?o.Error:s.equalsIgnoreCase("warning",e)||s.equalsIgnoreCase("warn",e)?o.Warning:s.equalsIgnoreCase("info",e)?o.Info:o.Ignore:o.Ignore},o.toString=function(t){return n[t]||s.empty},o.compare=function(o,e){return e-o}}(n||(n={})),e.default=n}),define(s[295],n([6,8]),function(o,e){return o.create("vs/base/parts/quickopen/browser/quickOpenModel",e)}),define(s[120],n([1,0,295,7,29,81,9,45,162,229,75,110,4,292,15]),function(f,e,t,n,i,S,r,s,E,L,u,c,x,d,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=0,a=function(){function t(){}return t.getLabel=function(t){return t.getLabel()},t.getResourcePath=function(o){var e=o.getResource();return e&&e.fsPath},t}(),g=function(){function t(t){void 0===t&&(t=[]),this.id=(o++).toString(),this.labelHighlights=t,this.descriptionHighlights=[]}return t.prototype.getId=function(){return this.id},t.prototype.getLabel=function(){return null},t.prototype.getLabelOptions=function(){return null},t.prototype.getAriaLabel=function(){return this.getLabel()},t.prototype.getDetail=function(){return null},t.prototype.getIcon=function(){return null},t.prototype.getDescription=function(){return null},t.prototype.getKeybinding=function(){return null},t.prototype.getResource=function(){return null},t.prototype.isHidden=function(){return this.hidden},t.prototype.setHidden=function(t){this.hidden=t},t.prototype.setHighlights=function(o,e,t){this.labelHighlights=o,this.descriptionHighlights=e,this.detailHighlights=t},t.prototype.getHighlights=function(){return[this.labelHighlights,this.descriptionHighlights,this.detailHighlights]},t.prototype.run=function(){return!1},t.compare=function(d,e,t){var n=d.getHighlights()[0]||[],i=e.getHighlights()[0]||[];if(n.length&&!i.length)return-1;if(!n.length&&i.length)return 1;var o=d.getLabel(),r=e.getLabel();if(o===r){var s=d.getResource(),a=e.getResource();s&&a&&(o=s.fsPath,r=a.fsPath)}return L.compareAnything(o,r,t)},t.compareByScore=function(r,e,t,n,i){return L.compareByScore(r,e,a,t,n,i)},t.highlight=function(a,e,t){void 0===t&&(t=!1);var n=[],m=[],_=r.stripWildcards(e),u=a.getLabel(),l=a.getDescription();if(a.getResource()){var c=a.getResource().fsPath;if(e.length===c.length&&e.toLowerCase()===c.toLowerCase())n.push({start:0,end:u.length}),m.push({start:0,end:l.length});else if(t||0<=e.indexOf(s.nativeSep)){var d=S.matchesFuzzy(e,u,t);if(d)n=d;else{var h=l?l+s.nativeSep:"",p=h.length,y=S.matchesFuzzy(e,h+u,t);y||e===_||(y=S.matchesFuzzy(_,h+u,t)),y&&y.forEach(function(t){t.start<p&&t.end>p?(n.push({start:0,end:t.end-p}),m.push({start:t.start,end:p})):t.start>=p?n.push({start:t.start-p,end:t.end-p}):m.push(t)})}}else n=S.matchesFuzzy(e,u)}else n=S.matchesFuzzy(e,u);return{labelHighlights:n,descriptionHighlights:m}},t.prototype.isFile=function(){return!1},t}();e.QuickOpenEntry=g;var m=function(r){function e(e,a,n){var i=r.call(this)||this;return i.entry=e,i.groupLabel=a,i.withBorder=n,i}return Z(e,r),e.prototype.getGroupLabel=function(){return this.groupLabel},e.prototype.setGroupLabel=function(t){this.groupLabel=t},e.prototype.showBorder=function(){return this.withBorder},e.prototype.setShowBorder=function(t){this.withBorder=t},e.prototype.getLabel=function(){return this.entry?this.entry.getLabel():r.prototype.getLabel.call(this)},e.prototype.getLabelOptions=function(){return this.entry?this.entry.getLabelOptions():r.prototype.getLabelOptions.call(this)},e.prototype.getAriaLabel=function(){return this.entry?this.entry.getAriaLabel():r.prototype.getAriaLabel.call(this)},e.prototype.getDetail=function(){return this.entry?this.entry.getDetail():r.prototype.getDetail.call(this)},e.prototype.getResource=function(){return this.entry?this.entry.getResource():r.prototype.getResource.call(this)},e.prototype.getIcon=function(){return this.entry?this.entry.getIcon():r.prototype.getIcon.call(this)},e.prototype.getDescription=function(){return this.entry?this.entry.getDescription():r.prototype.getDescription.call(this)},e.prototype.getEntry=function(){return this.entry},e.prototype.getHighlights=function(){return this.entry?this.entry.getHighlights():r.prototype.getHighlights.call(this)},e.prototype.isHidden=function(){return this.entry?this.entry.isHidden():r.prototype.isHidden.call(this)},e.prototype.setHighlights=function(e,t,o){this.entry?this.entry.setHighlights(e,t,o):r.prototype.setHighlights.call(this,e,t,o)},e.prototype.setHidden=function(e){this.entry?this.entry.setHidden(e):r.prototype.setHidden.call(this,e)},e.prototype.run=function(e,t){return this.entry?this.entry.run(e,t):r.prototype.run.call(this,e,t)},e}(g);e.QuickOpenEntryGroup=m;var l=function(){function t(){}return t.prototype.hasActions=function(){return!1},t.prototype.getActions=function(){return n.TPromise.as(null)},t.prototype.hasSecondaryActions=function(){return!1},t.prototype.getSecondaryActions=function(){return n.TPromise.as(null)},t.prototype.getActionItem=function(){return null},t}(),h=function(){function t(o,n){void 0===o&&(o=new l),void 0===n&&(n=null),this.actionProvider=o,this.actionRunner=n}return t.prototype.getHeight=function(t){return t.getDetail()?44:22},t.prototype.getTemplateId=function(t){return t instanceof m?"quickOpenEntryGroup":"quickOpenEntry"},t.prototype.renderTemplate=function(n,e){var g=document.createElement("div");x.addClass(g,"sub-content"),e.appendChild(g);var i=x.$(".quick-open-row"),o=x.$(".quick-open-row"),r=x.$(".quick-open-entry",null,i,o);g.appendChild(r);var h=document.createElement("span");i.appendChild(h);var S=new E.IconLabel(i,{supportHighlights:!0}),L=document.createElement("span");i.appendChild(L),x.addClass(L,"quick-open-entry-description");var f=new c.HighlightedLabel(L),N=document.createElement("span");i.appendChild(N),x.addClass(N,"quick-open-entry-keybinding");var v=new d.KeybindingLabel(N,p.OS),T=document.createElement("div");o.appendChild(T),x.addClass(T,"quick-open-entry-meta");var y=new c.HighlightedLabel(T),I;"quickOpenEntryGroup"===n&&(I=document.createElement("div"),x.addClass(I,"results-group"),e.appendChild(I)),x.addClass(e,"actions");var M=document.createElement("div");return x.addClass(M,"primary-action-bar"),e.appendChild(M),{container:e,entry:r,icon:h,label:S,detail:y,description:f,keybinding:v,group:I,actionBar:new u.ActionBar(M,{actionRunner:this.actionRunner})}},t.prototype.renderElement=function(h,e,t,n){var i=t;if(this.actionProvider.hasActions(null,h)?x.addClass(i.container,"has-actions"):x.removeClass(i.container,"has-actions"),i.actionBar.context=h,this.actionProvider.getActions(null,h).then(function(t){i.actionBar.isEmpty()&&t&&0<t.length?i.actionBar.push(t,{icon:!0,label:!1}):i.actionBar.isEmpty()||t&&0!==t.length||i.actionBar.clear()}),h instanceof m&&h.getGroupLabel()?x.addClass(i.container,"has-group-label"):x.removeClass(i.container,"has-group-label"),h instanceof m){var o=h,r=t;o.showBorder()?(x.addClass(r.container,"results-group-separator"),r.container.style.borderTopColor=n.pickerGroupBorder.toString()):(x.removeClass(r.container,"results-group-separator"),r.container.style.borderTopColor=null);var s=o.getGroupLabel()||"";r.group.textContent=s,r.group.style.color=n.pickerGroupForeground.toString()}if(h instanceof g){var a=h.getHighlights(),u=a[0],l=a[1],c=a[2],d=h.getIcon()?"quick-open-entry-icon "+h.getIcon():"";i.icon.className=d;var p=h.getLabelOptions()||Object.create(null);p.matches=u||[],i.label.setValue(h.getLabel(),null,p),i.detail.set(h.getDetail(),c),i.description.set(h.getDescription(),l||[]),i.description.element.title=h.getDescription(),i.keybinding.set(h.getKeybinding(),null)}},t.prototype.disposeTemplate=function(o,e){var t=e;t.actionBar.dispose(),t.actionBar=null,t.container=null,t.entry=null,t.description.dispose(),t.description=null,t.keybinding.dispose(),t.keybinding=null,t.detail.dispose(),t.detail=null,t.group=null,t.icon=null,t.label.dispose(),t.label=null},t}(),_=function(){function o(o,n){void 0===o&&(o=[]),void 0===n&&(n=new l),this._entries=o,this._dataSource=this,this._renderer=new h(n),this._filter=this,this._runner=this,this._accessibilityProvider=this}return Object.defineProperty(o.prototype,"entries",{get:function(){return this._entries},set:function(t){this._entries=t},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"dataSource",{get:function(){return this._dataSource},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"renderer",{get:function(){return this._renderer},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"filter",{get:function(){return this._filter},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"runner",{get:function(){return this._runner},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"accessibilityProvider",{get:function(){return this._accessibilityProvider},enumerable:!0,configurable:!0}),o.prototype.addEntries=function(t){i.isArray(t)&&(this._entries=this._entries.concat(t))},o.prototype.setEntries=function(t){i.isArray(t)&&(this._entries=t)},o.prototype.getEntries=function(t){return t?this._entries.filter(function(t){return!t.isHidden()}):this._entries},o.prototype.getId=function(t){return t.getId()},o.prototype.getLabel=function(t){return t.getLabel()},o.prototype.getAriaLabel=function(o){return o.getAriaLabel()?t.localize(0,null,o.getAriaLabel()):t.localize(1,null)},o.prototype.isVisible=function(t){return!t.isHidden()},o.prototype.run=function(o,e,t){return o.run(e,t)},o}();e.QuickOpenModel=_}),define(s[297],n([6,8]),function(o,e){return o.create("vs/base/parts/quickopen/browser/quickOpenWidget",e)}),define(s[298],n([6,8]),function(o,e){return o.create("vs/base/parts/tree/browser/treeDefaults",e)}),define(s[128],n([1,0,298,7,53,15,10,4,40]),function(_,e,f,t,n,o,r,i,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s;!function(t){t[t.ON_MOUSE_DOWN=0]="ON_MOUSE_DOWN",t[t.ON_MOUSE_UP=1]="ON_MOUSE_UP"}(s=e.ClickBehavior||(e.ClickBehavior={}));var l=function(){function t(){this._arr=[]}return t.prototype.set=function(n,e){this._arr.push({keybinding:a.createKeybinding(n,o.OS),callback:e})},t.prototype.dispatch=function(o){for(var e=this._arr.length-1,t;0<=e;e--)if(t=this._arr[e],o.equals(t.keybinding))return t.callback;return null},t}();e.KeybindingDispatcher=l;var c=function(){function t(n){void 0===n&&(n={clickBehavior:s.ON_MOUSE_UP,keyboardSupport:!0});var i=this;this.options=n,this.downKeyBindingDispatcher=new l,this.upKeyBindingDispatcher=new l,("boolean"!=typeof n.keyboardSupport||n.keyboardSupport)&&(this.downKeyBindingDispatcher.set(16,function(t,e){return i.onUp(t,e)}),this.downKeyBindingDispatcher.set(18,function(t,e){return i.onDown(t,e)}),this.downKeyBindingDispatcher.set(15,function(t,e){return i.onLeft(t,e)}),this.downKeyBindingDispatcher.set(17,function(t,e){return i.onRight(t,e)}),o.isMacintosh&&(this.downKeyBindingDispatcher.set(2064,function(t,e){return i.onLeft(t,e)}),this.downKeyBindingDispatcher.set(300,function(t,e){return i.onDown(t,e)}),this.downKeyBindingDispatcher.set(302,function(t,e){return i.onUp(t,e)})),this.downKeyBindingDispatcher.set(11,function(t,e){return i.onPageUp(t,e)}),this.downKeyBindingDispatcher.set(12,function(t,e){return i.onPageDown(t,e)}),this.downKeyBindingDispatcher.set(14,function(t,e){return i.onHome(t,e)}),this.downKeyBindingDispatcher.set(13,function(t,e){return i.onEnd(t,e)}),this.downKeyBindingDispatcher.set(10,function(t,e){return i.onSpace(t,e)}),this.downKeyBindingDispatcher.set(9,function(t,e){return i.onEscape(t,e)}),this.upKeyBindingDispatcher.set(3,this.onEnter.bind(this)),this.upKeyBindingDispatcher.set(2051,this.onEnter.bind(this)))}return t.prototype.onMouseDown=function(o,e,t,n){if(void 0===n&&(n="mouse"),this.options.clickBehavior===s.ON_MOUSE_DOWN&&(t.leftButton||t.middleButton)){if(t.target){if(t.target.tagName&&"input"===t.target.tagName.toLowerCase())return!1;if(i.findParentWithClass(t.target,"monaco-action-bar","row"))return!1}return this.onLeftClick(o,e,t,n)}return!1},t.prototype.onClick=function(i,e,t){return o.isMacintosh&&t.ctrlKey?(t.preventDefault(),t.stopPropagation(),!1):(!t.target||!t.target.tagName||"input"!==t.target.tagName.toLowerCase())&&(this.options.clickBehavior!==s.ON_MOUSE_DOWN||!t.leftButton&&!t.middleButton)&&this.onLeftClick(i,e,t)},t.prototype.onLeftClick=function(a,e,t,s){void 0===s&&(s="mouse");var d={origin:s,originalEvent:t};return a.getInput()===e?(a.clearFocus(d),a.clearSelection(d)):(t&&t.browserEvent&&"mousedown"===t.browserEvent.type||t.preventDefault(),t.stopPropagation(),a.DOMFocus(),a.setSelection([e],d),a.setFocus(e,d),a.isExpanded(e)?a.collapse(e).done(null,r.onUnexpectedError):a.expand(e).done(null,r.onUnexpectedError)),!0},t.prototype.onContextMenu=function(o,e,t){return(!t.target||!t.target.tagName||"input"!==t.target.tagName.toLowerCase())&&(t&&(t.preventDefault(),t.stopPropagation()),!1)},t.prototype.onTap=function(o,e,t){var n=t.initialTarget;return(!n||!n.tagName||"input"!==n.tagName.toLowerCase())&&this.onLeftClick(o,e,t,"touch")},t.prototype.onKeyDown=function(o,e){return this.onKey(this.downKeyBindingDispatcher,o,e)},t.prototype.onKeyUp=function(o,e){return this.onKey(this.upKeyBindingDispatcher,o,e)},t.prototype.onKey=function(o,e,t){var n=o.dispatch(t.toKeybinding());return n&&n(e,t)&&(t.preventDefault(),t.stopPropagation(),!0)},t.prototype.onUp=function(o,e){var i={origin:"keyboard",originalEvent:e};return o.getHighlight()?o.clearHighlight(i):(o.focusPrevious(1,i),o.reveal(o.getFocus()).done(null,r.onUnexpectedError)),!0},t.prototype.onPageUp=function(o,e){var i={origin:"keyboard",originalEvent:e};return o.getHighlight()?o.clearHighlight(i):(o.focusPreviousPage(i),o.reveal(o.getFocus()).done(null,r.onUnexpectedError)),!0},t.prototype.onDown=function(o,e){var i={origin:"keyboard",originalEvent:e};return o.getHighlight()?o.clearHighlight(i):(o.focusNext(1,i),o.reveal(o.getFocus()).done(null,r.onUnexpectedError)),!0},t.prototype.onPageDown=function(o,e){var i={origin:"keyboard",originalEvent:e};return o.getHighlight()?o.clearHighlight(i):(o.focusNextPage(i),o.reveal(o.getFocus()).done(null,r.onUnexpectedError)),!0},t.prototype.onHome=function(o,e){var i={origin:"keyboard",originalEvent:e};return o.getHighlight()?o.clearHighlight(i):(o.focusFirst(i),o.reveal(o.getFocus()).done(null,r.onUnexpectedError)),!0},t.prototype.onEnd=function(o,e){var i={origin:"keyboard",originalEvent:e};return o.getHighlight()?o.clearHighlight(i):(o.focusLast(i),o.reveal(o.getFocus()).done(null,r.onUnexpectedError)),!0},t.prototype.onLeft=function(o,e){var a={origin:"keyboard",originalEvent:e};if(o.getHighlight())o.clearHighlight(a);else{var n=o.getFocus();o.collapse(n).then(function(e){if(n&&!e)return o.focusParent(a),o.reveal(o.getFocus())}).done(null,r.onUnexpectedError)}return!0},t.prototype.onRight=function(o,e){var a={origin:"keyboard",originalEvent:e};if(o.getHighlight())o.clearHighlight(a);else{var n=o.getFocus();o.expand(n).then(function(e){if(n&&!e)return o.focusFirstChild(a),o.reveal(o.getFocus())}).done(null,r.onUnexpectedError)}return!0},t.prototype.onEnter=function(o,e){if(o.getHighlight())return!1;var n=o.getFocus();return n&&o.setSelection([n],{origin:"keyboard",originalEvent:e}),!0},t.prototype.onSpace=function(t){if(t.getHighlight())return!1;var e=t.getFocus();return e&&t.toggleExpansion(e),!0},t.prototype.onEscape=function(o,e){var i={origin:"keyboard",originalEvent:e};return o.getHighlight()?(o.clearHighlight(i),!0):o.getSelection().length?(o.clearSelection(i),!0):!!o.getFocus()&&(o.clearFocus(i),!0)},t}();e.DefaultController=c;var d=function(){function t(){}return t.prototype.getDragURI=function(){return null},t.prototype.onDragStart=function(){},t.prototype.onDragOver=function(){return null},t.prototype.drop=function(){},t}();e.DefaultDragAndDrop=d;var u=function(){function t(){}return t.prototype.isVisible=function(){return!0},t}();e.DefaultFilter=u;var p=function(){function t(){}return t.prototype.compare=function(){return 0},t}();e.DefaultSorter=p;var g=function(){function t(){}return t.prototype.getAriaLabel=function(){return null},t}();e.DefaultAccessibilityProvider=g;var m=function(n){function e(e,r){var i=n.call(this,"vs.tree.collapse",f.localize(0,null),"monaco-tree-action collapse-all",r)||this;return i.viewer=e,i}return Z(e,n),e.prototype.run=function(){return this.viewer.getHighlight()?t.TPromise.as(null):(this.viewer.collapseAll(),this.viewer.clearSelection(),this.viewer.clearFocus(),this.viewer.DOMFocus(),this.viewer.focusFirst(),t.TPromise.as(null))},e}(n.Action);e.CollapseAllAction=m}),define(s[161],n([1,0,128,38,466,238,107,11,3,32,26,261]),function(g,e,m,t,_,o,n,r,i,a,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var c=function(){return function(o,e,t){if(void 0===t&&(t={}),this.tree=o,this.configuration=e,this.options=t,!e.dataSource)throw new Error("You must provide a Data Source to the tree.");this.dataSource=e.dataSource,this.renderer=e.renderer,this.controller=e.controller||new m.DefaultController({clickBehavior:m.ClickBehavior.ON_MOUSE_UP,keyboardSupport:"boolean"!=typeof t.keyboardSupport||t.keyboardSupport}),this.dnd=e.dnd||new m.DefaultDragAndDrop,this.filter=e.filter||new m.DefaultFilter,this.sorter=e.sorter||null,this.accessibilityProvider=e.accessibilityProvider||new m.DefaultAccessibilityProvider}}();e.TreeContext=c;var d={listFocusBackground:a.Color.fromHex("#073655"),listActiveSelectionBackground:a.Color.fromHex("#0E639C"),listActiveSelectionForeground:a.Color.fromHex("#FFFFFF"),listFocusAndSelectionBackground:a.Color.fromHex("#094771"),listFocusAndSelectionForeground:a.Color.fromHex("#FFFFFF"),listInactiveSelectionBackground:a.Color.fromHex("#3F3F46"),listHoverBackground:a.Color.fromHex("#2A2D2E"),listDropBackground:a.Color.fromHex("#383B3D")},s=function(a){function e(e,p,n){void 0===n&&(n={});var i=a.call(this)||this;return i.toDispose=[],i._onDispose=new r.Emitter,i._onHighlightChange=new r.Emitter,i.toDispose.push(i._onDispose,i._onHighlightChange),i.container=e,i.configuration=p,i.options=n,l.mixin(i.options,d,!1),i.options.twistiePixels="number"==typeof i.options.twistiePixels?i.options.twistiePixels:32,i.options.showTwistie=!1!==i.options.showTwistie,i.options.indentPixels="number"==typeof i.options.indentPixels?i.options.indentPixels:12,i.options.alwaysFocused=!0===i.options.alwaysFocused,i.options.useShadows=!1!==i.options.useShadows,i.options.paddingOnRow=!1!==i.options.paddingOnRow,i.context=new c(i,p,n),i.model=new _.TreeModel(i.context),i.view=new o.TreeView(i.context,i.container),i.view.setModel(i.model),i.addEmitter(i.model),i.addEmitter(i.view),i.toDispose.push(i.model.addListener("highlight",function(){return i._onHighlightChange.fire()})),i}return Z(e,a),e.prototype.style=function(t){this.view.applyStyles(t)},Object.defineProperty(e.prototype,"onDOMFocus",{get:function(){return this.view&&this.view.onDOMFocus},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onDOMBlur",{get:function(){return this.view&&this.view.onDOMBlur},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onHighlightChange",{get:function(){return this._onHighlightChange&&this._onHighlightChange.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onDispose",{get:function(){return this._onDispose&&this._onDispose.event},enumerable:!0,configurable:!0}),e.prototype.getHTMLElement=function(){return this.view.getHTMLElement()},e.prototype.layout=function(t){this.view.layout(t)},e.prototype.DOMFocus=function(){this.view.focus()},e.prototype.isDOMFocused=function(){return this.view.isFocused()},e.prototype.DOMBlur=function(){this.view.blur()},e.prototype.onVisible=function(){this.view.onVisible()},e.prototype.onHidden=function(){this.view.onHidden()},e.prototype.setInput=function(t){return this.model.setInput(t)},e.prototype.getInput=function(){return this.model.getInput()},e.prototype.refresh=function(o,e){return void 0===o&&(o=null),void 0===e&&(e=!0),this.model.refresh(o,e)},e.prototype.expand=function(t){return this.model.expand(t)},e.prototype.expandAll=function(t){return this.model.expandAll(t)},e.prototype.collapse=function(o,e){return void 0===e&&(e=!1),this.model.collapse(o,e)},e.prototype.collapseAll=function(o,e){return void 0===o&&(o=null),void 0===e&&(e=!1),this.model.collapseAll(o,e)},e.prototype.toggleExpansion=function(t){return this.model.toggleExpansion(t)},e.prototype.toggleExpansionAll=function(t){return this.model.toggleExpansionAll(t)},e.prototype.isExpanded=function(t){return this.model.isExpanded(t)},e.prototype.getExpandedElements=function(){return this.model.getExpandedElements()},e.prototype.reveal=function(o,e){return void 0===e&&(e=null),this.model.reveal(o,e)},e.prototype.getRelativeTop=function(o){var e=this.model.getItem(o);return this.view.getRelativeTop(e)},e.prototype.getScrollPosition=function(){return this.view.getScrollPosition()},e.prototype.setScrollPosition=function(t){this.view.setScrollPosition(t)},e.prototype.getContentHeight=function(){return this.view.getTotalHeight()},e.prototype.setHighlight=function(o,e){this.model.setHighlight(o,e)},e.prototype.getHighlight=function(){return this.model.getHighlight()},e.prototype.isHighlighted=function(t){return this.model.isFocused(t)},e.prototype.clearHighlight=function(t){this.model.setHighlight(null,t)},e.prototype.select=function(o,e){this.model.select(o,e)},e.prototype.selectRange=function(o,e,t){this.model.selectRange(o,e,t)},e.prototype.deselectRange=function(o,e,t){this.model.deselectRange(o,e,t)},e.prototype.selectAll=function(o,e){this.model.selectAll(o,e)},e.prototype.deselect=function(o,e){this.model.deselect(o,e)},e.prototype.deselectAll=function(o,e){this.model.deselectAll(o,e)},e.prototype.setSelection=function(o,e){this.model.setSelection(o,e)},e.prototype.toggleSelection=function(o,e){this.model.toggleSelection(o,e)},e.prototype.isSelected=function(t){return this.model.isSelected(t)},e.prototype.getSelection=function(){return this.model.getSelection()},e.prototype.clearSelection=function(t){this.model.setSelection([],t)},e.prototype.selectNext=function(o,e,t){this.model.selectNext(o,e,t)},e.prototype.selectPrevious=function(o,e,t){this.model.selectPrevious(o,e,t)},e.prototype.selectParent=function(o,e){this.model.selectParent(o,e)},e.prototype.setFocus=function(o,e){this.model.setFocus(o,e)},e.prototype.isFocused=function(t){return this.model.isFocused(t)},e.prototype.getFocus=function(){return this.model.getFocus()},e.prototype.focusNext=function(o,e){this.model.focusNext(o,e)},e.prototype.focusPrevious=function(o,e){this.model.focusPrevious(o,e)},e.prototype.focusParent=function(t){this.model.focusParent(t)},e.prototype.focusFirstChild=function(t){this.model.focusFirstChild(t)},e.prototype.focusFirst=function(o,e){this.model.focusFirst(o,e)},e.prototype.focusNth=function(o,e){this.model.focusNth(o,e)},e.prototype.focusLast=function(o,e){this.model.focusLast(o,e)},e.prototype.focusNextPage=function(t){this.view.focusNextPage(t)},e.prototype.focusPreviousPage=function(t){this.view.focusPreviousPage(t)},e.prototype.clearFocus=function(t){this.model.setFocus(null,t)},e.prototype.addTraits=function(o,e){this.model.addTraits(o,e)},e.prototype.removeTraits=function(o,e){this.model.removeTraits(o,e)},e.prototype.toggleTrait=function(o,e){this.model.hasTrait(o,e)?this.model.removeTraits(o,[e]):this.model.addTraits(o,[e])},e.prototype.hasTrait=function(o,e){return this.model.hasTrait(o,e)},e.prototype.getNavigator=function(o,e){return new n.MappedNavigator(this.model.getNavigator(o,e),function(t){return t&&t.getElement()})},e.prototype.dispose=function(){this._onDispose.fire(),null!==this.model&&(this.model.dispose(),this.model=null),null!==this.view&&(this.view.dispose(),this.view=null),this.toDispose=i.dispose(this.toDispose),a.prototype.dispose.call(this)},e}(t.EventEmitter);e.Tree=s}),define(s[301],n([1,0,297,7,15,79,29,10,100,445,52,115,36,161,220,65,128,4,3,48,32,26,260]),function(f,e,T,I,M,o,n,k,a,i,t,r,s,d,l,p,c,u,g,m,h,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var y=function(o){function e(){return null!==o&&o.apply(this,arguments)||this}return Z(e,o),e.prototype.onContextMenu=function(e,t,n){return M.isMacintosh?this.onLeftClick(e,t,n):o.prototype.onContextMenu.call(this,e,t,n)},e}(c.DefaultController);e.QuickOpenController=y;var C;!function(t){t[t.ELEMENT_SELECTED=0]="ELEMENT_SELECTED",t[t.FOCUS_LOST=1]="FOCUS_LOST",t[t.CANCELED=2]="CANCELED"}(C=e.HideReason||(e.HideReason={}));var b={background:h.Color.fromHex("#1E1E1E"),foreground:h.Color.fromHex("#CCCCCC"),pickerGroupForeground:h.Color.fromHex("#0097FB"),pickerGroupBorder:h.Color.fromHex("#3F3F46"),widgetShadow:h.Color.fromHex("#000000"),progressBarBackground:h.Color.fromHex("#0E70C0")},v=T.localize(0,null),S=function(){function h(o,r,t,n){this.isDisposed=!1,this.toUnbind=[],this.container=o,this.callbacks=r,this.options=t,this.styles=t||Object.create(null),_.mixin(this.styles,b,!1),this.usageLogger=n,this.model=null}return h.prototype.getElement=function(){return t.$(this.builder)},h.prototype.getModel=function(){return this.model},h.prototype.setCallbacks=function(t){this.callbacks=t},h.prototype.create=function(){var s=this;return this.builder=t.$().div(function(e){e.on(u.EventType.KEY_DOWN,function(e){9===new p.StandardKeyboardEvent(e).keyCode&&(u.EventHelper.stop(e,!0),s.hide(C.CANCELED))}).on(u.EventType.CONTEXT_MENU,function(t){return u.EventHelper.stop(t,!0)}).on(u.EventType.FOCUS,function(){return s.gainingFocus()},null,!0).on(u.EventType.BLUR,function(e){return s.loosingFocus(e)},null,!0),s.progressBar=new l.ProgressBar(e.clone(),{progressBarBackground:s.styles.progressBarBackground}),s.progressBar.getContainer().hide(),e.div({class:"quick-open-input"},function(e){s.inputContainer=e,s.inputBox=new r.InputBox(e.getHTMLElement(),null,{placeholder:s.options.inputPlaceHolder||"",ariaLabel:v,inputBackground:s.styles.inputBackground,inputForeground:s.styles.inputForeground,inputBorder:s.styles.inputBorder,inputValidationInfoBackground:s.styles.inputValidationInfoBackground,inputValidationInfoBorder:s.styles.inputValidationInfoBorder,inputValidationWarningBackground:s.styles.inputValidationWarningBackground,inputValidationWarningBorder:s.styles.inputValidationWarningBorder,inputValidationErrorBackground:s.styles.inputValidationErrorBackground,inputValidationErrorBorder:s.styles.inputValidationErrorBorder}),s.inputElement=s.inputBox.inputElement,s.inputElement.setAttribute("role","combobox"),s.inputElement.setAttribute("aria-haspopup","false"),s.inputElement.setAttribute("aria-autocomplete","list"),u.addDisposableListener(s.inputBox.inputElement,u.EventType.KEY_DOWN,function(e){var t=new p.StandardKeyboardEvent(e),n=s.shouldOpenInBackground(t);if(2!==t.keyCode)if(18===t.keyCode||16===t.keyCode||12===t.keyCode||11===t.keyCode)u.EventHelper.stop(e,!0),s.navigateInTree(t.keyCode,t.shiftKey),s.inputBox.inputElement.selectionStart===s.inputBox.inputElement.selectionEnd&&(s.inputBox.inputElement.selectionStart=s.inputBox.value.length);else if(3===t.keyCode||n){u.EventHelper.stop(e,!0);var i=s.tree.getFocus();i&&s.elementSelected(i,e,n?a.Mode.OPEN_IN_BACKGROUND:a.Mode.OPEN)}}),u.addDisposableListener(s.inputBox.inputElement,u.EventType.INPUT,function(){s.onType()})}),s.treeContainer=e.div({class:"quick-open-tree"},function(e){s.tree=new d.Tree(e.getHTMLElement(),{dataSource:new i.DataSource(s),controller:new y({clickBehavior:c.ClickBehavior.ON_MOUSE_UP,keyboardSupport:s.options.keyboardSupport}),renderer:s.renderer=new i.Renderer(s,s.styles),filter:new i.Filter(s),accessibilityProvider:new i.AccessibilityProvider(s)},{twistiePixels:11,indentPixels:0,alwaysFocused:!0,verticalScrollMode:m.ScrollbarVisibility.Visible,ariaLabel:T.localize(1,null),keyboardSupport:s.options.keyboardSupport}),s.treeElement=s.tree.getHTMLElement(),s.toUnbind.push(s.tree.addListener(o.EventType.FOCUS,function(e){s.elementFocused(e.focus,e)})),s.toUnbind.push(s.tree.addListener(o.EventType.SELECTION,function(e){e.selection&&0<e.selection.length&&s.elementSelected(e.selection[0],e)}))}).on(u.EventType.KEY_DOWN,function(e){var t=new p.StandardKeyboardEvent(e);s.quickNavigateConfiguration&&(18!==t.keyCode&&16!==t.keyCode&&12!==t.keyCode&&11!==t.keyCode||(u.EventHelper.stop(e,!0),s.navigateInTree(t.keyCode)))}).on(u.EventType.KEY_UP,function(e){var a=new p.StandardKeyboardEvent(e),n=a.keyCode;if(s.quickNavigateConfiguration){var t=s.quickNavigateConfiguration.keybindings;if(3===n||t.some(function(i){var e=i.getParts(),t=e[0];return!e[1]&&(t.shiftKey&&4===n?!(a.ctrlKey||a.altKey||a.metaKey):t.altKey&&6===n||t.ctrlKey&&5===n||t.metaKey&&57===n)})){var o=s.tree.getFocus();o&&s.elementSelected(o,e)}}}).clone()}).addClass("quick-open-widget").build(this.container),this.layoutDimensions&&this.layout(this.layoutDimensions),this.applyStyles(),this.builder.getHTMLElement()},h.prototype.style=function(t){this.styles=t,this.applyStyles()},h.prototype.applyStyles=function(){if(this.builder){var o=this.styles.foreground?this.styles.foreground.toString():null,e=this.styles.background?this.styles.background.toString():null,t=this.styles.borderColor?this.styles.borderColor.toString():null,n=this.styles.widgetShadow?this.styles.widgetShadow.toString():null;this.builder.style("color",o),this.builder.style("background-color",e),this.builder.style("border-color",t),this.builder.style("border-width",t?"1px":null),this.builder.style("border-style",t?"solid":null),this.builder.style("box-shadow",n?"0 5px 8px "+n:null)}this.progressBar&&this.progressBar.style({progressBarBackground:this.styles.progressBarBackground}),this.inputBox&&this.inputBox.style({inputBackground:this.styles.inputBackground,inputForeground:this.styles.inputForeground,inputBorder:this.styles.inputBorder,inputValidationInfoBackground:this.styles.inputValidationInfoBackground,inputValidationInfoBorder:this.styles.inputValidationInfoBorder,inputValidationWarningBackground:this.styles.inputValidationWarningBackground,inputValidationWarningBorder:this.styles.inputValidationWarningBorder,inputValidationErrorBackground:this.styles.inputValidationErrorBackground,inputValidationErrorBorder:this.styles.inputValidationErrorBorder}),this.tree&&this.tree.style(this.styles),this.renderer&&this.renderer.updateStyles(this.styles)},h.prototype.shouldOpenInBackground=function(t){return 17===t.keyCode&&!(t.metaKey||t.ctrlKey||t.shiftKey||t.altKey)&&this.inputBox.inputElement.selectionEnd===this.inputBox.value.length},h.prototype.onType=function(){var t=this.inputBox.value;this.helpText&&(t?this.helpText.hide():this.helpText.show()),this.callbacks.onType(t)},h.prototype.navigate=function(o,e){this.isVisible()&&(!this.quickNavigateConfiguration&&e&&(this.quickNavigateConfiguration=e,this.tree.DOMFocus()),this.navigateInTree(o?18:16))},h.prototype.navigateInTree=function(a,e){var s=this.tree.getInput(),n=s?s.entries:[],i=this.tree.getFocus();18===a?this.tree.focusNext():16===a?this.tree.focusPrevious():12===a?this.tree.focusNextPage():11===a?this.tree.focusPreviousPage():2===a?e?this.tree.focusPrevious():this.tree.focusNext():void 0;var o=this.tree.getFocus();1<n.length&&i===o&&(16===a||2===a&&e?this.tree.focusLast():(18===a||2===a&&!e)&&this.tree.focusFirst()),(o=this.tree.getFocus())&&this.tree.reveal(o).done(null,k.onUnexpectedError)},h.prototype.elementFocused=function(o,e){if(o&&this.isVisible()){this.inputElement.setAttribute("aria-activedescendant",this.treeElement.getAttribute("aria-activedescendant"));var i={event:e,keymods:this.extractKeyMods(e),quickNavigateConfiguration:this.quickNavigateConfiguration};this.model.runner.run(o,a.Mode.PREVIEW,i)}},h.prototype.elementSelected=function(d,e,l){var n=!0;if(this.isVisible()){var i=l||a.Mode.OPEN,o={event:e,keymods:this.extractKeyMods(e),quickNavigateConfiguration:this.quickNavigateConfiguration};n=this.model.runner.run(d,i,o)}if(this.usageLogger){var r=this.model.entries.indexOf(d),p=this.model.entries.length;this.usageLogger.publicLog("quickOpenWidgetItemAccepted",{index:r,count:p,isQuickNavigate:!!this.quickNavigateConfiguration})}n&&this.hide(C.ELEMENT_SELECTED)},h.prototype.extractKeyMods=function(t){return t&&(t.ctrlKey||t.metaKey||t.payload&&t.payload.originalEvent&&(t.payload.originalEvent.ctrlKey||t.payload.originalEvent.metaKey))?[2048]:[]},h.prototype.show=function(o,e){this.visible=!0,this.isLoosingFocus=!1,this.quickNavigateConfiguration=e?e.quickNavigateConfiguration:void 0,this.quickNavigateConfiguration?(this.inputContainer.hide(),this.builder.show(),this.tree.DOMFocus()):(this.inputContainer.show(),this.builder.show(),this.inputBox.focus()),this.helpText&&(this.quickNavigateConfiguration||n.isString(o)?this.helpText.hide():this.helpText.show()),n.isString(o)?this.doShowWithPrefix(o):this.doShowWithInput(o,e&&e.autoFocus?e.autoFocus:{}),e&&e.inputSelection&&!this.quickNavigateConfiguration&&this.inputBox.select(e.inputSelection),this.callbacks.onShow&&this.callbacks.onShow()},h.prototype.doShowWithPrefix=function(t){this.inputBox.value=t,this.callbacks.onType(t)},h.prototype.doShowWithInput=function(o,e){this.setInput(o,e)},h.prototype.setInputAndLayout=function(o,e){var i=this;this.treeContainer.style({height:this.getHeight(o)+"px"}),this.tree.setInput(null).then(function(){return i.model=o,i.inputElement.setAttribute("aria-haspopup",(o&&o.entries&&0<o.entries.length)+""),i.tree.setInput(o)}).done(function(){i.tree.layout(),o&&o.entries.some(function(e){return i.isElementVisible(o,e)})&&i.autoFocus(o,e)},k.onUnexpectedError)},h.prototype.isElementVisible=function(o,e){return!o.filter||o.filter.isVisible(e)},h.prototype.autoFocus=function(a,e){var p=this;void 0===e&&(e={});var t=a.entries.filter(function(e){return p.isElementVisible(a,e)});if(e.autoFocusPrefixMatch){for(var n=void 0,o=void 0,i=e.autoFocusPrefixMatch,r=i.toLowerCase(),s=0;s<t.length;s++){var l=t[s],c=a.dataSource.getLabel(l);if(n||0!==c.indexOf(i)?o||0!==c.toLowerCase().indexOf(r)||(o=l):n=l,n&&o)break}var d=n||o;if(d)return this.tree.setFocus(d),void this.tree.reveal(d,.5).done(null,k.onUnexpectedError)}e.autoFocusFirstEntry?(this.tree.focusFirst(),this.tree.reveal(this.tree.getFocus()).done(null,k.onUnexpectedError)):"number"==typeof e.autoFocusIndex?t.length>e.autoFocusIndex&&(this.tree.focusNth(e.autoFocusIndex),this.tree.reveal(this.tree.getFocus()).done(null,k.onUnexpectedError)):e.autoFocusSecondEntry?1<t.length&&this.tree.focusNth(1):e.autoFocusLastEntry&&1<t.length&&this.tree.focusLast()},h.prototype.refresh=function(o,e){var i=this;this.isVisible()&&(o||(o=this.tree.getInput()),o&&(this.treeContainer.style({height:this.getHeight(o)+"px"}),this.tree.refresh().done(function(){i.tree.layout(),e&&e&&o&&o.entries.some(function(e){return i.isElementVisible(o,e)})&&i.autoFocus(o,e)},k.onUnexpectedError)))},h.prototype.getHeight=function(d){var p=this,e=d.renderer;if(!d){var n=e.getHeight(null);return this.options.minItemsToShow?this.options.minItemsToShow*n:0}var o=0,i;this.layoutDimensions&&this.layoutDimensions.height&&(i=.4*(this.layoutDimensions.height-50)),(!i||i>h.MAX_ITEMS_HEIGHT)&&(i=h.MAX_ITEMS_HEIGHT);for(var s=d.entries.filter(function(t){return p.isElementVisible(d,t)}),a=this.options.maxItemsToShow||s.length,u=0,l;u<a&&u<s.length&&(l=e.getHeight(s[u]),!!(o+l<=i));u++)o+=l;return o},h.prototype.hide=function(o){var i=this;if(this.isVisible()){if(this.visible=!1,this.builder.hide(),this.builder.domBlur(),o===C.CANCELED&&this.model){var e=this.model.entries.filter(function(t){return i.isElementVisible(i.model,t)}).length;this.usageLogger&&this.usageLogger.publicLog("quickOpenWidgetCancelled",{count:e,isQuickNavigate:!!this.quickNavigateConfiguration})}this.inputBox.value="",this.tree.setInput(null),this.inputElement.setAttribute("aria-haspopup","false"),this.treeContainer.style({height:(this.options.minItemsToShow?22*this.options.minItemsToShow:0)+"px"}),this.progressBar.stop().getContainer().hide(),this.tree.isDOMFocused()?this.tree.DOMBlur():this.inputBox.hasFocus()&&this.inputBox.blur(),o===C.ELEMENT_SELECTED?this.callbacks.onOk():this.callbacks.onCancel(),this.callbacks.onHide&&this.callbacks.onHide(o)}},h.prototype.getQuickNavigateConfiguration=function(){return this.quickNavigateConfiguration},h.prototype.setPlaceHolder=function(t){this.inputBox&&this.inputBox.setPlaceHolder(t)},h.prototype.setValue=function(o,e){if(this.inputBox)if(this.inputBox.value=o,Array.isArray(e)){var t=e[0],r=e[1];this.inputBox.select({start:t,end:r})}else this.inputBox.select()},h.prototype.setPassword=function(t){this.inputBox&&(this.inputBox.inputElement.type=t?"password":"text")},h.prototype.setInput=function(o,e,t){this.isVisible()&&(this.getInput()&&this.onInputChanging(),this.setInputAndLayout(o,e),this.inputBox&&this.inputBox.setAriaLabel(t||v))},h.prototype.onInputChanging=function(){var t=this;this.inputChangingTimeoutHandle&&(clearTimeout(this.inputChangingTimeoutHandle),this.inputChangingTimeoutHandle=null),this.builder.addClass("content-changing"),this.inputChangingTimeoutHandle=setTimeout(function(){t.builder.removeClass("content-changing")},500)},h.prototype.getInput=function(){return this.tree.getInput()},h.prototype.getTree=function(){return this.tree},h.prototype.showInputDecoration=function(t){this.inputBox&&this.inputBox.showMessage({type:t===s.default.Info?r.MessageType.INFO:t===s.default.Warning?r.MessageType.WARNING:r.MessageType.ERROR,content:""})},h.prototype.clearInputDecoration=function(){this.inputBox&&this.inputBox.hideMessage()},h.prototype.focus=function(){this.isVisible()&&this.inputBox&&this.inputBox.focus()},h.prototype.accept=function(){if(this.isVisible()){var t=this.tree.getFocus();t&&this.elementSelected(t)}},h.prototype.getProgressBar=function(){return this.progressBar},h.prototype.getInputBox=function(){return this.inputBox},h.prototype.setExtraClass=function(o){var e=this.builder.getProperty("extra-class");e&&this.builder.removeClass(e),o?(this.builder.addClass(o),this.builder.setProperty("extra-class",o)):e&&this.builder.removeProperty("extra-class")},h.prototype.isVisible=function(){return this.visible},h.prototype.layout=function(e){this.layoutDimensions=e;var t=q(.62*this.layoutDimensions.width,h.MAX_WIDTH);this.builder&&(this.builder.style({width:t+"px",marginLeft:"-"+t/2+"px"}),this.inputContainer.style({width:t-12+"px"}))},h.prototype.gainingFocus=function(){this.isLoosingFocus=!1},h.prototype.loosingFocus=function(o){var e=this;if(this.isVisible()){var t=o.relatedTarget;!this.quickNavigateConfiguration&&u.isAncestor(t,this.builder.getHTMLElement())||(this.isLoosingFocus=!0,I.TPromise.timeout(0).then(function(){e.isLoosingFocus&&(e.isDisposed||e.callbacks.onFocusLost&&e.callbacks.onFocusLost()||e.hide(C.FOCUS_LOST))}))}},h.prototype.dispose=function(){this.isDisposed=!0,this.toUnbind=g.dispose(this.toUnbind),this.progressBar.dispose(),this.inputBox.dispose(),this.tree.dispose()},h.MAX_WIDTH=600,h.MAX_ITEMS_HEIGHT=440,h}();e.QuickOpenWidget=S}),define(s[302],n([6,8]),function(o,e){return o.create("vs/editor/browser/widget/diffEditorWidget",e)}),define(s[303],n([6,8]),function(o,e){return o.create("vs/editor/browser/widget/diffReview",e)}),define(s[304],n([6,8]),function(o,e){return o.create("vs/editor/common/config/commonEditorConfig",e)}),define(s[305],n([6,8]),function(o,e){return o.create("vs/editor/common/config/editorOptions",e)}),define(s[49],n([1,0,305,15,48,95]),function(_,e,E,L,n,t){"use strict";function x(o,n){return"string"==typeof o?"line"===o?p.Line:"block"===o?p.Block:"underline"===o?p.Underline:"line-thin"===o?p.LineThin:"block-outline"===o?p.BlockOutline:"underline-thin"===o?p.UnderlineThin:p.Line:n}function N(o,n){return void 0===o?n:"false"!==o&&!!o}function a(o,n){return"string"==typeof o?o:n}function u(o,i,t){return"string"==typeof o?-1===t.indexOf(o)?i:o:i}function T(r,e,t,n){var i;return void 0===r?i=e:(i=parseInt(r,10),isNaN(i)&&(i=e)),i=G(t,i),0|(i=q(n,i))}function s(o,e){var t=parseFloat(o);return isNaN(t)&&(t=e),t}function i(n,i){return"string"==typeof n?"indent"===n?o.Indent:"same"===n?o.Same:o.None:i}function d(o,n){if("string"!=typeof o)return n;return"blink"===o?l.Blink:"smooth"===o?l.Smooth:"phase"===o?l.Phase:"expand"===o?l.Expand:"visible"===o||"solid"===o?l.Solid:l.Blink}function r(o,i){if("string"!=typeof o)return i;return"hidden"===o?n.ScrollbarVisibility.Hidden:"visible"===o?n.ScrollbarVisibility.Visible:n.ScrollbarVisibility.Auto}Object.defineProperty(e,"__esModule",{value:!0});var R;!function(t){t[t.None=0]="None",t[t.Small=1]="Small",t[t.Large=2]="Large",t[t.SmallBlocks=3]="SmallBlocks",t[t.LargeBlocks=4]="LargeBlocks"}(R=e.RenderMinimap||(e.RenderMinimap={}));var o;!function(t){t[t.None=0]="None",t[t.Same=1]="Same",t[t.Indent=2]="Indent"}(o=e.WrappingIndent||(e.WrappingIndent={}));var l;!function(t){t[t.Hidden=0]="Hidden",t[t.Blink=1]="Blink",t[t.Smooth=2]="Smooth",t[t.Phase=3]="Phase",t[t.Expand=4]="Expand",t[t.Solid=5]="Solid"}(l=e.TextEditorCursorBlinkingStyle||(e.TextEditorCursorBlinkingStyle={})),e.blinkingStyleToString=function(t){if(t===l.Blink)return"blink";if(t===l.Expand)return"expand";if(t===l.Phase)return"phase";if(t===l.Smooth)return"smooth";if(t===l.Solid)return"solid";throw new Error("blinkingStyleToString: Unknown blinkingStyle")};var p;!function(t){t[t.Line=1]="Line",t[t.Block=2]="Block",t[t.Underline=3]="Underline",t[t.LineThin=4]="LineThin",t[t.BlockOutline=5]="BlockOutline",t[t.UnderlineThin=6]="UnderlineThin"}(p=e.TextEditorCursorStyle||(e.TextEditorCursorStyle={})),e.cursorStyleToString=function(t){if(t===p.Line)return"line";if(t===p.Block)return"block";if(t===p.Underline)return"underline";if(t===p.LineThin)return"line-thin";if(t===p.BlockOutline)return"block-outline";if(t===p.UnderlineThin)return"underline-thin";throw new Error("cursorStyleToString: Unknown cursorStyle")};var c=function(){function o(t){this.canUseLayerHinting=t.canUseLayerHinting,this.pixelRatio=t.pixelRatio,this.editorClassName=t.editorClassName,this.lineHeight=0|t.lineHeight,this.readOnly=t.readOnly,this.accessibilitySupport=t.accessibilitySupport,this.multiCursorModifier=t.multiCursorModifier,this.wordSeparators=t.wordSeparators,this.autoClosingBrackets=t.autoClosingBrackets,this.autoIndent=t.autoIndent,this.useTabStops=t.useTabStops,this.tabFocusMode=t.tabFocusMode,this.dragAndDrop=t.dragAndDrop,this.emptySelectionClipboard=t.emptySelectionClipboard,this.layoutInfo=t.layoutInfo,this.fontInfo=t.fontInfo,this.viewInfo=t.viewInfo,this.wrappingInfo=t.wrappingInfo,this.contribInfo=t.contribInfo}return o.prototype.equals=function(e){return this.canUseLayerHinting===e.canUseLayerHinting&&this.pixelRatio===e.pixelRatio&&this.editorClassName===e.editorClassName&&this.lineHeight===e.lineHeight&&this.readOnly===e.readOnly&&this.accessibilitySupport===e.accessibilitySupport&&this.multiCursorModifier===e.multiCursorModifier&&this.wordSeparators===e.wordSeparators&&this.autoClosingBrackets===e.autoClosingBrackets&&this.autoIndent===e.autoIndent&&this.useTabStops===e.useTabStops&&this.tabFocusMode===e.tabFocusMode&&this.dragAndDrop===e.dragAndDrop&&this.emptySelectionClipboard===e.emptySelectionClipboard&&o._equalsLayoutInfo(this.layoutInfo,e.layoutInfo)&&this.fontInfo.equals(e.fontInfo)&&o._equalsViewOptions(this.viewInfo,e.viewInfo)&&o._equalsWrappingInfo(this.wrappingInfo,e.wrappingInfo)&&o._equalsContribOptions(this.contribInfo,e.contribInfo)},o.prototype.createChangeEvent=function(e){return{canUseLayerHinting:this.canUseLayerHinting!==e.canUseLayerHinting,pixelRatio:this.pixelRatio!==e.pixelRatio,editorClassName:this.editorClassName!==e.editorClassName,lineHeight:this.lineHeight!==e.lineHeight,readOnly:this.readOnly!==e.readOnly,accessibilitySupport:this.accessibilitySupport!==e.accessibilitySupport,multiCursorModifier:this.multiCursorModifier!==e.multiCursorModifier,wordSeparators:this.wordSeparators!==e.wordSeparators,autoClosingBrackets:this.autoClosingBrackets!==e.autoClosingBrackets,autoIndent:this.autoIndent!==e.autoIndent,useTabStops:this.useTabStops!==e.useTabStops,tabFocusMode:this.tabFocusMode!==e.tabFocusMode,dragAndDrop:this.dragAndDrop!==e.dragAndDrop,emptySelectionClipboard:this.emptySelectionClipboard!==e.emptySelectionClipboard,layoutInfo:!o._equalsLayoutInfo(this.layoutInfo,e.layoutInfo),fontInfo:!this.fontInfo.equals(e.fontInfo),viewInfo:!o._equalsViewOptions(this.viewInfo,e.viewInfo),wrappingInfo:!o._equalsWrappingInfo(this.wrappingInfo,e.wrappingInfo),contribInfo:!o._equalsContribOptions(this.contribInfo,e.contribInfo)}},o._equalsLayoutInfo=function(o,e){return o.width===e.width&&o.height===e.height&&o.glyphMarginLeft===e.glyphMarginLeft&&o.glyphMarginWidth===e.glyphMarginWidth&&o.glyphMarginHeight===e.glyphMarginHeight&&o.lineNumbersLeft===e.lineNumbersLeft&&o.lineNumbersWidth===e.lineNumbersWidth&&o.lineNumbersHeight===e.lineNumbersHeight&&o.decorationsLeft===e.decorationsLeft&&o.decorationsWidth===e.decorationsWidth&&o.decorationsHeight===e.decorationsHeight&&o.contentLeft===e.contentLeft&&o.contentWidth===e.contentWidth&&o.contentHeight===e.contentHeight&&o.renderMinimap===e.renderMinimap&&o.minimapWidth===e.minimapWidth&&o.viewportColumn===e.viewportColumn&&o.verticalScrollbarWidth===e.verticalScrollbarWidth&&o.horizontalScrollbarHeight===e.horizontalScrollbarHeight&&this._equalsOverviewRuler(o.overviewRuler,e.overviewRuler)},o._equalsOverviewRuler=function(o,e){return o.width===e.width&&o.height===e.height&&o.top===e.top&&o.right===e.right},o._equalsViewOptions=function(o,e){return o.extraEditorClassName===e.extraEditorClassName&&o.disableMonospaceOptimizations===e.disableMonospaceOptimizations&&this._equalsNumberArrays(o.rulers,e.rulers)&&o.ariaLabel===e.ariaLabel&&o.renderLineNumbers===e.renderLineNumbers&&o.renderCustomLineNumbers===e.renderCustomLineNumbers&&o.renderRelativeLineNumbers===e.renderRelativeLineNumbers&&o.selectOnLineNumbers===e.selectOnLineNumbers&&o.glyphMargin===e.glyphMargin&&o.revealHorizontalRightPadding===e.revealHorizontalRightPadding&&o.roundedSelection===e.roundedSelection&&o.overviewRulerLanes===e.overviewRulerLanes&&o.overviewRulerBorder===e.overviewRulerBorder&&o.cursorBlinking===e.cursorBlinking&&o.mouseWheelZoom===e.mouseWheelZoom&&o.cursorStyle===e.cursorStyle&&o.hideCursorInOverviewRuler===e.hideCursorInOverviewRuler&&o.scrollBeyondLastLine===e.scrollBeyondLastLine&&o.stopRenderingLineAfter===e.stopRenderingLineAfter&&o.renderWhitespace===e.renderWhitespace&&o.renderControlCharacters===e.renderControlCharacters&&o.fontLigatures===e.fontLigatures&&o.renderIndentGuides===e.renderIndentGuides&&o.renderLineHighlight===e.renderLineHighlight&&this._equalsScrollbarOptions(o.scrollbar,e.scrollbar)&&this._equalsMinimapOptions(o.minimap,e.minimap)&&o.fixedOverflowWidgets===e.fixedOverflowWidgets},o._equalsScrollbarOptions=function(o,e){return o.arrowSize===e.arrowSize&&o.vertical===e.vertical&&o.horizontal===e.horizontal&&o.useShadows===e.useShadows&&o.verticalHasArrows===e.verticalHasArrows&&o.horizontalHasArrows===e.horizontalHasArrows&&o.handleMouseWheel===e.handleMouseWheel&&o.horizontalScrollbarSize===e.horizontalScrollbarSize&&o.horizontalSliderSize===e.horizontalSliderSize&&o.verticalScrollbarSize===e.verticalScrollbarSize&&o.verticalSliderSize===e.verticalSliderSize&&o.mouseWheelScrollSensitivity===e.mouseWheelScrollSensitivity},o._equalsMinimapOptions=function(o,e){return o.enabled===e.enabled&&o.showSlider===e.showSlider&&o.renderCharacters===e.renderCharacters&&o.maxColumn===e.maxColumn},o._equalsNumberArrays=function(o,e){if(o.length!==e.length)return!1;for(var t=0;t<o.length;t++)if(o[t]!==e[t])return!1;return!0},o._equalFindOptions=function(o,e){return o.seedSearchStringFromSelection===e.seedSearchStringFromSelection&&o.autoFindInSelection===e.autoFindInSelection},o._equalsWrappingInfo=function(o,e){return o.inDiffEditor===e.inDiffEditor&&o.isDominatedByLongLines===e.isDominatedByLongLines&&o.isWordWrapMinified===e.isWordWrapMinified&&o.isViewportWrapping===e.isViewportWrapping&&o.wrappingColumn===e.wrappingColumn&&o.wrappingIndent===e.wrappingIndent&&o.wordWrapBreakBeforeCharacters===e.wordWrapBreakBeforeCharacters&&o.wordWrapBreakAfterCharacters===e.wordWrapBreakAfterCharacters&&o.wordWrapBreakObtrusiveCharacters===e.wordWrapBreakObtrusiveCharacters},o._equalsContribOptions=function(e,t){return e.selectionClipboard===t.selectionClipboard&&e.hover===t.hover&&e.links===t.links&&e.contextmenu===t.contextmenu&&o._equalsQuickSuggestions(e.quickSuggestions,t.quickSuggestions)&&e.quickSuggestionsDelay===t.quickSuggestionsDelay&&e.parameterHints===t.parameterHints&&e.iconsInSuggestions===t.iconsInSuggestions&&e.formatOnType===t.formatOnType&&e.formatOnPaste===t.formatOnPaste&&e.suggestOnTriggerCharacters===t.suggestOnTriggerCharacters&&e.acceptSuggestionOnEnter===t.acceptSuggestionOnEnter&&e.acceptSuggestionOnCommitCharacter===t.acceptSuggestionOnCommitCharacter&&e.snippetSuggestions===t.snippetSuggestions&&e.wordBasedSuggestions===t.wordBasedSuggestions&&e.suggestFontSize===t.suggestFontSize&&e.suggestLineHeight===t.suggestLineHeight&&e.selectionHighlight===t.selectionHighlight&&e.occurrencesHighlight===t.occurrencesHighlight&&e.codeLens===t.codeLens&&e.folding===t.folding&&e.showFoldingControls===t.showFoldingControls&&e.matchBrackets===t.matchBrackets&&this._equalFindOptions(e.find,t.find)},o._equalsQuickSuggestions=function(o,n){return"boolean"==typeof o?"boolean"==typeof n&&o===n:"boolean"!=typeof n&&o.comments===n.comments&&o.other===n.other&&o.strings===n.strings},o}();e.InternalEditorOptions=c;var g=function(){function t(){}return t.validate=function(l,e){var t=l.wordWrap;!0===t?t="on":!1===t&&(t="off"),t=u(t,e.wordWrap,["off","on","wordWrapColumn","bounded"]);var p=this._sanitizeViewInfo(l,e.viewInfo),c=this._sanitizeContribInfo(l,e.contribInfo),g;"string"==typeof l.multiCursorModifier&&(g="ctrlCmd"===l.multiCursorModifier?L.isMacintosh?"metaKey":"ctrlKey":"altKey");var o=u(g,e.multiCursorModifier,["altKey","metaKey","ctrlKey"]);return{inDiffEditor:N(l.inDiffEditor,e.inDiffEditor),wordSeparators:a(l.wordSeparators,e.wordSeparators),lineNumbersMinChars:T(l.lineNumbersMinChars,e.lineNumbersMinChars,1,10),lineDecorationsWidth:void 0===l.lineDecorationsWidth?e.lineDecorationsWidth:l.lineDecorationsWidth,readOnly:N(l.readOnly,e.readOnly),mouseStyle:u(l.mouseStyle,e.mouseStyle,["text","default","copy"]),disableLayerHinting:N(l.disableLayerHinting,e.disableLayerHinting),automaticLayout:N(l.automaticLayout,e.automaticLayout),wordWrap:t,wordWrapColumn:T(l.wordWrapColumn,e.wordWrapColumn,1,1073741824),wordWrapMinified:N(l.wordWrapMinified,e.wordWrapMinified),wrappingIndent:i(l.wrappingIndent,e.wrappingIndent),wordWrapBreakBeforeCharacters:a(l.wordWrapBreakBeforeCharacters,e.wordWrapBreakBeforeCharacters),wordWrapBreakAfterCharacters:a(l.wordWrapBreakAfterCharacters,e.wordWrapBreakAfterCharacters),wordWrapBreakObtrusiveCharacters:a(l.wordWrapBreakObtrusiveCharacters,e.wordWrapBreakObtrusiveCharacters),autoClosingBrackets:N(l.autoClosingBrackets,e.autoClosingBrackets),autoIndent:N(l.autoIndent,e.autoIndent),dragAndDrop:N(l.dragAndDrop,e.dragAndDrop),emptySelectionClipboard:N(l.emptySelectionClipboard,e.emptySelectionClipboard),useTabStops:N(l.useTabStops,e.useTabStops),multiCursorModifier:o,accessibilitySupport:u(l.accessibilitySupport,e.accessibilitySupport,["auto","on","off"]),viewInfo:p,contribInfo:c}},t._sanitizeScrollbarOpts=function(a,s,t){if("object"!=typeof a)return s;var d=T(a.horizontalScrollbarSize,s.horizontalScrollbarSize,0,1e3),l=T(a.verticalScrollbarSize,s.verticalScrollbarSize,0,1e3);return{vertical:r(a.vertical,s.vertical),horizontal:r(a.horizontal,s.horizontal),arrowSize:T(a.arrowSize,s.arrowSize,0,1e3),useShadows:N(a.useShadows,s.useShadows),verticalHasArrows:N(a.verticalHasArrows,s.verticalHasArrows),horizontalHasArrows:N(a.horizontalHasArrows,s.horizontalHasArrows),horizontalScrollbarSize:d,horizontalSliderSize:T(a.horizontalSliderSize,d,0,1e3),verticalScrollbarSize:l,verticalSliderSize:T(a.verticalSliderSize,l,0,1e3),handleMouseWheel:N(a.handleMouseWheel,s.handleMouseWheel),mouseWheelScrollSensitivity:t}},t._sanitizeMinimapOpts=function(o,n){return"object"==typeof o?{enabled:N(o.enabled,n.enabled),showSlider:u(o.showSlider,n.showSlider,["always","mouseover"]),renderCharacters:N(o.renderCharacters,n.renderCharacters),maxColumn:T(o.maxColumn,n.maxColumn,1,1e4)}:n},t._santizeFindOpts=function(o,n){return"object"==typeof o?{seedSearchStringFromSelection:N(o.seedSearchStringFromSelection,n.seedSearchStringFromSelection),autoFindInSelection:N(o.autoFindInSelection,n.autoFindInSelection)}:n},t._sanitizeViewInfo=function(l,e){var t=[];if(Array.isArray(l.rulers)){for(var p=0,i=l.rulers.length;p<i;p++)t.push(T(l.rulers[p],0,0,1e4));t.sort()}var o=e.renderLineNumbers,c=e.renderCustomLineNumbers,S=e.renderRelativeLineNumbers;if(void 0!==l.lineNumbers){var E=l.lineNumbers;!0===E?E="on":!1===E&&(E="off"),"function"==typeof E?(o=!0,c=E,S=!1):"relative"===E?(o=!0,c=null,S=!0):"on"===E?(o=!0,c=null,S=!1):(o=!1,c=null,S=!1)}var L=N(l.fontLigatures,e.fontLigatures),I=N(l.disableMonospaceOptimizations,e.disableMonospaceOptimizations)||L,M=l.renderWhitespace;!0===M?M="boundary":!1===M&&(M="none"),M=u(l.renderWhitespace,e.renderWhitespace,["none","boundary","all"]);var k=l.renderLineHighlight;!0===k?k="line":!1===k&&(k="none"),k=u(l.renderLineHighlight,e.renderLineHighlight,["none","gutter","line","all"]);var D=s(l.mouseWheelScrollSensitivity,e.scrollbar.mouseWheelScrollSensitivity),C=this._sanitizeScrollbarOpts(l.scrollbar,e.scrollbar,D),R=this._sanitizeMinimapOpts(l.minimap,e.minimap);return{extraEditorClassName:a(l.extraEditorClassName,e.extraEditorClassName),disableMonospaceOptimizations:I,rulers:t,ariaLabel:a(l.ariaLabel,e.ariaLabel),renderLineNumbers:o,renderCustomLineNumbers:c,renderRelativeLineNumbers:S,selectOnLineNumbers:N(l.selectOnLineNumbers,e.selectOnLineNumbers),glyphMargin:N(l.glyphMargin,e.glyphMargin),revealHorizontalRightPadding:T(l.revealHorizontalRightPadding,e.revealHorizontalRightPadding,0,1e3),roundedSelection:N(l.roundedSelection,e.roundedSelection),overviewRulerLanes:T(l.overviewRulerLanes,e.overviewRulerLanes,0,3),overviewRulerBorder:N(l.overviewRulerBorder,e.overviewRulerBorder),cursorBlinking:d(l.cursorBlinking,e.cursorBlinking),mouseWheelZoom:N(l.mouseWheelZoom,e.mouseWheelZoom),cursorStyle:x(l.cursorStyle,e.cursorStyle),hideCursorInOverviewRuler:N(l.hideCursorInOverviewRuler,e.hideCursorInOverviewRuler),scrollBeyondLastLine:N(l.scrollBeyondLastLine,e.scrollBeyondLastLine),stopRenderingLineAfter:T(l.stopRenderingLineAfter,e.stopRenderingLineAfter,-1,1073741824),renderWhitespace:M,renderControlCharacters:N(l.renderControlCharacters,e.renderControlCharacters),fontLigatures:L,renderIndentGuides:N(l.renderIndentGuides,e.renderIndentGuides),renderLineHighlight:k,scrollbar:C,minimap:R,fixedOverflowWidgets:N(l.fixedOverflowWidgets,e.fixedOverflowWidgets)}},t._sanitizeContribInfo=function(o,e){var t="object"==typeof o.quickSuggestions?h({other:!0},o.quickSuggestions):N(o.quickSuggestions,e.quickSuggestions);var r=this._santizeFindOpts(o.find,e.find);return{selectionClipboard:N(o.selectionClipboard,e.selectionClipboard),hover:N(o.hover,e.hover),links:N(o.links,e.links),contextmenu:N(o.contextmenu,e.contextmenu),quickSuggestions:t,quickSuggestionsDelay:T(o.quickSuggestionsDelay,e.quickSuggestionsDelay,-1073741824,1073741824),parameterHints:N(o.parameterHints,e.parameterHints),iconsInSuggestions:N(o.iconsInSuggestions,e.iconsInSuggestions),formatOnType:N(o.formatOnType,e.formatOnType),formatOnPaste:N(o.formatOnPaste,e.formatOnPaste),suggestOnTriggerCharacters:N(o.suggestOnTriggerCharacters,e.suggestOnTriggerCharacters),acceptSuggestionOnEnter:u(o.acceptSuggestionOnEnter,e.acceptSuggestionOnEnter,["on","smart","off"]),acceptSuggestionOnCommitCharacter:N(o.acceptSuggestionOnCommitCharacter,e.acceptSuggestionOnCommitCharacter),snippetSuggestions:u(o.snippetSuggestions,e.snippetSuggestions,["top","bottom","inline","none"]),wordBasedSuggestions:N(o.wordBasedSuggestions,e.wordBasedSuggestions),suggestFontSize:T(o.suggestFontSize,e.suggestFontSize,0,1e3),suggestLineHeight:T(o.suggestLineHeight,e.suggestLineHeight,0,1e3),selectionHighlight:N(o.selectionHighlight,e.selectionHighlight),occurrencesHighlight:N(o.occurrencesHighlight,e.occurrencesHighlight),codeLens:N(o.codeLens,e.codeLens)&&N(o.referenceInfos,!0),folding:N(o.folding,e.folding),showFoldingControls:u(o.showFoldingControls,e.showFoldingControls,["always","mouseover"]),matchBrackets:N(o.matchBrackets,e.matchBrackets),find:r}},t}();e.EditorOptionsValidator=g;var m=function(){function t(){}return t._tweakValidatedOptions=function(o,e){var t=2===e;return{inDiffEditor:o.inDiffEditor,wordSeparators:o.wordSeparators,lineNumbersMinChars:o.lineNumbersMinChars,lineDecorationsWidth:o.lineDecorationsWidth,readOnly:o.readOnly,mouseStyle:o.mouseStyle,disableLayerHinting:o.disableLayerHinting,automaticLayout:o.automaticLayout,wordWrap:o.wordWrap,wordWrapColumn:o.wordWrapColumn,wordWrapMinified:o.wordWrapMinified,wrappingIndent:o.wrappingIndent,wordWrapBreakBeforeCharacters:o.wordWrapBreakBeforeCharacters,wordWrapBreakAfterCharacters:o.wordWrapBreakAfterCharacters,wordWrapBreakObtrusiveCharacters:o.wordWrapBreakObtrusiveCharacters,autoClosingBrackets:o.autoClosingBrackets,autoIndent:o.autoIndent,dragAndDrop:o.dragAndDrop,emptySelectionClipboard:o.emptySelectionClipboard,useTabStops:o.useTabStops,multiCursorModifier:o.multiCursorModifier,accessibilitySupport:o.accessibilitySupport,viewInfo:{extraEditorClassName:o.viewInfo.extraEditorClassName,disableMonospaceOptimizations:o.viewInfo.disableMonospaceOptimizations,rulers:o.viewInfo.rulers,ariaLabel:1===e?E.localize(0,null):o.viewInfo.ariaLabel,renderLineNumbers:o.viewInfo.renderLineNumbers,renderCustomLineNumbers:o.viewInfo.renderCustomLineNumbers,renderRelativeLineNumbers:o.viewInfo.renderRelativeLineNumbers,selectOnLineNumbers:o.viewInfo.selectOnLineNumbers,glyphMargin:o.viewInfo.glyphMargin,revealHorizontalRightPadding:o.viewInfo.revealHorizontalRightPadding,roundedSelection:!t&&o.viewInfo.roundedSelection,overviewRulerLanes:o.viewInfo.overviewRulerLanes,overviewRulerBorder:o.viewInfo.overviewRulerBorder,cursorBlinking:o.viewInfo.cursorBlinking,mouseWheelZoom:o.viewInfo.mouseWheelZoom,cursorStyle:o.viewInfo.cursorStyle,hideCursorInOverviewRuler:o.viewInfo.hideCursorInOverviewRuler,scrollBeyondLastLine:o.viewInfo.scrollBeyondLastLine,stopRenderingLineAfter:o.viewInfo.stopRenderingLineAfter,renderWhitespace:t?"none":o.viewInfo.renderWhitespace,renderControlCharacters:!t&&o.viewInfo.renderControlCharacters,fontLigatures:!t&&o.viewInfo.fontLigatures,renderIndentGuides:!t&&o.viewInfo.renderIndentGuides,renderLineHighlight:t?"none":o.viewInfo.renderLineHighlight,scrollbar:o.viewInfo.scrollbar,minimap:{enabled:!t&&o.viewInfo.minimap.enabled,renderCharacters:o.viewInfo.minimap.renderCharacters,showSlider:o.viewInfo.minimap.showSlider,maxColumn:o.viewInfo.minimap.maxColumn},fixedOverflowWidgets:o.viewInfo.fixedOverflowWidgets},contribInfo:{selectionClipboard:o.contribInfo.selectionClipboard,hover:o.contribInfo.hover,links:!t&&o.contribInfo.links,contextmenu:o.contribInfo.contextmenu,quickSuggestions:o.contribInfo.quickSuggestions,quickSuggestionsDelay:o.contribInfo.quickSuggestionsDelay,parameterHints:o.contribInfo.parameterHints,iconsInSuggestions:o.contribInfo.iconsInSuggestions,formatOnType:o.contribInfo.formatOnType,formatOnPaste:o.contribInfo.formatOnPaste,suggestOnTriggerCharacters:o.contribInfo.suggestOnTriggerCharacters,acceptSuggestionOnEnter:o.contribInfo.acceptSuggestionOnEnter,acceptSuggestionOnCommitCharacter:o.contribInfo.acceptSuggestionOnCommitCharacter,snippetSuggestions:o.contribInfo.snippetSuggestions,wordBasedSuggestions:o.contribInfo.wordBasedSuggestions,suggestFontSize:o.contribInfo.suggestFontSize,suggestLineHeight:o.contribInfo.suggestLineHeight,selectionHighlight:!t&&o.contribInfo.selectionHighlight,occurrencesHighlight:!t&&o.contribInfo.occurrencesHighlight,codeLens:!t&&o.contribInfo.codeLens,folding:!t&&o.contribInfo.folding,showFoldingControls:o.contribInfo.showFoldingControls,matchBrackets:!t&&o.contribInfo.matchBrackets,find:o.contribInfo.find}}},t.createInternalEditorOptions=function(p,e){var t="auto"===e.accessibilitySupport?p.accessibilitySupport:"on"===e.accessibilitySupport?2:1;var g=this._tweakValidatedOptions(e,t),o;o="string"==typeof g.lineDecorationsWidth&&/^\d+(\.\d+)?ch$/.test(g.lineDecorationsWidth)?parseFloat(g.lineDecorationsWidth.substr(0,g.lineDecorationsWidth.length-2))*p.fontInfo.typicalHalfwidthCharacterWidth:T(g.lineDecorationsWidth,0,0,1e3),g.contribInfo.folding&&(o+=16);var m=f.compute({outerWidth:p.outerWidth,outerHeight:p.outerHeight,showGlyphMargin:g.viewInfo.glyphMargin,lineHeight:p.fontInfo.lineHeight,showLineNumbers:g.viewInfo.renderLineNumbers,lineNumbersMinChars:g.lineNumbersMinChars,lineNumbersDigitCount:p.lineNumbersDigitCount,lineDecorationsWidth:o,typicalHalfwidthCharacterWidth:p.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:p.fontInfo.maxDigitWidth,verticalScrollbarWidth:g.viewInfo.scrollbar.verticalScrollbarSize,horizontalScrollbarHeight:g.viewInfo.scrollbar.horizontalScrollbarSize,scrollbarArrowSize:g.viewInfo.scrollbar.arrowSize,verticalScrollbarHasArrows:g.viewInfo.scrollbar.verticalHasArrows,minimap:g.viewInfo.minimap.enabled,minimapRenderCharacters:g.viewInfo.minimap.renderCharacters,minimapMaxColumn:g.viewInfo.minimap.maxColumn,pixelRatio:p.pixelRatio}),_=null,s=g.wordWrap,a=g.wordWrapColumn,y=g.wordWrapMinified;_=2===t?{isWordWrapMinified:!1,isViewportWrapping:!1,wrappingColumn:-1}:y&&p.isDominatedByLongLines?{isWordWrapMinified:!0,isViewportWrapping:!0,wrappingColumn:G(1,m.viewportColumn)}:"on"===s?{isWordWrapMinified:!1,isViewportWrapping:!0,wrappingColumn:G(1,m.viewportColumn)}:"bounded"===s?{isWordWrapMinified:!1,isViewportWrapping:!0,wrappingColumn:q(G(1,m.viewportColumn),a)}:"wordWrapColumn"===s?{isWordWrapMinified:!1,isViewportWrapping:!1,wrappingColumn:a}:{isWordWrapMinified:!1,isViewportWrapping:!1,wrappingColumn:-1};var l={inDiffEditor:g.inDiffEditor,isDominatedByLongLines:p.isDominatedByLongLines,isWordWrapMinified:_.isWordWrapMinified,isViewportWrapping:_.isViewportWrapping,wrappingColumn:_.wrappingColumn,wrappingIndent:g.wrappingIndent,wordWrapBreakBeforeCharacters:g.wordWrapBreakBeforeCharacters,wordWrapBreakAfterCharacters:g.wordWrapBreakAfterCharacters,wordWrapBreakObtrusiveCharacters:g.wordWrapBreakObtrusiveCharacters},C="monaco-editor";return g.viewInfo.extraEditorClassName&&(C+=" "+g.viewInfo.extraEditorClassName),p.extraEditorClassName&&(C+=" "+p.extraEditorClassName),g.viewInfo.fontLigatures&&(C+=" enable-ligatures"),"default"===g.mouseStyle?C+=" mouse-default":"copy"===g.mouseStyle&&(C+=" mouse-copy"),new c({canUseLayerHinting:!g.disableLayerHinting,pixelRatio:p.pixelRatio,editorClassName:C,lineHeight:p.fontInfo.lineHeight,readOnly:g.readOnly,accessibilitySupport:t,multiCursorModifier:g.multiCursorModifier,wordSeparators:g.wordSeparators,autoClosingBrackets:g.autoClosingBrackets,autoIndent:g.autoIndent,useTabStops:g.useTabStops,tabFocusMode:!!g.readOnly||p.tabFocusMode,dragAndDrop:g.dragAndDrop,emptySelectionClipboard:g.emptySelectionClipboard&&p.emptySelectionClipboard,layoutInfo:m,fontInfo:p.fontInfo,viewInfo:g.viewInfo,wrappingInfo:l,contribInfo:g.contribInfo})},t}();e.InternalEditorOptionsFactory=m;var f=function(){function t(){}return t.compute=function(g){var e=0|g.outerWidth,P=0|g.outerHeight,O=g.showGlyphMargin,i=0|g.lineHeight,o=g.showLineNumbers,r=0|g.lineNumbersMinChars,s=0|g.lineNumbersDigitCount,a=0|g.lineDecorationsWidth,A=g.typicalHalfwidthCharacterWidth,l=g.maxDigitWidth,c=0|g.verticalScrollbarWidth,F=g.verticalScrollbarHasArrows,h=0|g.scrollbarArrowSize,p=0|g.horizontalScrollbarHeight,W=g.minimap,m=g.minimapRenderCharacters,v=0|g.minimapMaxColumn,_=g.pixelRatio,y=0;if(o){var B=G(s,r);y=w(B*l)}var b=0;O&&(b=i);var V=0+b,H=V+y,z=e-b-y-a,T,K,U;if(W){var q;2<=_?(T=m?R.Large:R.LargeBlocks,q=2/_):(T=m?R.Small:R.SmallBlocks,q=1/_),(K=G(0,M((z-c)*q/(A+q))))/q>v&&(K=M(v*q)),U=z-K}else K=0,T=R.None,U=z;var k=G(1,M((U-c)/A)),Y=F?h:0;return{width:e,height:P,glyphMarginLeft:0,glyphMarginWidth:b,glyphMarginHeight:P,lineNumbersLeft:V,lineNumbersWidth:y,lineNumbersHeight:P,decorationsLeft:H,decorationsWidth:a,decorationsHeight:P,contentLeft:H+a,contentWidth:U,contentHeight:P,renderMinimap:T,minimapWidth:K,viewportColumn:k,verticalScrollbarWidth:c,horizontalScrollbarHeight:p,overviewRuler:{top:Y,width:c,height:P-2*Y,right:0}}},t}();e.EditorLayoutProvider=f,e.EDITOR_FONT_DEFAULTS={fontFamily:L.isMacintosh?"Menlo, Monaco, 'Courier New', monospace":L.isLinux?"'Droid Sans Mono', 'Courier New', monospace, 'Droid Sans Fallback'":"Consolas, 'Courier New', monospace",fontWeight:"normal",fontSize:L.isMacintosh?12:14,lineHeight:0,letterSpacing:0},e.EDITOR_MODEL_DEFAULTS={tabSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0},e.EDITOR_DEFAULTS={inDiffEditor:!1,wordSeparators:t.USUAL_WORD_SEPARATORS,lineNumbersMinChars:5,lineDecorationsWidth:10,readOnly:!1,mouseStyle:"text",disableLayerHinting:!1,automaticLayout:!1,wordWrap:"off",wordWrapColumn:80,wordWrapMinified:!0,wrappingIndent:o.Same,wordWrapBreakBeforeCharacters:"([{\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B\uFF62\xA3\xA5\uFF04\uFFE1\uFFE5+\uFF0B",wordWrapBreakAfterCharacters:" \t})]?|&,;\xA2\xB0\u2032\u2033\u2030\u2103\u3001\u3002\uFF61\uFF64\uFFE0\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF01\uFF05\u30FB\uFF65\u309D\u309E\u30FD\u30FE\u30FC\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u3095\u3096\u31F0\u31F1\u31F2\u31F3\u31F4\u31F5\u31F6\u31F7\u31F8\u31F9\u31FA\u31FB\u31FC\u31FD\u31FE\u31FF\u3005\u303B\uFF67\uFF68\uFF69\uFF6A\uFF6B\uFF6C\uFF6D\uFF6E\uFF6F\uFF70\u201D\u3009\u300B\u300D\u300F\u3011\u3015\uFF09\uFF3D\uFF5D\uFF63",wordWrapBreakObtrusiveCharacters:".",autoClosingBrackets:!0,autoIndent:!0,dragAndDrop:!0,emptySelectionClipboard:!0,useTabStops:!0,multiCursorModifier:"altKey",accessibilitySupport:"auto",viewInfo:{extraEditorClassName:"",disableMonospaceOptimizations:!1,rulers:[],ariaLabel:E.localize(1,null),renderLineNumbers:!0,renderCustomLineNumbers:null,renderRelativeLineNumbers:!1,selectOnLineNumbers:!0,glyphMargin:!0,revealHorizontalRightPadding:30,roundedSelection:!0,overviewRulerLanes:2,overviewRulerBorder:!0,cursorBlinking:l.Blink,mouseWheelZoom:!1,cursorStyle:p.Line,hideCursorInOverviewRuler:!1,scrollBeyondLastLine:!0,stopRenderingLineAfter:1e4,renderWhitespace:"none",renderControlCharacters:!1,fontLigatures:!1,renderIndentGuides:!0,renderLineHighlight:"line",scrollbar:{vertical:n.ScrollbarVisibility.Auto,horizontal:n.ScrollbarVisibility.Auto,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:10,horizontalSliderSize:10,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,mouseWheelScrollSensitivity:1},minimap:{enabled:!0,showSlider:"mouseover",renderCharacters:!0,maxColumn:120},fixedOverflowWidgets:!1},contribInfo:{selectionClipboard:!0,hover:!0,links:!0,contextmenu:!0,quickSuggestions:{other:!0,comments:!1,strings:!1},quickSuggestionsDelay:10,parameterHints:!0,iconsInSuggestions:!0,formatOnType:!1,formatOnPaste:!1,suggestOnTriggerCharacters:!0,acceptSuggestionOnEnter:"on",acceptSuggestionOnCommitCharacter:!0,snippetSuggestions:"inline",wordBasedSuggestions:!0,suggestFontSize:0,suggestLineHeight:0,selectionHighlight:!0,occurrencesHighlight:!0,codeLens:!0,folding:!0,showFoldingControls:"mouseover",matchBrackets:!0,find:{seedSearchStringFromSelection:!0,autoFindInSelection:!1}}}}),define(s[132],n([1,0,15,135,49]),function(p,e,t,m,i){"use strict";function o(o,i){if("number"==typeof o)return o;var t=parseFloat(o);return isNaN(t)?i:t}function r(o,i){if("number"==typeof o)return w(o);var t=parseInt(o);return isNaN(t)?i:t}function s(o,e,t){return o<e?e:o>t?t:o}function a(o,n){return"string"==typeof o?o:n}Object.defineProperty(e,"__esModule",{value:!0});var u=t.isMacintosh?1.5:1.35,n=function(){function l(t){this.zoomLevel=t.zoomLevel,this.fontFamily=t.fontFamily+"",this.fontWeight=t.fontWeight+"",this.fontSize=t.fontSize,this.lineHeight=0|t.lineHeight,this.letterSpacing=t.letterSpacing}return l.createFromRawSettings=function(e,t){var _=a(e.fontFamily,i.EDITOR_FONT_DEFAULTS.fontFamily),y=a(e.fontWeight,i.EDITOR_FONT_DEFAULTS.fontWeight),C=o(e.fontSize,i.EDITOR_FONT_DEFAULTS.fontSize);0===(C=s(C,0,100))?C=i.EDITOR_FONT_DEFAULTS.fontSize:8>C&&(C=8);var b=r(e.lineHeight,0);0===(b=s(b,0,150))?b=w(u*C):8>b&&(b=8);var v=o(e.letterSpacing,0);v=s(v,-20,20);var S=1+.1*m.EditorZoom.getZoomLevel();return C*=S,b*=S,new l({zoomLevel:t,fontFamily:_,fontWeight:y,fontSize:C,lineHeight:b,letterSpacing:v})},l.prototype.getId=function(){return this.zoomLevel+"-"+this.fontFamily+"-"+this.fontWeight+"-"+this.fontSize+"-"+this.lineHeight+"-"+this.letterSpacing},l}();e.BareFontInfo=n;var l=function(o){function e(e,r){var n=o.call(this,e)||this;return n.isTrusted=r,n.isMonospace=e.isMonospace,n.typicalHalfwidthCharacterWidth=e.typicalHalfwidthCharacterWidth,n.typicalFullwidthCharacterWidth=e.typicalFullwidthCharacterWidth,n.spaceWidth=e.spaceWidth,n.maxDigitWidth=e.maxDigitWidth,n}return Z(e,o),e.prototype.equals=function(t){return this.fontFamily===t.fontFamily&&this.fontWeight===t.fontWeight&&this.fontSize===t.fontSize&&this.lineHeight===t.lineHeight&&this.letterSpacing===t.letterSpacing&&this.typicalHalfwidthCharacterWidth===t.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===t.typicalFullwidthCharacterWidth&&this.spaceWidth===t.spaceWidth&&this.maxDigitWidth===t.maxDigitWidth},e}(n);e.FontInfo=l}),define(s[93],n([1,0,38,9,12,2,20,118,482,49,104,481,158,101,55]),function(m,_,y,C,b,v,S,o,r,t,a,n,d,s,p){"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.LONG_LINE_BOUNDARY=1e4;var e=function(){function c(e,t){this._eventEmitter=new y.OrderGuaranteeEventEmitter;var n=c.resolveCreationData(e,t);this._isTooLargeForTokenization=n.text.length>c.MODEL_TOKENIZATION_LIMIT||n.text.lines.length>c.MANY_MANY_LINES,this._shouldSimplifyMode=this._isTooLargeForTokenization||n.text.length>c.MODEL_SYNC_LIMIT,this._options=new S.TextModelResolvedOptions(n.options),this._constructLines(n.text),this._setVersionId(1),this._isDisposed=!1,this._isDisposing=!1}return c.createFromString=function(e,t){return void 0===t&&(t=c.DEFAULT_CREATION_OPTIONS),new c(s.RawTextSource.fromString(e),t)},c.resolveCreationData=function(a,e){var t=s.TextSource.fromRawTextSource(a,e.defaultEOL),d;if(e.detectIndentation){var l=r.guessIndentation(t.lines,e.tabSize,e.insertSpaces);d=new S.TextModelResolvedOptions({tabSize:l.tabSize,insertSpaces:l.insertSpaces,trimAutoWhitespace:e.trimAutoWhitespace,defaultEOL:e.defaultEOL})}else d=new S.TextModelResolvedOptions({tabSize:e.tabSize,insertSpaces:e.insertSpaces,trimAutoWhitespace:e.trimAutoWhitespace,defaultEOL:e.defaultEOL});return{text:t,options:d}},c.prototype.addBulkListener=function(t){return this._eventEmitter.addBulkListener(t)},c.prototype._createModelLine=function(n,e){return this._isTooLargeForTokenization?new o.MinimalModelLine(n,e):new o.ModelLine(n,e)},c.prototype._assertNotDisposed=function(){if(this._isDisposed)throw new Error("Model is disposed!")},c.prototype.isTooLargeForHavingARichMode=function(){return this._shouldSimplifyMode},c.prototype.isTooLargeForTokenization=function(){return this._isTooLargeForTokenization},c.prototype.getOptions=function(){return this._assertNotDisposed(),this._options},c.prototype.updateOptions=function(s){this._assertNotDisposed();var e=void 0===s.tabSize?this._options.tabSize:s.tabSize,d=void 0===s.insertSpaces?this._options.insertSpaces:s.insertSpaces,c=void 0===s.trimAutoWhitespace?this._options.trimAutoWhitespace:s.trimAutoWhitespace,g=new S.TextModelResolvedOptions({tabSize:e,insertSpaces:d,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:c});if(!this._options.equals(g)){var o=this._options.createChangeEvent(g);if(this._options=g,o.tabSize)for(var r=this._options.tabSize,a=0,u=this._lines.length;a<u;a++)this._lines[a].updateTabSize(r);this._eventEmitter.emit(p.TextModelEventType.ModelOptionsChanged,o)}},c.prototype.detectIndentation=function(o,e){this._assertNotDisposed();var t=this._lines.map(function(t){return t.text}),n=r.guessIndentation(t,e,o);this.updateOptions({insertSpaces:n.insertSpaces,tabSize:n.tabSize})},c._normalizeIndentationFromWhitespace=function(a,e,t){for(var d=0,i=0;i<a.length;i++)"\t"===a.charAt(i)?d+=e:d++;var o="";if(!t){var r=M(d/e);for(d%=e,i=0;i<r;i++)o+="\t"}for(i=0;i<d;i++)o+=" ";return o},c.normalizeIndentation=function(e,t,n){var o=C.firstNonWhitespaceIndex(e);return-1===o&&(o=e.length),c._normalizeIndentationFromWhitespace(e.substring(0,o),t,n)+e.substring(o)},c.prototype.normalizeIndentation=function(e){return this._assertNotDisposed(),c.normalizeIndentation(e,this._options.tabSize,this._options.insertSpaces)},c.prototype.getOneIndent=function(){this._assertNotDisposed();var o=this._options.tabSize;if(this._options.insertSpaces){for(var e="",t=0;t<o;t++)e+=" ";return e}return"\t"},c.prototype.getVersionId=function(){return this._assertNotDisposed(),this._versionId},c.prototype.mightContainRTL=function(){return this._mightContainRTL},c.prototype.mightContainNonBasicASCII=function(){return this._mightContainNonBasicASCII},c.prototype.getAlternativeVersionId=function(){return this._assertNotDisposed(),this._alternativeVersionId},c.prototype._ensureLineStarts=function(){if(!this._lineStarts){for(var o=this._EOL.length,e=this._lines.length,t=new Uint32Array(e),n=0;n<e;n++)t[n]=this._lines[n].text.length+o;this._lineStarts=new a.PrefixSumComputer(t)}},c.prototype.getOffsetAt=function(o){this._assertNotDisposed();var e=this._validatePosition(o.lineNumber,o.column,!1);return this._ensureLineStarts(),this._lineStarts.getAccumulatedValue(e.lineNumber-2)+e.column-1},c.prototype.getPositionAt=function(o){this._assertNotDisposed(),o=M(o),o=G(0,o),this._ensureLineStarts();var e=this._lineStarts.getIndexOf(o),t=this._lines[e.index].text.length;return new b.Position(e.index+1,q(e.remainder+1,t+1))},c.prototype._increaseVersionId=function(){this._setVersionId(this._versionId+1)},c.prototype._setVersionId=function(t){this._versionId=t,this._alternativeVersionId=this._versionId},c.prototype._overwriteAlternativeVersionId=function(t){this._alternativeVersionId=t},c.prototype.isDisposed=function(){return this._isDisposed},c.prototype.dispose=function(){this._isDisposed=!0,this._lines=null,this._EOL=null,this._BOM=null,this._eventEmitter.dispose()},c.prototype._emitContentChanged2=function(r,e,t,n,i,d,g,m,h){var _={changes:[{range:new v.Range(r,e,t,n),rangeLength:i,text:d}],eol:this._EOL,versionId:this.getVersionId(),isUndoing:g,isRedoing:m,isFlush:h};this._isDisposing||this._eventEmitter.emit(p.TextModelEventType.ModelContentChanged,_)},c.prototype._resetValue=function(t){this._constructLines(t),this._increaseVersionId()},c.prototype.equals=function(o){if(this._assertNotDisposed(),this._BOM!==o.BOM)return!1;if(this._EOL!==o.EOL)return!1;if(this._lines.length!==o.lines.length)return!1;for(var e=0,t=this._lines.length;e<t;e++)if(this._lines[e].text!==o.lines[e])return!1;return!0},c.prototype.setValue=function(o){if(this._assertNotDisposed(),null!==o){var e=s.TextSource.fromString(o,this._options.defaultEOL);this.setValueFromTextSource(e)}},c.prototype.setValueFromTextSource=function(r){if(this._assertNotDisposed(),null!==r){var e=this.getFullModelRange(),t=this.getValueLengthInRange(e),n=this.getLineCount(),i=this.getLineMaxColumn(n);this._resetValue(r),this._emitModelRawContentChangedEvent(new p.ModelRawContentChangedEvent([new p.ModelRawFlush],this._versionId,!1,!1)),this._emitContentChanged2(1,1,n,i,t,this.getValue(),!1,!1,!0)}},c.prototype.getValue=function(o,e){void 0===e&&(e=!1),this._assertNotDisposed();var t=this.getFullModelRange(),n=this.getValueInRange(t,o);return e?this._BOM+n:n},c.prototype.getValueLength=function(o,e){void 0===e&&(e=!1),this._assertNotDisposed();var t=this.getFullModelRange(),n=this.getValueLengthInRange(t,o);return e?this._BOM.length+n:n},c.prototype.getValueInRange=function(s,e){void 0===e&&(e=S.EndOfLinePreference.TextDefined),this._assertNotDisposed();var t=this.validateRange(s);if(t.isEmpty())return"";if(t.startLineNumber===t.endLineNumber)return this._lines[t.startLineNumber-1].text.substring(t.startColumn-1,t.endColumn-1);var n=this._getEndOfLine(e),i=t.startLineNumber-1,o=t.endLineNumber-1,r=[];r.push(this._lines[i].text.substring(t.startColumn-1));for(var a=i+1;a<o;a++)r.push(this._lines[a].text);return r.push(this._lines[o].text.substring(0,t.endColumn-1)),r.join(n)},c.prototype.getValueLengthInRange=function(o,e){void 0===e&&(e=S.EndOfLinePreference.TextDefined),this._assertNotDisposed();var t=this.validateRange(o);if(t.isEmpty())return 0;if(t.startLineNumber===t.endLineNumber)return t.endColumn-t.startColumn;var n=this.getOffsetAt(new b.Position(t.startLineNumber,t.startColumn));return this.getOffsetAt(new b.Position(t.endLineNumber,t.endColumn))-n},c.prototype.isDominatedByLongLines=function(){this._assertNotDisposed();var t=0,o=0,r=this._lines,a,e,n;for(a=0,e=this._lines.length;a<e;a++)(n=r[a].text.length)>=_.LONG_LINE_BOUNDARY?o+=n:t+=n;return o>t},c.prototype.getLineCount=function(){return this._assertNotDisposed(),this._lines.length},c.prototype.getLineContent=function(t){if(this._assertNotDisposed(),1>t||t>this.getLineCount())throw new Error("Illegal value "+t+" for `lineNumber`");return this._lines[t-1].text},c.prototype.getIndentLevel=function(t){if(this._assertNotDisposed(),1>t||t>this.getLineCount())throw new Error("Illegal value "+t+" for `lineNumber`");return this._lines[t-1].getIndentLevel()},c.prototype._resetIndentRanges=function(){this._indentRanges=null},c.prototype._getIndentRanges=function(){return this._indentRanges||(this._indentRanges=n.computeRanges(this)),this._indentRanges},c.prototype.getIndentRanges=function(){this._assertNotDisposed();var t=this._getIndentRanges();return n.IndentRange.deepCloneArr(t)},c.prototype._toValidLineIndentGuide=function(o,e){var t=this._lines[o-1].getIndentLevel();if(-1===t)return e;var n=l(t/this._options.tabSize);return q(n,e)},c.prototype.getLineIndentGuide=function(r){if(this._assertNotDisposed(),1>r||r>this.getLineCount())throw new Error("Illegal value "+r+" for `lineNumber`");for(var e=this._getIndentRanges(),t=e.length-1,n;0<=t;t--){if(n=e[t],n.startLineNumber===r)return this._toValidLineIndentGuide(r,l(n.indent/this._options.tabSize));if(n.startLineNumber<r&&r<=n.endLineNumber)return this._toValidLineIndentGuide(r,1+M(n.indent/this._options.tabSize));if(n.endLineNumber+1===r){for(var i=n.indent;0<t;)(n=e[--t]).endLineNumber+1===r&&(i=n.indent);return this._toValidLineIndentGuide(r,l(i/this._options.tabSize))}}return 0},c.prototype.getLinesContent=function(){this._assertNotDisposed();for(var o=[],e=0,t=this._lines.length;e<t;e++)o[e]=this._lines[e].text;return o},c.prototype.getEOL=function(){return this._assertNotDisposed(),this._EOL},c.prototype.setEOL=function(a){this._assertNotDisposed();var e=a===S.EndOfLineSequence.CRLF?"\r\n":"\n";if(this._EOL!==e){var t=this.getFullModelRange(),n=this.getValueLengthInRange(t),i=this.getLineCount(),o=this.getLineMaxColumn(i);this._EOL=e,this._lineStarts=null,this._increaseVersionId(),this._emitModelRawContentChangedEvent(new p.ModelRawContentChangedEvent([new p.ModelRawEOLChanged],this._versionId,!1,!1)),this._emitContentChanged2(1,1,i,o,n,this.getValue(),!1,!1,!1)}},c.prototype.getLineMinColumn=function(){return this._assertNotDisposed(),1},c.prototype.getLineMaxColumn=function(t){if(this._assertNotDisposed(),1>t||t>this.getLineCount())throw new Error("Illegal value "+t+" for `lineNumber`");return this._lines[t-1].text.length+1},c.prototype.getLineFirstNonWhitespaceColumn=function(o){if(this._assertNotDisposed(),1>o||o>this.getLineCount())throw new Error("Illegal value "+o+" for `lineNumber`");var e=C.firstNonWhitespaceIndex(this._lines[o-1].text);return-1===e?0:e+1},c.prototype.getLineLastNonWhitespaceColumn=function(o){if(this._assertNotDisposed(),1>o||o>this.getLineCount())throw new Error("Illegal value "+o+" for `lineNumber`");var e=C.lastNonWhitespaceIndex(this._lines[o-1].text);return-1===e?0:e+2},c.prototype.validateLineNumber=function(t){return this._assertNotDisposed(),1>t&&(t=1),t>this._lines.length&&(t=this._lines.length),t},c.prototype._validatePosition=function(o,i,d){var n=M("number"==typeof o?o:1),r=M("number"==typeof i?i:1);if(1>n)return new b.Position(1,1);if(n>this._lines.length)return new b.Position(this._lines.length,this.getLineMaxColumn(this._lines.length));if(1>=r)return new b.Position(n,1);var s=this.getLineMaxColumn(n);if(r>=s)return new b.Position(n,s);if(d){var a=this._lines[n-1].text.charCodeAt(r-2);if(C.isHighSurrogate(a))return new b.Position(n,r-1)}return new b.Position(n,r)},c.prototype.validatePosition=function(t){return this._assertNotDisposed(),this._validatePosition(t.lineNumber,t.column,!0)},c.prototype.validateRange=function(i){this._assertNotDisposed();var e=this._validatePosition(i.startLineNumber,i.startColumn,!1),t=this._validatePosition(i.endLineNumber,i.endColumn,!1),n=e.lineNumber,o=e.column,r=t.lineNumber,a=t.column,s=this._lines[n-1].text,l=this._lines[r-1].text,c=1<o?s.charCodeAt(o-2):0,d=1<a&&a<=l.length?l.charCodeAt(a-2):0,u=C.isHighSurrogate(c),p=C.isHighSurrogate(d);return u||p?n===r&&o===a?new v.Range(n,o-1,r,a-1):u&&p?new v.Range(n,o-1,r,a+1):u?new v.Range(n,o-1,r,a):new v.Range(n,o,r,a+1):new v.Range(n,o,r,a)},c.prototype.modifyPosition=function(o,e){return this._assertNotDisposed(),this.getPositionAt(this.getOffsetAt(o)+e)},c.prototype.getFullModelRange=function(){this._assertNotDisposed();var t=this.getLineCount();return new v.Range(1,1,t,this.getLineMaxColumn(t))},c.prototype._emitModelRawContentChangedEvent=function(t){this._isDisposing||this._eventEmitter.emit(p.TextModelEventType.ModelRawContentChanged2,t)},c.prototype._constructLines=function(a){for(var e=this._options.tabSize,t=a.lines,n=Array(t.length),i=0,o=t.length;i<o;i++)n[i]=this._createModelLine(t[i],e);this._BOM=a.BOM,this._mightContainRTL=a.containsRTL,this._mightContainNonBasicASCII=!a.isBasicASCII,this._EOL=a.EOL,this._lines=n,this._lineStarts=null,this._resetIndentRanges()},c.prototype._getEndOfLine=function(t){switch(t){case S.EndOfLinePreference.LF:return"\n";case S.EndOfLinePreference.CRLF:return"\r\n";case S.EndOfLinePreference.TextDefined:return this.getEOL();}throw new Error("Unknown EOL preference")},c.prototype.findMatches=function(r,e,t,n,i,o,s){void 0===s&&(s=999),this._assertNotDisposed();var a;return a=v.Range.isIRange(e)?this.validateRange(e):this.getFullModelRange(),d.TextModelSearch.findMatches(this,new d.SearchParams(r,t,n,i),a,o,s)},c.prototype.findNextMatch=function(a,e,t,n,i,o){this._assertNotDisposed();var r=this.validatePosition(e);return d.TextModelSearch.findNextMatch(this,new d.SearchParams(a,t,n,i),r,o)},c.prototype.findPreviousMatch=function(a,e,t,n,i,o){this._assertNotDisposed();var r=this.validatePosition(e);return d.TextModelSearch.findPreviousMatch(this,new d.SearchParams(a,t,n,i),r,o)},c.MODEL_SYNC_LIMIT=5242880,c.MODEL_TOKENIZATION_LIMIT=20971520,c.MANY_MANY_LINES=3e5,c.DEFAULT_CREATION_OPTIONS={tabSize:t.EDITOR_MODEL_DEFAULTS.tabSize,insertSpaces:t.EDITOR_MODEL_DEFAULTS.insertSpaces,detectIndentation:!1,defaultEOL:S.DefaultEndOfLine.LF,trimAutoWhitespace:t.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace},c}();_.TextModel=e}),define(s[39],n([1,0,12,9,93,22,2,43,10]),function(g,e,m,_,t,y,n,o,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),!function(t){t[t.Primary=0]="Primary",t[t.TopMost=1]="TopMost",t[t.BottomMost=2]="BottomMost"}(e.RevealTarget||(e.RevealTarget={}));var r=function(){function d(e,t,n,i){var o=i.editor;this.readOnly=o.readOnly,this.tabSize=n.tabSize,this.insertSpaces=n.insertSpaces,this.oneIndent=t,this.pageSize=M(o.layoutInfo.height/o.fontInfo.lineHeight)-2,this.lineHeight=o.lineHeight,this.useTabStops=o.useTabStops,this.wordSeparators=o.wordSeparators,this.emptySelectionClipboard=o.emptySelectionClipboard,this.autoClosingBrackets=o.autoClosingBrackets,this.autoIndent=o.autoIndent,this.autoClosingPairsOpen={},this.autoClosingPairsClose={},this.surroundingPairs={},this.electricChars={};var r=d._getElectricCharacters(e);if(r)for(p=0;p<r.length;p++)this.electricChars[r[p]]=!0;var s=d._getAutoClosingPairs(e);if(s)for(p=0;p<s.length;p++)this.autoClosingPairsOpen[s[p].open]=s[p].close,this.autoClosingPairsClose[s[p].close]=s[p].open;var a=d._getSurroundingPairs(e);if(a)for(var p=0;p<a.length;p++)this.surroundingPairs[a[p].open]=a[p].close}return d.shouldRecreate=function(t){return t.layoutInfo||t.wordSeparators||t.emptySelectionClipboard||t.autoClosingBrackets||t.useTabStops||t.lineHeight||t.readOnly},d.prototype.normalizeIndentation=function(o){return t.TextModel.normalizeIndentation(o,this.tabSize,this.insertSpaces)},d._getElectricCharacters=function(t){try{return o.LanguageConfigurationRegistry.getElectricCharacters(t.id)}catch(t){return i.onUnexpectedError(t),null}},d._getAutoClosingPairs=function(t){try{return o.LanguageConfigurationRegistry.getAutoClosingPairs(t.id)}catch(t){return i.onUnexpectedError(t),null}},d._getSurroundingPairs=function(t){try{return o.LanguageConfigurationRegistry.getSurroundingPairs(t.id)}catch(t){return i.onUnexpectedError(t),null}},d}();e.CursorConfiguration=r;var s=function(){function a(e,t,n,i){this.selectionStart=e,this.selectionStartLeftoverVisibleColumns=t,this.position=n,this.leftoverVisibleColumns=i,this.selection=a._computeSelection(this.selectionStart,this.position)}return a.prototype.equals=function(t){return this.selectionStartLeftoverVisibleColumns===t.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===t.leftoverVisibleColumns&&this.position.equals(t.position)&&this.selectionStart.equalsRange(t.selectionStart)},a.prototype.hasSelection=function(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()},a.prototype.move=function(e,t,i,o){return e?new a(this.selectionStart,this.selectionStartLeftoverVisibleColumns,new m.Position(t,i),o):new a(new n.Range(t,i,t,i),o,new m.Position(t,i),o)},a._computeSelection=function(r,e){var t,n,i,o;return r.isEmpty()?(t=r.startLineNumber,n=r.startColumn,i=e.lineNumber,o=e.column):e.isBeforeOrEqual(r.getStartPosition())?(t=r.endLineNumber,n=r.endColumn,i=e.lineNumber,o=e.column):(t=r.startLineNumber,n=r.startColumn,i=e.lineNumber,o=e.column),new y.Selection(t,n,i,o)},a}();e.SingleCursorState=s;var a=function(){function t(o,i,t){this.model=i,this.viewModel=t,this.config=new r(this.model.getLanguageIdentifier(),this.model.getOneIndent(),this.model.getOptions(),o)}return t.prototype.validateViewPosition=function(o,e){return this.viewModel.coordinatesConverter.validateViewPosition(o,e)},t.prototype.validateViewRange=function(o,e){return this.viewModel.coordinatesConverter.validateViewRange(o,e)},t.prototype.convertViewRangeToModelRange=function(t){return this.viewModel.coordinatesConverter.convertViewRangeToModelRange(t)},t.prototype.convertViewPositionToModelPosition=function(o,e){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new m.Position(o,e))},t.prototype.convertModelPositionToViewPosition=function(t){return this.viewModel.coordinatesConverter.convertModelPositionToViewPosition(t)},t.prototype.convertModelRangeToViewRange=function(t){return this.viewModel.coordinatesConverter.convertModelRangeToViewRange(t)},t.prototype.getScrollTop=function(){return this.viewModel.viewLayout.getScrollTop()},t.prototype.getCompletelyVisibleViewRange=function(){return this.viewModel.getCompletelyVisibleViewRange()},t.prototype.getCompletelyVisibleModelRange=function(){var t=this.viewModel.getCompletelyVisibleViewRange();return this.viewModel.coordinatesConverter.convertViewRangeToModelRange(t)},t.prototype.getCompletelyVisibleViewRangeAtScrollTop=function(t){return this.viewModel.getCompletelyVisibleViewRangeAtScrollTop(t)},t.prototype.getCompletelyVisibleModelRangeAtScrollTop=function(o){var e=this.viewModel.getCompletelyVisibleViewRangeAtScrollTop(o);return this.viewModel.coordinatesConverter.convertViewRangeToModelRange(e)},t.prototype.getVerticalOffsetForViewLine=function(t){return this.viewModel.viewLayout.getVerticalOffsetForLineNumber(t)},t}();e.CursorContext=a;var d=function(){function p(o,n){this.modelState=o,this.viewState=n}return p.fromModelState=function(e){return new p(e,null)},p.fromViewState=function(e){return new p(null,e)},p.fromModelSelection=function(e){var t=e.selectionStartLineNumber,i=e.selectionStartColumn,o=e.positionLineNumber,r=e.positionColumn,a=new s(new n.Range(t,i,t,i),0,new m.Position(o,r),0);return p.fromModelState(a)},p.fromModelSelections=function(o){for(var e=[],t=0,n=o.length;t<n;t++)e[t]=this.fromModelSelection(o[t]);return e},p.ensureInEditableRange=function(e,t){var n=e.model;if(!n.hasEditableRange())return t;for(var i=n.getEditableRange(),o=e.convertModelRangeToViewRange(i),r=[],s=0,a=t.length,u;s<a;s++)if(u=t[s],u.modelState){var l=p._ensureInEditableRange(u.modelState,i);r[s]=l?p.fromModelState(l):u}else{var c=p._ensureInEditableRange(u.viewState,o);r[s]=c?p.fromViewState(c):u}return r},p._ensureInEditableRange=function(o,e){var t=o.position;return t.lineNumber<e.startLineNumber||t.lineNumber===e.startLineNumber&&t.column<e.startColumn?new s(o.selectionStart,o.selectionStartLeftoverVisibleColumns,new m.Position(e.startLineNumber,e.startColumn),0):t.lineNumber>e.endLineNumber||t.lineNumber===e.endLineNumber&&t.column>e.endColumn?new s(o.selectionStart,o.selectionStartLeftoverVisibleColumns,new m.Position(e.endLineNumber,e.endColumn),0):null},p.prototype.equals=function(t){return this.viewState.equals(t.viewState)&&this.modelState.equals(t.viewState)},p}();e.CursorState=d;var l=function(){return function(o,e){this.commands=o,this.shouldPushStackElementBefore=e.shouldPushStackElementBefore,this.shouldPushStackElementAfter=e.shouldPushStackElementAfter}}();e.EditOperationResult=l;var p=function(){function t(){}return t.isLowSurrogate=function(i,e,t){var n=i.getLineContent(e);return!(0>t||t>=n.length)&&_.isLowSurrogate(n.charCodeAt(t))},t.isHighSurrogate=function(i,e,t){var n=i.getLineContent(e);return!(0>t||t>=n.length)&&_.isHighSurrogate(n.charCodeAt(t))},t.isInsideSurrogatePair=function(o,e,t){return this.isHighSurrogate(o,e,t-2)},t.visibleColumnFromColumn=function(a,e,t){var n=a.length;n>e-1&&(n=e-1);for(var i=0,o=0;o<n;o++)9===a.charCodeAt(o)?i=this.nextTabStop(i,t):i+=1;return i},t.visibleColumnFromColumn2=function(o,e,t){return this.visibleColumnFromColumn(e.getLineContent(t.lineNumber),t.column,o.tabSize)},t.columnFromVisibleColumn=function(a,e,t){if(0>=e)return 1;for(var n=a.length,i=0,o=0,r;o<n;o++){if(r=void 0,(r=9===a.charCodeAt(o)?this.nextTabStop(i,t):i+1)>=e)return r-e<e-i?o+2:o+1;i=r}return n+1},t.columnFromVisibleColumn2=function(a,e,t,n){var i=this.columnFromVisibleColumn(e.getLineContent(t),n,a.tabSize),o=e.getLineMinColumn(t);if(i<o)return o;var r=e.getLineMaxColumn(t);return i>r?r:i},t.nextTabStop=function(o,e){return o+e-o%e},t.prevTabStop=function(o,e){return o-1-(o-1)%e},t}();e.CursorColumns=p}),define(s[167],n([1,0,9,39,2,22,43]),function(d,e,u,S,n,l,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function t(o,n){this._opts=n,this._selection=o,this._useLastEditRangeForCursorEndPosition=!1,this._selectionStartColumnStaysPut=!1}return t.unshiftIndentCount=function(i,e,t){var n=S.CursorColumns.visibleColumnFromColumn(i,e,t);return S.CursorColumns.prevTabStop(n,t)/t},t.shiftIndentCount=function(i,e,t){var n=S.CursorColumns.visibleColumnFromColumn(i,e,t);return S.CursorColumns.nextTabStop(n,t)/t},t.prototype._addEditOperation=function(o,e,t){this._useLastEditRangeForCursorEndPosition?o.addTrackedEditOperation(e,t):o.addEditOperation(e,t)},t.prototype.getEditOperations=function(e,i){var r=this._selection.startLineNumber,a=this._selection.endLineNumber;1===this._selection.endColumn&&r!==a&&(a-=1);var s=this._opts.tabSize,l=this._opts.oneIndent,c=r===a;if(this._selection.isEmpty()&&/^\s*$/.test(e.getLineContent(r))&&(this._useLastEditRangeForCursorEndPosition=!0),this._opts.useTabStops)for(var d=["",l],h=0,p=0,f=r;f<=a;f++,h=p){p=0;var g=e.getLineContent(f),m=u.firstNonWhitespaceIndex(g);if((!this._opts.isUnshift||0!==g.length&&0!==m)&&(c||this._opts.isUnshift||0!==g.length)){if(-1===m&&(m=g.length),1<f&&0!=S.CursorColumns.visibleColumnFromColumn(g,m+1,s)%s){var v=o.LanguageConfigurationRegistry.getRawEnterActionAtPosition(e,f-1,e.getLineMaxColumn(f-1));if(v){if(p=h,v.appendText)for(var _=0,y=v.appendText.length;_<y&&p<s&&32===v.appendText.charCodeAt(_);_++)p++;for(v.removeText&&(p=G(0,p-v.removeText)),_=0;_<p&&0!==m&&32===g.charCodeAt(m-1);_++)m--}}if(!this._opts.isUnshift||0!==m){var C=void 0;for(C=this._opts.isUnshift?t.unshiftIndentCount(g,m+1,s):t.shiftIndentCount(g,m+1,s),_=d.length;_<=C;_++)d[_]=d[_-1]+l;this._addEditOperation(i,new n.Range(f,1,f,m+1),d[C]),f===r&&(this._selectionStartColumnStaysPut=this._selection.startColumn<=m+1)}}}else for(f=r;f<=a;f++){var g=e.getLineContent(f),m=u.firstNonWhitespaceIndex(g);if((!this._opts.isUnshift||0!==g.length&&0!==m)&&(c||this._opts.isUnshift||0!==g.length)&&(-1===m&&(m=g.length),!this._opts.isUnshift||0!==m))if(this._opts.isUnshift){m=q(m,s);for(var b=0;b<m;b++)if(9===g.charCodeAt(b)){m=b+1;break}this._addEditOperation(i,new n.Range(f,1,f,m+1),"")}else this._addEditOperation(i,new n.Range(f,1,f,1),l),f===r&&(this._selectionStartColumnStaysPut=1===this._selection.startColumn)}this._selectionId=i.trackSelection(this._selection)},t.prototype.computeCursorState=function(r,e){if(this._useLastEditRangeForCursorEndPosition){var t=e.getInverseEditOperations()[0];return new l.Selection(t.range.endLineNumber,t.range.endColumn,t.range.endLineNumber,t.range.endColumn)}var n=e.getTrackedSelection(this._selectionId);if(this._selectionStartColumnStaysPut){var i=this._selection.startColumn;return n.startColumn<=i?n:n.getDirection()===l.SelectionDirection.LTR?new l.Selection(n.startLineNumber,i,n.endLineNumber,n.endColumn):new l.Selection(n.endLineNumber,n.endColumn,n.startLineNumber,i)}return n},t}();e.ShiftCommand=t}),define(s[311],n([1,0,12,2,39]),function(a,e,C,n,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function o(){}return o._columnSelect=function(o,e,t,i,r,s){for(var d=I(r-t)+1,l=t>r,h=[],S=0;S<d;S++){var E=t+(l?-S:S),g=b.CursorColumns.columnFromVisibleColumn2(o,e,E,i),m=b.CursorColumns.columnFromVisibleColumn2(o,e,E,s),v=b.CursorColumns.visibleColumnFromColumn2(o,e,new C.Position(E,g)),_=b.CursorColumns.visibleColumnFromColumn2(o,e,new C.Position(E,m));if(i<s){if(v>s)continue;if(_<i)continue}if(i>s){if(_>i)continue;if(v<s)continue}h.push(new b.SingleCursorState(new n.Range(E,g,E,g),0,new C.Position(E,m),0))}return{viewStates:h,reversed:l,toLineNumber:r,toVisualColumn:s}},o.columnSelect=function(e,t,n,i,r){var a=new C.Position(n.selectionStartLineNumber,n.selectionStartColumn),s=b.CursorColumns.visibleColumnFromColumn2(e,t,a);return o._columnSelect(e,t,a.lineNumber,s,i,r)},o.columnSelectLeft=function(r,e,t,n,i){return 1<i&&i--,this.columnSelect(r,e,t.selection,n,i)},o.columnSelectRight=function(o,e,t,n,i){for(var r=0,a=q(t.position.lineNumber,n),s=G(t.position.lineNumber,n),l=a;l<=s;l++){var p=e.getLineMaxColumn(l),d=b.CursorColumns.visibleColumnFromColumn2(o,e,new C.Position(l,p));r=G(r,d)}return i<r&&i++,this.columnSelect(o,e,t.selection,n,i)},o.columnSelectUp=function(a,e,t,n,i,o){return 1>(i-=n?a.pageSize:1)&&(i=1),this.columnSelect(a,e,t.selection,i,o)},o.columnSelectDown=function(a,e,t,n,i,o){return(i+=n?a.pageSize:1)>e.getLineCount()&&(i=e.getLineCount()),this.columnSelect(a,e,t.selection,i,o)},o}();e.ColumnSelection=t}),define(s[169],n([1,0,39,12,2]),function(a,e,d,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var p=function(){return function(o,e,t){this.lineNumber=o,this.column=e,this.leftoverVisibleColumns=t}}();e.CursorPosition=p;var t=function(){function c(){}return c.left=function(n,e,t,i){return i>e.getLineMinColumn(t)?d.CursorColumns.isLowSurrogate(e,t,i-2)?i-=2:i-=1:1<t&&(t-=1,i=e.getLineMaxColumn(t)),new p(t,i,0)},c.moveLeft=function(e,t,n,i,d){var r,s;if(n.hasSelection()&&!i)r=n.selection.startLineNumber,s=n.selection.startColumn;else{var a=c.left(e,t,n.position.lineNumber,n.position.column-(d-1));r=a.lineNumber,s=a.column}return n.move(i,r,s,0)},c.right=function(n,e,t,i){return i<e.getLineMaxColumn(t)?d.CursorColumns.isHighSurrogate(e,t,i-1)?i+=2:i+=1:t<e.getLineCount()&&(t+=1,i=e.getLineMinColumn(t)),new p(t,i,0)},c.moveRight=function(e,t,n,i,d){var r,s;if(n.hasSelection()&&!i)r=n.selection.endLineNumber,s=n.selection.endColumn;else{var a=c.right(e,t,n.position.lineNumber,n.position.column+(d-1));r=a.lineNumber,s=a.column}return n.move(i,r,s,0)},c.down=function(n,e,t,i,o,r,a){var s=d.CursorColumns.visibleColumnFromColumn(e.getLineContent(t),i,n.tabSize)+o;t+=r;var l=e.getLineCount();return t>l?(t=l,a?i=e.getLineMaxColumn(t):(i=q(e.getLineMaxColumn(t),i),d.CursorColumns.isInsideSurrogatePair(e,t,i)&&(i-=1))):(i=d.CursorColumns.columnFromVisibleColumn2(n,e,t,s),d.CursorColumns.isInsideSurrogatePair(e,t,i)&&(i-=1)),o=s-d.CursorColumns.visibleColumnFromColumn(e.getLineContent(t),i,n.tabSize),new p(t,i,o)},c.moveDown=function(e,t,n,i,d){var r,s;n.hasSelection()&&!i?(r=n.selection.endLineNumber,s=n.selection.endColumn):(r=n.position.lineNumber,s=n.position.column);var a=c.down(e,t,r,s,n.leftoverVisibleColumns,d,!0);return n.move(i,a.lineNumber,a.column,a.leftoverVisibleColumns)},c.translateDown=function(e,t,o){var r=o.selection,a=c.down(e,t,r.selectionStartLineNumber,r.selectionStartColumn,o.selectionStartLeftoverVisibleColumns,1,!1),s=c.down(e,t,r.positionLineNumber,r.positionColumn,o.leftoverVisibleColumns,1,!1);return new d.SingleCursorState(new i.Range(a.lineNumber,a.column,a.lineNumber,a.column),a.leftoverVisibleColumns,new n.Position(s.lineNumber,s.column),s.leftoverVisibleColumns)},c.up=function(n,e,t,i,o,r,a){var s=d.CursorColumns.visibleColumnFromColumn(e.getLineContent(t),i,n.tabSize)+o;return 1>(t-=r)?(t=1,a?i=e.getLineMinColumn(t):(i=q(e.getLineMaxColumn(t),i),d.CursorColumns.isInsideSurrogatePair(e,t,i)&&(i-=1))):(i=d.CursorColumns.columnFromVisibleColumn2(n,e,t,s),d.CursorColumns.isInsideSurrogatePair(e,t,i)&&(i-=1)),o=s-d.CursorColumns.visibleColumnFromColumn(e.getLineContent(t),i,n.tabSize),new p(t,i,o)},c.moveUp=function(e,t,n,i,d){var r,s;n.hasSelection()&&!i?(r=n.selection.startLineNumber,s=n.selection.startColumn):(r=n.position.lineNumber,s=n.position.column);var a=c.up(e,t,r,s,n.leftoverVisibleColumns,d,!0);return n.move(i,a.lineNumber,a.column,a.leftoverVisibleColumns)},c.translateUp=function(e,t,o){var r=o.selection,a=c.up(e,t,r.selectionStartLineNumber,r.selectionStartColumn,o.selectionStartLeftoverVisibleColumns,1,!1),s=c.up(e,t,r.positionLineNumber,r.positionColumn,o.leftoverVisibleColumns,1,!1);return new d.SingleCursorState(new i.Range(a.lineNumber,a.column,a.lineNumber,a.column),a.leftoverVisibleColumns,new n.Position(s.lineNumber,s.column),s.leftoverVisibleColumns)},c.moveToBeginningOfLine=function(d,e,t,n){var i=t.position.lineNumber,r=e.getLineMinColumn(i),s=e.getLineFirstNonWhitespaceColumn(i)||r,a;return a=t.position.column===s?r:s,t.move(n,i,a,0)},c.moveToEndOfLine=function(a,e,t,n){var i=t.position.lineNumber,o=e.getLineMaxColumn(i);return t.move(n,i,o,0)},c.moveToBeginningOfBuffer=function(o,e,t,n){return t.move(n,1,1,0)},c.moveToEndOfBuffer=function(a,e,t,n){var i=e.getLineCount(),o=e.getLineMaxColumn(i);return t.move(n,i,o,0)},c}();e.MoveOperations=t}),define(s[170],n([1,0,73,39,2,169,9]),function(d,e,S,n,E,o,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function t(){}return t.deleteRight=function(n,e,t){for(var i=[],r=!1,a=0,s=t.length;a<s;a++){var l=t[a],c=l;if(c.isEmpty()){var d=l.getPosition(),u=o.MoveOperations.right(n,e,d.lineNumber,d.column);c=new E.Range(u.lineNumber,u.column,d.lineNumber,d.column)}c.isEmpty()?i[a]=null:(c.startLineNumber!==c.endLineNumber&&(r=!0),i[a]=new S.ReplaceCommand(c,""))}return[r,i]},t._isAutoClosingPairDelete=function(d,e,t){if(!d.autoClosingBrackets)return!1;for(var n=0,i=t.length;n<i;n++){var o=t[n],r=o.getPosition();if(!o.isEmpty())return!1;var s=e.getLineContent(r.lineNumber),a=s[r.column-2];if(!d.autoClosingPairsOpen.hasOwnProperty(a))return!1;if(s[r.column-1]!==d.autoClosingPairsOpen[a])return!1}return!0},t._runAutoClosingPairDelete=function(o,e,t){for(var n=[],i=0,r=t.length;i<r;i++){var a=t[i].getPosition(),s=new E.Range(a.lineNumber,a.column-1,a.lineNumber,a.column+1);n[i]=new S.ReplaceCommand(s,"")}return[!0,n]},t.deleteLeft=function(r,e,t){if(this._isAutoClosingPairDelete(r,e,t))return this._runAutoClosingPairDelete(r,e,t);for(var a=[],s=!1,l=0,c=t.length;l<c;l++){var d=t[l],u=d;if(u.isEmpty()){var p=d.getPosition();if(r.useTabStops&&1<p.column){var h=e.getLineContent(p.lineNumber),g=i.firstNonWhitespaceIndex(h),m=-1===g?h.length+1:g+1;if(p.column<=m){var f=n.CursorColumns.visibleColumnFromColumn2(r,e,p),_=n.CursorColumns.prevTabStop(f,r.tabSize),y=n.CursorColumns.columnFromVisibleColumn2(r,e,p.lineNumber,_);u=new E.Range(p.lineNumber,y,p.lineNumber,p.column)}else u=new E.Range(p.lineNumber,p.column-1,p.lineNumber,p.column)}else{var C=o.MoveOperations.left(r,e,p.lineNumber,p.column);u=new E.Range(C.lineNumber,C.column,p.lineNumber,p.column)}}u.isEmpty()?a[l]=null:(u.startLineNumber!==u.endLineNumber&&(s=!0),a[l]=new S.ReplaceCommand(u,""))}return[s,a]},t.cut=function(o,e,t){for(var i=[],r=0,a=t.length,s;r<a;r++)if(s=t[r],!s.isEmpty())i[r]=new S.ReplaceCommand(s,"");else if(o.emptySelectionClipboard){var l=s.getPosition(),c=void 0,d=void 0,u=void 0,p=void 0;l.lineNumber<e.getLineCount()?(c=l.lineNumber,d=1,u=l.lineNumber+1,p=1):1<l.lineNumber?(c=l.lineNumber-1,d=e.getLineMaxColumn(l.lineNumber-1),u=l.lineNumber,p=e.getLineMaxColumn(l.lineNumber)):(c=l.lineNumber,d=1,u=l.lineNumber,p=e.getLineMaxColumn(l.lineNumber));var m=new E.Range(c,d,u,p);i[r]=m.isEmpty()?null:new S.ReplaceCommand(m,"")}else i[r]=null;return new n.EditOperationResult(i,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})},t}();e.DeleteOperations=t}),define(s[119],n([1,0,10,73,39,2,9,167,43,60,441,94]),function(p,e,t,N,T,I,i,s,r,u,o,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function M(){}return M.indent=function(a,e,t){for(var n=[],i=0,o=t.length;i<o;i++)n[i]=new s.ShiftCommand(t[i],{isUnshift:!1,tabSize:a.tabSize,oneIndent:a.oneIndent,useTabStops:a.useTabStops});return n},M.outdent=function(a,e,t){for(var n=[],i=0,o=t.length;i<o;i++)n[i]=new s.ShiftCommand(t[i],{isUnshift:!0,tabSize:a.tabSize,oneIndent:a.oneIndent,useTabStops:a.useTabStops});return n},M.shiftIndent=function(a,e,t){t=t||1;for(var n=s.ShiftCommand.shiftIndentCount(e,e.length+t,a.tabSize),i="",o=0;o<n;o++)i+="\t";return i},M.unshiftIndent=function(a,e,t){t=t||1;for(var n=s.ShiftCommand.unshiftIndentCount(e,e.length+t,a.tabSize),i="",o=0;o<n;o++)i+="\t";return i},M._distributedPaste=function(o,e,t,n){for(var i=[],r=0,a=t.length;r<a;r++)i[r]=new N.ReplaceCommand(t[r],n[r]);return new T.EditOperationResult(i,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})},M._simplePaste=function(o,e,t,n,i){for(var r=[],a=0,s=t.length;a<s;a++){var l=t[a],d=l.getPosition();if(i&&n.indexOf("\n")!==n.length-1&&(i=!1),i&&l.startLineNumber!==l.endLineNumber&&(i=!1),i&&l.startColumn===e.getLineMinColumn(l.startLineNumber)&&l.endColumn===e.getLineMaxColumn(l.startLineNumber)&&(i=!1),i){var c=new I.Range(d.lineNumber,1,d.lineNumber,1);r[a]=new N.ReplaceCommand(c,n)}else r[a]=new N.ReplaceCommand(l,n)}return new T.EditOperationResult(r,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})},M._distributePasteToCursors=function(r,e,t){if(e)return null;if(1===r.length)return null;for(var n=0;n<r.length;n++)if(r[n].startLineNumber!==r[n].endLineNumber)return null;var i=t.split(/\r\n|\r|\n/);return i.length===r.length?i:null},M.paste=function(r,e,t,n,i){var o=this._distributePasteToCursors(t,n,i);return o?(t=t.sort(I.Range.compareRangesUsingStarts),this._distributedPaste(r,e,t,o)):this._simplePaste(r,e,t,i,n)},M._goodIndentForLine=function(e,t,n){var s=r.LanguageConfigurationRegistry.getInheritIndentForLine(t,n,!1),l,o;if(s)l=s.action,o=s.indentation;else if(1<n){var a=n-1;for(a=n-1;1<=a;a--){var d=t.getLineContent(a);if(0<=i.lastNonWhitespaceIndex(d))break}if(1>a)return null;var c=t.getLineMaxColumn(a),p=r.LanguageConfigurationRegistry.getEnterAction(t,new I.Range(a,c,a,c));p&&(o=p.indentation,(l=p.enterAction)&&(o+=l.appendText))}return l&&(l===u.IndentAction.Indent&&(o=M.shiftIndent(e,o)),l===u.IndentAction.Outdent&&(o=M.unshiftIndent(e,o)),o=e.normalizeIndentation(o)),o||null},M._replaceJumpToNextIndent=function(o,e,t,n){var i="",r=t.getStartPosition();if(o.insertSpaces)for(var a=T.CursorColumns.visibleColumnFromColumn2(o,e,r),s=o.tabSize,l=0;l<s-a%s;l++)i+=" ";else i="\t";return new N.ReplaceCommand(t,i,n)},M.tab=function(r,e,t){for(var n=[],o=0,a=t.length,l;o<a;o++)if(l=t[o],l.isEmpty()){var c=e.getLineContent(l.startLineNumber);if(/^\s*$/.test(c)){var d=this._goodIndentForLine(r,e,l.startLineNumber);d=d||"\t";var u=r.normalizeIndentation(d);if(!i.startsWith(c,u)){n[o]=new N.ReplaceCommand(new I.Range(l.startLineNumber,1,l.startLineNumber,c.length+1),u,!0);continue}}n[o]=this._replaceJumpToNextIndent(r,e,l,!0)}else{if(l.startLineNumber===l.endLineNumber){var p=e.getLineMaxColumn(l.startLineNumber);if(1!==l.startColumn||l.endColumn!==p){n[o]=this._replaceJumpToNextIndent(r,e,l,!1);continue}}n[o]=new s.ShiftCommand(l,{isUnshift:!1,tabSize:r.tabSize,oneIndent:r.oneIndent,useTabStops:r.useTabStops})}return n},M.replacePreviousChar=function(o,e,t,n,i){for(var r=[],a=0,s=t.length,l;a<s;a++)if(l=t[a],l.isEmpty()){var d=l.getPosition(),c=G(1,d.column-i),p=new I.Range(d.lineNumber,c,d.lineNumber,d.column);r[a]=new N.ReplaceCommand(p,n)}else r[a]=null;return new T.EditOperationResult(r,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1})},M._typeCommand=function(o,e,t){return t?new N.ReplaceCommandWithoutChangingPosition(o,e,!0):new N.ReplaceCommand(o,e,!0)},M._enter=function(o,e,t,n){var a=r.LanguageConfigurationRegistry.getEnterAction(e,n);if(a){var s=a.enterAction,d=a.indentation;if(s.indentAction===u.IndentAction.None)return M._typeCommand(n,"\n"+o.normalizeIndentation(d+s.appendText),t);if(s.indentAction===u.IndentAction.Indent)return M._typeCommand(n,"\n"+o.normalizeIndentation(d+s.appendText),t);if(s.indentAction===u.IndentAction.IndentOutdent){var p=o.normalizeIndentation(d),c=o.normalizeIndentation(d+s.appendText),g="\n"+c+"\n"+p;return t?new N.ReplaceCommandWithoutChangingPosition(n,g,!0):new N.ReplaceCommandWithOffsetCursorState(n,g,-1,c.length-p.length,!0)}if(s.indentAction===u.IndentAction.Outdent){var m=M.unshiftIndent(o,d);return M._typeCommand(n,"\n"+o.normalizeIndentation(m+s.appendText),t)}}var h=r.LanguageConfigurationRegistry.getIndentForEnter(e,n,{unshiftIndent:function(e){return M.unshiftIndent(o,e)},shiftIndent:function(e){return M.shiftIndent(o,e)},normalizeIndentation:function(t){return o.normalizeIndentation(t)}},o.autoIndent),_=e.getLineContent(n.startLineNumber),f=i.getLeadingWhitespace(_).substring(0,n.startColumn-1);if(h){var y=T.CursorColumns.visibleColumnFromColumn2(o,e,n.getEndPosition()),C=n.endColumn,b="\n";f!==o.normalizeIndentation(h.beforeEnter)&&(b=o.normalizeIndentation(h.beforeEnter)+_.substring(f.length,n.startColumn-1)+"\n",n=new I.Range(n.startLineNumber,1,n.endLineNumber,n.endColumn));var v=e.getLineContent(n.endLineNumber),S=i.firstNonWhitespaceIndex(v);if(n=0<=S?n.setEndPosition(n.endLineNumber,G(n.endColumn,S+1)):n.setEndPosition(n.endLineNumber,e.getLineMaxColumn(n.endLineNumber)),t)return new N.ReplaceCommandWithoutChangingPosition(n,b+o.normalizeIndentation(h.afterEnter),!0);var E=0;return C<=S+1&&(o.insertSpaces||(y=l(y/o.tabSize)),E=q(y+1-o.normalizeIndentation(h.afterEnter).length-1,0)),new N.ReplaceCommandWithOffsetCursorState(n,b+o.normalizeIndentation(h.afterEnter),0,E,!0)}return M._typeCommand(n,"\n"+o.normalizeIndentation(f),t)},M._runAutoIndentType=function(e,t,n,i){var o=r.LanguageConfigurationRegistry.getIndentationAtPosition(t,n.startLineNumber,n.startColumn),s=r.LanguageConfigurationRegistry.getIndentActionForType(t,n,i,{shiftIndent:function(t){return M.shiftIndent(e,t)},unshiftIndent:function(t){return M.unshiftIndent(e,t)}});if(null===s)return null;if(s!==e.normalizeIndentation(o)){var a=t.getLineFirstNonWhitespaceColumn(n.startLineNumber);return 0===a?M._typeCommand(new I.Range(n.startLineNumber,0,n.endLineNumber,n.endColumn),e.normalizeIndentation(s)+i,!1):M._typeCommand(new I.Range(n.startLineNumber,0,n.endLineNumber,n.endColumn),e.normalizeIndentation(s)+t.getLineContent(n.startLineNumber).substring(a-1,n.startColumn-1)+i,!1)}return null},M._isAutoClosingCloseCharType=function(d,e,t,n){if(!d.autoClosingBrackets||!d.autoClosingPairsClose.hasOwnProperty(n))return!1;for(var i=0,o=t.length,r;i<o;i++){if(r=t[i],!r.isEmpty())return!1;var s=r.getPosition();if(e.getLineContent(s.lineNumber).charAt(s.column-1)!==n)return!1}return!0},M._runAutoClosingCloseCharType=function(o,e,t,n){for(var i=[],r=0,a=t.length;r<a;r++){var s=t[r].getPosition(),l=new I.Range(s.lineNumber,s.column,s.lineNumber,s.column+1);i[r]=new N.ReplaceCommand(l,n)}return new T.EditOperationResult(i,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1})},M._isAutoClosingOpenCharType=function(d,e,u,i){if(!d.autoClosingBrackets||!d.autoClosingPairsOpen.hasOwnProperty(i))return!1;for(var o=0,b=u.length,s;o<b;o++){if(s=u[o],!s.isEmpty())return!1;var a=s.getPosition(),l=e.getLineContent(a.lineNumber);if(("'"===i||"\""===i)&&1<a.column){var c=n.getMapForWordSeparators(d.wordSeparators),h=l.charCodeAt(a.column-2);if(0===c.get(h))return!1}var p=l.charAt(a.column-1);if(p){var f=d.autoClosingPairsOpen[i]===i,g=!1;for(var S in d.autoClosingPairsClose){var v=d.autoClosingPairsOpen[S]===S;if((f||!v)&&p===S){g=!0;break}}if(!g&&!/\s/.test(p))return!1}e.forceTokenization(a.lineNumber);var E=e.getLineTokens(a.lineNumber),y=!1;try{y=r.LanguageConfigurationRegistry.shouldAutoClosePair(i,E,a.column)}catch(o){t.onUnexpectedError(o)}if(!y)return!1}return!0},M._runAutoClosingOpenCharType=function(o,e,t,n){for(var i=[],r=0,a=t.length;r<a;r++){var s=t[r],d=o.autoClosingPairsOpen[n];i[r]=new N.ReplaceCommandWithOffsetCursorState(s,n+d,0,-d.length)}return new T.EditOperationResult(i,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})},M._isSurroundSelectionType=function(p,e,t,n){if(!p.autoClosingBrackets||!p.surroundingPairs.hasOwnProperty(n))return!1;for(var i=0,o=t.length,r;i<o;i++){if(r=t[i],r.isEmpty())return!1;for(var s=!0,a=r.startLineNumber;a<=r.endLineNumber;a++){var u=e.getLineContent(a),l=a===r.startLineNumber?r.startColumn-1:0,c=a===r.endLineNumber?r.endColumn-1:u.length,d=u.substring(l,c);if(/[^ \t]/.test(d)){s=!1;break}}if(s)return!1}return!0},M._runSurroundSelectionType=function(d,e,t,n){for(var i=[],r=0,s=t.length;r<s;r++){var a=t[r],p=d.surroundingPairs[n];i[r]=new o.SurroundSelectionCommand(a,n,p)}return new T.EditOperationResult(i,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})},M._typeInterceptorElectricChar=function(o,e,n,a){if(!o.electricChars.hasOwnProperty(a)||!n.isEmpty())return null;var s=n.getPosition();e.forceTokenization(s.lineNumber);var l=e.getLineTokens(s.lineNumber),c;try{c=r.LanguageConfigurationRegistry.onElectricCharacter(a,l,s.column)}catch(o){t.onUnexpectedError(o)}if(!c)return null;if(c.appendText)return b=new N.ReplaceCommandWithOffsetCursorState(n,a+c.appendText,0,-c.appendText.length),new T.EditOperationResult([b],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0});if(c.matchOpenBracket){var u=(l.getLineContent()+a).lastIndexOf(c.matchOpenBracket)+1,h=e.findMatchingBracketUp(c.matchOpenBracket,{lineNumber:s.lineNumber,column:u});if(h){if(h.startLineNumber===s.lineNumber)return null;var f=e.getLineContent(h.startLineNumber),g=i.getLeadingWhitespace(f),m=o.normalizeIndentation(g),v=e.getLineContent(s.lineNumber),_=e.getLineFirstNonWhitespaceColumn(s.lineNumber)||s.column,y=m+v.substring(_-1,s.column-1)+a,C=new I.Range(s.lineNumber,1,s.lineNumber,s.column),b=new N.ReplaceCommand(C,y);return new T.EditOperationResult([b],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null},M.typeWithInterceptors=function(e,t,o,n){if("\n"===n){for(var i=[],r=0,a=o.length;r<a;r++)i[r]=M._enter(e,t,!1,o[r]);return new T.EditOperationResult(i,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(e.autoIndent){var s=this._runAutoIndentType(e,t,o[0],n);if(s)return new T.EditOperationResult([s],{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingCloseCharType(e,t,o,n))return this._runAutoClosingCloseCharType(e,t,o,n);if(this._isAutoClosingOpenCharType(e,t,o,n))return this._runAutoClosingOpenCharType(e,t,o,n);if(this._isSurroundSelectionType(e,t,o,n))return this._runSurroundSelectionType(e,t,o,n);if(1===o.length){var d=this._typeInterceptorElectricChar(e,t,o[0],n);if(d)return d}return this.typeWithoutInterceptors(e,t,o,n)},M.typeWithoutInterceptors=function(o,e,t,n){for(var i=[],r=0,a=t.length;r<a;r++)i[r]=new N.ReplaceCommand(t[r],n);return new T.EditOperationResult(i,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1})},M.lineInsertBefore=function(i,e,t){for(var n=[],o=0,r=t.length,a;o<r;o++)if(a=t[o].positionLineNumber,1===a)n[o]=new N.ReplaceCommandWithoutChangingPosition(new I.Range(1,1,1,1),"\n");else{a--;var s=e.getLineMaxColumn(a);n[o]=this._enter(i,e,!1,new I.Range(a,s,a,s))}return n},M.lineInsertAfter=function(r,e,t){for(var n=[],i=0,o=t.length;i<o;i++){var s=t[i].positionLineNumber,a=e.getLineMaxColumn(s);n[i]=this._enter(r,e,!1,new I.Range(s,a,s,a))}return n},M.lineBreakInsert=function(a,e,t){for(var n=[],i=0,o=t.length;i<o;i++)n[i]=this._enter(a,e,!0,t[i]);return n},M}();e.TypeOperations=a}),define(s[172],n([1,0,39,12,94,9,2]),function(d,e,t,S,n,l,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o;!function(t){t[t.None=0]="None",t[t.Regular=1]="Regular",t[t.Separator=2]="Separator"}(o||(o={})),!function(t){t[t.WordStart=0]="WordStart",t[t.WordEnd=1]="WordEnd"}(e.WordNavigationType||(e.WordNavigationType={}));var i=function(){function i(){}return i._createWord=function(o,e,r,a){return{start:r,end:a,wordType:e}},i._findPreviousWordOnLine=function(o,e,t){var n=e.getLineContent(t.lineNumber);return this._doFindPreviousWordOnLine(n,o,t)},i._doFindPreviousWordOnLine=function(a,e,t){for(var n=0,i=t.column-2;0<=i;i--){var o=a.charCodeAt(i),r=e.get(o);if(0===r){if(2===n)return this._createWord(a,n,i+1,this._findEndOfWord(a,e,n,i+1));n=1}else if(2===r){if(1===n)return this._createWord(a,n,i+1,this._findEndOfWord(a,e,n,i+1));n=2}else if(1===r&&0!==n)return this._createWord(a,n,i+1,this._findEndOfWord(a,e,n,i+1))}return 0===n?null:this._createWord(a,n,0,this._findEndOfWord(a,e,n,0))},i._findEndOfWord=function(d,e,t,n){for(var i=d.length,o=n;o<i;o++){var r=d.charCodeAt(o),s=e.get(r);if(1===s)return o;if(1===t&&2===s)return o;if(2===t&&0===s)return o}return i},i._findNextWordOnLine=function(o,e,t){var n=e.getLineContent(t.lineNumber);return this._doFindNextWordOnLine(n,o,t)},i._doFindNextWordOnLine=function(d,e,t){for(var n=0,i=d.length,o=t.column-1;o<i;o++){var r=d.charCodeAt(o),s=e.get(r);if(0===s){if(2===n)return this._createWord(d,n,this._findStartOfWord(d,e,n,o-1),o);n=1}else if(2===s){if(1===n)return this._createWord(d,n,this._findStartOfWord(d,e,n,o-1),o);n=2}else if(1===s&&0!==n)return this._createWord(d,n,this._findStartOfWord(d,e,n,o-1),o)}return 0===n?null:this._createWord(d,n,this._findStartOfWord(d,e,n,i-1),i)},i._findStartOfWord=function(a,e,t,n){for(var i=n;0<=i;i--){var o=a.charCodeAt(i),r=e.get(o);if(1===r)return i+1;if(1===t&&2===r)return i+1;if(2===t&&0===r)return i+1}return 0},i.moveWordLeft=function(e,t,n,o){var r=n.lineNumber,s=n.column;1===s&&1<r&&(r-=1,s=t.getLineMaxColumn(r));var a=i._findPreviousWordOnLine(e,t,new S.Position(r,s));return 0===o?s=a?a.start+1:1:(a&&s<=a.end+1&&(a=i._findPreviousWordOnLine(e,t,new S.Position(r,a.start+1))),s=a?a.end+1:1),new S.Position(r,s)},i.moveWordRight=function(e,t,n,o){var r=n.lineNumber,s=n.column;s===t.getLineMaxColumn(r)&&r<t.getLineCount()&&(r+=1,s=1);var a=i._findNextWordOnLine(e,t,new S.Position(r,s));return 1===o?s=a?a.end+1:t.getLineMaxColumn(r):(a&&s>=a.start+1&&(a=i._findNextWordOnLine(e,t,new S.Position(r,a.end+1))),s=a?a.start+1:t.getLineMaxColumn(r)),new S.Position(r,s)},i._deleteWordLeftWhitespace=function(r,e){var t=r.getLineContent(e.lineNumber),n=e.column-2,i=l.lastNonWhitespaceIndex(t,n);return i+1<n?new _.Range(e.lineNumber,i+2,e.lineNumber,e.column):null},i.deleteWordLeft=function(e,t,n,o,r){if(!n.isEmpty())return n;var a=new S.Position(n.positionLineNumber,n.positionColumn),s=a.lineNumber,l=a.column;if(1===s&&1===l)return null;if(o){var p=this._deleteWordLeftWhitespace(t,a);if(p)return p}var d=i._findPreviousWordOnLine(e,t,a);return 0===r?d?l=d.start+1:1<l?l=1:(s--,l=t.getLineMaxColumn(s)):(d&&l<=d.end+1&&(d=i._findPreviousWordOnLine(e,t,new S.Position(s,d.start+1))),d?l=d.end+1:1<l?l=1:(s--,l=t.getLineMaxColumn(s))),new _.Range(s,l,a.lineNumber,a.column)},i._findFirstNonWhitespaceChar=function(r,e){for(var t=r.length,n=e,i;n<t;n++)if(i=r.charAt(n)," "!==i&&"\t"!==i)return n;return t},i._deleteWordRightWhitespace=function(r,e){var t=r.getLineContent(e.lineNumber),n=e.column-1,i=this._findFirstNonWhitespaceChar(t,n);return n+1<i?new _.Range(e.lineNumber,e.column,e.lineNumber,i+1):null},i.deleteWordRight=function(e,t,n,o,r){if(!n.isEmpty())return n;var a=new S.Position(n.positionLineNumber,n.positionColumn),s=a.lineNumber,l=a.column,c=t.getLineCount(),d=t.getLineMaxColumn(s);if(s===c&&l===d)return null;if(o){var u=this._deleteWordRightWhitespace(t,a);if(u)return u}var p=i._findNextWordOnLine(e,t,a);return 1===r?p?l=p.end+1:l<d||s===c?l=d:(s++,l=(p=i._findNextWordOnLine(e,t,new S.Position(s,1)))?p.start+1:t.getLineMaxColumn(s)):(p&&l>=p.start+1&&(p=i._findNextWordOnLine(e,t,new S.Position(s,p.end+1))),p?l=p.start+1:l<d||s===c?l=d:(s++,l=(p=i._findNextWordOnLine(e,t,new S.Position(s,1)))?p.start+1:t.getLineMaxColumn(s))),new _.Range(s,l,a.lineNumber,a.column)},i.word=function(e,o,r,a,s){var l=n.getMapForWordSeparators(e.wordSeparators),c=i._findPreviousWordOnLine(l,o,s),d=c&&1===c.wordType&&c.start<s.column-1&&s.column-1<=c.end,h=i._findNextWordOnLine(l,o,s),p=h&&1===h.wordType&&h.start<s.column-1&&s.column-1<=h.end;if(!a||!r.hasSelection()){var f,g;return d?(f=c.start+1,g=c.end+1):p?(f=h.start+1,g=h.end+1):(f=c?c.end+1:1,g=h?h.start+1:o.getLineMaxColumn(s.lineNumber)),new t.SingleCursorState(new _.Range(s.lineNumber,f,s.lineNumber,g),0,new S.Position(s.lineNumber,g),0)}var m,v;d?(m=c.start+1,v=c.end+1):p?(m=h.start+1,v=h.end+1):(m=s.column,v=s.column);var E=s.lineNumber,C;if(s.isBeforeOrEqual(r.selectionStart.getStartPosition()))C=m,y=new S.Position(E,C),r.selectionStart.containsPosition(y)&&(C=r.selectionStart.endColumn);else{C=v;var y=new S.Position(E,C);r.selectionStart.containsPosition(y)&&(C=r.selectionStart.startColumn)}return r.move(r.hasSelection(),E,C,0)},i}();e.WordOperations=i}),define(s[173],n([1,0,39,12,2,169,172,29]),function(d,e,_,n,i,p,l,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function t(){}return t.addCursorDown=function(n,e){for(var t=[],i=0,o=0,r=e.length,a;o<r;o++)a=e[o],t[i++]=new _.CursorState(a.modelState,a.viewState),t[i++]=_.CursorState.fromViewState(p.MoveOperations.translateDown(n.config,n.viewModel,a.viewState));return t},t.addCursorUp=function(n,e){for(var t=[],i=0,o=0,r=e.length,a;o<r;o++)a=e[o],t[i++]=new _.CursorState(a.modelState,a.viewState),t[i++]=_.CursorState.fromViewState(p.MoveOperations.translateUp(n.config,n.viewModel,a.viewState));return t},t.moveToBeginningOfLine=function(a,e,t){for(var n=[],i=0,o=e.length,r;i<o;i++)r=e[i],n[i]=this._moveToLineStart(a,r,t);return n},t._moveToLineStart=function(a,e,t){var n=e.viewState.position.column,i=n===e.modelState.position.column,o=e.viewState.position.lineNumber,r=n===a.viewModel.getLineFirstNonWhitespaceColumn(o);return i||r?this._moveToLineStartByModel(a,e,t):this._moveToLineStartByView(a,e,t)},t._moveToLineStartByView=function(o,e,t){return _.CursorState.fromViewState(p.MoveOperations.moveToBeginningOfLine(o.config,o.viewModel,e.viewState,t))},t._moveToLineStartByModel=function(o,e,t){return _.CursorState.fromModelState(p.MoveOperations.moveToBeginningOfLine(o.config,o.model,e.modelState,t))},t.moveToEndOfLine=function(a,e,t){for(var n=[],i=0,o=e.length,r;i<o;i++)r=e[i],n[i]=this._moveToLineEnd(a,r,t);return n},t._moveToLineEnd=function(d,e,t){var n=e.viewState.position,i=d.viewModel.getLineMaxColumn(n.lineNumber),o=n.column===i,r=e.modelState.position,s=d.model.getLineMaxColumn(r.lineNumber),a=i-n.column==s-r.column;return o||a?this._moveToLineEndByModel(d,e,t):this._moveToLineEndByView(d,e,t)},t._moveToLineEndByView=function(o,e,t){return _.CursorState.fromViewState(p.MoveOperations.moveToEndOfLine(o.config,o.viewModel,e.viewState,t))},t._moveToLineEndByModel=function(o,e,t){return _.CursorState.fromModelState(p.MoveOperations.moveToEndOfLine(o.config,o.model,e.modelState,t))},t.expandLineSelection=function(o,e){for(var t=[],r=0,s=e.length;r<s;r++){var a=e[r].viewState.selection,p=a.startLineNumber,l=o.viewModel.getLineCount(),c=a.endLineNumber,d=void 0;c===l?d=o.viewModel.getLineMaxColumn(l):(c++,d=1),t[r]=_.CursorState.fromViewState(new _.SingleCursorState(new i.Range(p,1,p,1),0,new n.Position(c,d),0))}return t},t.moveToBeginningOfBuffer=function(n,e,t){for(var i=[],o=0,r=e.length,a;o<r;o++)a=e[o],i[o]=_.CursorState.fromModelState(p.MoveOperations.moveToBeginningOfBuffer(n.config,n.model,a.modelState,t));return i},t.moveToEndOfBuffer=function(n,e,t){for(var i=[],o=0,r=e.length,a;o<r;o++)a=e[o],i[o]=_.CursorState.fromModelState(p.MoveOperations.moveToEndOfBuffer(n.config,n.model,a.modelState,t));return i},t.selectAll=function(o,e){if(o.model.hasEditableRange()){var t=o.model.getEditableRange();if(!e.modelState.selection.equalsRange(t))return _.CursorState.fromModelState(new _.SingleCursorState(new i.Range(t.startLineNumber,t.startColumn,t.startLineNumber,t.startColumn),0,new n.Position(t.endLineNumber,t.endColumn),0))}var r=o.model.getLineCount(),s=o.model.getLineMaxColumn(r);return _.CursorState.fromModelState(new _.SingleCursorState(new i.Range(1,1,1,1),0,new n.Position(r,s),0))},t.line=function(o,e,t,y,s){var a=o.model.validatePosition(y),u=s?o.validateViewPosition(new n.Position(s.lineNumber,s.column),a):o.convertModelPositionToViewPosition(a);if(!t||!e.modelState.hasSelection()){var l=o.model.getLineCount(),c=a.lineNumber+1,d=1;return c>l&&(c=l,d=o.model.getLineMaxColumn(c)),_.CursorState.fromModelState(new _.SingleCursorState(new i.Range(a.lineNumber,1,c,d),0,new n.Position(c,d),0))}var h=e.modelState.selectionStart.getStartPosition().lineNumber;if(a.lineNumber<h)return _.CursorState.fromViewState(e.viewState.move(e.modelState.hasSelection(),u.lineNumber,1,0));if(a.lineNumber>h){var l=o.viewModel.getLineCount(),p=u.lineNumber+1,f=1;return p>l&&(p=l,f=o.viewModel.getLineMaxColumn(p)),_.CursorState.fromViewState(e.viewState.move(e.modelState.hasSelection(),p,f,0))}var g=e.modelState.selectionStart.getEndPosition();return _.CursorState.fromModelState(e.modelState.move(e.modelState.hasSelection(),g.lineNumber,g.column,0))},t.word=function(n,e,t,i){var o=n.model.validatePosition(i);return _.CursorState.fromModelState(l.WordOperations.word(n.config,n.model,e.modelState,t,o))},t.cancelSelection=function(o,e){if(!e.modelState.hasSelection())return new _.CursorState(e.modelState,e.viewState);var t=e.viewState.position.lineNumber,r=e.viewState.position.column;return _.CursorState.fromViewState(new _.SingleCursorState(new i.Range(t,r,t,r),0,new n.Position(t,r),0))},t.moveTo=function(i,e,t,o,r){var s=i.model.validatePosition(o),a=r?i.validateViewPosition(new n.Position(r.lineNumber,r.column),s):i.convertModelPositionToViewPosition(s);return _.CursorState.fromViewState(e.viewState.move(t,a.lineNumber,a.column,0))},t.move=function(p,e,t){var n=t.select,i=t.value;switch(t.direction){case 0:return 4===t.unit?this._moveHalfLineLeft(p,e,n):this._moveLeft(p,e,n,i);case 1:return 4===t.unit?this._moveHalfLineRight(p,e,n):this._moveRight(p,e,n,i);case 2:return 2===t.unit?this._moveUpByViewLines(p,e,n,i):this._moveUpByModelLines(p,e,n,i);case 3:return 2===t.unit?this._moveDownByViewLines(p,e,n,i):this._moveDownByModelLines(p,e,n,i);case 4:return this._moveToViewMinColumn(p,e,n);case 5:return this._moveToViewFirstNonWhitespaceColumn(p,e,n);case 6:return this._moveToViewCenterColumn(p,e,n);case 7:return this._moveToViewMaxColumn(p,e,n);case 8:return this._moveToViewLastNonWhitespaceColumn(p,e,n);case 9:var o=e[0],r=p.getCompletelyVisibleModelRange(),s=this._firstLineNumberInRange(p.model,r,i),a=p.model.getLineFirstNonWhitespaceColumn(s);return[this._moveToModelPosition(p,o,n,s,a)];case 11:var o=e[0],r=p.getCompletelyVisibleModelRange(),s=this._lastLineNumberInRange(p.model,r,i),a=p.model.getLineFirstNonWhitespaceColumn(s);return[this._moveToModelPosition(p,o,n,s,a)];case 10:var o=e[0],r=p.getCompletelyVisibleModelRange(),s=w((r.startLineNumber+r.endLineNumber)/2),a=p.model.getLineFirstNonWhitespaceColumn(s);return[this._moveToModelPosition(p,o,n,s,a)];case 12:for(var u=p.getCompletelyVisibleViewRange(),l=[],c=0,d=e.length;c<d;c++)o=e[c],l[c]=this.findPositionInViewportIfOutside(p,o,u,n);return l;}return null},t.findPositionInViewportIfOutside=function(n,e,t,i){var o=e.viewState.position.lineNumber;if(t.startLineNumber<=o&&o<=t.endLineNumber-1)return new _.CursorState(e.modelState,e.viewState);o>t.endLineNumber-1&&(o=t.endLineNumber-1),o<t.startLineNumber&&(o=t.startLineNumber);var r=n.viewModel.getLineFirstNonWhitespaceColumn(o);return this._moveToViewPosition(n,e,i,o,r)},t._firstLineNumberInRange=function(o,e,t){var n=e.startLineNumber;return e.startColumn!==o.getLineMinColumn(n)&&n++,q(e.endLineNumber,n+t-1)},t._lastLineNumberInRange=function(o,e,t){var n=e.startLineNumber;return e.startColumn!==o.getLineMinColumn(n)&&n++,G(n,e.endLineNumber-t+1)},t._moveLeft=function(n,e,t,i){for(var o=[],r=0,a=e.length,s;r<a;r++)s=e[r],o[r]=_.CursorState.fromViewState(p.MoveOperations.moveLeft(n.config,n.viewModel,s.viewState,t,i));return o},t._moveHalfLineLeft=function(n,e,t){for(var i=[],o=0,r=e.length;o<r;o++){var a=e[o],s=a.viewState.position.lineNumber,d=w(n.viewModel.getLineContent(s).length/2);i[o]=_.CursorState.fromViewState(p.MoveOperations.moveLeft(n.config,n.viewModel,a.viewState,t,d))}return i},t._moveRight=function(n,e,t,i){for(var o=[],r=0,a=e.length,s;r<a;r++)s=e[r],o[r]=_.CursorState.fromViewState(p.MoveOperations.moveRight(n.config,n.viewModel,s.viewState,t,i));return o},t._moveHalfLineRight=function(n,e,t){for(var i=[],o=0,r=e.length;o<r;o++){var a=e[o],s=a.viewState.position.lineNumber,d=w(n.viewModel.getLineContent(s).length/2);i[o]=_.CursorState.fromViewState(p.MoveOperations.moveRight(n.config,n.viewModel,a.viewState,t,d))}return i},t._moveDownByViewLines=function(n,e,t,i){for(var o=[],r=0,a=e.length,s;r<a;r++)s=e[r],o[r]=_.CursorState.fromViewState(p.MoveOperations.moveDown(n.config,n.viewModel,s.viewState,t,i));return o},t._moveDownByModelLines=function(n,e,t,i){for(var o=[],r=0,a=e.length,s;r<a;r++)s=e[r],o[r]=_.CursorState.fromModelState(p.MoveOperations.moveDown(n.config,n.model,s.modelState,t,i));return o},t._moveUpByViewLines=function(n,e,t,i){for(var o=[],r=0,a=e.length,s;r<a;r++)s=e[r],o[r]=_.CursorState.fromViewState(p.MoveOperations.moveUp(n.config,n.viewModel,s.viewState,t,i));return o},t._moveUpByModelLines=function(n,e,t,i){for(var o=[],r=0,a=e.length,s;r<a;r++)s=e[r],o[r]=_.CursorState.fromModelState(p.MoveOperations.moveUp(n.config,n.model,s.modelState,t,i));return o},t._moveToViewPosition=function(n,e,t,i,o){return _.CursorState.fromViewState(e.viewState.move(t,i,o,0))},t._moveToModelPosition=function(n,e,t,i,o){return _.CursorState.fromModelState(e.modelState.move(t,i,o,0))},t._moveToViewMinColumn=function(d,e,t){for(var n=[],i=0,o=e.length;i<o;i++){var r=e[i],s=r.viewState.position.lineNumber,a=d.viewModel.getLineMinColumn(s);n[i]=this._moveToViewPosition(d,r,t,s,a)}return n},t._moveToViewFirstNonWhitespaceColumn=function(d,e,t){for(var n=[],i=0,o=e.length;i<o;i++){var r=e[i],s=r.viewState.position.lineNumber,a=d.viewModel.getLineFirstNonWhitespaceColumn(s);n[i]=this._moveToViewPosition(d,r,t,s,a)}return n},t._moveToViewCenterColumn=function(d,e,t){for(var n=[],i=0,o=e.length;i<o;i++){var r=e[i],s=r.viewState.position.lineNumber,a=w((d.viewModel.getLineMaxColumn(s)+d.viewModel.getLineMinColumn(s))/2);n[i]=this._moveToViewPosition(d,r,t,s,a)}return n},t._moveToViewMaxColumn=function(d,e,t){for(var n=[],i=0,o=e.length;i<o;i++){var r=e[i],s=r.viewState.position.lineNumber,a=d.viewModel.getLineMaxColumn(s);n[i]=this._moveToViewPosition(d,r,t,s,a)}return n},t._moveToViewLastNonWhitespaceColumn=function(d,e,t){for(var n=[],i=0,o=e.length;i<o;i++){var r=e[i],s=r.viewState.position.lineNumber,a=d.viewModel.getLineLastNonWhitespaceColumn(s);n[i]=this._moveToViewPosition(d,r,t,s,a)}return n},t}();e.CursorMoveCommands=t,!function(r){r.description={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'to': A mandatory logical position value providing where to move the cursor.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'left', 'right', 'up', 'down'\n\t\t\t\t\t\t'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'\n\t\t\t\t\t\t'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter',\n\t\t\t\t\t\t'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'by': Unit to move. Default is computed based on 'to' value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'line', 'wrappedLine', 'character', 'halfLine'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'value': Number of units to move. Default is '1'.\n\t\t\t\t\t* 'select': If 'true' makes the selection. Default is 'false'.\n\t\t\t\t",constraint:function(n){if(!o.isObject(n))return!1;var e=n;return o.isString(e.to)&&(o.isUndefined(e.select)||o.isBoolean(e.select))&&(o.isUndefined(e.by)||o.isString(e.by))&&(o.isUndefined(e.value)||o.isNumber(e.value))}}]},r.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},r.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"},r.parse=function(e){if(!e.to)return null;var t;switch(e.to){case r.RawDirection.Left:t=0;break;case r.RawDirection.Right:t=1;break;case r.RawDirection.Up:t=2;break;case r.RawDirection.Down:t=3;break;case r.RawDirection.WrappedLineStart:t=4;break;case r.RawDirection.WrappedLineFirstNonWhitespaceCharacter:t=5;break;case r.RawDirection.WrappedLineColumnCenter:t=6;break;case r.RawDirection.WrappedLineEnd:t=7;break;case r.RawDirection.WrappedLineLastNonWhitespaceCharacter:t=8;break;case r.RawDirection.ViewPortTop:t=9;break;case r.RawDirection.ViewPortBottom:t=11;break;case r.RawDirection.ViewPortCenter:t=10;break;case r.RawDirection.ViewPortIfOutside:t=12;break;default:return null;}var o=0;switch(e.by){case r.RawUnit.Line:o=1;break;case r.RawUnit.WrappedLine:o=2;break;case r.RawUnit.Character:o=3;break;case r.RawUnit.HalfLine:o=4;}return{direction:t,unit:o,select:!!e.select,value:e.value||1}},!function(t){t[t.Left=0]="Left",t[t.Right=1]="Right",t[t.Up=2]="Up",t[t.Down=3]="Down",t[t.WrappedLineStart=4]="WrappedLineStart",t[t.WrappedLineFirstNonWhitespaceCharacter=5]="WrappedLineFirstNonWhitespaceCharacter",t[t.WrappedLineColumnCenter=6]="WrappedLineColumnCenter",t[t.WrappedLineEnd=7]="WrappedLineEnd",t[t.WrappedLineLastNonWhitespaceCharacter=8]="WrappedLineLastNonWhitespaceCharacter",t[t.ViewPortTop=9]="ViewPortTop",t[t.ViewPortCenter=10]="ViewPortCenter",t[t.ViewPortBottom=11]="ViewPortBottom",t[t.ViewPortIfOutside=12]="ViewPortIfOutside"}(r.Direction||(r.Direction={})),!function(t){t[t.None=0]="None",t[t.Line=1]="Line",t[t.WrappedLine=2]="WrappedLine",t[t.Character=3]="Character",t[t.HalfLine=4]="HalfLine"}(r.Unit||(r.Unit={}))}(e.CursorMove||(e.CursorMove={}))}),define(s[317],n([1,0,39,12,2,22]),function(a,e,g,n,i,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function t(t){this._setState(t,new g.SingleCursorState(new i.Range(1,1,1,1),0,new n.Position(1,1),0),new g.SingleCursorState(new i.Range(1,1,1,1),0,new n.Position(1,1),0))}return t.prototype.dispose=function(t){t.model._removeMarker(this._selStartMarker),t.model._removeMarker(this._selEndMarker)},t.prototype.asCursorState=function(){return new g.CursorState(this.modelState,this.viewState)},t.prototype.readSelectionFromMarkers=function(i){var e=i.model._getMarker(this._selStartMarker),t=i.model._getMarker(this._selEndMarker);return this.modelState.selection.getDirection()===o.SelectionDirection.LTR?new o.Selection(e.lineNumber,e.column,t.lineNumber,t.column):new o.Selection(t.lineNumber,t.column,e.lineNumber,e.column)},t.prototype.ensureValidState=function(t){this._setState(t,this.modelState,this.viewState)},t.prototype.setState=function(o,e,t){this._setState(o,e,t)},t.prototype._setState=function(o,e,t){if(e){var r=o.model.validateRange(e.selectionStart),s=e.selectionStart.equalsRange(r)?e.selectionStartLeftoverVisibleColumns:0,a=o.model.validatePosition(e.position),u=e.position.equals(a)?e.leftoverVisibleColumns:0;e=new g.SingleCursorState(r,s,a,u)}else{var r=o.model.validateRange(o.convertViewRangeToModelRange(t.selectionStart)),a=o.model.validatePosition(o.convertViewPositionToModelPosition(t.position.lineNumber,t.position.column));e=new g.SingleCursorState(r,t.selectionStartLeftoverVisibleColumns,a,t.leftoverVisibleColumns)}if(t){var l=o.validateViewRange(t.selectionStart,e.selectionStart),c=o.validateViewPosition(t.position,e.position);t=new g.SingleCursorState(l,e.selectionStartLeftoverVisibleColumns,c,e.leftoverVisibleColumns)}else{var d=o.convertModelPositionToViewPosition(new n.Position(e.selectionStart.startLineNumber,e.selectionStart.startColumn)),m=o.convertModelPositionToViewPosition(new n.Position(e.selectionStart.endLineNumber,e.selectionStart.endColumn)),l=new i.Range(d.lineNumber,d.column,m.lineNumber,m.column),c=o.convertModelPositionToViewPosition(e.position);t=new g.SingleCursorState(l,e.selectionStartLeftoverVisibleColumns,c,e.leftoverVisibleColumns)}this.modelState&&this.viewState&&this.modelState.equals(e)&&this.viewState.equals(t)||(this.modelState=e,this.viewState=t,this._selStartMarker=this._ensureMarker(o,this._selStartMarker,this.modelState.selection.startLineNumber,this.modelState.selection.startColumn,!0),this._selEndMarker=this._ensureMarker(o,this._selEndMarker,this.modelState.selection.endLineNumber,this.modelState.selection.endColumn,!1))},t.prototype._ensureMarker=function(r,e,t,n,i){return e?(r.model._changeMarker(e,t,n),r.model._changeMarkerStickiness(e,i),e):r.model._addMarker(0,t,n,i)},t}();e.OneCursor=t}),define(s[318],n([1,0,317,22,39]),function(a,e,t,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function o(o){this.context=o,this.primaryCursor=new t.OneCursor(o),this.secondaryCursors=[],this.lastAddedCursorIndex=0}return o.prototype.dispose=function(){this.primaryCursor.dispose(this.context),this.killSecondaryCursors()},o.prototype.updateContext=function(t){this.context=t},o.prototype.ensureValidState=function(){this.primaryCursor.ensureValidState(this.context);for(var o=0,e=this.secondaryCursors.length;o<e;o++)this.secondaryCursors[o].ensureValidState(this.context)},o.prototype.readSelectionFromMarkers=function(){var o=[];o[0]=this.primaryCursor.readSelectionFromMarkers(this.context);for(var e=0,t=this.secondaryCursors.length;e<t;e++)o[e+1]=this.secondaryCursors[e].readSelectionFromMarkers(this.context);return o},o.prototype.getAll=function(){var o=[];o[0]=this.primaryCursor.asCursorState();for(var e=0,t=this.secondaryCursors.length;e<t;e++)o[e+1]=this.secondaryCursors[e].asCursorState();return o},o.prototype.getViewPositions=function(){var o=[];o[0]=this.primaryCursor.viewState.position;for(var e=0,t=this.secondaryCursors.length;e<t;e++)o[e+1]=this.secondaryCursors[e].viewState.position;return o},o.prototype.getSelections=function(){var o=[];o[0]=this.primaryCursor.modelState.selection;for(var e=0,t=this.secondaryCursors.length;e<t;e++)o[e+1]=this.secondaryCursors[e].modelState.selection;return o},o.prototype.getViewSelections=function(){var o=[];o[0]=this.primaryCursor.viewState.selection;for(var e=0,t=this.secondaryCursors.length;e<t;e++)o[e+1]=this.secondaryCursors[e].viewState.selection;return o},o.prototype.setSelections=function(t){this.setStates(i.CursorState.fromModelSelections(t))},o.prototype.getPrimaryCursor=function(){return this.primaryCursor.asCursorState()},o.prototype.setStates=function(t){null!==t&&(this.primaryCursor.setState(this.context,t[0].modelState,t[0].viewState),this._setSecondaryStates(t.slice(1)))},o.prototype._setSecondaryStates=function(i){var e=this.secondaryCursors.length,t=i.length;if(e<t)for(var n=0;n<t-e;n++)this._addSecondaryCursor();else if(e>t)for(var n=0;n<e-t;n++)this._removeSecondaryCursor(this.secondaryCursors.length-1);for(n=0;n<t;n++)this.secondaryCursors[n].setState(this.context,i[n].modelState,i[n].viewState)},o.prototype.killSecondaryCursors=function(){this._setSecondaryStates([])},o.prototype._addSecondaryCursor=function(){this.secondaryCursors.push(new t.OneCursor(this.context)),this.lastAddedCursorIndex=this.secondaryCursors.length},o.prototype.getLastAddedCursorIndex=function(){return 0===this.secondaryCursors.length||0===this.lastAddedCursorIndex?0:this.lastAddedCursorIndex},o.prototype._removeSecondaryCursor=function(t){this.lastAddedCursorIndex>=t+1&&this.lastAddedCursorIndex--,this.secondaryCursors[t].dispose(this.context),this.secondaryCursors.splice(t,1)},o.prototype._getAll=function(){var o=[];o[0]=this.primaryCursor;for(var e=0,t=this.secondaryCursors.length;e<t;e++)o[e+1]=this.secondaryCursors[e];return o},o.prototype.normalize=function(){if(0!==this.secondaryCursors.length){for(var o=this._getAll(),e=[],t=0,E=o.length;t<E;t++)e.push({index:t,selection:o[t].modelState.selection,viewSelection:o[t].viewState.selection});e.sort(function(o,e){return o.viewSelection.startLineNumber===e.viewSelection.startLineNumber?o.viewSelection.startColumn-e.viewSelection.startColumn:o.viewSelection.startLineNumber-e.viewSelection.startLineNumber});for(var r=0;r<e.length-1;r++){var s=e[r],a=e[r+1],u=s.viewSelection,l=a.viewSelection;if(l.isEmpty()||u.isEmpty()?l.getStartPosition().isBeforeOrEqual(u.getEndPosition()):l.getStartPosition().isBefore(u.getEndPosition())){var c=s.index<a.index?r:r+1,d=s.index<a.index?r+1:r,h=e[d].index,p=e[c].index,f=e[d].selection,g=e[c].selection;if(!f.equalsSelection(g)){var m=f.plusRange(g),v=f.selectionStartLineNumber===f.startLineNumber&&f.selectionStartColumn===f.startColumn,_=g.selectionStartLineNumber===g.startLineNumber&&g.selectionStartColumn===g.startColumn,y=void 0;h===this.lastAddedCursorIndex?(y=v,this.lastAddedCursorIndex=p):y=_;var C=void 0;C=y?new n.Selection(m.startLineNumber,m.startColumn,m.endLineNumber,m.endColumn):new n.Selection(m.endLineNumber,m.endColumn,m.startLineNumber,m.startColumn),e[c].selection=C;var b=i.CursorState.fromModelSelection(C);o[p].setState(this.context,b.modelState,b.viewState)}for(var L=0;L<e.length;L++)e[L].index>h&&e[L].index--;o.splice(h,1),e.splice(d,1),this._removeSecondaryCursor(h-1),r--}}}},o}();e.CursorCollection=o}),define(s[319],n([1,0,9,2,22,43,167,263,60]),function(d,e,f,n,i,E,r,T,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function t(o,i,t){this._selection=o,this._isMovingDown=i,this._autoIndent=t,this._moveEndLineSelectionShrink=!1}return t.prototype.getEditOperations=function(o,e){var t=o.getLineCount();if((!this._isMovingDown||this._selection.endLineNumber!==t)&&(this._isMovingDown||1!==this._selection.startLineNumber)){this._moveEndPositionDown=!1;var r=this._selection;r.startLineNumber<r.endLineNumber&&1===r.endColumn&&(this._moveEndPositionDown=!0,r=r.setEndPosition(r.endLineNumber-1,o.getLineMaxColumn(r.endLineNumber-1)));var a=o.getOptions().tabSize,s=o.getOptions().insertSpaces,l=this.buildIndentConverter(a),d={getLineTokens:function(e){return o.getLineTokens(e)},getLanguageIdentifier:function(){return o.getLanguageIdentifier()},getLanguageIdAtPosition:function(e,t){return o.getLanguageIdAtPosition(e,t)},getLineContent:null};if(r.startLineNumber===r.endLineNumber&&1===o.getLineMaxColumn(r.startLineNumber)){var c=r.startLineNumber,p=this._isMovingDown?c+1:c-1;1===o.getLineMaxColumn(p)?e.addEditOperation(new n.Range(1,1,1,1),null):(e.addEditOperation(new n.Range(c,1,c,1),o.getLineContent(p)),e.addEditOperation(new n.Range(p,1,p,o.getLineMaxColumn(p)),null)),r=new i.Selection(p,1,p,1)}else{var u,g;if(this._isMovingDown){u=r.endLineNumber+1,g=o.getLineContent(u),e.addEditOperation(new n.Range(u-1,o.getLineMaxColumn(u-1),u,o.getLineMaxColumn(u)),null);var m=g;if(this.isAutoIndent(o,r)){var h=this.matchEnterRule(o,l,a,u,r.startLineNumber-1);if(null!==h){var _=f.getLeadingWhitespace(o.getLineContent(u)),y=h+T.getSpaceCnt(_,a),C=T.generateIndent(y,a,s);m=C+this.trimLeft(g)}else{d.getLineContent=function(e){return e===r.startLineNumber?o.getLineContent(u):o.getLineContent(e)};var b=E.LanguageConfigurationRegistry.getGoodIndentForLine(d,o.getLanguageIdAtPosition(u,1),r.startLineNumber,l);null!==b&&(_=f.getLeadingWhitespace(o.getLineContent(u)),(y=T.getSpaceCnt(b,a))!==(x=T.getSpaceCnt(_,a))&&(C=T.generateIndent(y,a,s),m=C+this.trimLeft(g)))}if(e.addEditOperation(new n.Range(r.startLineNumber,1,r.startLineNumber,1),m+"\n"),null!==(S=this.matchEnterRule(o,l,a,r.startLineNumber,r.startLineNumber,m)))0!==S&&this.getIndentEditsOfMovingBlock(o,e,r,a,s,S);else{d.getLineContent=function(e){return e===r.startLineNumber?m:e>=r.startLineNumber+1&&e<=r.endLineNumber+1?o.getLineContent(e-1):o.getLineContent(e)};var v=E.LanguageConfigurationRegistry.getGoodIndentForLine(d,o.getLanguageIdAtPosition(u,1),r.startLineNumber+1,l);null!==v&&(_=f.getLeadingWhitespace(o.getLineContent(r.startLineNumber)),(y=T.getSpaceCnt(v,a))!==(x=T.getSpaceCnt(_,a))&&(N=y-x,this.getIndentEditsOfMovingBlock(o,e,r,a,s,N)))}}else e.addEditOperation(new n.Range(r.startLineNumber,1,r.startLineNumber,1),m+"\n")}else if(u=r.startLineNumber-1,g=o.getLineContent(u),e.addEditOperation(new n.Range(u,1,u+1,1),null),e.addEditOperation(new n.Range(r.endLineNumber,o.getLineMaxColumn(r.endLineNumber),r.endLineNumber,o.getLineMaxColumn(r.endLineNumber)),"\n"+g),this.isAutoIndent(o,r)){d.getLineContent=function(e){return e===u?o.getLineContent(r.startLineNumber):o.getLineContent(e)};var S=this.matchEnterRule(o,l,a,r.startLineNumber,r.startLineNumber-2);if(null!==S)0!==S&&this.getIndentEditsOfMovingBlock(o,e,r,a,s,S);else{var w=E.LanguageConfigurationRegistry.getGoodIndentForLine(d,o.getLanguageIdAtPosition(r.startLineNumber,1),u,l);if(null!==w){var L=f.getLeadingWhitespace(o.getLineContent(r.startLineNumber)),y=T.getSpaceCnt(w,a),x=T.getSpaceCnt(L,a);if(y!==x){var N=y-x;this.getIndentEditsOfMovingBlock(o,e,r,a,s,N)}}}}}this._selectionId=e.trackSelection(r)}},t.prototype.buildIndentConverter=function(a){return{shiftIndent:function(e){for(var t=r.ShiftCommand.shiftIndentCount(e,e.length+1,a),n="",i=0;i<t;i++)n+="\t";return n},unshiftIndent:function(e){for(var t=r.ShiftCommand.unshiftIndentCount(e,e.length+1,a),n="",i=0;i<t;i++)n+="\t";return n}}},t.prototype.matchEnterRule=function(i,e,t,o,r,s){for(var l=r,d;1<=l&&(d=void 0,d=l===r&&void 0!==s?s:i.getLineContent(l),!(0<=f.lastNonWhitespaceIndex(d)));)l--;if(1>l||o>i.getLineCount())return null;var c=i.getLineMaxColumn(l),p=E.LanguageConfigurationRegistry.getEnterAction(i,new n.Range(l,c,l,c));if(p){var u=p.indentation,g=p.enterAction;g.indentAction===a.IndentAction.None?u=p.indentation+g.appendText:g.indentAction===a.IndentAction.Indent?u=p.indentation+g.appendText:g.indentAction===a.IndentAction.IndentOutdent?u=p.indentation:g.indentAction===a.IndentAction.Outdent&&(u=e.unshiftIndent(p.indentation)+g.appendText);var m=i.getLineContent(o);if(0<=this.trimLeft(m).indexOf(this.trimLeft(u))){var h=f.getLeadingWhitespace(i.getLineContent(o)),_=f.getLeadingWhitespace(u);return 2&E.LanguageConfigurationRegistry.getIndentMetadata(i,o)&&(_=e.unshiftIndent(_)),T.getSpaceCnt(_,t)-T.getSpaceCnt(h,t)}}return null},t.prototype.trimLeft=function(t){return t.replace(/^\s+/,"")},t.prototype.isAutoIndent=function(o,e){if(!this._autoIndent)return!1;var t=o.getLanguageIdAtPosition(e.startLineNumber,1);return t===o.getLanguageIdAtPosition(e.endLineNumber,1)&&null!==E.LanguageConfigurationRegistry.getIndentRulesSupport(t)},t.prototype.getIndentEditsOfMovingBlock=function(i,e,t,o,r,a){for(var s=t.startLineNumber;s<=t.endLineNumber;s++){var l=i.getLineContent(s),c=f.getLeadingWhitespace(l),d=T.getSpaceCnt(c,o)+a,u=T.generateIndent(d,o,r);u!==c&&(e.addEditOperation(new n.Range(s,1,s,c.length+1),u),s===t.endLineNumber&&t.endColumn<=c.length+1&&""===u&&(this._moveEndLineSelectionShrink=!0))}},t.prototype.computeCursorState=function(o,e){var t=e.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(t=t.setEndPosition(t.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&t.startLineNumber<t.endLineNumber&&(t=t.setEndPosition(t.endLineNumber,2)),t},t}();e.MoveLinesCommand=t}),define(s[320],n([6,8]),function(o,e){return o.create("vs/editor/common/controller/cursor",e)}),define(s[321],n([1,0,320,9,10,318,2,22,20,39,43,170,119,55,54,57,11]),function(f,e,t,S,n,E,L,x,o,N,r,i,a,d,l,p,c){"use strict";function s(o){for(var e=0,t=o.length;e<t;e++)if(6===o[e].type)return!0;return!1}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){return function(o,e,t){this.selections=o,this.source=e,this.reason=t}}();e.CursorStateChangedEvent=u;var g=function(){function t(o,n){this.modelVersionId=o.getVersionId(),this.cursorState=n.getAll()}return t.prototype.equals=function(o){if(!o)return!1;if(this.modelVersionId!==o.modelVersionId)return!1;if(this.cursorState.length!==o.cursorState.length)return!1;for(var i=0,t=this.cursorState.length;i<t;i++)if(!this.cursorState[i].equals(o.cursorState[i]))return!1;return!0},t}();e.CursorModelState=g;var m=function(m){function e(e,a,n){var p=m.call(this)||this;p._onDidChange=p._register(new c.Emitter),p.onDidChange=p._onDidChange.event,p._configuration=e,p._model=a,p._viewModel=n,p.context=new N.CursorContext(p._configuration,p._model,p._viewModel),p._cursors=new E.CursorCollection(p.context),p._isHandling=!1,p._isDoingComposition=!1,p._columnSelectData=null,p._register(p._model.addBulkListener(function(o){if(!p._isHandling){for(var e=!1,t=!1,n=0,i=o.length,r;n<i;n++)if(r=o[n],r.type===d.TextModelEventType.ModelRawContentChanged2){e=!0;var s=r.data;t=t||s.containsEvent(1)}e&&p._onModelContentChanged(t)}})),p._register(n.addEventListener(function(t){s(t)&&p.setStates("viewModel",l.CursorChangeReason.NotSet,p.getAll())}));var o=function(){p.context=new N.CursorContext(p._configuration,p._model,p._viewModel),p._cursors.updateContext(p.context)};return p._register(p._model.onDidChangeLanguage(function(){o()})),p._register(r.LanguageConfigurationRegistry.onDidChange(function(){o()})),p._register(a.onDidChangeOptions(function(){o()})),p._register(p._configuration.onDidChange(function(t){N.CursorConfiguration.shouldRecreate(t)&&o()})),p}return Z(e,m),e.prototype.dispose=function(){this._cursors.dispose(),m.prototype.dispose.call(this)},e.prototype.getPrimaryCursor=function(){return this._cursors.getPrimaryCursor()},e.prototype.getLastAddedCursorIndex=function(){return this._cursors.getLastAddedCursorIndex()},e.prototype.getAll=function(){return this._cursors.getAll()},e.prototype.setStates=function(o,e,t){var n=new g(this._model,this);this._cursors.setStates(t),this._cursors.normalize(),this._columnSelectData=null,this._emitStateChangedIfNecessary(o,e,n)},e.prototype.setColumnSelectData=function(t){this._columnSelectData=t},e.prototype.reveal=function(o,e){this._revealRange(e,0,o)},e.prototype.revealRange=function(o,e,t){this.emitCursorRevealRange(e,t,o)},e.prototype.scrollTo=function(t){this._viewModel.viewLayout.setScrollPosition({scrollTop:t})},e.prototype.saveState=function(){for(var r=[],e=this._cursors.getSelections(),t=0,n=e.length,i;t<n;t++)i=e[t],r.push({inSelectionMode:!i.isEmpty(),selectionStart:{lineNumber:i.selectionStartLineNumber,column:i.selectionStartColumn},position:{lineNumber:i.positionLineNumber,column:i.positionColumn}});return r},e.prototype.restoreState=function(d){for(var e=[],t=0,n=d.length;t<n;t++){var i=d[t],o=1,p=1;i.position&&i.position.lineNumber&&(o=i.position.lineNumber),i.position&&i.position.column&&(p=i.position.column);var c=o,g=p;i.selectionStart&&i.selectionStart.lineNumber&&(c=i.selectionStart.lineNumber),i.selectionStart&&i.selectionStart.column&&(g=i.selectionStart.column),e.push({selectionStartLineNumber:c,selectionStartColumn:g,positionLineNumber:o,positionColumn:p})}this.setStates("restoreState",l.CursorChangeReason.NotSet,N.CursorState.fromModelSelections(e)),this.reveal(!0,0)},e.prototype._onModelContentChanged=function(o){if(o)this._cursors.dispose(),this._cursors=new E.CursorCollection(this.context),this._emitStateChangedIfNecessary("model",l.CursorChangeReason.ContentFlush,null);else{var e=this._cursors.readSelectionFromMarkers();this.setStates("modelChange",l.CursorChangeReason.RecoverFromMarkers,N.CursorState.fromModelSelections(e))}},e.prototype.getSelection=function(){return this._cursors.getPrimaryCursor().modelState.selection},e.prototype.getColumnSelectData=function(){if(this._columnSelectData)return this._columnSelectData;var t=this._cursors.getPrimaryCursor().viewState.position;return{toViewLineNumber:t.lineNumber,toViewVisualColumn:N.CursorColumns.visibleColumnFromColumn2(this.context.config,this.context.viewModel,t)}},e.prototype.getSelections=function(){return this._cursors.getSelections()},e.prototype.getViewSelections=function(){return this._cursors.getViewSelections()},e.prototype.getPosition=function(){return this._cursors.getPrimaryCursor().modelState.position},e.prototype.setSelections=function(o,e){this.setStates(o,l.CursorChangeReason.NotSet,N.CursorState.fromModelSelections(e))},e.prototype._executeEditOperation=function(o){if(o&&!this._configuration.editor.readOnly){o.shouldPushStackElementBefore&&this._model.pushStackElement();var e=h.executeCommands(this._model,this._cursors.getSelections(),o.commands);e&&this._interpretCommandResult(e),o.shouldPushStackElementAfter&&this._model.pushStackElement()}},e.prototype._interpretCommandResult=function(t){t&&0!==t.length&&(this._columnSelectData=null,this._cursors.setSelections(t),this._cursors.normalize())},e.prototype._emitStateChangedIfNecessary=function(a,e,t){var n=new g(this._model,this);if(n.equals(t))return!1;var i=!0;this._model.hasEditableRange()&&(this._model.getEditableRange().containsPosition(n.cursorState[0].modelState.position)||(i=!1));var o=this._cursors.getSelections(),r=this._cursors.getViewSelections();return this._emit([new p.ViewCursorStateChangedEvent(r,i,null)]),this._onDidChange.fire(new u(o,a||"keyboard",e)),!0},e.prototype._revealRange=function(s,e,t){var n=this._cursors.getViewPositions(),i=n[0];if(1===s)for(o=1;o<n.length;o++)n[o].isBefore(i)&&(i=n[o]);else if(2===s)for(var o=1;o<n.length;o++)i.isBeforeOrEqual(n[o])&&(i=n[o]);else if(1<n.length)return;var r=new L.Range(i.lineNumber,i.column,i.lineNumber,i.column);this.emitCursorRevealRange(r,e,t)},e.prototype.emitCursorRevealRange=function(o,e,t){this._emit([new p.ViewRevealRangeRequestEvent(o,e,t)])},e.prototype.trigger=function(a,e,t){var d=o.Handler;if(!(e!==d.CompositionStart))this._isDoingComposition=!0;else if(e!==d.CompositionEnd){var i=new g(this._model,this),r=l.CursorChangeReason.NotSet;this._cursors.ensureValidState(),this._isHandling=!0;try{e===d.Type?this._type(a,t.text):e===d.ReplacePreviousChar?this._replacePreviousChar(t.text,t.replaceCharCnt):e===d.Paste?(r=l.CursorChangeReason.Paste,this._paste(t.text,t.pasteOnNewLine)):e===d.Cut?this._cut():e===d.Undo?(r=l.CursorChangeReason.Undo,this._interpretCommandResult(this._model.undo())):e===d.Redo?(r=l.CursorChangeReason.Redo,this._interpretCommandResult(this._model.redo())):e===d.ExecuteCommand?this._externalExecuteCommand(t):e===d.ExecuteCommands?this._externalExecuteCommands(t):void 0}catch(t){n.onUnexpectedError(t)}this._isHandling=!1,this._emitStateChangedIfNecessary(a,r,i)&&this._revealRange(0,0,!0)}else this._isDoingComposition=!1},e.prototype._type=function(i,e){if(this._isDoingComposition||"keyboard"!==i)this._executeEditOperation(a.TypeOperations.typeWithoutInterceptors(this.context.config,this.context.model,this.getSelections(),e));else for(var t=0,n=e.length;t<n;t++){var o=e.charCodeAt(t),r=void 0;S.isHighSurrogate(o)&&t+1<n?(r=e.charAt(t)+e.charAt(t+1),t++):r=e.charAt(t),this._executeEditOperation(a.TypeOperations.typeWithInterceptors(this.context.config,this.context.model,this.getSelections(),r))}},e.prototype._replacePreviousChar=function(o,e){this._executeEditOperation(a.TypeOperations.replacePreviousChar(this.context.config,this.context.model,this.getSelections(),o,e))},e.prototype._paste=function(o,e){this._executeEditOperation(a.TypeOperations.paste(this.context.config,this.context.model,this.getSelections(),e,o))},e.prototype._cut=function(){this._executeEditOperation(i.DeleteOperations.cut(this.context.config,this.context.model,this.getSelections()))},e.prototype._externalExecuteCommand=function(t){this._cursors.killSecondaryCursors(),this._executeEditOperation(new N.EditOperationResult([t],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},e.prototype._externalExecuteCommands=function(t){this._executeEditOperation(new N.EditOperationResult(t,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},e}(p.ViewEventEmitter);e.Cursor=m;var h=function(){function o(){}return o.executeCommands=function(a,s,d){for(var n={model:a,selectionsBefore:s,selectionStartMarkers:[],positionMarkers:[]},i=this._innerExecuteCommands(n,d),o=0;o<n.selectionStartMarkers.length;o++)n.model._removeMarker(n.selectionStartMarkers[o]),n.model._removeMarker(n.positionMarkers[o]);return i},o._innerExecuteCommands=function(a,e){if(this._arrayIsEmpty(e))return null;var t=this._getEditOperations(a,e);if(0===t.operations.length)return null;for(var n=t.operations,i=a.model.getEditableRange(),o=i.getStartPosition(),r=i.getEndPosition(),s=0,u=n.length,l;s<u;s++)if(l=n[s].range,!o.isBeforeOrEqual(l.getStartPosition())||!l.getEndPosition().isBeforeOrEqual(r))return null;var c=this._getLoserCursorMap(n);if(c.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;for(var d=[],s=0,u=n.length;s<u;s++)c.hasOwnProperty(n[s].identifier.major.toString())||d.push(n[s]);t.hadTrackedEditOperation&&0<d.length&&(d[0]._isTracked=!0);var m=a.model.pushEditOperations(a.selectionsBefore,d,function(t){for(var d=[],n=0;n<a.selectionsBefore.length;n++)d[n]=[];for(n=0;n<t.length;n++){var o=t[n];o.identifier&&d[o.identifier.major].push(o)}for(var i=function(o,e){return o.identifier.minor-e.identifier.minor},r=[],n=0;n<a.selectionsBefore.length;n++)!function(t){0<d[t].length?(d[t].sort(i),r[t]=e[t].computeCursorState(a.model,{getInverseEditOperations:function(){return d[t]},getTrackedSelection:function(e){var t=parseInt(e,10),n=a.model._getMarker(a.selectionStartMarkers[t]),i=a.model._getMarker(a.positionMarkers[t]);return new x.Selection(n.lineNumber,n.column,i.lineNumber,i.column)}})):r[t]=a.selectionsBefore[t]}(n);return r}),p=[];for(var h in c)c.hasOwnProperty(h)&&p.push(parseInt(h,10));for(p.sort(function(o,e){return e-o}),s=0;s<p.length;s++)m.splice(p[s],1);return m},o._arrayIsEmpty=function(o){for(var e=0,t=o.length;e<t;e++)if(o[e])return!1;return!0},o._getEditOperations=function(a,e){for(var t=[],d=!1,l=0,o=e.length;l<o;l++)if(e[l]){var r=this._getEditOperationsFromCommand(a,l,e[l]);t=t.concat(r.operations),d=d||r.hadTrackedEditOperation}return{operations:t,hadTrackedEditOperation:d}},o._getEditOperationsFromCommand=function(a,o,d){var i=[],p=0,s=function(r,a){r.isEmpty()&&""===a||i.push({identifier:{major:o,minor:p++},range:r,text:a,forceMoveMarkers:!1,isAutoWhitespaceEdit:d.insertsAutoWhitespace})},g=!1,e={addEditOperation:s,addTrackedEditOperation:function(o,e){g=!0,s(o,e)},trackSelection:function(e,t){var d,i;if(!e.isEmpty())e.getDirection()===x.SelectionDirection.LTR?(d=!1,i=!0):(d=!0,i=!1);else if("boolean"==typeof t)d=t,i=t;else{var o=a.model.getLineMaxColumn(e.startLineNumber);e.startColumn===o?(d=!0,i=!0):(d=!1,i=!1)}var r=a.selectionStartMarkers.length;return a.selectionStartMarkers[r]=a.model._addMarker(0,e.selectionStartLineNumber,e.selectionStartColumn,d),a.positionMarkers[r]=a.model._addMarker(0,e.positionLineNumber,e.positionColumn,i),r.toString()}};try{d.getEditOperations(a.model,e)}catch(o){return o.friendlyMessage=t.localize(0,null),n.onUnexpectedError(o),{operations:[],hadTrackedEditOperation:!1}}return{operations:i,hadTrackedEditOperation:g}},o._getLoserCursorMap=function(s){(s=s.slice(0)).sort(function(o,e){return-L.Range.compareRangesUsingEnds(o.range,e.range)});for(var e={},t=1;t<s.length;t++){var n=s[t-1],i=s[t];if(n.range.getStartPosition().isBefore(i.range.getEndPosition())){var o=void 0;e[(o=n.identifier.major>i.identifier.major?n.identifier.major:i.identifier.major).toString()]=!0;for(var r=0;r<s.length;r++)s[r].identifier.major===o&&(s.splice(r,1),r<t&&t--,r--);0<t&&t--}}return e},o}()}),define(s[322],n([6,8]),function(o,e){return o.create("vs/editor/common/model/textModelWithTokens",e)}),define(s[323],n([1,0,322,10,426,93,17,68,91,98,43,95,55]),function(m,e,_,n,f,t,r,y,C,u,l,c,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(){this._ranges=[]}return t.prototype.registerChangedTokens=function(o){var r=this._ranges,t=r.length,n=0<t?r[t-1]:null;n&&n.toLineNumber===o-1?n.toLineNumber++:r[t]={fromLineNumber:o,toLineNumber:o}},t.prototype.build=function(){return 0===this._ranges.length?null:{ranges:this._ranges}},t}(),i=function(s){function i(e,a,n){var i=s.call(this,e,a)||this;return i._languageIdentifier=n||y.NULL_LANGUAGE_IDENTIFIER,i._tokenizationListener=r.TokenizationRegistry.onDidChange(function(t){-1!==t.changedLanguages.indexOf(i._languageIdentifier.language)&&(i._resetTokenizationState(),i.emitModelTokensChangedEvent({ranges:[{fromLineNumber:1,toLineNumber:i.getLineCount()}]}))}),i._revalidateTokensTimeout=-1,i._resetTokenizationState(),i}return Z(i,s),i.prototype.dispose=function(){this._tokenizationListener.dispose(),this._clearTimers(),this._lastState=null,s.prototype.dispose.call(this)},i.prototype._shouldAutoTokenize=function(){return!1},i.prototype._resetValue=function(e){s.prototype._resetValue.call(this,e),this._resetTokenizationState()},i.prototype._resetTokenizationState=function(){this._clearTimers();for(var t=0;t<this._lines.length;t++)this._lines[t].resetTokenizationState();if(this._tokenizationSupport=null,this._isTooLargeForTokenization||(this._tokenizationSupport=r.TokenizationRegistry.get(this._languageIdentifier.language)),this._tokenizationSupport){var e=null;try{e=this._tokenizationSupport.getInitialState()}catch(t){t.friendlyMessage=i.MODE_TOKENIZATION_FAILED_MSG,n.onUnexpectedError(t),this._tokenizationSupport=null}e&&this._lines[0].setState(e)}this._lastState=null,this._invalidLineStartIndex=0,this._beginBackgroundTokenization()},i.prototype._clearTimers=function(){-1!==this._revalidateTokensTimeout&&(clearTimeout(this._revalidateTokensTimeout),this._revalidateTokensTimeout=-1)},i.prototype._withModelTokensChangedEventBuilder=function(r){var e=new a,t=r(e);if(!this._isDisposing){var n=e.build();n&&this._eventEmitter.emit(o.TextModelEventType.ModelTokensChanged,n)}return t},i.prototype.forceTokenization=function(o){var e=this;if(1>o||o>this.getLineCount())throw new Error("Illegal value "+o+" for `lineNumber`");this._withModelTokensChangedEventBuilder(function(t){e._updateTokensUntilLine(t,o)})},i.prototype.getLineTokens=function(t){if(1>t||t>this.getLineCount())throw new Error("Illegal value "+t+" for `lineNumber`");return this._getLineTokens(t)},i.prototype._getLineTokens=function(t){return this._lines[t-1].getTokens(this._languageIdentifier.id)},i.prototype.getLanguageIdentifier=function(){return this._languageIdentifier},i.prototype.getModeId=function(){return this._languageIdentifier.language},i.prototype.setMode=function(o){if(this._languageIdentifier.id!==o.id){var e={oldLanguage:this._languageIdentifier.language,newLanguage:o.language};this._languageIdentifier=o,this._resetTokenizationState(),this.emitModelTokensChangedEvent({ranges:[{fromLineNumber:1,toLineNumber:this.getLineCount()}]}),this._emitModelModeChangedEvent(e)}},i.prototype.getLanguageIdAtPosition=function(r,a){if(!this._tokenizationSupport)return this._languageIdentifier.id;var s=this.validatePosition({lineNumber:r,column:a}),n=s.lineNumber,i=s.column;return this._getLineTokens(n).findTokenAtOffset(i-1).languageId},i.prototype._invalidateLine=function(t){this._lines[t].setIsInvalid(!0),t<this._invalidLineStartIndex&&(this._invalidLineStartIndex<this._lines.length&&this._lines[this._invalidLineStartIndex].setIsInvalid(!0),this._invalidLineStartIndex=t,this._beginBackgroundTokenization())},i.prototype._beginBackgroundTokenization=function(){var t=this;this._shouldAutoTokenize()&&-1===this._revalidateTokensTimeout&&(this._revalidateTokensTimeout=setTimeout(function(){t._revalidateTokensTimeout=-1,t._revalidateTokensNow()},0))},i.prototype._warmUpTokens=function(){for(var o=q(100,this.getLineCount()),e=o,t=1;t<=o;t++)if(200<=this._lines[t-1].text.length){e=t-1;break}this._revalidateTokensNow(e),this._invalidLineStartIndex<this._lines.length&&this._beginBackgroundTokenization()},i.prototype._revalidateTokensNow=function(o){var e=this;void 0===o&&(o=this._invalidLineStartIndex+1e6),this._withModelTokensChangedEventBuilder(function(t){o=q(e._lines.length,o);for(var n=e._invalidLineStartIndex+1,r=0,s=0,a=0,d=f.StopWatch.create(!1),l=n,p;l<=o;l++){if(20<(p=d.elapsed())){o=l-1;break}if(s=e._lines[l-1].text.length,0<r&&(a=p/r*s,20<p+a)){o=l-1;break}e._updateTokensUntilLine(t,l),r+=s,l=G(l,e._invalidLineStartIndex+1)}p=d.elapsed(),e._invalidLineStartIndex<e._lines.length&&e._beginBackgroundTokenization()})},i.prototype._updateTokensUntilLine=function(t,e){if(this._tokenizationSupport){for(var a=this._lines.length,o=e-1,r=this._invalidLineStartIndex;r<=o;r++){var s=r+1,p=null,l=this._lines[r].text;try{var c=this._lines[r].getState().clone();p=this._tokenizationSupport.tokenize2(this._lines[r].text,c,0)}catch(t){t.friendlyMessage=i.MODE_TOKENIZATION_FAILED_MSG,n.onUnexpectedError(t)}if(!(p||(p=y.nullTokenize2(this._languageIdentifier.id,l,this._lines[r].getState(),0)),this._lines[r].setTokens(this._languageIdentifier.id,p.tokens),t.registerChangedTokens(r+1),this._lines[r].setIsInvalid(!1),s<a))this._lastState=p.endState;else if(null!==this._lines[s].getState()&&p.endState.equals(this._lines[s].getState())){for(var d=r+1;d<a&&!this._lines[d].isInvalid();){if(d+1<a){if(null===this._lines[d+1].getState())break;}else if(null===this._lastState)break;d++}this._invalidLineStartIndex=G(this._invalidLineStartIndex,d),r=d-1}else this._lines[s].setState(p.endState)}this._invalidLineStartIndex=G(this._invalidLineStartIndex,o+1)}else this._invalidLineStartIndex=this._lines.length},i.prototype.emitModelTokensChangedEvent=function(t){this._isDisposing||this._eventEmitter.emit(o.TextModelEventType.ModelTokensChanged,t)},i.prototype._emitModelModeChangedEvent=function(t){this._isDisposing||this._eventEmitter.emit(o.TextModelEventType.ModelLanguageChanged,t)},i.prototype.getWordAtPosition=function(d){this._assertNotDisposed();var e=this.validatePosition(d),t=this.getLineContent(e.lineNumber);if(this._invalidLineStartIndex<=e.lineNumber)return c.getWordAtText(e.column,l.LanguageConfigurationRegistry.getWordDefinition(this._languageIdentifier.id),t,0);var n=this._getLineTokens(e.lineNumber),i=e.column-1,o=n.findTokenAtOffset(i),r=c.getWordAtText(e.column,l.LanguageConfigurationRegistry.getWordDefinition(o.languageId),t.substring(o.startOffset,o.endOffset),o.startOffset);if(!r&&o.hasPrev&&o.startOffset===i){var p=o.prev();r=c.getWordAtText(e.column,l.LanguageConfigurationRegistry.getWordDefinition(p.languageId),t.substring(p.startOffset,p.endOffset),p.startOffset)}return r},i.prototype.getWordUntilPosition=function(o){var e=this.getWordAtPosition(o);return e?{word:e.word.substr(0,o.column-e.startColumn),startColumn:e.startColumn,endColumn:o.column}:{word:"",startColumn:o.column,endColumn:o.column}},i.prototype.findMatchingBracketUp=function(a,e){var t=a.toLowerCase(),n=this.validatePosition(e),i=this._getLineTokens(n.lineNumber).findTokenAtOffset(n.column-1),o=l.LanguageConfigurationRegistry.getBracketsSupport(i.languageId);if(!o)return null;var d=o.textIsBracket[t];return d?this._findMatchingBracketUp(d,n):null},i.prototype.matchBracket=function(t){return this._matchBracket(this.validatePosition(t))},i.prototype._matchBracket=function(c){var e=c.lineNumber,t=this._getLineTokens(e),n=this._lines[e-1].text,i=t.findTokenAtOffset(c.column-1);if(!i)return null;var _=l.LanguageConfigurationRegistry.getBracketsSupport(i.languageId);if(_&&!C.ignoreBracketsInToken(i.tokenType)){var r=G(i.startOffset,c.column-1-_.maxBracketLength),s=q(i.endOffset,c.column-1+_.maxBracketLength);if((p=u.BracketsUtils.findNextBracketInToken(_.forwardRegex,e,n,c.column-1,s))&&p.startColumn===c.column&&(f=(f=n.substring(p.startColumn-1,p.endColumn-1)).toLowerCase(),g=this._matchFoundBracket(p,_.textIsBracket[f],_.textIsOpenBracket[f])))return g;for(;;){var a=u.BracketsUtils.findNextBracketInToken(_.forwardRegex,e,n,r,s);if(!a)break;if(a.startColumn<=c.column&&c.column<=a.endColumn&&(f=(f=n.substring(a.startColumn-1,a.endColumn-1)).toLowerCase(),g=this._matchFoundBracket(a,_.textIsBracket[f],_.textIsOpenBracket[f])))return g;r=a.endColumn-1}}if(i.hasPrev&&i.startOffset===c.column-1){var y=i.prev(),h=l.LanguageConfigurationRegistry.getBracketsSupport(y.languageId);if(h&&!C.ignoreBracketsInToken(y.tokenType)){var r=G(y.startOffset,c.column-1-h.maxBracketLength),s=i.startOffset,p=u.BracketsUtils.findPrevBracketInToken(h.reversedRegex,e,n,r,s);if(p&&p.startColumn<=c.column&&c.column<=p.endColumn){var f=n.substring(p.startColumn-1,p.endColumn-1);f=f.toLowerCase();var g=this._matchFoundBracket(p,h.textIsBracket[f],h.textIsOpenBracket[f]);if(g)return g}}}return null},i.prototype._matchFoundBracket=function(o,e,t){if(!t){var r=this._findMatchingBracketUp(e,o.getStartPosition());if(r)return[o,r]}else if(r=this._findMatchingBracketDown(e,o.getEndPosition()))return[o,r];return null},i.prototype._findMatchingBracketUp=function(l,e){for(var t=l.languageIdentifier.id,n=l.reversedRegex,i=-1,o=e.lineNumber;1<=o;o--){var r=this._getLineTokens(o),s=this._lines[o-1].text,a=void 0,c=void 0;for(o===e.lineNumber?(a=r.findTokenAtOffset(e.column-1),c=e.column-1):(a=r.lastToken())&&(c=a.endOffset);a;){if(a.languageId===t&&!C.ignoreBracketsInToken(a.tokenType))for(;;){var d=u.BracketsUtils.findPrevBracketInToken(n,o,s,a.startOffset,c);if(!d)break;var g=s.substring(d.startColumn-1,d.endColumn-1);if((g=g.toLowerCase())===l.open?i++:g===l.close&&i--,0===i)return d;c=d.startColumn-1}(a=a.prev())&&(c=a.endOffset)}}return null},i.prototype._findMatchingBracketDown=function(l,e){for(var t=l.languageIdentifier.id,n=l.forwardRegex,i=1,o=e.lineNumber,r=this.getLineCount();o<=r;o++){var s=this._getLineTokens(o),a=this._lines[o-1].text,c=void 0,d=void 0;for(o===e.lineNumber?(c=s.findTokenAtOffset(e.column-1),d=e.column-1):(c=s.firstToken())&&(d=c.startOffset);c;){if(c.languageId===t&&!C.ignoreBracketsInToken(c.tokenType))for(;;){var g=u.BracketsUtils.findNextBracketInToken(n,o,a,d,c.endOffset);if(!g)break;var m=a.substring(g.startColumn-1,g.endColumn-1);if((m=m.toLowerCase())===l.open?i++:m===l.close&&i--,0===i)return g;d=g.endColumn-1}(c=c.next())&&(d=c.startOffset)}}return null},i.prototype.findPrevBracket=function(p){for(var e=this.validatePosition(p),t=-1,n=null,i=e.lineNumber;1<=i;i--){var o=this._getLineTokens(i),r=this._lines[i-1].text,s=void 0,a=void 0;for(i===e.lineNumber?(s=o.findTokenAtOffset(e.column-1),a=e.column-1):(s=o.lastToken())&&(a=s.endOffset);s;){if(t!==s.languageId&&(t=s.languageId,n=l.LanguageConfigurationRegistry.getBracketsSupport(t)),n&&!C.ignoreBracketsInToken(s.tokenType)){var d=u.BracketsUtils.findPrevBracketInToken(n.reversedRegex,i,r,s.startOffset,a);if(d)return this._toFoundBracket(n,d)}(s=s.prev())&&(a=s.endOffset)}}return null},i.prototype.findNextBracket=function(c){for(var e=this.validatePosition(c),t=-1,n=null,i=e.lineNumber,o=this.getLineCount();i<=o;i++){var r=this._getLineTokens(i),s=this._lines[i-1].text,a=void 0,d=void 0;for(i===e.lineNumber?(a=r.findTokenAtOffset(e.column-1),d=e.column-1):(a=r.firstToken())&&(d=a.startOffset);a;){if(t!==a.languageId&&(t=a.languageId,n=l.LanguageConfigurationRegistry.getBracketsSupport(t)),n&&!C.ignoreBracketsInToken(a.tokenType)){var g=u.BracketsUtils.findNextBracketInToken(n.forwardRegex,i,s,d,a.endOffset);if(g)return this._toFoundBracket(n,g)}(a=a.next())&&(d=a.startOffset)}}return null},i.prototype._toFoundBracket=function(o,e){if(!e)return null;var r=this.getValueInRange(e);r=r.toLowerCase();var n=o.textIsBracket[r];return n?{range:e,open:n.open,close:n.close,isOpen:o.textIsOpenBracket[r]}:null},i.MODE_TOKENIZATION_FAILED_MSG=_.localize(0,null),i}(t.TextModel);e.TextModelWithTokens=i}),define(s[324],n([1,0,108,12,118,323]),function(d,e,l,p,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=0,o=function(a){function e(e,s,i){var o=a.call(this,e,s,i)||this;return o._markerIdGenerator=new l.IdGenerator(++n+";"),o._markerIdToMarker=Object.create(null),o}return Z(e,a),e.prototype.dispose=function(){this._markerIdToMarker=null,a.prototype.dispose.call(this)},e.prototype._resetValue=function(e){a.prototype._resetValue.call(this,e),this._markerIdToMarker=Object.create(null)},e.prototype._addMarker=function(o,e,t,n){var r=this.validatePosition(new p.Position(e,t)),s=new i.LineMarker(this._markerIdGenerator.nextId(),o,r,n);return this._markerIdToMarker[s.id]=s,this._lines[r.lineNumber-1].addMarker(s),s.id},e.prototype._addMarkers=function(o){if(0===o.length)return[];for(var e=[],t=0,n=o.length;t<n;t++){var d=o[t],r=new i.LineMarker(this._markerIdGenerator.nextId(),d.internalDecorationId,d.position,d.stickToPreviousCharacter);this._markerIdToMarker[r.id]=r,e[t]=r}var s=e.slice(0);s.sort(function(o,e){return o.position.lineNumber-e.position.lineNumber});for(var a=0,p=[],l=0,t=0,n=s.length;t<n;t++)(r=s[t]).position.lineNumber!==a&&(0!==a&&this._lines[a-1].addMarkers(p),a=r.position.lineNumber,p.length=0,l=0),p[l++]=r;return this._lines[a-1].addMarkers(p),e},e.prototype._changeMarker=function(i,e,t){var n=this._markerIdToMarker[i];if(n){var o=this.validatePosition(new p.Position(e,t));o.lineNumber!==n.position.lineNumber&&(this._lines[n.position.lineNumber-1].removeMarker(n),this._lines[o.lineNumber-1].addMarker(n)),n.setPosition(o)}},e.prototype._changeMarkerStickiness=function(o,e){var t=this._markerIdToMarker[o];t&&(t.stickToPreviousCharacter=e)},e.prototype._getMarker=function(o){var e=this._markerIdToMarker[o];return e?e.position:null},e.prototype._getMarkersCount=function(){return Object.keys(this._markerIdToMarker).length},e.prototype._removeMarker=function(o){var e=this._markerIdToMarker[o];e&&(this._lines[e.position.lineNumber-1].removeMarker(e),delete this._markerIdToMarker[o])},e.prototype._removeMarkers=function(a){a.sort(function(o,e){return o.position.lineNumber-e.position.lineNumber});for(var e=0,t=null,n=0,i=a.length,o;n<i;n++)o=a[n],delete this._markerIdToMarker[o.id],o.position.lineNumber!==e&&(0!==e&&this._lines[e-1].removeMarkers(t),e=o.position.lineNumber,t=Object.create(null)),t[o.id]=!0;this._lines[e-1].removeMarkers(t)},e}(t.TextModelWithTokens);e.TextModelWithMarkers=o}),define(s[34],n([1,0,10,133,9,2,20,118,12,324,55]),function(f,S,t,n,i,E,o,e,L,r,a){"use strict";function s(){var t=c++;return 26>(t%=52)?k(97+t):k(65+t-26)}function d(t){return t.replace(/[^a-z0-9\-]/gi," ")}function l(t){return t instanceof _?t:_.createDynamic(t)}Object.defineProperty(S,"__esModule",{value:!0}),S.ClassName={EditorWarningDecoration:"greensquiggly",EditorErrorDecoration:"redsquiggly"};var p=function(){function t(){this.addedDecorations=[],this.addedDecorationsLen=0,this.changedDecorations=[],this.changedDecorationsLen=0,this.removedDecorations=[],this.removedDecorationsLen=0}return t.prototype.addNewDecoration=function(t){this.addedDecorations[this.addedDecorationsLen++]=t},t.prototype.addRemovedDecoration=function(t){this.removedDecorations[this.removedDecorationsLen++]=t},t.prototype.addMovedDecoration=function(t){this.changedDecorations[this.changedDecorationsLen++]=t},t.prototype.addUpdatedDecoration=function(t){this.changedDecorations[this.changedDecorationsLen++]=t},t}(),u=function(){function t(a,d,t,n,i,o,r){this.id=a,this.internalId=d,this.ownerId=t,this.range=n,this.startMarker=i,this.endMarker=o,this.setOptions(r)}return t.prototype.setOptions=function(t){this.options=t,this.isForValidation=this.options.className===S.ClassName.EditorErrorDecoration||this.options.className===S.ClassName.EditorWarningDecoration},t.prototype.setRange=function(o,e){if(!this.range.equalsRange(e)){var t=this.range.startLineNumber!==this.range.endLineNumber;this.range=e;var n=this.range.startLineNumber!==this.range.endLineNumber;t!==n&&(n?o[this.id]=this:delete o[this.id])}},t}();S.InternalDecoration=u;var c=0,g=function(r){function m(e,a,n){var i=r.call(this,e,a,n)||this;return i._instanceId=s(),i._lastDecorationId=0,i._currentDecorationsTracker=null,i._currentDecorationsTrackerCnt=0,i._currentMarkersTracker=null,i._currentMarkersTrackerCnt=0,i._decorations=Object.create(null),i._internalDecorations=Object.create(null),i._multiLineDecorationsMap=Object.create(null),i}return Z(m,r),m.prototype.dispose=function(){this._decorations=null,this._internalDecorations=null,this._multiLineDecorationsMap=null,r.prototype.dispose.call(this)},m.prototype._resetValue=function(e){r.prototype._resetValue.call(this,e),this._decorations=Object.create(null),this._internalDecorations=Object.create(null),this._multiLineDecorationsMap=Object.create(null)},m._shouldStartMarkerSticksToPreviousCharacter=function(t){return t===o.TrackedRangeStickiness.AlwaysGrowsWhenTypingAtEdges||t===o.TrackedRangeStickiness.GrowsOnlyWhenTypingBefore},m._shouldEndMarkerSticksToPreviousCharacter=function(t){return t===o.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges||t===o.TrackedRangeStickiness.GrowsOnlyWhenTypingBefore},m.prototype._getTrackedRangesCount=function(){return Object.keys(this._decorations).length},m.prototype.changeDecorations=function(o,e){void 0===e&&(e=0),this._assertNotDisposed();try{this._eventEmitter.beginDeferredEmit();var t=this._acquireDecorationsTracker();return this._changeDecorations(t,e,o)}finally{this._releaseDecorationsTracker(),this._eventEmitter.endDeferredEmit()}},m.prototype._changeDecorations=function(a,e,n){var d=this,o={addDecoration:function(t,o){return d._addDecorationImpl(a,e,d.validateRange(t),l(o))},changeDecoration:function(e,t){d._changeDecorationImpl(a,e,d.validateRange(t))},changeDecorationOptions:function(e,t){d._changeDecorationOptionsImpl(a,e,l(t))},removeDecoration:function(e){d._removeDecorationImpl(a,e)},deltaDecorations:function(t,o){return d._deltaDecorationsImpl(a,e,t,d._normalizeDeltaDecorations(o))}},i=null;try{i=n(o)}catch(o){t.onUnexpectedError(o)}return o.addDecoration=null,o.changeDecoration=null,o.removeDecoration=null,o.deltaDecorations=null,i},m.prototype.deltaDecorations=function(o,e,t){return void 0===t&&(t=0),this._assertNotDisposed(),o||(o=[]),this.changeDecorations(function(t){return t.deltaDecorations(o,e)},t)},m.prototype.removeAllDecorationsWithOwnerId=function(o){var e=[];for(var t in this._decorations){var n=this._decorations[t];n.ownerId===o&&e.push(n.id)}this._removeDecorationsImpl(null,e)},m.prototype.getDecorationOptions=function(o){var e=this._decorations[o];return e?e.options:null},m.prototype.getDecorationRange=function(o){var e=this._decorations[o];return e?e.range:null},m.prototype.getLineDecorations=function(o,e,t){return void 0===e&&(e=0),void 0===t&&(t=!1),1>o||o>this.getLineCount()?[]:this.getLinesDecorations(o,o,e,t)},m.prototype._getMultiLineDecorations=function(d,e,p){var g=d.startLineNumber,i=d.startColumn,o=d.endLineNumber,r=d.endColumn,s=[];for(var a in this._multiLineDecorationsMap){var u=this._multiLineDecorationsMap[a];if((!e||!u.ownerId||u.ownerId===e)&&(!p||!u.isForValidation)){var l=u.range;l.startLineNumber>o||l.startLineNumber===o&&l.startColumn>r||l.endLineNumber<g||l.endLineNumber===g&&l.endColumn<i||s.push(u)}}return s},m.prototype._getDecorationsInRange=function(m,e,t){for(var n=m.startLineNumber,i=m.startColumn,o=m.endLineNumber,r=m.endColumn,s=this._getMultiLineDecorations(m,e,t),a={},u=0,l=s.length;u<l;u++)a[s[u].id]=!0;for(var c=n,d;c<=o;c++)if(d=this._lines[c-1].getMarkers(),null!==d)for(var u=0,l=d.length,h;u<l;u++)if(h=d[u].internalDecorationId,0!==h){var p=this._internalDecorations[h];if(!a.hasOwnProperty(p.id)&&!(e&&p.ownerId&&p.ownerId!==e||t&&p.isForValidation)){var _=p.range;_.startLineNumber>o||_.startLineNumber===o&&_.startColumn>r||_.endLineNumber<n||_.endLineNumber===n&&_.endColumn<i||(s.push(p),a[p.id]=!0)}}return s},m.prototype.getLinesDecorations=function(r,e,t,n){void 0===t&&(t=0),void 0===n&&(n=!1);var i=this.getLineCount(),o=q(i,G(1,r)),s=q(i,G(1,e)),a=this.getLineMaxColumn(s);return this._getDecorationsInRange(new E.Range(o,1,s,a),t,n)},m.prototype.getDecorationsInRange=function(o,e,t){var n=this.validateRange(o);return this._getDecorationsInRange(n,e,t)},m.prototype.getAllDecorations=function(r,e){void 0===r&&(r=0),void 0===e&&(e=!1);var t=[];for(var n in this._decorations){var i=this._decorations[n];r&&i.ownerId&&i.ownerId!==r||e&&i.isForValidation||t.push(i)}return t},m.prototype._acquireMarkersTracker=function(){return 0===this._currentMarkersTrackerCnt&&(this._currentMarkersTracker=new e.MarkersTracker),this._currentMarkersTrackerCnt++,this._currentMarkersTracker},m.prototype._releaseMarkersTracker=function(){if(this._currentMarkersTrackerCnt--,0===this._currentMarkersTrackerCnt){var t=this._currentMarkersTracker;this._currentMarkersTracker=null,this._handleTrackedMarkers(t)}},m.prototype._handleTrackedMarkers=function(t){var e=t.getDecorationIds();if(0!==e.length){e.sort();for(var n=[],p=0,o=0,r=0,s=e.length,a;r<s;r++)if(a=e[r],a!==o){o=a;var u=this._internalDecorations[a];if(u){var l=u.startMarker.position,c=u.endMarker.position,d=m._createRangeFromMarkers(l,c);u.setRange(this._multiLineDecorationsMap,d),n[p++]=u.id}}if(0<n.length){this.emitModelDecorationsChangedEvent({addedDecorations:[],changedDecorations:n,removedDecorations:[]})}}},m._createRangeFromMarkers=function(o,e){return e.isBefore(o)?new E.Range(o.lineNumber,o.column,o.lineNumber,o.column):new E.Range(o.lineNumber,o.column,e.lineNumber,e.column)},m.prototype._acquireDecorationsTracker=function(){return 0===this._currentDecorationsTrackerCnt&&(this._currentDecorationsTracker=new p),this._currentDecorationsTrackerCnt++,this._currentDecorationsTracker},m.prototype._releaseDecorationsTracker=function(){if(this._currentDecorationsTrackerCnt--,0===this._currentDecorationsTrackerCnt){var t=this._currentDecorationsTracker;this._currentDecorationsTracker=null,this._handleTrackedDecorations(t)}},m.prototype._handleTrackedDecorations=function(o){if(0!==o.addedDecorationsLen||0!==o.changedDecorationsLen||0!==o.removedDecorationsLen){var e={addedDecorations:o.addedDecorations,changedDecorations:o.changedDecorations,removedDecorations:o.removedDecorations};this.emitModelDecorationsChangedEvent(e)}},m.prototype.emitModelDecorationsChangedEvent=function(t){this._isDisposing||this._eventEmitter.emit(a.TextModelEventType.ModelDecorationsChanged,t)},m.prototype._normalizeDeltaDecorations=function(r){for(var e=[],t=0,n=r.length,i;t<n;t++)i=r[t],e.push(new y(t,this.validateRange(i.range),l(i.options)));return e},m.prototype._externalDecorationId=function(t){return this._instanceId+";"+t},m.prototype._addDecorationImpl=function(t,e,n,i){var o=this.validateRange(n),r=++this._lastDecorationId,d=this._externalDecorationId(r),a=this._addMarkers([{internalDecorationId:r,position:new L.Position(o.startLineNumber,o.startColumn),stickToPreviousCharacter:m._shouldStartMarkerSticksToPreviousCharacter(i.stickiness)},{internalDecorationId:r,position:new L.Position(o.endLineNumber,o.endColumn),stickToPreviousCharacter:m._shouldEndMarkerSticksToPreviousCharacter(i.stickiness)}]),l=new u(d,r,e,o,a[0],a[1],i);return this._decorations[d]=l,this._internalDecorations[r]=l,o.startLineNumber!==o.endLineNumber&&(this._multiLineDecorationsMap[d]=l),t.addNewDecoration(d),d},m.prototype._addDecorationsImpl=function(t,e,n){for(var i=[],o=[],r=[],s=0,a=n.length;s<a;s++){var l=(f=n[s]).range,c=f.options.stickiness,d=++this._lastDecorationId,C=this._externalDecorationId(d);i[s]=d,o[s]=C,r[2*s]={internalDecorationId:d,position:new L.Position(l.startLineNumber,l.startColumn),stickToPreviousCharacter:m._shouldStartMarkerSticksToPreviousCharacter(c)},r[2*s+1]={internalDecorationId:d,position:new L.Position(l.endLineNumber,l.endColumn),stickToPreviousCharacter:m._shouldEndMarkerSticksToPreviousCharacter(c)}}for(var p=this._addMarkers(r),s=0,a=n.length;s<a;s++){var f=n[s],l=f.range,d=i[s],C=o[s],g=p[2*s],b=p[2*s+1],_=new u(C,d,e,l,g,b,f.options);this._decorations[C]=_,this._internalDecorations[d]=_,l.startLineNumber!==l.endLineNumber&&(this._multiLineDecorationsMap[C]=_),t.addNewDecoration(C)}return o},m.prototype._changeDecorationImpl=function(a,e,t){var n=this._decorations[e];if(n){var i=n.startMarker;t.startLineNumber!==i.position.lineNumber&&(this._lines[i.position.lineNumber-1].removeMarker(i),this._lines[t.startLineNumber-1].addMarker(i)),i.setPosition(new L.Position(t.startLineNumber,t.startColumn));var o=n.endMarker;t.endLineNumber!==o.position.lineNumber&&(this._lines[o.position.lineNumber-1].removeMarker(o),this._lines[t.endLineNumber-1].addMarker(o)),o.setPosition(new L.Position(t.endLineNumber,t.endColumn)),n.setRange(this._multiLineDecorationsMap,t),a.addMovedDecoration(e)}},m.prototype._changeDecorationOptionsImpl=function(t,e,n){var i=this._decorations[e];i&&(i.options.stickiness!==n.stickiness&&(i.startMarker.stickToPreviousCharacter=m._shouldStartMarkerSticksToPreviousCharacter(n.stickiness),i.endMarker.stickToPreviousCharacter=m._shouldEndMarkerSticksToPreviousCharacter(n.stickiness)),i.setOptions(n),t.addUpdatedDecoration(e))},m.prototype._removeDecorationImpl=function(o,e){var t=this._decorations[e];t&&(this._removeMarkers([t.startMarker,t.endMarker]),delete this._multiLineDecorationsMap[e],delete this._decorations[e],delete this._internalDecorations[t.internalId],o&&o.addRemovedDecoration(e))},m.prototype._removeDecorationsImpl=function(d,e){for(var t=[],n=0,i=0,o=e.length;i<o;i++){var r=e[i],s=this._decorations[r];s&&(d&&d.addRemovedDecoration(r),t[n++]=s.startMarker,t[n++]=s.endMarker,delete this._multiLineDecorationsMap[r],delete this._decorations[r],delete this._internalDecorations[s.internalId])}0<t.length&&this._removeMarkers(t)},m.prototype._resolveOldDecorations=function(a){for(var e=[],t=0,n=a.length;t<n;t++){var i=a[t],o=this._decorations[i];o&&e.push(o)}return e},m.prototype._deltaDecorationsImpl=function(r,e,t,n){if(0===t.length)return this._addDecorationsImpl(r,e,n);if(0===n.length)return this._removeDecorationsImpl(r,t),[];var i=this._resolveOldDecorations(t);i.sort(function(o,e){return E.Range.compareRangesUsingStarts(o.range,e.range)}),n.sort(function(o,e){return E.Range.compareRangesUsingStarts(o.range,e.range)});for(var o=[],s=0,a=i.length,u=0,l=n.length,c=[],d=[];s<a&&u<l;){var h=i[s],p=n[u],f=E.Range.compareRangesUsingStarts(h.range,p.range);0>f?(d.push(h.id),s++):0<f?(c.push(p),u++):h.options.equals(p.options)?(o[p.index]=h.id,s++,u++):(d.push(h.id),s++)}for(;s<a;)d.push(i[s].id),s++;for(;u<l;)c.push(n[u]),u++;if(0<d.length&&this._removeDecorationsImpl(r,d),0<c.length)for(var g=this._addDecorationsImpl(r,e,c),m=0,y=c.length;m<y;m++)o[c[m].index]=g[m];return o},m}(r.TextModelWithMarkers);S.TextModelWithDecorations=g;var m=function(){function t(t){this.color=i.empty,this.darkColor=i.empty,this.hcColor=i.empty,this.position=o.OverviewRulerLane.Center,t&&t.color&&(this.color=t.color),t&&t.darkColor&&(this.darkColor=t.darkColor,this.hcColor=t.darkColor),t&&t.hcColor&&(this.hcColor=t.hcColor),t&&t.hasOwnProperty("position")&&(this.position=t.position)}return t.prototype.equals=function(t){return this.color===t.color&&this.darkColor===t.darkColor&&this.hcColor===t.hcColor&&this.position===t.position},t}();S.ModelDecorationOverviewRulerOptions=m;var h=0,_=function(){function r(n,r){this.staticId=n,this.stickiness=r.stickiness||o.TrackedRangeStickiness.AlwaysGrowsWhenTypingAtEdges,this.className=r.className?d(r.className):i.empty,this.hoverMessage=r.hoverMessage||[],this.glyphMarginHoverMessage=r.glyphMarginHoverMessage||i.empty,this.isWholeLine=r.isWholeLine||!1,this.showIfCollapsed=r.showIfCollapsed||!1,this.overviewRuler=new m(r.overviewRuler),this.glyphMarginClassName=r.glyphMarginClassName?d(r.glyphMarginClassName):i.empty,this.linesDecorationsClassName=r.linesDecorationsClassName?d(r.linesDecorationsClassName):i.empty,this.marginClassName=r.marginClassName?d(r.marginClassName):i.empty,this.inlineClassName=r.inlineClassName?d(r.inlineClassName):i.empty,this.beforeContentClassName=r.beforeContentClassName?d(r.beforeContentClassName):i.empty,this.afterContentClassName=r.afterContentClassName?d(r.afterContentClassName):i.empty,r.__extraOptions&&(this.extraOptions=r.__extraOptions)}return r.register=function(e){return new r(++h,e)},r.createDynamic=function(e){return new r(0,e)},r.prototype.equals=function(t){return 0<this.staticId||0<t.staticId?this.staticId===t.staticId:this.stickiness===t.stickiness&&this.className===t.className&&this.isWholeLine===t.isWholeLine&&this.showIfCollapsed===t.showIfCollapsed&&this.glyphMarginClassName===t.glyphMarginClassName&&this.linesDecorationsClassName===t.linesDecorationsClassName&&this.marginClassName===t.marginClassName&&this.inlineClassName===t.inlineClassName&&this.beforeContentClassName===t.beforeContentClassName&&this.afterContentClassName===t.afterContentClassName&&n.markedStringsEquals(this.hoverMessage,t.hoverMessage)&&n.markedStringsEquals(this.glyphMarginHoverMessage,t.glyphMarginHoverMessage)&&this.overviewRuler.equals(t.overviewRuler)&&this.extraOptions===t.extraOptions},r}();S.ModelDecorationOptions=_,_.EMPTY=_.register({});var y=function(){return function(o,e,t){this.index=o,this.range=e,this.options=t}}()}),define(s[326],n([1,0,2,20,475,34,9,33,12,101,93,55]),function(p,e,K,n,g,o,t,i,r,a,s,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var d=function(d){function Y(e,o,n){var i=d.call(this,e,o,n)||this;return i._commandManager=new g.EditStack(i),i._isUndoing=!1,i._isRedoing=!1,i._hasEditableRange=!1,i._editableRangeId=null,i._trimAutoWhitespaceLines=null,i}return Z(Y,d),Y.createFromString=function(t,e,o){return void 0===e&&(e=s.TextModel.DEFAULT_CREATION_OPTIONS),void 0===o&&(o=null),new Y(a.RawTextSource.fromString(t),e,o)},Y.prototype.onDidChangeRawContent=function(t){return this._eventEmitter.addListener(m.TextModelEventType.ModelRawContentChanged2,t)},Y.prototype.onDidChangeContent=function(t){return this._eventEmitter.addListener(m.TextModelEventType.ModelContentChanged,t)},Y.prototype.dispose=function(){this._commandManager=null,d.prototype.dispose.call(this)},Y.prototype._resetValue=function(e){d.prototype._resetValue.call(this,e),this._commandManager=new g.EditStack(this),this._hasEditableRange=!1,this._editableRangeId=null,this._trimAutoWhitespaceLines=null},Y.prototype.pushStackElement=function(){this._commandManager.pushStackElement()},Y.prototype.pushEditOperations=function(o,e,t){try{return this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(o,e,t)}finally{this._eventEmitter.endDeferredEmit()}},Y.prototype._pushEditOperations=function(n,e,t){var i=this;if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){for(var o=e.map(function(t){return{range:i.validateRange(t.range),text:t.text}}),r=!0,s=0,a=n.length;s<a;s++){for(var u=n[s],l=!1,C=0,d=o.length;C<d;C++){var h=(v=o[C].range).startLineNumber>u.endLineNumber,b=u.startLineNumber>v.endLineNumber;if(!h&&!b){l=!0;break}}if(!l){r=!1;break}}if(r)for(var s=0,a=this._trimAutoWhitespaceLines.length;s<a;s++){for(var S=this._trimAutoWhitespaceLines[s],g=this.getLineMaxColumn(S),m=!0,C=0,d=o.length;C<d;C++){var v=o[C].range,_=o[C].text;if(!(S<v.startLineNumber||S>v.endLineNumber)&&!(S===v.startLineNumber&&v.startColumn===g&&v.isEmpty()&&_&&0<_.length&&"\n"===_.charAt(0))){m=!1;break}}m&&e.push({identifier:null,range:new K.Range(S,1,S,g),text:null,forceMoveMarkers:!1,isAutoWhitespaceEdit:!1})}this._trimAutoWhitespaceLines=null}return this._commandManager.pushEditOperation(n,e,t)},Y.prototype._reduceOperations=function(t){return 1e3>t.length?t:[this._toSingleEditOperation(t)]},Y.prototype._toSingleEditOperation=function(n){for(var e=!1,m=n[0].range,i=n[n.length-1].range,o=new K.Range(m.startLineNumber,m.startColumn,i.endLineNumber,i.endColumn),_=m.startLineNumber,s=m.startColumn,a=[],u=0,l=n.length;u<l;u++){var c=n[u],d=c.range;e=e||c.forceMoveMarkers;for(var h=_;h<d.startLineNumber;h++)h===_?a.push(this._lines[h-1].text.substring(s-1)):(a.push("\n"),a.push(this._lines[h-1].text));if(d.startLineNumber===_?a.push(this._lines[d.startLineNumber-1].text.substring(s-1,d.startColumn-1)):(a.push("\n"),a.push(this._lines[d.startLineNumber-1].text.substring(0,d.startColumn-1))),c.lines)for(var p=0,f=c.lines.length;p<f;p++)0!==p&&a.push("\n"),a.push(c.lines[p]);_=c.range.endLineNumber,s=c.range.endColumn}return{sortIndex:0,identifier:n[0].identifier,range:o,rangeLength:this.getValueLengthInRange(o),lines:a.join("").split("\n"),forceMoveMarkers:e,isAutoWhitespaceEdit:!1}},Y._sortOpsAscending=function(o,e){var t=K.Range.compareRangesUsingEnds(o.range,e.range);return 0===t?o.sortIndex-e.sortIndex:t},Y._sortOpsDescending=function(o,e){var t=K.Range.compareRangesUsingEnds(o.range,e.range);return 0===t?e.sortIndex-o.sortIndex:-t},Y.prototype.applyEdits=function(o){try{this._eventEmitter.beginDeferredEmit();var e=this._acquireMarkersTracker();return this._applyEdits(e,o)}finally{this._releaseMarkersTracker(),this._eventEmitter.endDeferredEmit()}},Y.prototype._applyEdits=function(s,e){if(0===e.length)return[];for(var n=this._mightContainRTL,x=this._mightContainNonBasicASCII,N=!0,r=[],a=0;a<e.length;a++){_=e[a],N&&_._isTracked&&(N=!1);var T=this.validateRange(_.range);!n&&_.text&&(n=t.containsRTL(_.text)),!x&&_.text&&(x=!t.isBasicASCII(_.text)),r[a]={sortIndex:a,identifier:_.identifier,range:T,rangeLength:this.getValueLengthInRange(T),lines:_.text?_.text.split(/\r\n|\r|\n/):null,forceMoveMarkers:_.forceMoveMarkers,isAutoWhitespaceEdit:_.isAutoWhitespaceEdit||!1}}r.sort(Y._sortOpsAscending);for(var a=0,I=r.length-1,c;a<I;a++)if(c=r[a].range.getEndPosition(),r[a+1].range.getStartPosition().isBefore(c))throw new Error("Overlapping ranges are not allowed!");N&&(r=this._reduceOperations(r));for(var d=this.getEditableRange(),h=d.getStartPosition(),p=d.getEndPosition(),a=0,f;a<r.length;a++)if(f=r[a].range,!h.isBeforeOrEqual(f.getStartPosition())||!f.getEndPosition().isBeforeOrEqual(p))throw new Error("Editing outside of editable range not allowed!");for(var g=Y._getInverseEditRanges(r),m=[],v=[],a=0;a<r.length;a++){var _=r[a],y=g[a];if(m[a]={identifier:_.identifier,range:y,text:this.getValueInRange(_.range),forceMoveMarkers:_.forceMoveMarkers},this._options.trimAutoWhitespace&&_.isAutoWhitespaceEdit&&_.range.isEmpty())for(w=y.startLineNumber;w<=y.endLineNumber;w++){var M="";w===y.startLineNumber&&(M=this.getLineContent(_.range.startLineNumber),-1!==t.firstNonWhitespaceIndex(M))||v.push({lineNumber:w,oldContent:M})}}if(this._mightContainRTL=n,this._mightContainNonBasicASCII=x,this._doApplyEdits(s,r),this._trimAutoWhitespaceLines=null,this._options.trimAutoWhitespace&&0<v.length){v.sort(function(o,e){return e.lineNumber-o.lineNumber}),this._trimAutoWhitespaceLines=[];for(var a=0,k=v.length,w;a<k;a++)if(w=v[a].lineNumber,!(0<a&&v[a-1].lineNumber===w)){var D=v[a].oldContent,E=this.getLineContent(w);0!==E.length&&E!==D&&-1===t.firstNonWhitespaceIndex(E)&&this._trimAutoWhitespaceLines.push(w)}}return m},Y._getInverseEditRanges=function(n){for(var e=[],o=null,r=0,s=n.length,a,t;r<s;r++){var i=n[r],u=void 0,l=void 0;o?o.range.endLineNumber===i.range.startLineNumber?(u=a,l=t+(i.range.startColumn-o.range.endColumn)):(u=a+(i.range.startLineNumber-o.range.endLineNumber),l=i.range.startColumn):(u=i.range.startLineNumber,l=i.range.startColumn);var c=void 0;if(i.lines&&0<i.lines.length){var d=i.lines.length,g=i.lines[0],p=i.lines[d-1];c=1===d?new K.Range(u,l,u,l+g.length):new K.Range(u,l,u+d-1,p.length+1)}else c=new K.Range(u,l,u,l);a=c.endLineNumber,t=c.endColumn,e.push(c),o=i}return e},Y.prototype._doApplyEdits=function(d,e){var j=this,o=this._options.tabSize;e.sort(Y._sortOpsDescending);for(var Z=[],t=[],s=[],n=function(){if(0!==s.length){s.reverse();for(var e=s[0].lineNumber,t=0,n=1,i=s.length,r;n<i;n++)r=s[n].lineNumber,r!==e&&(j._invalidateLine(e-1),j._lines[e-1].applyEdits(d,s.slice(t,n),o),j._lineStarts&&j._lineStarts.changeValue(e-1,j._lines[e-1].text.length+j._EOL.length),Z.push(new m.ModelRawLineChanged(e,j._lines[e-1].text)),e=r,t=n);j._invalidateLine(e-1),j._lines[e-1].applyEdits(d,s.slice(t,s.length),o),j._lineStarts&&j._lineStarts.changeValue(e-1,j._lines[e-1].text.length+j._EOL.length),Z.push(new m.ModelRawLineChanged(e,j._lines[e-1].text)),s=[]}},a=e[e.length-1].range.startLineNumber,p=e[0].range.endLineNumber+1,c=0,u=0,g=e.length;u<g;u++){var h=e[u],_=h.range.startLineNumber,f=h.range.startColumn,y=h.range.endLineNumber,C=h.range.endColumn;if(_!==y||f!==C||h.lines&&0!==h.lines.length){var b=y-_,v=h.lines?h.lines.length-1:0,S=q(b,v);for(c+=v-b,I=S;0<=I;I--){var E=_+I;!function(t){t.startColumn===t.endColumn&&0===t.text.length||s.push(t)}({lineNumber:E,startColumn:E===_?f:1,endColumn:E===y?C:this.getLineMaxColumn(E),text:h.lines?h.lines[I]:"",forceMoveMarkers:h.forceMoveMarkers})}if(S<b){n();var L=_+S,w=this.getLineMaxColumn(L),N=this._lines[y-1].split(d,C,!1,o);this._invalidateLine(L-1);for(var T=y-L,M=[],I=0;I<T;I++){var k=L+I,D=this._lines[k].getMarkers();D&&(M=M.concat(D))}this._lines.splice(L,T),this._lineStarts&&this._lineStarts.removeValues(L,T),this._lines[L-1].append(d,L,N,o),this._lineStarts&&this._lineStarts.changeValue(L-1,this._lines[L-1].text.length+this._EOL.length);for(var R=new r.Position(L,w),I=0,P=M.length;I<P;I++)M[I].updatePosition(d,R);this._lines[L-1].addMarkers(M),Z.push(new m.ModelRawLineChanged(L,this._lines[L-1].text)),Z.push(new m.ModelRawLinesDeleted(L+1,L+T))}if(S<v){n();var O=_+S,A=O===_?f:1;h.lines&&(A+=h.lines[S].length);var F=this._lines[O-1].split(d,A,h.forceMoveMarkers,o);this._lineStarts&&this._lineStarts.changeValue(O-1,this._lines[O-1].text.length+this._EOL.length),Z.push(new m.ModelRawLineChanged(O,this._lines[O-1].text)),this._invalidateLine(O-1);for(var W=[],B=[],V=new Uint32Array(v-S),I=S+1;I<=v;I++)W.push(this._createModelLine(h.lines[I],o)),B.push(h.lines[I]),V[I-S-1]=h.lines[I].length+this._EOL.length;this._lines=i.arrayInsert(this._lines,_+S,W),B[B.length-1]+=F.text,this._lineStarts&&this._lineStarts.insertValues(_+S,V),this._lines[_+v-1].append(d,_+v,F,o),this._lineStarts&&this._lineStarts.changeValue(_+v-1,this._lines[_+v-1].text.length+this._EOL.length),Z.push(new m.ModelRawLinesInserted(O+1,_+v,B.join("\n")))}t.push({range:new K.Range(_,f,y,C),rangeLength:h.rangeLength,text:h.lines?h.lines.join(this.getEOL()):""})}}n(),p=G(1,q(this.getLineCount(),p+c)),0!==c&&(p=this.getLineCount());for(var H=a;H<=p;H++)this._lines[H-1].updateLineNumber(d,H);if(0!==Z.length||0!==t.length){this._increaseVersionId(),this._emitModelRawContentChangedEvent(new m.ModelRawContentChangedEvent(Z,this.getVersionId(),this._isUndoing,this._isRedoing));var z={changes:t,eol:this._EOL,versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1};this._eventEmitter.emit(m.TextModelEventType.ModelContentChanged,z)}this._resetIndentRanges()},Y.prototype._assertLineNumbersOK=function(){for(var d=0,e=0,t=this._lines.length;e<t;e++){var n=e+1,i=this._lines[e].getMarkers();if(null!==i)for(var o=0,r=i.length;o<r;o++){d++;var s=i[o].id;if(this._markerIdToMarker[s].position.lineNumber!==n)throw new Error("Misplaced marker with id "+s)}}if(Object.keys(this._markerIdToMarker).length!==d)throw new Error("There are misplaced markers!")},Y.prototype._undo=function(){this._isUndoing=!0;var t=this._commandManager.undo();return this._isUndoing=!1,t?(this._overwriteAlternativeVersionId(t.recordedVersionId),t.selections):null},Y.prototype.undo=function(){try{return this._eventEmitter.beginDeferredEmit(),this._acquireMarkersTracker(),this._undo()}finally{this._releaseMarkersTracker(),this._eventEmitter.endDeferredEmit()}},Y.prototype._redo=function(){this._isRedoing=!0;var t=this._commandManager.redo();return this._isRedoing=!1,t?(this._overwriteAlternativeVersionId(t.recordedVersionId),t.selections):null},Y.prototype.redo=function(){try{return this._eventEmitter.beginDeferredEmit(),this._acquireMarkersTracker(),this._redo()}finally{this._releaseMarkersTracker(),this._eventEmitter.endDeferredEmit()}},Y.prototype.setEditableRange=function(t){var e=this;this._commandManager.clear(),(this._hasEditableRange||t)&&this.changeDecorations(function(o){e._hasEditableRange&&(o.removeDecoration(e._editableRangeId),e._editableRangeId=null,e._hasEditableRange=!1),t&&(e._hasEditableRange=!0,e._editableRangeId=o.addDecoration(t,Y._DECORATION_OPTION))})},Y.prototype.hasEditableRange=function(){return this._hasEditableRange},Y.prototype.getEditableRange=function(){return this._hasEditableRange?this.getDecorationRange(this._editableRangeId):this.getFullModelRange()},Y._DECORATION_OPTION=o.ModelDecorationOptions.register({stickiness:n.TrackedRangeStickiness.AlwaysGrowsWhenTypingAtEdges}),Y}(o.TextModelWithDecorations);e.EditableTextModel=d}),define(s[175],n([1,0,24,326,93,101,55]),function(d,e,l,t,p,o,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var c=0,i=function(a){function r(e,n,i,o){void 0===o&&(o=null);var r=a.call(this,e,n,i)||this;return c++,r.id="$model"+c,r._associatedResource=void 0===o||null===o?l.default.parse("inmemory://model/"+c):o,r._attachedEditorCount=0,r}return Z(r,a),r.prototype.onDidChangeDecorations=function(t){return this._eventEmitter.addListener(n.TextModelEventType.ModelDecorationsChanged,t)},r.prototype.onDidChangeOptions=function(t){return this._eventEmitter.addListener(n.TextModelEventType.ModelOptionsChanged,t)},r.prototype.onWillDispose=function(t){return this._eventEmitter.addListener(n.TextModelEventType.ModelDispose,t)},r.prototype.onDidChangeLanguage=function(t){return this._eventEmitter.addListener(n.TextModelEventType.ModelLanguageChanged,t)},r.createFromString=function(t,e,n,i){return void 0===e&&(e=p.TextModel.DEFAULT_CREATION_OPTIONS),void 0===n&&(n=null),void 0===i&&(i=null),new r(o.RawTextSource.fromString(t),e,n,i)},r.prototype.destroy=function(){this.dispose()},r.prototype.dispose=function(){this._isDisposing=!0,this._eventEmitter.emit(n.TextModelEventType.ModelDispose),a.prototype.dispose.call(this),this._isDisposing=!1},r.prototype.onBeforeAttached=function(){this._attachedEditorCount++,this._warmUpTokens()},r.prototype.onBeforeDetached=function(){this._attachedEditorCount--},r.prototype._shouldAutoTokenize=function(){return this.isAttachedToEditor()},r.prototype.isAttachedToEditor=function(){return 0<this._attachedEditorCount},Object.defineProperty(r.prototype,"uri",{get:function(){return this._associatedResource},enumerable:!0,configurable:!0}),r}(t.EditableTextModel);e.Model=i}),define(s[179],n([1,0,12,22,2,104,86,57,34]),function(_,e,y,C,b,o,S,E,t){"use strict";function L(c,e,t,n,i,o,r){var s=c.createLineMapping(e,t,n,i,o);return null===s?r?d.INSTANCE:l.INSTANCE:new p(s,r)}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){return function(o,e){this.outputLineIndex=o,this.outputOffset=e}}();e.OutputPosition=n;var i=function(){function t(t){this._lines=t}return t.prototype.convertViewPositionToModelPosition=function(t){return this._lines.convertViewPositionToModelPosition(t.lineNumber,t.column)},t.prototype.convertViewRangeToModelRange=function(o){var e=this._lines.convertViewPositionToModelPosition(o.startLineNumber,o.startColumn),t=this._lines.convertViewPositionToModelPosition(o.endLineNumber,o.endColumn);return new b.Range(e.lineNumber,e.column,t.lineNumber,t.column)},t.prototype.convertViewSelectionToModelSelection=function(o){var e=this._lines.convertViewPositionToModelPosition(o.selectionStartLineNumber,o.selectionStartColumn),t=this._lines.convertViewPositionToModelPosition(o.positionLineNumber,o.positionColumn);return new C.Selection(e.lineNumber,e.column,t.lineNumber,t.column)},t.prototype.validateViewPosition=function(o,e){return this._lines.validateViewPosition(o.lineNumber,o.column,e)},t.prototype.validateViewRange=function(o,e){var t=this._lines.validateViewPosition(o.startLineNumber,o.startColumn,e.getStartPosition()),n=this._lines.validateViewPosition(o.endLineNumber,o.endColumn,e.getEndPosition());return new b.Range(t.lineNumber,t.column,n.lineNumber,n.column)},t.prototype.convertModelPositionToViewPosition=function(t){return this._lines.convertModelPositionToViewPosition(t.lineNumber,t.column)},t.prototype.convertModelRangeToViewRange=function(o){var e=this._lines.convertModelPositionToViewPosition(o.startLineNumber,o.startColumn),t=this._lines.convertModelPositionToViewPosition(o.endLineNumber,o.endColumn);return new b.Range(e.lineNumber,e.column,t.lineNumber,t.column)},t.prototype.convertModelSelectionToViewSelection=function(o){var e=this._lines.convertModelPositionToViewPosition(o.selectionStartLineNumber,o.selectionStartColumn),t=this._lines.convertModelPositionToViewPosition(o.positionLineNumber,o.positionColumn);return new C.Selection(e.lineNumber,e.column,t.lineNumber,t.column)},t.prototype.modelPositionIsVisible=function(t){return this._lines.modelPositionIsVisible(t.lineNumber,t.column)},t}();e.CoordinatesConverter=i;var r=function(){function n(a,s,t,n,i,o){this.model=a,this._validModelVersionId=-1,this.tabSize=t,this.wrappingColumn=n,this.columnsForFullWidthChar=i,this.wrappingIndent=o,this.linePositionMapperFactory=s,this._constructLines(!0)}return n.prototype.dispose=function(){this.hiddenAreasIds=this.model.deltaDecorations(this.hiddenAreasIds,[])},n.prototype.createCoordinatesConverter=function(){return new i(this)},n.prototype._ensureValidState=function(){if(this.model.getVersionId()!==this._validModelVersionId)throw new Error("SplitLinesCollection: attempt to access a 'newer' model")},n.prototype._constructLines=function(r){var l=this;this.lines=[],r&&(this.hiddenAreasIds=[]);for(var e=this.model.getLinesContent(),t=e.length,n=new Uint32Array(t),i=this.hiddenAreasIds.map(function(t){return l.model.getDecorationRange(t)}).sort(b.Range.compareRangesUsingStarts),a=1,s=0,c=-1,d=c+1<i.length?s+1:t+2,u=0,p;u<t;u++){p=u+1,p===d&&(a=i[++c].startLineNumber,s=i[c].endLineNumber,d=c+1<i.length?s+1:t+2);var h=p>=a&&p<=s,_=L(this.linePositionMapperFactory,e[u],this.tabSize,this.wrappingColumn,this.columnsForFullWidthChar,this.wrappingIndent,!h);n[u]=_.getViewLineCount(),this.lines[u]=_}this._validModelVersionId=this.model.getVersionId(),this.prefixSumComputer=new o.PrefixSumComputerWithCache(n)},n.prototype.getHiddenAreas=function(){var o=this;return this.hiddenAreasIds.map(function(e){return o.model.getDecorationRange(e)}).sort(b.Range.compareRangesUsingStarts)},n.prototype._reduceRanges=function(o){var d=this;if(0===o.length)return[];for(var e=o.map(function(t){return d.model.validateRange(t)}).sort(b.Range.compareRangesUsingStarts),t=[],n=e[0].startLineNumber,i=e[0].endLineNumber,r=1,a=e.length,s;r<a;r++)s=e[r],s.startLineNumber>i+1?(t.push(new b.Range(n,1,i,1)),n=s.startLineNumber,i=s.endLineNumber):s.endLineNumber>i&&(i=s.endLineNumber);return t.push(new b.Range(n,1,i,1)),t},n.prototype.setHiddenAreas=function(o){var u=this,e=this._reduceRanges(o),n=this.hiddenAreasIds.map(function(t){return u.model.getDecorationRange(t)}).sort(b.Range.compareRangesUsingStarts);if(e.length===n.length){for(var i=!1,_=0;_<e.length;_++)if(!e[_].equalsRange(n[_])){i=!0;break}if(!i)return!1}for(var s=[],_=0;_<e.length;_++)s.push({range:e[_],options:t.ModelDecorationOptions.EMPTY});this.hiddenAreasIds=this.model.deltaDecorations(this.hiddenAreasIds,s);for(var a=e,l=1,c=0,d=-1,h=d+1<a.length?c+1:this.lines.length+2,_=0,p;_<this.lines.length;_++){p=_+1,p===h&&(l=a[++d].startLineNumber,c=a[d].endLineNumber,h=d+1<a.length?c+1:this.lines.length+2);var f=!1;if(p>=l&&p<=c?this.lines[_].isVisible()&&(this.lines[_]=this.lines[_].setVisible(!1),f=!0):this.lines[_].isVisible()||(this.lines[_]=this.lines[_].setVisible(!0),f=!0),f){var g=this.lines[_].getViewLineCount();this.prefixSumComputer.changeValue(_,g)}}return!0},n.prototype.modelPositionIsVisible=function(t){return!(1>t||t>this.lines.length)&&this.lines[t-1].isVisible()},n.prototype.setTabSize=function(t){return this.tabSize!==t&&(this.tabSize=t,this._constructLines(!1),!0)},n.prototype.setWrappingSettings=function(o,e,t){return(this.wrappingIndent!==o||this.wrappingColumn!==e||this.columnsForFullWidthChar!==t)&&(this.wrappingIndent=o,this.wrappingColumn=e,this.columnsForFullWidthChar=t,this._constructLines(!1),!0)},n.prototype.onModelFlushed=function(){this._constructLines(!0)},n.prototype.onModelLinesDeleted=function(r,e,t){if(r<=this._validModelVersionId)return null;var n=1===e?1:this.prefixSumComputer.getAccumulatedValue(e-2)+1,i=this.prefixSumComputer.getAccumulatedValue(t-1);return this.lines.splice(e-1,t-e+1),this.prefixSumComputer.removeValues(e-1,t-e+1),new E.ViewLinesDeletedEvent(n,i)},n.prototype.onModelLinesInserted=function(n,e,t,i){if(n<=this._validModelVersionId)return null;for(var o=this.getHiddenAreas(),r=!1,a=new y.Position(e,1),l=0;l<o.length;l++)if(o[l].containsPosition(a)){r=!0;break}for(var c=1===e?1:this.prefixSumComputer.getAccumulatedValue(e-2)+1,d=0,u=[],p=new Uint32Array(i.length),l=0,h=i.length,g;l<h;l++){g=L(this.linePositionMapperFactory,i[l],this.tabSize,this.wrappingColumn,this.columnsForFullWidthChar,this.wrappingIndent,!r),u.push(g);var m=g.getViewLineCount();d+=m,p[l]=m}return this.lines=this.lines.slice(0,e-1).concat(u).concat(this.lines.slice(e-1)),this.prefixSumComputer.insertValues(e-1,p),new E.ViewLinesInsertedEvent(c,c+d-1)},n.prototype.onModelLineChanged=function(a,e,t){if(a<=this._validModelVersionId)return[!1,null,null,null];var n=e-1,i=this.lines[n].getViewLineCount(),o=this.lines[n].isVisible(),r=L(this.linePositionMapperFactory,t,this.tabSize,this.wrappingColumn,this.columnsForFullWidthChar,this.wrappingIndent,o);this.lines[n]=r;var s=this.lines[n].getViewLineCount(),l=!1,c=0,d=-1,u=0,p=-1,h=0,g=-1;return i>s?(g=(h=(d=(c=1===e?1:this.prefixSumComputer.getAccumulatedValue(e-2)+1)+s-1)+1)+(i-s)-1,l=!0):i<s?(p=(u=(d=(c=1===e?1:this.prefixSumComputer.getAccumulatedValue(e-2)+1)+i-1)+1)+(s-i)-1,l=!0):d=(c=1===e?1:this.prefixSumComputer.getAccumulatedValue(e-2)+1)+s-1,this.prefixSumComputer.changeValue(n,s),[l,c<=d?new E.ViewLinesChangedEvent(c,d):null,u<=p?new E.ViewLinesInsertedEvent(u,p):null,h<=g?new E.ViewLinesDeletedEvent(h,g):null]},n.prototype.acceptVersionId=function(t){this._validModelVersionId=t},n.prototype.getViewLineCount=function(){return this._ensureValidState(),this.prefixSumComputer.getTotalValue()},n.prototype._toValidViewLineNumber=function(o){if(1>o)return 1;var e=this.getViewLineCount();return o>e?e:o},n.prototype.warmUpLookupCache=function(o,e){this.prefixSumComputer.warmUpCache(o-1,e-1)},n.prototype.getViewLineIndentGuide=function(o){this._ensureValidState(),o=this._toValidViewLineNumber(o);var e=this.prefixSumComputer.getIndexOf(o-1);return this.model.getLineIndentGuide(e.index+1)},n.prototype.getViewLineContent=function(o){this._ensureValidState(),o=this._toValidViewLineNumber(o);var e=this.prefixSumComputer.getIndexOf(o-1),t=e.index,n=e.remainder;return this.lines[t].getViewLineContent(this.model,t+1,n)},n.prototype.getViewLineMinColumn=function(o){this._ensureValidState(),o=this._toValidViewLineNumber(o);var e=this.prefixSumComputer.getIndexOf(o-1),t=e.index,n=e.remainder;return this.lines[t].getViewLineMinColumn(this.model,t+1,n)},n.prototype.getViewLineMaxColumn=function(o){this._ensureValidState(),o=this._toValidViewLineNumber(o);var e=this.prefixSumComputer.getIndexOf(o-1),t=e.index,n=e.remainder;return this.lines[t].getViewLineMaxColumn(this.model,t+1,n)},n.prototype.getViewLineData=function(o){this._ensureValidState(),o=this._toValidViewLineNumber(o);var e=this.prefixSumComputer.getIndexOf(o-1),t=e.index,n=e.remainder;return this.lines[t].getViewLineData(this.model,t+1,n)},n.prototype.getViewLinesData=function(g,e,t){this._ensureValidState(),g=this._toValidViewLineNumber(g),e=this._toValidViewLineNumber(e);for(var n=this.prefixSumComputer.getIndexOf(g-1),i=g,o=n.index,r=n.remainder,s=[],a=o,u=this.model.getLineCount(),l;a<u;a++)if(l=this.lines[a],l.isVisible()){var c=a===o?r:0,d=l.getViewLineCount()-c,m=!1;i+d>e&&(m=!0,d=e-i+1);var p=c+d;if(l.getViewLinesData(this.model,a+1,c,p,i-g,t,s),i+=d,m)break}return s},n.prototype.validateViewPosition=function(n,e,t){this._ensureValidState(),n=this._toValidViewLineNumber(n);var i=this.prefixSumComputer.getIndexOf(n-1),o=i.index,r=i.remainder,s=this.lines[o],a=s.getViewLineMinColumn(this.model,o+1,r),d=s.getViewLineMaxColumn(this.model,o+1,r);e<a&&(e=a),e>d&&(e=d);var l=s.getModelColumnOfViewPosition(r,e);return this.model.validatePosition(new y.Position(o+1,l)).equals(t)?new y.Position(n,e):this.convertModelPositionToViewPosition(t.lineNumber,t.column)},n.prototype.convertViewPositionToModelPosition=function(n,e){this._ensureValidState(),n=this._toValidViewLineNumber(n);var t=this.prefixSumComputer.getIndexOf(n-1),i=t.index,o=t.remainder,r=this.lines[i].getModelColumnOfViewPosition(o,e);return this.model.validatePosition(new y.Position(i+1,r))},n.prototype.convertModelPositionToViewPosition=function(n,e){this._ensureValidState();for(var t=this.model.validatePosition(new y.Position(n,e)),i=t.lineNumber,o=t.column,r=i-1,s=!1;0<r&&!this.lines[r].isVisible();)r--,s=!0;if(0===r&&!this.lines[r].isVisible())return new y.Position(1,1);var a=1+(0===r?0:this.prefixSumComputer.getAccumulatedValue(r-1));return s?this.lines[r].getViewPositionOfModelPosition(a,this.model.getLineMaxColumn(r+1)):this.lines[i-1].getViewPositionOfModelPosition(a,o)},n}();e.SplitLinesCollection=r;var d=function(){function t(){}return t.prototype.isVisible=function(){return!0},t.prototype.setVisible=function(t){return t?this:l.INSTANCE},t.prototype.getViewLineCount=function(){return 1},t.prototype.getViewLineContent=function(o,e){return o.getLineContent(e)},t.prototype.getViewLineMinColumn=function(o,e){return o.getLineMinColumn(e)},t.prototype.getViewLineMaxColumn=function(o,e){return o.getLineMaxColumn(e)},t.prototype.getViewLineData=function(n,e){var t=n.getLineTokens(e),i=t.getLineContent();return new S.ViewLineData(i,1,i.length+1,t.inflate())},t.prototype.getViewLinesData=function(a,e,t,n,i,o,r){r[i]=o[i]?this.getViewLineData(a,e,0):null},t.prototype.getModelColumnOfViewPosition=function(o,e){return e},t.prototype.getViewPositionOfModelPosition=function(o,e){return new y.Position(o,e)},t.INSTANCE=new t,t}(),l=function(){function t(){}return t.prototype.isVisible=function(){return!1},t.prototype.setVisible=function(t){return t?d.INSTANCE:this},t.prototype.getViewLineCount=function(){return 0},t.prototype.getViewLineContent=function(){throw new Error("Not supported")},t.prototype.getViewLineMinColumn=function(){throw new Error("Not supported")},t.prototype.getViewLineMaxColumn=function(){throw new Error("Not supported")},t.prototype.getViewLineData=function(){throw new Error("Not supported")},t.prototype.getViewLinesData=function(){throw new Error("Not supported")},t.prototype.getModelColumnOfViewPosition=function(){throw new Error("Not supported")},t.prototype.getViewPositionOfModelPosition=function(){throw new Error("Not supported")},t.INSTANCE=new t,t}(),p=function(){function t(o,n){this.positionMapper=o,this.wrappedIndent=this.positionMapper.getWrappedLinesIndent(),this.wrappedIndentLength=this.wrappedIndent.length,this.outputLineCount=this.positionMapper.getOutputLineCount(),this._isVisible=n}return t.prototype.isVisible=function(){return this._isVisible},t.prototype.setVisible=function(t){return this._isVisible=t,this},t.prototype.getViewLineCount=function(){return this._isVisible?this.outputLineCount:0},t.prototype.getInputStartOffsetOfOutputLineIndex=function(t){return this.positionMapper.getInputOffsetOfOutputPosition(t,0)},t.prototype.getInputEndOffsetOfOutputLineIndex=function(o,e,t){return t+1===this.outputLineCount?o.getLineMaxColumn(e)-1:this.positionMapper.getInputOffsetOfOutputPosition(t+1,0)},t.prototype.getViewLineContent=function(a,e,t){if(!this._isVisible)throw new Error("Not supported");var n=this.getInputStartOffsetOfOutputLineIndex(t),i=this.getInputEndOffsetOfOutputLineIndex(a,e,t),o=a.getLineContent(e).substring(n,i);return 0<t&&(o=this.wrappedIndent+o),o},t.prototype.getViewLineMinColumn=function(o,e,t){if(!this._isVisible)throw new Error("Not supported");return 0<t?this.wrappedIndentLength+1:1},t.prototype.getViewLineMaxColumn=function(o,e,t){if(!this._isVisible)throw new Error("Not supported");return this.getViewLineContent(o,e,t).length+1},t.prototype.getViewLineData=function(s,e,t){if(!this._isVisible)throw new Error("Not supported");var n=this.getInputStartOffsetOfOutputLineIndex(t),i=this.getInputEndOffsetOfOutputLineIndex(s,e,t),o=s.getLineContent(e).substring(n,i);0<t&&(o=this.wrappedIndent+o);var r=0<t?this.wrappedIndentLength+1:1,a=o.length+1,d=0;0<t&&(d=this.wrappedIndentLength);var l=s.getLineTokens(e);return new S.ViewLineData(o,r,a,l.sliceAndInflate(n,i,d))},t.prototype.getViewLinesData=function(d,e,t,n,i,o,r){if(!this._isVisible)throw new Error("Not supported");for(var s=t,a;s<n;s++)a=i+s-t,r[a]=o[a]?this.getViewLineData(d,e,s):null},t.prototype.getModelColumnOfViewPosition=function(o,e){if(!this._isVisible)throw new Error("Not supported");var t=e-1;return 0<o&&(t<this.wrappedIndentLength?t=0:t-=this.wrappedIndentLength),this.positionMapper.getInputOffsetOfOutputPosition(o,t)+1},t.prototype.getViewPositionOfModelPosition=function(n,e){if(!this._isVisible)throw new Error("Not supported");var t=this.positionMapper.getOutputPositionOfInputOffset(e-1),i=t.outputLineIndex,o=t.outputOffset+1;return 0<i&&(o+=this.wrappedIndentLength),new y.Position(n+i,o)},t}();e.SplitLine=p;var a=function(){function t(t){this._lines=t}return t.prototype._validPosition=function(t){return this._lines.model.validatePosition(t)},t.prototype._validRange=function(t){return this._lines.model.validateRange(t)},t.prototype._validSelection=function(n){var e=this._validPosition(new y.Position(n.selectionStartLineNumber,n.selectionStartColumn)),t=this._validPosition(new y.Position(n.positionLineNumber,n.positionColumn));return new C.Selection(e.lineNumber,e.column,t.lineNumber,t.column)},t.prototype.convertViewPositionToModelPosition=function(t){return this._validPosition(t)},t.prototype.convertViewRangeToModelRange=function(t){return this._validRange(t)},t.prototype.convertViewSelectionToModelSelection=function(t){return this._validSelection(t)},t.prototype.validateViewPosition=function(o,e){return this._validPosition(e)},t.prototype.validateViewRange=function(o,e){return this._validRange(e)},t.prototype.convertModelPositionToViewPosition=function(t){return this._validPosition(t)},t.prototype.convertModelRangeToViewRange=function(t){return this._validRange(t)},t.prototype.convertModelSelectionToViewSelection=function(t){return this._validSelection(t)},t.prototype.modelPositionIsVisible=function(o){var e=this._lines.model.getLineCount();return!(1>o.lineNumber||o.lineNumber>e)},t}();e.IdentityCoordinatesConverter=a;var s=function(){function t(t){this.model=t}return t.prototype.dispose=function(){},t.prototype.createCoordinatesConverter=function(){return new a(this)},t.prototype.setHiddenAreas=function(){return!1},t.prototype.setTabSize=function(){return!1},t.prototype.setWrappingSettings=function(){return!1},t.prototype.onModelFlushed=function(){},t.prototype.onModelLinesDeleted=function(o,e,t){return new E.ViewLinesDeletedEvent(e,t)},t.prototype.onModelLinesInserted=function(o,e,t){return new E.ViewLinesInsertedEvent(e,t)},t.prototype.onModelLineChanged=function(o,e){return[!1,new E.ViewLinesChangedEvent(e,e),null,null]},t.prototype.acceptVersionId=function(){},t.prototype.getViewLineCount=function(){return this.model.getLineCount()},t.prototype.warmUpLookupCache=function(){},t.prototype.getViewLineIndentGuide=function(){return 0},t.prototype.getViewLineContent=function(t){return this.model.getLineContent(t)},t.prototype.getViewLineMinColumn=function(t){return this.model.getLineMinColumn(t)},t.prototype.getViewLineMaxColumn=function(t){return this.model.getLineMaxColumn(t)},t.prototype.getViewLineData=function(o){var e=this.model.getLineTokens(o),t=e.getLineContent();return new S.ViewLineData(t,1,t.length+1,e.inflate())},t.prototype.getViewLinesData=function(a,e,t){var n=this.model.getLineCount();a=q(G(1,a),n),e=q(G(1,e),n);for(var i=[],o=a,r;o<=e;o++)r=o-a,t[r]||(i[r]=null),i[r]=this.getViewLineData(o);return i},t}();e.IdentityLinesCollection=s}),define(s[329],n([1,0,9,104,179,89,96,49]),function(p,e,R,n,i,t,P,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o;!function(t){t[t.NONE=0]="NONE",t[t.BREAK_BEFORE=1]="BREAK_BEFORE",t[t.BREAK_AFTER=2]="BREAK_AFTER",t[t.BREAK_OBTRUSIVE=3]="BREAK_OBTRUSIVE",t[t.BREAK_IDEOGRAPHIC=4]="BREAK_IDEOGRAPHIC"}(o||(o={}));var r=function(n){function e(e,a,s){for(var i=n.call(this,0)||this,o=0;o<e.length;o++)i.set(e.charCodeAt(o),1);for(o=0;o<a.length;o++)i.set(a.charCodeAt(o),2);for(o=0;o<s.length;o++)i.set(s.charCodeAt(o),3);return i}return Z(e,n),e.prototype.get=function(e){return 12352<=e&&12543>=e||13312<=e&&19903>=e||19968<=e&&40959>=e?4:n.prototype.get.call(this,e)},e}(t.CharacterClassifier),a=function(){function i(o,i,t){this.classifier=new r(o,i,t)}return i.nextVisibleColumn=function(o,r,a,n){return o=+o,r=+r,n=+n,a?o+(r-o%r):o+n},i.prototype.createLineMapping=function(e,t,a,d,A){if(-1===a)return null;t=+t,a=+a,d=+d;var F=0,c="",h=-1;if((A=+A)!==s.WrappingIndent.None&&-1!==(h=R.firstNonWhitespaceIndex(e))){for(c=e.substring(0,h),S=0;S<h;S++)F=i.nextVisibleColumn(F,t,9===e.charCodeAt(S),1);A===s.WrappingIndent.Indent&&(c+="\t",F=i.nextVisibleColumn(F,t,!0,1)),F>.5*a&&(c="",F=0)}for(var p=this.classifier,f=0,g=[],m=0,v=0,_=-1,y=0,C=-1,b=0,w=e.length,S=0;S<w;S++){var E=e.charCodeAt(S),L=9===E,x=p.get(E);if(1===x&&(_=S,y=F),4===x&&0<S){var N=e.charCodeAt(S-1);1!==p.get(N)&&(_=S,y=F)}var M=1;if(R.isFullWidthCharacter(E)&&(M=d),(v=i.nextVisibleColumn(v,t,L,M))>a&&0!==S){var T=void 0,k=void 0;-1!==_&&y<=a?(T=_,k=y):-1!==C&&b<=a?(T=C,k=b):(T=S,k=F),g[m++]=T-f,f=T,v=i.nextVisibleColumn(k,t,L,M),_=-1,y=0,C=-1,b=0}if(-1!==_&&(y=i.nextVisibleColumn(y,t,L,M)),-1!==C&&(b=i.nextVisibleColumn(b,t,L,M)),2===x&&(A===s.WrappingIndent.None||S>=h)&&(_=S+1,y=F),4===x&&S<w-1){var I=e.charCodeAt(S+1);2!==p.get(I)&&(_=S+1,y=F)}3===x&&(C=S+1,b=F)}return 0===m?null:(g[m++]=w-f,new O(new n.PrefixSumComputer(P.toUint32Array(g)),c))},i}();e.CharacterHardWrappingLineMapperFactory=a;var O=function(){function t(o,n){this._prefixSums=o,this._wrappedLinesIndent=n}return t.prototype.getOutputLineCount=function(){return this._prefixSums.getCount()},t.prototype.getWrappedLinesIndent=function(){return this._wrappedLinesIndent},t.prototype.getInputOffsetOfOutputPosition=function(o,e){return 0===o?e:this._prefixSums.getAccumulatedValue(o-1)+e},t.prototype.getOutputPositionOfInputOffset=function(o){var e=this._prefixSums.getIndexOf(o);return new i.OutputPosition(e.index,e.remainder)},t}();e.CharacterHardWrappingLineMapping=O}),define(s[330],n([1,0,9,12,2,20,17,122,240,86,179,57,111,55,329,239]),function(f,e,y,t,C,o,r,b,a,u,l,N,d,i,n,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=function(c){function e(e,g,m){var i=c.call(this)||this;if(i.editorId=e,i.configuration=g,i.model=m,i.model.isTooLargeForTokenization())i.lines=new l.IdentityLinesCollection(i.model);else{var o=i.configuration.editor,r=new n.CharacterHardWrappingLineMapperFactory(o.wrappingInfo.wordWrapBreakBeforeCharacters,o.wrappingInfo.wordWrapBreakAfterCharacters,o.wrappingInfo.wordWrapBreakObtrusiveCharacters);i.lines=new l.SplitLinesCollection(i.model,r,i.model.getOptions().tabSize,o.wrappingInfo.wrappingColumn,o.fontInfo.typicalFullwidthCharacterWidth/o.fontInfo.typicalHalfwidthCharacterWidth,o.wrappingInfo.wrappingIndent)}return i.coordinatesConverter=i.lines.createCoordinatesConverter(),i.viewLayout=i._register(new p.ViewLayout(i.configuration,i.getLineCount())),i._register(i.viewLayout.onDidScroll(function(t){i._emit([new N.ViewScrollChangedEvent(t)])})),i._isDisposing=!1,i._centeredViewLine=-1,i.decorations=new a.ViewModelDecorations(i.editorId,i.model,i.configuration,i.coordinatesConverter),i._register(i.model.addBulkListener(function(o){if(!i._isDisposing){var e=new u.ViewEventsCollector;i._onModelEvents(e,o),i._emit(e.finalize())}})),i._register(i.configuration.onDidChange(function(o){var e=new u.ViewEventsCollector;i._onConfigurationChanged(e,o),i._emit(e.finalize())})),i._register(d.MinimapTokensColorTracker.getInstance().onDidChange(function(){i._emit([new N.ViewTokensColorsChangedEvent])})),i}return Z(e,c),e.prototype.dispose=function(){this._isDisposing=!0,this.decorations.dispose(),this.lines.dispose(),c.prototype.dispose.call(this)},e.prototype._onConfigurationChanged=function(a,e){var t=this.getCenteredRangeInViewport(),n=!1,i=this.configuration.editor;if(this.lines.setWrappingSettings(i.wrappingInfo.wrappingIndent,i.wrappingInfo.wrappingColumn,i.fontInfo.typicalFullwidthCharacterWidth/i.fontInfo.typicalHalfwidthCharacterWidth)&&(a.emit(new N.ViewFlushedEvent),a.emit(new N.ViewLineMappingChangedEvent),a.emit(new N.ViewDecorationsChangedEvent),this.decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),0!==this.viewLayout.getScrollTop()&&(n=!0)),e.readOnly&&(this.decorations.reset(),a.emit(new N.ViewDecorationsChangedEvent)),a.emit(new N.ViewConfigurationChangedEvent(e)),this.viewLayout.onConfigurationChanged(e),n&&t){var o=this.coordinatesConverter.convertModelRangeToViewRange(t);a.emit(new N.ViewRevealRangeRequestEvent(o,1,!1))}},e.prototype._onModelEvents=function(d,e){for(var p=0,n=e.length;p<n;p++)if(e[p].type===i.TextModelEventType.ModelRawContentChanged2){this._centeredViewLine=-1,this.configuration.setMaxLineNumber(this.model.getLineCount());break}for(var o=!1,T=!1,p=0,n=e.length;p<n;p++){var s=e[p],a=s.type,u=s.data;switch(a){case i.TextModelEventType.ModelRawContentChanged2:for(var l=(M=u).changes,c=M.versionId,h=0,f=l.length,g;h<f;h++)switch(g=l[h],g.changeType){case 1:this.lines.onModelFlushed(),d.emit(new N.ViewFlushedEvent),this.decorations.reset(),this.viewLayout.onFlushed(this.getLineCount()),o=!0;break;case 3:null!==(C=this.lines.onModelLinesDeleted(c,g.fromLineNumber,g.toLineNumber))&&(d.emit(C),this.viewLayout.onLinesDeleted(C.fromLineNumber,C.toLineNumber)),o=!0;break;case 4:null!==(y=this.lines.onModelLinesInserted(c,g.fromLineNumber,g.toLineNumber,g.detail.split("\n")))&&(d.emit(y),this.viewLayout.onLinesInserted(y.fromLineNumber,y.toLineNumber)),o=!0;break;case 2:var m=this.lines.onModelLineChanged(c,g.lineNumber,g.detail),v=m[0],_=m[1],y=m[2],C=m[3];T=v,_&&d.emit(_),y&&(d.emit(y),this.viewLayout.onLinesInserted(y.fromLineNumber,y.toLineNumber)),C&&(d.emit(C),this.viewLayout.onLinesDeleted(C.fromLineNumber,C.toLineNumber));}this.lines.acceptVersionId(c);break;case i.TextModelEventType.ModelTokensChanged:for(var b=[],h=0,f=(M=u).ranges.length;h<f;h++){var w=M.ranges[h],S=this.coordinatesConverter.convertModelPositionToViewPosition(new t.Position(w.fromLineNumber,1)).lineNumber,I=this.coordinatesConverter.convertModelPositionToViewPosition(new t.Position(w.toLineNumber,this.model.getLineMaxColumn(w.toLineNumber))).lineNumber;b[h]={fromLineNumber:S,toLineNumber:I}}d.emit(new N.ViewTokensChangedEvent(b));break;case i.TextModelEventType.ModelLanguageChanged:case i.TextModelEventType.ModelContentChanged:break;case i.TextModelEventType.ModelOptionsChanged:this.lines.setTabSize(this.model.getOptions().tabSize)&&(d.emit(new N.ViewFlushedEvent),d.emit(new N.ViewLineMappingChangedEvent),d.emit(new N.ViewDecorationsChangedEvent),this.decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()));break;case i.TextModelEventType.ModelDecorationsChanged:var M=u;this.decorations.onModelDecorationsChanged(M),d.emit(new N.ViewDecorationsChangedEvent);break;case i.TextModelEventType.ModelDispose:break;default:console.info("View received unknown event: "),console.info(a,u);}}!o&&T&&(d.emit(new N.ViewLineMappingChangedEvent),d.emit(new N.ViewDecorationsChangedEvent),this.decorations.onLineMappingChanged())},e.prototype.setHiddenAreas=function(o){var e=new u.ViewEventsCollector;this.lines.setHiddenAreas(o)&&(e.emit(new N.ViewFlushedEvent),e.emit(new N.ViewLineMappingChangedEvent),e.emit(new N.ViewDecorationsChangedEvent),this.decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount())),this._emit(e.finalize())},e.prototype.getCenteredRangeInViewport=function(){if(-1===this._centeredViewLine)return null;var o=this._centeredViewLine,e=new C.Range(o,this.getLineMinColumn(o),o,this.getLineMaxColumn(o));return this.coordinatesConverter.convertViewRangeToModelRange(e)},e.prototype.getCompletelyVisibleViewRange=function(){var o=this.viewLayout.getLinesViewportData(),e=o.completelyVisibleStartLineNumber,t=o.completelyVisibleEndLineNumber;return new C.Range(e,this.getLineMinColumn(e),t,this.getLineMaxColumn(t))},e.prototype.getCompletelyVisibleViewRangeAtScrollTop=function(o){var e=this.viewLayout.getLinesViewportDataAtScrollTop(o),t=e.completelyVisibleStartLineNumber,n=e.completelyVisibleEndLineNumber;return new C.Range(t,this.getLineMinColumn(t),n,this.getLineMaxColumn(n))},e.prototype.getTabSize=function(){return this.model.getOptions().tabSize},e.prototype.getLineCount=function(){return this.lines.getViewLineCount()},e.prototype.setViewport=function(o,e,t){this._centeredViewLine=t,this.lines.warmUpLookupCache(o,e)},e.prototype.getLineIndentGuide=function(t){return this.lines.getViewLineIndentGuide(t)},e.prototype.getLineContent=function(t){return this.lines.getViewLineContent(t)},e.prototype.getLineMinColumn=function(t){return this.lines.getViewLineMinColumn(t)},e.prototype.getLineMaxColumn=function(t){return this.lines.getViewLineMaxColumn(t)},e.prototype.getLineFirstNonWhitespaceColumn=function(o){var e=y.firstNonWhitespaceIndex(this.getLineContent(o));return-1===e?0:e+1},e.prototype.getLineLastNonWhitespaceColumn=function(o){var e=y.lastNonWhitespaceIndex(this.getLineContent(o));return-1===e?0:e+2},e.prototype.getDecorationsInViewport=function(t){return this.decorations.getDecorationsViewportData(t).decorations},e.prototype.getViewLineRenderingData=function(a,e){var t=this.model.mightContainRTL(),n=this.model.mightContainNonBasicASCII(),i=this.getTabSize(),o=this.lines.getViewLineData(e),r=this.decorations.getDecorationsViewportData(a).inlineDecorations[e-a.startLineNumber];return new u.ViewLineRenderingData(o.minColumn,o.maxColumn,o.content,t,n,o.tokens,r,i)},e.prototype.getMinimapLinesRenderingData=function(o,e,t){var n=this.lines.getViewLinesData(o,e,t);return new u.MinimapLinesRenderingData(this.getTabSize(),n)},e.prototype.getAllOverviewRulerDecorations=function(){return this.decorations.getAllOverviewRulerDecorations()},e.prototype.getValueInRange=function(o,e){var t=this.coordinatesConverter.convertViewRangeToModelRange(o);return this.model.getValueInRange(t,e)},e.prototype.getModelLineMaxColumn=function(t){return this.model.getLineMaxColumn(t)},e.prototype.validateModelPosition=function(t){return this.model.validatePosition(t)},e.prototype.getPlainTextToCopy=function(i,e){var r=this.model.getEOL();if(1===i.length){var n=i[0];if(n.isEmpty()){if(e){var s=this.coordinatesConverter.convertViewPositionToModelPosition(new t.Position(n.startLineNumber,1)).lineNumber;return this.model.getLineContent(s)+r}return""}return this.getValueInRange(n,o.EndOfLinePreference.TextDefined)}i=i.slice(0).sort(C.Range.compareRangesUsingStarts);for(var a=[],d=0;d<i.length;d++)a.push(this.getValueInRange(i[d],o.EndOfLinePreference.TextDefined));return a.join(r)},e.prototype.getHTMLToCopy=function(o,e){if(1===this.model.getLanguageIdentifier().id)return null;if(1!==o.length)return null;var a=this.coordinatesConverter.convertViewRangeToModelRange(o[0]);if(a.isEmpty()){if(!e)return null;var n=a.startLineNumber;a=new C.Range(n,this.model.getLineMinColumn(n),n,this.model.getLineMaxColumn(n))}var i=this.configuration.editor.fontInfo,r=this._getColorMap();return"<div style=\"color: "+r[1]+";background-color: "+r[2]+";font-family: "+i.fontFamily+";font-weight: "+i.fontWeight+";font-size: "+i.fontSize+"px;line-height: "+i.lineHeight+"px;white-space: pre;\">"+this._getHTMLToCopy(a,r)+"</div>"},e.prototype._getHTMLToCopy=function(a,e){for(var t=a.startLineNumber,n=a.startColumn,i=a.endLineNumber,o=a.endColumn,r=this.getTabSize(),s="",u=t;u<=i;u++){var l=this.model.getLineTokens(u),c=l.getLineContent(),d=u===t?n-1:0,g=u===i?o-1:c.length;s+=""===c?"<br>":b.tokenizeLineToHTML(c,l.inflate(),e,d,g,r)}return s},e.prototype._getColorMap=function(){for(var o=r.TokenizationRegistry.getColorMap(),e=[null],t=1,n=o.length;t<n;t++)e[t]=o[t].toRGBHex();return e},e}(N.ViewEventEmitter);e.ViewModel=s}),define(s[331],n([1,0,20,34]),function(r,e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function r(t){this._editor=t,this._decorations=[],this._findScopeDecorationId=null,this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}return r.prototype.dispose=function(){this._editor.deltaDecorations(this._allDecorations(),[]),this._editor=null,this._decorations=[],this._findScopeDecorationId=null,this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=null},r.prototype.reset=function(){this._decorations=[],this._findScopeDecorationId=null,this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null},r.prototype.getCount=function(){return this._decorations.length},r.prototype.getFindScope=function(){return this._findScopeDecorationId?this._editor.getModel().getDecorationRange(this._findScopeDecorationId):null},r.prototype.getStartPosition=function(){return this._startPosition},r.prototype.setStartPosition=function(t){this._startPosition=t,this.setCurrentFindMatch(null)},r.prototype.getCurrentMatchesPosition=function(o){for(var e=0,t=this._decorations.length,n;e<t;e++)if(n=this._editor.getModel().getDecorationRange(this._decorations[e]),o.equalsRange(n))return e+1;return 1},r.prototype.setCurrentFindMatch=function(e){var d=this,n=null,t=0;if(e)for(var o=0,i=this._decorations.length,s;o<i;o++)if(s=this._editor.getModel().getDecorationRange(this._decorations[o]),e.equalsRange(s)){n=this._decorations[o],t=o+1;break}return null===this._highlightedDecorationId&&null===n||this._editor.changeDecorations(function(e){if(null!==d._highlightedDecorationId&&(e.changeDecorationOptions(d._highlightedDecorationId,r.createFindMatchDecorationOptions(!1)),d._highlightedDecorationId=null),null!==n&&(d._highlightedDecorationId=n,e.changeDecorationOptions(d._highlightedDecorationId,r.createFindMatchDecorationOptions(!0))),null!==d._rangeHighlightDecorationId&&(e.removeDecoration(d._rangeHighlightDecorationId),d._rangeHighlightDecorationId=null),null!==n){var t=d._editor.getModel().getDecorationRange(n);d._rangeHighlightDecorationId=e.addDecoration(t,r._RANGE_HIGHLIGHT_DECORATION)}}),t},r.prototype.set=function(e,t){var a=e.map(function(e){return{range:e,options:r.createFindMatchDecorationOptions(!1)}});t&&a.unshift({range:t,options:r._FIND_SCOPE_DECORATION});var i=this._editor.deltaDecorations(this._allDecorations(),a);this._findScopeDecorationId=t?i.shift():null,this._decorations=i,this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null},r.prototype._allDecorations=function(){var t=[];return t=t.concat(this._decorations),this._findScopeDecorationId&&t.push(this._findScopeDecorationId),this._rangeHighlightDecorationId&&t.push(this._rangeHighlightDecorationId),t},r.createFindMatchDecorationOptions=function(t){return t?this._CURRENT_FIND_MATCH_DECORATION:this._FIND_MATCH_DECORATION},r._CURRENT_FIND_MATCH_DECORATION=n.ModelDecorationOptions.register({stickiness:t.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:"currentFindMatch",showIfCollapsed:!0,overviewRuler:{color:"rgba(246, 185, 77, 0.7)",darkColor:"rgba(246, 185, 77, 0.7)",position:t.OverviewRulerLane.Center}}),r._FIND_MATCH_DECORATION=n.ModelDecorationOptions.register({stickiness:t.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:"findMatch",showIfCollapsed:!0,overviewRuler:{color:"rgba(246, 185, 77, 0.7)",darkColor:"rgba(246, 185, 77, 0.7)",position:t.OverviewRulerLane.Center}}),r._RANGE_HIGHLIGHT_DECORATION=n.ModelDecorationOptions.register({stickiness:t.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:"rangeHighlight",isWholeLine:!0}),r._FIND_SCOPE_DECORATION=n.ModelDecorationOptions.register({className:"findScope",isWholeLine:!0}),r}();e.FindDecorations=i}),define(s[121],n([1,0,18,3,255,73,12,2,20,331,254,22,158,54]),function(g,m,_,e,t,y,C,r,b,o,a,n,d,s){"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.ToggleCaseSensitiveKeybinding={primary:545,mac:{primary:2593}},m.ToggleWholeWordKeybinding={primary:565,mac:{primary:2613}},m.ToggleRegexKeybinding={primary:560,mac:{primary:2608}},m.ToggleSearchScopeKeybinding={primary:554,mac:{primary:2602}},m.ShowPreviousFindTermKeybinding={primary:528},m.ShowNextFindTermKeybinding={primary:530},m.FIND_IDS={StartFindAction:"actions.find",NextMatchFindAction:"editor.action.nextMatchFindAction",PreviousMatchFindAction:"editor.action.previousMatchFindAction",NextSelectionMatchFindAction:"editor.action.nextSelectionMatchFindAction",PreviousSelectionMatchFindAction:"editor.action.previousSelectionMatchFindAction",AddSelectionToNextFindMatchAction:"editor.action.addSelectionToNextFindMatch",AddSelectionToPreviousFindMatchAction:"editor.action.addSelectionToPreviousFindMatch",MoveSelectionToNextFindMatchAction:"editor.action.moveSelectionToNextFindMatch",MoveSelectionToPreviousFindMatchAction:"editor.action.moveSelectionToPreviousFindMatch",StartFindReplaceAction:"editor.action.startFindReplaceAction",CloseFindWidgetCommand:"closeFindWidget",ToggleCaseSensitiveCommand:"toggleFindCaseSensitive",ToggleWholeWordCommand:"toggleFindWholeWord",ToggleRegexCommand:"toggleFindRegex",ToggleSearchScopeCommand:"toggleFindInSelection",ReplaceOneAction:"editor.action.replaceOne",ReplaceAllAction:"editor.action.replaceAll",SelectAllMatchesAction:"editor.action.selectAllMatches",ShowPreviousFindTermAction:"find.history.showPrevious",ShowNextFindTermAction:"find.history.showNext"},m.MATCHES_LIMIT=999;var i=function(){function p(n,r){var t=this;this._editor=n,this._state=r,this._toDispose=[],this._isDisposed=!1,this._decorations=new o.FindDecorations(n),this._toDispose.push(this._decorations),this._updateDecorationsScheduler=new _.RunOnceScheduler(function(){return t.research(!1)},100),this._toDispose.push(this._updateDecorationsScheduler),this._toDispose.push(this._editor.onDidChangeCursorPosition(function(o){o.reason!==s.CursorChangeReason.Explicit&&o.reason!==s.CursorChangeReason.Undo&&o.reason!==s.CursorChangeReason.Redo||t._decorations.setStartPosition(t._editor.getPosition())})),this._ignoreModelContentChanged=!1,this._toDispose.push(this._editor.onDidChangeModelContent(function(o){t._ignoreModelContentChanged||(o.isFlush&&t._decorations.reset(),t._decorations.setStartPosition(t._editor.getPosition()),t._updateDecorationsScheduler.schedule())})),this._toDispose.push(this._state.addChangeListener(function(o){return t._onStateChanged(o)})),this.research(!1,this._state.searchScope)}return p.prototype.dispose=function(){this._isDisposed=!0,this._toDispose=e.dispose(this._toDispose)},p.prototype._onStateChanged=function(t){this._isDisposed||(t.searchString||t.isReplaceRevealed||t.isRegex||t.wholeWord||t.matchCase||t.searchScope)&&(t.searchScope?this.research(t.moveCursor,this._state.searchScope):this.research(t.moveCursor))},p._getSearchRange=function(o,e,t){var n;return n=e?o.getEditableRange():o.getFullModelRange(),t&&(n=n.intersectRanges(t)),n},p.prototype.research=function(t,e){var n=null;null!==(n=void 0===e?this._decorations.getFindScope():e)&&n.startLineNumber!==n.endLineNumber&&(n=new r.Range(n.startLineNumber,1,n.endLineNumber,this._editor.getModel().getLineMaxColumn(n.endLineNumber)));var i=this._findMatches(n,!1,m.MATCHES_LIMIT);this._decorations.set(i.map(function(t){return t.range}),n),this._state.changeMatchInfo(this._decorations.getCurrentMatchesPosition(this._editor.getSelection()),this._decorations.getCount(),void 0),t&&this._moveToNextMatch(this._decorations.getStartPosition())},p.prototype._hasMatches=function(){return 0<this._state.matchesCount},p.prototype._cannotFind=function(){if(!this._hasMatches()){var t=this._decorations.getFindScope();return t&&this._editor.revealRangeInCenterIfOutsideViewport(t),!0}return!1},p.prototype._setCurrentFindMatch=function(o){var e=this._decorations.setCurrentFindMatch(o);this._state.changeMatchInfo(e,this._decorations.getCount(),o),this._editor.setSelection(o),this._editor.revealRangeInCenterIfOutsideViewport(o)},p.prototype._moveToPrevMatch=function(e,t){if(void 0===t&&(t=!1),!this._cannotFind()){var n=this._decorations.getFindScope(),i=p._getSearchRange(this._editor.getModel(),this._state.isReplaceRevealed,n);i.getEndPosition().isBefore(e)&&(e=i.getEndPosition()),e.isBefore(i.getStartPosition())&&(e=i.getEndPosition());var o=e.lineNumber,r=e.column,a=this._editor.getModel(),s=new C.Position(o,r),d=a.findPreviousMatch(this._state.searchString,s,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getConfiguration().wordSeparators:null,!1);return d&&d.range.isEmpty()&&d.range.getStartPosition().equals(s)&&(this._state.isRegex&&(0<=this._state.searchString.indexOf("^")||0<=this._state.searchString.indexOf("$"))||1===r?(1===o?o=a.getLineCount():o--,r=a.getLineMaxColumn(o)):r--,s=new C.Position(o,r),d=a.findPreviousMatch(this._state.searchString,s,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getConfiguration().wordSeparators:null,!1)),d?t||i.containsRange(d.range)?void this._setCurrentFindMatch(d.range):this._moveToPrevMatch(d.range.getStartPosition(),!0):null}},p.prototype.moveToPrevMatch=function(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())},p.prototype._moveToNextMatch=function(o){var e=this._getNextMatch(o,!1,!0);e&&this._setCurrentFindMatch(e.range)},p.prototype._getNextMatch=function(e,t,n,i){if(void 0===i&&(i=!1),this._cannotFind())return null;var o=this._decorations.getFindScope(),r=p._getSearchRange(this._editor.getModel(),this._state.isReplaceRevealed,o);r.getEndPosition().isBefore(e)&&(e=r.getStartPosition()),e.isBefore(r.getStartPosition())&&(e=r.getStartPosition());var a=e.lineNumber,s=e.column,l=this._editor.getModel(),c=new C.Position(a,s),d=l.findNextMatch(this._state.searchString,c,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getConfiguration().wordSeparators:null,t);return n&&d&&d.range.isEmpty()&&d.range.getStartPosition().equals(c)&&(this._state.isRegex&&(0<=this._state.searchString.indexOf("^")||0<=this._state.searchString.indexOf("$"))||s===l.getLineMaxColumn(a)?(a===l.getLineCount()?a=1:a++,s=1):s++,c=new C.Position(a,s),d=l.findNextMatch(this._state.searchString,c,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getConfiguration().wordSeparators:null,t)),d?i||r.containsRange(d.range)?d:this._getNextMatch(d.range.getEndPosition(),t,n,!0):null},p.prototype.moveToNextMatch=function(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())},p.prototype._getReplacePattern=function(){return this._state.isRegex?t.parseReplaceString(this._state.replaceString):t.ReplacePattern.fromStaticValue(this._state.replaceString)},p.prototype.replace=function(){if(this._hasMatches()){var r=this._getReplacePattern(),e=this._editor.getSelection(),t=this._getNextMatch(e.getStartPosition(),r.hasReplacementPatterns,!1);if(t)if(e.equalsRange(t.range)){var n=r.buildReplaceString(t.matches),i=new y.ReplaceCommand(e,n);this._executeEditorCommand("replace",i),this._decorations.setStartPosition(new C.Position(e.startLineNumber,e.startColumn+n.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(t.range)}},p.prototype._findMatches=function(e,t,n){var i=p._getSearchRange(this._editor.getModel(),this._state.isReplaceRevealed,e);return this._editor.getModel().findMatches(this._state.searchString,i,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getConfiguration().wordSeparators:null,t,n)},p.prototype.replaceAll=function(){if(this._hasMatches()){var t=this._decorations.getFindScope();null===t&&this._state.matchesCount>=m.MATCHES_LIMIT?this._largeReplaceAll():this._regularReplaceAll(t),this.research(!1)}},p.prototype._largeReplaceAll=function(){var r=new d.SearchParams(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getConfiguration().wordSeparators:null).parseSearchRequest();if(r){var e=this._editor.getModel(),n=e.getValue(b.EndOfLinePreference.LF),i=e.getFullModelRange(),o=this._getReplacePattern(),s;s=o.hasReplacementPatterns?n.replace(r.regex,function(){return o.buildReplaceString(arguments)}):n.replace(r.regex,o.buildReplaceString(null));var t=new y.ReplaceCommandThatPreservesSelection(i,s,this._editor.getSelection());this._executeEditorCommand("replaceAll",t)}},p.prototype._regularReplaceAll=function(d){for(var e=this._getReplacePattern(),t=this._findMatches(d,e.hasReplacementPatterns,1073741824),n=[],i=0,o=t.length;i<o;i++)n[i]=e.buildReplaceString(t[i].matches);var r=new a.ReplaceAllCommand(this._editor.getSelection(),t.map(function(t){return t.range}),n);this._executeEditorCommand("replaceAll",r)},p.prototype.selectAllMatches=function(){if(this._hasMatches()){for(var r=this._decorations.getFindScope(),e=this._findMatches(r,!1,1073741824).map(function(t){return new n.Selection(t.range.startLineNumber,t.range.startColumn,t.range.endLineNumber,t.range.endColumn)}),t=this._editor.getSelection(),a=0,i=e.length;a<i;a++)if(e[a].equalsRange(t)){e=[t].concat(e.slice(0,a)).concat(e.slice(a+1));break}this._editor.setSelections(e)}},p.prototype._executeEditorCommand=function(o,e){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(o,e),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}},p}();m.FindModelBoundToEditorModel=i}),define(s[333],n([1,0,20,2,34]),function(g,e,t,n,i){"use strict";function m(d,e,t){for(var n=null,i=0,o=d.length;i<o;i++){var p=d[i],s=p.getDecorationRange(e);if(s&&(_(s,t)&&(n=p),a(s,t)))break}return n}function r(d,e,t,n){for(var i=d.indexOf(t)+1;i<d.length;i++){var o=d[i],r=o.getDecorationRange(e);if(r&&a(r,n)){if(!l(t.foldingRange,r))return null;if(o.isCollapsed)return o}}return null}function _(o,e){return e>=o.startLineNumber&&e<=o.endLineNumber}function a(o,e){return e<o.startLineNumber}function o(o,e){return e>o.endLineNumber}function l(o,e){return o instanceof n.Range&&e instanceof n.Range?o.containsRange(e):o.startLineNumber<=e.startLineNumber&&o.endLineNumber>=e.endLineNumber}function c(r,e,t,n,i){return(i?new p(r,e,t):new d(r,e,t)).getRegionsTill(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.toString=function(t){return(t?t.startLineNumber+"/"+t.endLineNumber:"null")+(t.isCollapsed?" (collapsed)":"")+" - "+t.indent};var s=function(){function o(o,i,t){this.decorationIds=[],this.update(o,i,t)}return Object.defineProperty(o.prototype,"isCollapsed",{get:function(){return this._isCollapsed},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"isExpanded",{get:function(){return!this._isCollapsed},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"indent",{get:function(){return this._indent},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"foldingRange",{get:function(){return this._lastRange},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"startLineNumber",{get:function(){return this._lastRange?this._lastRange.startLineNumber:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"endLineNumber",{get:function(){return this._lastRange?this._lastRange.endLineNumber:void 0},enumerable:!0,configurable:!0}),o.prototype.setCollapsed=function(o,e){this._isCollapsed=o,0<this.decorationIds.length&&e.changeDecorationOptions(this.decorationIds[0],this.getVisualDecorationOptions())},o.prototype.getDecorationRange=function(t){return 0<this.decorationIds.length?t.getDecorationRange(this.decorationIds[1]):null},o.prototype.getVisualDecorationOptions=function(){return this._isCollapsed?o._COLLAPSED_VISUAL_DECORATION:o._EXPANDED_VISUAL_DECORATION},o.prototype.getRangeDecorationOptions=function(){return o._RANGE_DECORATION},o.prototype.update=function(a,e,t){this._lastRange=a,this._isCollapsed=!!a.isCollapsed,this._indent=a.indent;var n=[],i=e.getLineMaxColumn(a.startLineNumber),d={startLineNumber:a.startLineNumber,startColumn:i-1,endLineNumber:a.startLineNumber,endColumn:i};n.push({range:d,options:this.getVisualDecorationOptions()});var l={startLineNumber:a.startLineNumber,startColumn:1,endLineNumber:a.endLineNumber,endColumn:e.getLineMaxColumn(a.endLineNumber)};n.push({range:l,options:this.getRangeDecorationOptions()}),this.decorationIds=t.deltaDecorations(this.decorationIds,n)},o.prototype.dispose=function(t){this._lastRange=null,this.decorationIds=t.deltaDecorations(this.decorationIds,[])},o.prototype.toString=function(){var t=this.isCollapsed?"collapsed ":"expanded ";return t+=this._lastRange?this._lastRange.startLineNumber+"/"+this._lastRange.endLineNumber:"no range",t},o._COLLAPSED_VISUAL_DECORATION=i.ModelDecorationOptions.register({stickiness:t.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,afterContentClassName:"inline-folded",linesDecorationsClassName:"folding collapsed"}),o._EXPANDED_VISUAL_DECORATION=i.ModelDecorationOptions.register({stickiness:t.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,linesDecorationsClassName:"folding"}),o._RANGE_DECORATION=i.ModelDecorationOptions.register({stickiness:t.TrackedRangeStickiness.GrowsOnlyWhenTypingBefore}),o}();e.CollapsibleRegion=s,e.getCollapsibleRegionsToFoldAtLine=function(r,e,t,n,i){var o=m(r,e,t);return o?1===n?[o]:c(o,r,e,n,i).filter(function(t){return!t.isCollapsed}):[]},e.getCollapsibleRegionsToUnfoldAtLine=function(s,e,t,n){var i=m(s,e,t);if(!i)return[];if(1===n){var d=i.isCollapsed?i:r(s,e,i,t);return d?[d]:[]}return c(i,s,e,n,!1).filter(function(t){return t.isCollapsed})},e.doesLineBelongsToCollapsibleRegion=_;var d=function(){function s(s,d,t){this.region=s,this.children=[];for(var n=d.indexOf(s)+1;n<d.length;n++){var i=d[n],o=i.getDecorationRange(t);if(o&&(l(s.foldingRange,o)&&(n=this.processChildRegion(i,d,t,n)),a(o,s.foldingRange.endLineNumber)))break}}return s.prototype.processChildRegion=function(e,t,n,i){var o=new s(e,t,n);return this.children.push(o),this.lastChildIndex=i,0<o.children.length?o.lastChildIndex:i},s.prototype.getRegionsTill=function(o){var e=[this.region];return 1<o&&this.children.forEach(function(t){return e=e.concat(t.getRegionsTill(o-1))}),e},s}(),p=function(){function t(e,a,n){this.region=e;for(var i=a.indexOf(e)-1;0<=i;i--){var d=a[i],r=d.getDecorationRange(n);if(r){if(l(r,e.foldingRange)){this.parent=new t(d,a,n);break}if(o(r,e.foldingRange.endLineNumber))break}}}return t.prototype.getRegionsTill=function(o){var e=[this.region];return this.parent&&1<o&&(e=e.concat(this.parent.getRegionsTill(o-1))),e},t}()}),define(s[334],n([1,0,9,20,59,142,22,2,33,3,271,34,394]),function(g,e,m,t,T,I,_,f,r,o,a,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var c=function(){function g(o,i,t){this._nestingLevel=1,this._editor=o,this._snippet=i,this._offset=t,this._placeholderGroups=r.groupBy(i.placeholders,I.Placeholder.compareByIndex),this._placeholderGroupsIdx=-1}return g.prototype.dispose=function(){var o=this;this._placeholderDecorations&&this._editor.changeDecorations(function(n){return o._placeholderDecorations.forEach(function(t){return n.removeDecoration(t)})}),this._placeholderGroups.length=0},g.prototype._initDecorations=function(){var e=this;if(!this._placeholderDecorations){this._placeholderDecorations=new Map;var t=this._editor.getModel();this._editor.changeDecorations(function(n){for(var i=0,o=e._snippet.placeholders;i<o.length;i++){var r=o[i],a=e._snippet.offset(r),s=e._snippet.fullLen(r),l=f.Range.fromPositions(t.getPositionAt(e._offset+a),t.getPositionAt(e._offset+a+s)),p=r.isFinalTabstop?g._decor.inactiveFinal:g._decor.inactive,d=n.addDecoration(l,p);e._placeholderDecorations.set(r,d)}})}},g.prototype.move=function(e){var s=this;return this._initDecorations(),!0===e&&this._placeholderGroupsIdx<this._placeholderGroups.length-1?this._placeholderGroupsIdx+=1:!1===e&&0<this._placeholderGroupsIdx&&(this._placeholderGroupsIdx-=1),this._editor.getModel().changeDecorations(function(e){for(var t=new Set,n=[],o=0,i=s._placeholderGroups[s._placeholderGroupsIdx];o<i.length;o++){var r=i[o],a=s._placeholderDecorations.get(r),l=s._editor.getModel().getDecorationRange(a);n.push(new _.Selection(l.startLineNumber,l.startColumn,l.endLineNumber,l.endColumn)),e.changeDecorationOptions(a,r.isFinalTabstop?g._decor.activeFinal:g._decor.active),t.add(r);for(var c=0,d=s._snippet.enclosingPlaceholders(r);c<d.length;c++){var u=d[c],p=s._placeholderDecorations.get(u);e.changeDecorationOptions(p,u.isFinalTabstop?g._decor.activeFinal:g._decor.active),t.add(u)}}return s._placeholderDecorations.forEach(function(i,n){t.has(n)||e.changeDecorationOptions(i,n.isFinalTabstop?g._decor.inactiveFinal:g._decor.inactive)}),n})},Object.defineProperty(g.prototype,"isAtFirstPlaceholder",{get:function(){return 0>=this._placeholderGroupsIdx||0===this._placeholderGroups.length},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"isAtLastPlaceholder",{get:function(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"hasPlaceholder",{get:function(){return 0<this._snippet.placeholders.length},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"placeholderRanges",{get:function(){var i=this,e=[];return this._placeholderDecorations.forEach(function(t,n){if(!n.isFinalTabstop){var r=i._editor.getModel().getDecorationRange(t);r&&e.push(r)}}),e},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"choice",{get:function(){return this._placeholderGroups[this._placeholderGroupsIdx][0].choice},enumerable:!0,configurable:!0}),g.prototype.merge=function(e){var t=this,n=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations(function(i){for(var o=0,a=t._placeholderGroups[t._placeholderGroupsIdx];o<a.length;o++){var s=a[o],l=e.shift();console.assert(!l._placeholderDecorations);for(var d=0,c=l._snippet.placeholders,p;d<c.length;d++)p=c[d],p.index=p.isFinalTabstop?s.index+l._snippet.placeholders.length/t._nestingLevel:s.index+p.index/t._nestingLevel;t._snippet.replace(s,l._snippet.children);var u=t._placeholderDecorations.get(s);i.removeDecoration(u),t._placeholderDecorations.delete(s);for(var h=0,m=l._snippet.placeholders;h<m.length;h++){var v=m[h],_=l._snippet.offset(v),y=l._snippet.fullLen(v),C=f.Range.fromPositions(n.getPositionAt(l._offset+_),n.getPositionAt(l._offset+_+y)),b=i.addDecoration(C,g._decor.inactive);t._placeholderDecorations.set(v,b)}}t._placeholderGroups=r.groupBy(t._snippet.placeholders,I.Placeholder.compareByIndex)})},g._decor={active:n.ModelDecorationOptions.register({stickiness:t.TrackedRangeStickiness.AlwaysGrowsWhenTypingAtEdges,className:"snippet-placeholder"}),inactive:n.ModelDecorationOptions.register({stickiness:t.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:"snippet-placeholder"}),activeFinal:n.ModelDecorationOptions.register({stickiness:t.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:"finish-snippet-placeholder"}),inactiveFinal:n.ModelDecorationOptions.register({stickiness:t.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:"finish-snippet-placeholder"})},g}();e.OneSnippet=c;var i=function(){function h(o,r,t,n){void 0===t&&(t=0),void 0===n&&(n=0),this._snippets=[],this._editor=o,this._template=r,this._overwriteBefore=t,this._overwriteAfter=n}return h.adjustWhitespace=function(n,e,t){for(var i=n.getLineContent(e.lineNumber),o=m.getLeadingWhitespace(i,0,e.column-1),r=t.split(/\r\n|\r|\n/),s=1,a;s<r.length;s++)a=m.getLeadingWhitespace(r[s]),r[s]=n.normalizeIndentation(o+a)+r[s].substr(a.length);return r.join(n.getEOL())},h.adjustSelection=function(a,e,t,n){if(0!==t||0!==n){var i=e.startLineNumber,s=e.startColumn,d=e.endLineNumber,p=e.endColumn;s-=t,p+=n;var g=a.validateRange(f.Range.plusRange(e,{startLineNumber:i,startColumn:s,endLineNumber:d,endColumn:p}));e=_.Selection.createWithDirection(g.startLineNumber,g.startColumn,g.endLineNumber,g.endColumn,e.getDirection())}return e},h.createEditsAndSnippets=function(e,t,o,n,i){for(var r=e.getModel(),s=[],l=[],u=0,k=r.getValueInRange(h.adjustSelection(r,e.getSelection(),o,0)),g=r.getValueInRange(h.adjustSelection(r,e.getSelection(),0,n)),m=0,v=e.getSelections().map(function(o,n){return{selection:o,idx:n}}).sort(function(o,e){return f.Range.compareRangesUsingStarts(o.selection,e.selection)});m<v.length;m++){var _=v[m],y=_.selection,C=_.idx,b=h.adjustSelection(r,y,o,0),w=h.adjustSelection(r,y,0,n);k!==r.getValueInRange(b)&&(b=y),g!==r.getValueInRange(w)&&(w=y);var S=y.setStartPosition(b.startLineNumber,b.startColumn).setEndPosition(w.endLineNumber,w.endColumn),E=S.getStartPosition(),L=h.adjustWhitespace(r,E,t),x=new I.SnippetParser().parse(L,!0,i).resolveVariables(new a.EditorSnippetVariableResolver(r,y)),N=r.getOffsetAt(E)+u;u+=x.toString().length-r.getValueLengthInRange(S),s[C]=T.EditOperation.replace(S,x.toString()),l[C]=new c(e,x,N)}return{edits:s,snippets:l}},h.prototype.dispose=function(){o.dispose(this._snippets)},h.prototype.insert=function(){var a=this,e=this._editor.getModel(),t=h.createEditsAndSnippets(this._editor,this._template,this._overwriteBefore,this._overwriteAfter,!1),n=t.edits,o=t.snippets;this._snippets=o,this._editor.setSelections(e.pushEditOperations(this._editor.getSelections(),n,function(t){return a._snippets[0].hasPlaceholder?a._move(!0):t.map(function(t){return _.Selection.fromPositions(t.range.getEndPosition())})}))},h.prototype.merge=function(e,t,n){var i=this;void 0===t&&(t=0),void 0===n&&(n=0);var o=h.createEditsAndSnippets(this._editor,e,t,n,!0),r=o.edits,a=o.snippets;this._editor.setSelections(this._editor.getModel().pushEditOperations(this._editor.getSelections(),r,function(o){for(var e=0,t=i._snippets;e<t.length;e++)t[e].merge(a);return console.assert(0===a.length),i._snippets[0].hasPlaceholder?i._move(void 0):o.map(function(t){return _.Selection.fromPositions(t.range.getEndPosition())})}))},h.prototype.next=function(){var t=this._move(!0);this._editor.setSelections(t)},h.prototype.prev=function(){var t=this._move(!1);this._editor.setSelections(t)},h.prototype._move=function(r){for(var e=[],t=0,n=this._snippets,i;t<n.length;t++)i=n[t].move(r),e.push.apply(e,i);return e},Object.defineProperty(h.prototype,"isAtFirstPlaceholder",{get:function(){return this._snippets[0].isAtFirstPlaceholder},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"isAtLastPlaceholder",{get:function(){return this._snippets[0].isAtLastPlaceholder},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"hasPlaceholder",{get:function(){return this._snippets[0].hasPlaceholder},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"choice",{get:function(){return this._snippets[0].choice},enumerable:!0,configurable:!0}),h.prototype.isSelectionWithinPlaceholders=function(){if(!this.hasPlaceholder)return!1;var a=this._editor.getSelections();if(a.length<this._snippets.length)return!1;for(var e=[],t=0,n=this._snippets,i;t<n.length;t++)i=n[t],e.push.apply(e,i.placeholderRanges);if(a.length>e.length)return!1;a.sort(f.Range.compareRangesUsingStarts),e.sort(f.Range.compareRangesUsingStarts);e:for(var o=0,r=a;o<r.length;o++){for(var s=r[o],d=void 0;d=e.shift();)if(d.containsRange(s))continue e;return!1}return!0},h}();e.SnippetSession=i}),define(s[183],n([1,0,3,41,26,4,99,2,32,34,108,399]),function(_,e,t,n,f,o,i,r,a,s,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var c=a.Color.fromRGBA(new a.RGBA(0,122,204)),y={showArrow:!0,showFrame:!0,className:"",frameColor:c,arrowColor:c},h=function(){function t(a,s,t,n,i,o){this.domNode=a,this.afterLineNumber=s,this.afterColumn=t,this.heightInLines=n,this._onDomNodeTop=i,this._onComputedHeight=o}return t.prototype.onDomNodeTop=function(t){this._onDomNodeTop(t)},t.prototype.onComputedHeight=function(t){this._onComputedHeight(t)},t}();e.ViewZoneDelegate=h;var p=function(){function t(o,n){this._id=o,this._domNode=n}return t.prototype.getId=function(){return this._id},t.prototype.getDomNode=function(){return this._domNode},t.prototype.getPosition=function(){return null},t}();e.OverlayWidgetDelegate=p;var g=function(){function n(e){this._editor=e,this._ruleName=n._IdGenerator.nextId(),this._decorations=[]}return n.prototype.dispose=function(){this.hide(),o.removeCSSRulesContainingSelector(this._ruleName)},Object.defineProperty(n.prototype,"color",{set:function(t){this._color!==t&&(this._color=t,this._updateStyle())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"height",{set:function(t){this._height!==t&&(this._height=t,this._updateStyle())},enumerable:!0,configurable:!0}),n.prototype._updateStyle=function(){o.removeCSSRulesContainingSelector(this._ruleName),o.createCSSRule(".monaco-editor "+this._ruleName,"border-style: solid; border-color: transparent; border-bottom-color: "+this._color+"; border-width: "+this._height+"px; bottom: -"+this._height+"px; margin-left: -"+this._height+"px; ")},n.prototype.show=function(t){this._decorations=this._editor.deltaDecorations(this._decorations,[{range:r.Range.fromPositions(t),options:{className:this._ruleName}}])},n.prototype.hide=function(){this._editor.deltaDecorations(this._decorations,[])},n._IdGenerator=new u.IdGenerator(".arrow-decoration-"),n}(),m=function(a){function e(e,o){void 0===o&&(o={});var n=a.call(this)||this;return n._positionMarkerId=[],n._disposables=[],n._isShowing=!1,n.editor=e,n.options=f.clone(o),f.mixin(n.options,y,!1),n.domNode=document.createElement("div"),n.options.isAccessible||(n.domNode.setAttribute("aria-hidden","true"),n.domNode.setAttribute("role","presentation")),n._disposables.push(n.editor.onDidLayoutChange(function(o){var e=n._getWidth(o);n.domNode.style.width=e+"px",n._onWidth(e)})),n}return Z(e,a),e.prototype.dispose=function(){var o=this;t.dispose(this._disposables),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._viewZone&&this.editor.changeViewZones(function(e){e.removeZone(o._viewZone.id),o._viewZone=null}),this.editor.deltaDecorations(this._positionMarkerId,[])},e.prototype.create=function(){o.addClass(this.domNode,"zone-widget"),o.addClass(this.domNode,this.options.className),this.container=document.createElement("div"),o.addClass(this.container,"zone-widget-container"),this.domNode.appendChild(this.container),this.options.showArrow&&(this._arrow=new g(this.editor),this._disposables.push(this._arrow)),this._fillContainer(this.container),this._initSash(),this._applyStyles()},e.prototype.style=function(t){t.frameColor&&(this.options.frameColor=t.frameColor),t.arrowColor&&(this.options.arrowColor=t.arrowColor),this._applyStyles()},e.prototype._applyStyles=function(){if(this.container){var o=this.options.frameColor.toString();this.container.style.borderTopColor=o,this.container.style.borderBottomColor=o}if(this._arrow){var e=this.options.arrowColor.toString();this._arrow.color=e}},e.prototype._getWidth=function(t){return void 0===t&&(t=this.editor.getLayoutInfo()),t.width-t.minimapWidth-t.verticalScrollbarWidth},e.prototype._onViewZoneTop=function(t){this.domNode.style.top=t+"px"},e.prototype._onViewZoneHeight=function(o){this.domNode.style.height=o+"px";var e=o-this._decoratingElementsHeight();this.container.style.height=e+"px",this._doLayout(e,this._getWidth()),this._resizeSash.layout()},Object.defineProperty(e.prototype,"position",{get:function(){var t=this._positionMarkerId[0];if(t)return this.editor.getModel().getDecorationRange(t).getStartPosition()},enumerable:!0,configurable:!0}),e.prototype.show=function(o,e){var t=r.Range.isIRange(o)?o:new r.Range(o.lineNumber,o.column,o.lineNumber,o.column);this._isShowing=!0,this._showImpl(t,e),this._isShowing=!1,this._positionMarkerId=this.editor.deltaDecorations(this._positionMarkerId,[{range:t,options:s.ModelDecorationOptions.EMPTY}])},e.prototype.hide=function(){var o=this;this._viewZone&&(this.editor.changeViewZones(function(e){e.removeZone(o._viewZone.id)}),this._viewZone=null),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._arrow&&this._arrow.hide()},e.prototype._decoratingElementsHeight=function(){var o=this.editor.getConfiguration().lineHeight,e=0;return this.options.showArrow&&(e+=2*w(o/3)),this.options.showFrame&&(e+=2*w(o/9)),e},e.prototype._showImpl=function(g,m){var t=this,n={lineNumber:g.startLineNumber,column:g.startColumn},e=this._getWidth();this.domNode.style.width=e+"px";var o=document.createElement("div");o.style.overflow="hidden";var i=this.editor.getConfiguration().lineHeight,r=.8*(this.editor.getLayoutInfo().height/i);m>=r&&(m=r);var a=0,s=0;if(this.options.showArrow&&(a=w(i/3),this._arrow.height=a,this._arrow.show(n)),this.options.showFrame&&(s=w(i/9)),this.editor.changeViewZones(function(i){t._viewZone&&i.removeZone(t._viewZone.id),t._overlayWidget&&(t.editor.removeOverlayWidget(t._overlayWidget),t._overlayWidget=null),t.domNode.style.top="-1000px",t._viewZone=new h(o,n.lineNumber,n.column,m,function(o){return t._onViewZoneTop(o)},function(o){return t._onViewZoneHeight(o)}),t._viewZone.id=i.addZone(t._viewZone),t._overlayWidget=new p("vs.editor.contrib.zoneWidget"+t._viewZone.id,t.domNode),t.editor.addOverlayWidget(t._overlayWidget)}),this.options.showFrame){var l=this.options.frameWidth?this.options.frameWidth:s;this.container.style.borderTopWidth=l+"px",this.container.style.borderBottomWidth=l+"px"}var c=m*i-this._decoratingElementsHeight();this.container.style.top=a+"px",this.container.style.height=c+"px",this.container.style.overflow="hidden",this._doLayout(c,e),this.editor.setSelection(g);var d=q(this.editor.getModel().getLineCount(),G(1,g.endLineNumber+1));this.editor.revealLine(d)},e.prototype.setCssClass=function(n,e){e&&this.container.classList.remove(e),o.addClass(this.container,n)},e.prototype._onWidth=function(){},e.prototype._doLayout=function(){},e.prototype._relayout=function(o){var e=this;this._viewZone.heightInLines!==o&&this.editor.changeViewZones(function(t){e._viewZone.heightInLines=o,t.layoutZone(e._viewZone.id)})},e.prototype._initSash=function(){var a=this;this._resizeSash=new i.Sash(this.domNode,this,{orientation:i.Orientation.HORIZONTAL}),this.options.isResizeable||(this._resizeSash.hide(),this._resizeSash.disable());var e;this._disposables.push(this._resizeSash.addListener("start",function(t){a._viewZone&&(e={startY:t.startY,heightInLines:a._viewZone.heightInLines})})),this._disposables.push(this._resizeSash.addListener("end",function(){e=void 0})),this._disposables.push(this._resizeSash.addListener("change",function(t){if(e){var n=(t.currentY-e.startY)/a.editor.getConfiguration().lineHeight,i=0>n?l(n):M(n),o=e.heightInLines+i;5<o&&35>o&&a._relayout(o)}}))},e.prototype.getHorizontalSashLeft=function(){return 0},e.prototype.getHorizontalSashTop=function(){return parseInt(this.domNode.style.height)-this._decoratingElementsHeight()/2},e.prototype.getHorizontalSashWidth=function(){var t=this.editor.getLayoutInfo();return t.width-t.minimapWidth},e}(n.Widget);e.ZoneWidget=m}),define(s[336],n([6,8]),function(o,e){return o.create("vs/editor/common/modes/modesRegistry",e)}),define(s[337],n([6,8]),function(o,e){return o.create("vs/editor/common/services/bulkEdit",e)}),define(s[338],n([1,0,337,33,157,3,24,7,59,2,22]),function(_,e,f,n,i,t,o,y,r,a,l){"use strict";function s(a,e,t){function p(){for(var n=0,t=r,i,e;n<t.length;n++)e=t[n],u.hasChanged(e.resource)&&(i||(i=[]),i.push(e.resource.fsPath));if(i)return f.localize(0,null,i.join(", "))}var r=[],u=new d(t).start(),l;return{progress:function(t){l=t},add:function(t){r.push.apply(r,t)},finish:function(){if(0===r.length)return y.TPromise.as(void 0);var t=p();if(t)return y.TPromise.wrapError(new Error(t));var n,i;e&&e.getModel()&&(n=e.getModel().uri,i=e.getSelections());var o=new g(a,n,i,r,l);return o.prepare().then(function(){var e=p();if(e)throw new Error(e);u.stop();var t=o.apply();return o.dispose(),t})},ariaMessage:function(){var o=r.length,e=i.size(i.groupBy(r,function(t){return t.resource.toString()}));return 0===o?f.localize(1,null):1<o&&1<e?f.localize(2,null,o,e):f.localize(3,null,o,e)}}}Object.defineProperty(e,"__esModule",{value:!0});var d=function(){function t(t){this._fileService=t}return t.prototype.start=function(){var o=Object.create(null),t;return this._fileService&&(t=this._fileService.onFileChanges(function(t){t.changes.forEach(function(t){var e=t.resource+"",n=o[e];n||(o[e]=n=[]),n.push(t)})})),{stop:function(){return t&&t.dispose()},hasChanged:function(t){return!!o[t.toString()]},allChanges:function(){return n.flatten(i.values(o))}}},t}(),c=function(){function t(t){this._endCursorSelection=null,this._modelReference=t,this._edits=[]}return Object.defineProperty(t.prototype,"_model",{get:function(){return this._modelReference.object.textEditorModel},enumerable:!0,configurable:!0}),t.prototype.addEdit=function(o){if("number"==typeof o.newEol&&(this._newEol=o.newEol),o.range||o.newText){var e;e=o.range?a.Range.lift(o.range):this._model.getFullModelRange(),this._edits.push(r.EditOperation.replaceMove(e,o.newText))}},t.prototype.apply=function(){var o=this;0<this._edits.length&&(this._edits=this._edits.map(function(o,n){return{value:o,index:n}}).sort(function(o,e){var t=a.Range.compareRangesUsingStarts(o.value.range,e.value.range);return 0===t&&(t=o.index-e.index),t}).map(function(t){return t.value}),this._initialSelections=this._getInitialSelections(),this._model.pushEditOperations(this._initialSelections,this._edits,function(e){return o._getEndCursorSelections(e)})),void 0!==this._newEol&&this._model.setEOL(this._newEol)},t.prototype._getInitialSelections=function(){var t=this._edits[0].range;return[new l.Selection(t.startLineNumber,t.startColumn,t.endLineNumber,t.endColumn)]},t.prototype._getEndCursorSelections=function(d){for(var e=0,t=0;t<d.length;t++)for(var n=d[t].range,i=0,o;i<this._initialSelections.length;i++)if(o=this._initialSelections[i],a.Range.areIntersectingOrTouching(n,o)){e=t;break}var r=d[e].range;return this._endCursorSelection=new l.Selection(r.endLineNumber,r.endColumn,r.endLineNumber,r.endColumn),[this._endCursorSelection]},t.prototype.getEndCursorSelection=function(){return this._endCursorSelection},t.prototype.dispose=function(){this._model&&(this._modelReference.dispose(),this._modelReference=null)},t}(),p=function(o){function e(e,r){var n=o.call(this,e)||this;return n._knownInitialSelections=r,n}return Z(e,o),e.prototype._getInitialSelections=function(){return this._knownInitialSelections},e}(c),g=function(){function n(d,l,t,n,i){void 0===i&&(i=null),this.progress=i,this._numberOfResourcesToModify=0,this._numberOfChanges=0,this._edits=Object.create(null),this._textModelResolverService=d,this._sourceModel=l,this._sourceSelections=t,this._sourceModelTask=null;for(var o=0,r=n,s;o<r.length;o++)s=r[o],this._addEdit(s)}return n.prototype.resourcesCount=function(){return this._numberOfResourcesToModify},n.prototype.changeCount=function(){return this._numberOfChanges},n.prototype._addEdit=function(o){var e=this._edits[o.resource.toString()];e||(this._edits[o.resource.toString()]=e=[],this._numberOfResourcesToModify+=1),this._numberOfChanges+=1,e.push(o)},n.prototype.prepare=function(){var a=this;if(this._tasks)throw new Error("illegal state - already prepared");this._tasks=[];var e=[];return this.progress&&this.progress.total(2*this._numberOfResourcesToModify),i.forEach(this._edits,function(s){var t=a._textModelResolverService.createModelReference(o.default.parse(s.key)).then(function(e){var t=e.object;if(!t||!t.textEditorModel)throw new Error("Cannot load file "+s.key);var n=t.textEditorModel,r;a._sourceModel&&n.uri.toString()===a._sourceModel.toString()?(a._sourceModelTask=new p(e,a._sourceSelections),r=a._sourceModelTask):r=new c(e),s.value.forEach(function(t){return r.addEdit(t)}),a._tasks.push(r),a.progress&&a.progress.worked(1)});e.push(t)}),y.TPromise.join(e).then(function(){return a})},n.prototype.apply=function(){var o=this;this._tasks.forEach(function(e){return o.applyTask(e)});var e=null;return this._sourceModelTask&&(e=this._sourceModelTask.getEndCursorSelection()),e},n.prototype.applyTask=function(t){t.apply(),this.progress&&this.progress.worked(1)},n.prototype.dispose=function(){this._tasks=t.dispose(this._tasks)},n}();e.bulkEdit=function(a,e,t,n,i){void 0===i&&(i=null);var o=s(a,e,n);return o.add(t),o.progress(i),o.finish()},e.createBulkEdit=s}),define(s[339],n([6,8]),function(o,e){return o.create("vs/editor/common/services/modelServiceImpl",e)}),define(s[340],n([6,8]),function(o,e){return o.create("vs/editor/common/view/editorColorRegistry",e)}),define(s[341],n([6,8]),function(o,e){return o.create("vs/editor/contrib/bracketMatching/common/bracketMatching",e)}),define(s[342],n([6,8]),function(o,e){return o.create("vs/editor/contrib/caretOperations/common/caretOperations",e)}),define(s[343],n([6,8]),function(o,e){return o.create("vs/editor/contrib/caretOperations/common/transpose",e)}),define(s[344],n([6,8]),function(o,e){return o.create("vs/editor/contrib/clipboard/browser/clipboard",e)}),define(s[345],n([6,8]),function(o,e){return o.create("vs/editor/contrib/comment/common/comment",e)}),define(s[346],n([6,8]),function(o,e){return o.create("vs/editor/contrib/contextmenu/browser/contextmenu",e)}),define(s[347],n([6,8]),function(o,e){return o.create("vs/editor/contrib/find/browser/findWidget",e)}),define(s[348],n([6,8]),function(o,e){return o.create("vs/editor/contrib/find/common/findController",e)}),define(s[349],n([6,8]),function(o,e){return o.create("vs/editor/contrib/folding/browser/folding",e)}),define(s[350],n([6,8]),function(o,e){return o.create("vs/editor/contrib/format/browser/formatActions",e)}),define(s[351],n([6,8]),function(o,e){return o.create("vs/editor/contrib/goToDeclaration/browser/goToDeclarationCommands",e)}),define(s[352],n([6,8]),function(o,e){return o.create("vs/editor/contrib/goToDeclaration/browser/goToDeclarationMouse",e)}),define(s[353],n([6,8]),function(o,e){return o.create("vs/editor/contrib/gotoError/browser/gotoError",e)}),define(s[354],n([6,8]),function(o,e){return o.create("vs/editor/contrib/hover/browser/hover",e)}),define(s[355],n([6,8]),function(o,e){return o.create("vs/editor/contrib/hover/browser/modesContentHover",e)}),define(s[356],n([6,8]),function(o,e){return o.create("vs/editor/contrib/inPlaceReplace/common/inPlaceReplace",e)}),define(s[357],n([6,8]),function(o,e){return o.create("vs/editor/contrib/linesOperations/common/linesOperations",e)}),define(s[358],n([6,8]),function(o,e){return o.create("vs/editor/contrib/links/browser/links",e)}),define(s[359],n([6,8]),function(o,e){return o.create("vs/editor/contrib/multicursor/common/multicursor",e)}),define(s[360],n([6,8]),function(o,e){return o.create("vs/editor/contrib/parameterHints/browser/parameterHints",e)}),define(s[361],n([6,8]),function(o,e){return o.create("vs/editor/contrib/parameterHints/browser/parameterHintsWidget",e)}),define(s[362],n([6,8]),function(o,e){return o.create("vs/editor/contrib/quickFix/browser/quickFixCommands",e)}),define(s[363],n([6,8]),function(o,e){return o.create("vs/editor/contrib/referenceSearch/browser/referenceSearch",e)}),define(s[364],n([6,8]),function(o,e){return o.create("vs/editor/contrib/referenceSearch/browser/referencesController",e)}),define(s[365],n([6,8]),function(o,e){return o.create("vs/editor/contrib/referenceSearch/browser/referencesModel",e)}),define(s[125],n([1,0,365,38,11,45,3,9,108,7,2]),function(g,e,t,m,i,o,n,_,r,a,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function n(o,i,t){this._parent=o,this._range=i,this._eventBus=t,this._id=r.defaultGenerator.nextId()}return Object.defineProperty(n.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"model",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"uri",{get:function(){return this._parent.uri},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"name",{get:function(){return this._parent.name},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"directory",{get:function(){return this._parent.directory},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"range",{get:function(){return this._range},set:function(t){this._range=t,this._eventBus.emit("ref/changed",this)},enumerable:!0,configurable:!0}),n.prototype.getAriaMessage=function(){return t.localize(0,null,o.basename(this.uri.fsPath),this.range.startLineNumber,this.range.startColumn)},n}();e.OneReference=s;var d=function(){function t(t){this._modelReference=t}return Object.defineProperty(t.prototype,"_model",{get:function(){return this._modelReference.object.textEditorModel},enumerable:!0,configurable:!0}),t.prototype.preview=function(a,e){void 0===e&&(e=8);var t=this._model;if(t){var n=a.startLineNumber,d=a.startColumn,o=a.endColumn,r=t.getWordUntilPosition({lineNumber:n,column:d-e}),s=new y.Range(n,r.startColumn,n,d),p=new y.Range(n,o,n,T);return{before:t.getValueInRange(s).replace(/^\s+/,_.empty),inside:t.getValueInRange(a),after:t.getValueInRange(p).replace(/\s+$/,_.empty)}}},t.prototype.dispose=function(){this._modelReference&&(this._modelReference.dispose(),this._modelReference=null)},t}();e.FilePreview=d;var l=function(){function n(o,n){this._parent=o,this._uri=n,this._children=[]}return Object.defineProperty(n.prototype,"id",{get:function(){return this._uri.toString()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"children",{get:function(){return this._children},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"uri",{get:function(){return this._uri},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"name",{get:function(){return o.basename(this.uri.fsPath)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"directory",{get:function(){return o.dirname(this.uri.fsPath)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"preview",{get:function(){return this._preview},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"failure",{get:function(){return this._loadFailure},enumerable:!0,configurable:!0}),n.prototype.getAriaMessage=function(){var n=this.children.length;return 1===n?t.localize(1,null,o.basename(this.uri.fsPath),this.uri.fsPath):t.localize(2,null,n,o.basename(this.uri.fsPath),this.uri.fsPath)},n.prototype.resolve=function(o){var n=this;return this._resolved?a.TPromise.as(this):o.createModelReference(this._uri).then(function(t){if(!t.object)throw t.dispose(),new Error;return n._preview=new d(t),n._resolved=!0,n},function(t){return n._children=[],n._resolved=!0,n._loadFailure=t,n})},n.prototype.dispose=function(){this._preview&&(this._preview.dispose(),this._preview=null)},n}();e.FileReferences=l;var p=function(){function o(e){this._groups=[],this._references=[],this._eventBus=new m.EventEmitter,this.onDidChangeReferenceRange=i.fromEventEmitter(this._eventBus,"ref/changed"),e.sort(o._compareReferences);for(var t=0,r=e,d,n;t<r.length;t++)if(n=r[t],d&&d.uri.toString()===n.uri.toString()||(d=new l(this,n.uri),this.groups.push(d)),0===d.children.length||!y.Range.equalsRange(n.range,d.children[d.children.length-1].range)){var a=new s(d,n.range,this._eventBus);this._references.push(a),d.children.push(a)}}return Object.defineProperty(o.prototype,"empty",{get:function(){return 0===this._groups.length},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"references",{get:function(){return this._references},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"groups",{get:function(){return this._groups},enumerable:!0,configurable:!0}),o.prototype.getAriaMessage=function(){return this.empty?t.localize(3,null):1===this.references.length?t.localize(4,null,this.references[0].uri.fsPath):1===this.groups.length?t.localize(5,null,this.references.length,this.groups[0].uri.fsPath):t.localize(6,null,this.references.length,this.groups.length)},o.prototype.nextReference=function(o){var e=o.parent.children.indexOf(o),t=o.parent.children.length,n=o.parent.parent.groups.length;return e+1<t||1===n?o.parent.children[(e+1)%t]:(e=o.parent.parent.groups.indexOf(o.parent),e=(e+1)%n,o.parent.parent.groups[e].children[0])},o.prototype.nearestReference=function(o,e){var t=this._references.map(function(t,n){return{idx:n,prefixLen:_.commonPrefixLength(t.uri.toString(),o.toString()),offsetDist:100*I(t.range.startLineNumber-e.lineNumber)+I(t.range.startColumn-e.column)}}).sort(function(o,e){return o.prefixLen>e.prefixLen?-1:o.prefixLen<e.prefixLen?1:o.offsetDist<e.offsetDist?-1:o.offsetDist>e.offsetDist?1:0})[0];if(t)return this._references[t.idx]},o.prototype.dispose=function(){this._groups=n.dispose(this._groups)},o._compareReferences=function(o,e){var t=o.uri.toString(),n=e.uri.toString();return t<n?-1:t>n?1:y.Range.compareRangesUsingStarts(o.range,e.range)},o}();e.ReferencesModel=p}),define(s[367],n([6,8]),function(o,e){return o.create("vs/editor/contrib/referenceSearch/browser/referencesWidget",e)}),define(s[368],n([6,8]),function(o,e){return o.create("vs/editor/contrib/rename/browser/rename",e)}),define(s[369],n([6,8]),function(o,e){return o.create("vs/editor/contrib/rename/browser/renameInputField",e)}),define(s[370],n([6,8]),function(o,e){return o.create("vs/editor/contrib/smartSelect/common/smartSelect",e)}),define(s[371],n([6,8]),function(o,e){return o.create("vs/editor/contrib/suggest/browser/suggestController",e)}),define(s[372],n([6,8]),function(o,e){return o.create("vs/editor/contrib/suggest/browser/suggestWidget",e)}),define(s[373],n([6,8]),function(o,e){return o.create("vs/editor/contrib/toggleTabFocusMode/common/toggleTabFocusMode",e)}),define(s[374],n([6,8]),function(o,e){return o.create("vs/editor/contrib/wordHighlighter/common/wordHighlighter",e)}),define(s[375],n([6,8]),function(o,e){return o.create("vs/editor/contrib/zoneWidget/browser/peekViewWidget",e)}),define(s[376],n([6,8]),function(o,e){return o.create("vs/editor/standalone/browser/inspectTokens/inspectTokens",e)}),define(s[377],n([6,8]),function(o,e){return o.create("vs/editor/standalone/browser/quickOpen/gotoLine",e)}),define(s[378],n([6,8]),function(o,e){return o.create("vs/editor/standalone/browser/quickOpen/quickCommand",e)}),define(s[379],n([6,8]),function(o,e){return o.create("vs/editor/standalone/browser/quickOpen/quickOutline",e)}),define(s[380],n([6,8]),function(o,e){return o.create("vs/editor/standalone/browser/standaloneCodeEditor",e)}),define(s[381],n([6,8]),function(o,e){return o.create("vs/editor/standalone/browser/toggleHighContrast/toggleHighContrast",e)}),define(s[382],n([6,8]),function(o,e){return o.create("vs/platform/configuration/common/configurationRegistry",e)}),define(s[383],n([6,8]),function(o,e){return o.create("vs/platform/keybinding/common/abstractKeybindingService",e)}),define(s[384],n([6,8]),function(o,e){return o.create("vs/platform/message/common/message",e)}),define(s[385],n([6,8]),function(o,e){return o.create("vs/platform/theme/common/colorRegistry",e)}),define(s[386],n([1,0,52,3,47,53,281,79,36,409]),function(d,e,p,g,n,c,i,m,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function o(r,a,d,n){var i=this;this.setContainer(r),this.contextViewService=a,this.telemetryService=d,this.messageService=n,this.actionRunner=new c.ActionRunner,this.menuContainerElement=null,this.toDispose=[];var o=!1;this.toDispose.push(this.actionRunner.addListener(m.EventType.BEFORE_RUN,function(t){i.telemetryService&&i.telemetryService.publicLog("workbenchActionExecuted",{id:t.action.id,from:"contextMenu"}),(o=!!t.retainActionItem)||i.contextViewService.hideContextView(!1)})),this.toDispose.push(this.actionRunner.addListener(m.EventType.RUN,function(n){o&&i.contextViewService.hideContextView(!1),o=!1,n.error&&i.messageService&&i.messageService.show(t.default.Error,n.error)}))}return o.prototype.setContainer=function(o){var n=this;this.$el&&(this.$el.off(["click","mousedown"]),this.$el=null),o&&(this.$el=p.$(o),this.$el.on("mousedown",function(t){return n.onMouseDown(t)}))},o.prototype.showContextMenu=function(a){var e=this;a.getActions().done(function(t){e.contextViewService.showContextView({getAnchor:function(){return a.getAnchor()},canRelayout:!1,render:function(n){e.menuContainerElement=n;var o=a.getMenuClassName?a.getMenuClassName():"";o&&(n.className+=" "+o);var r=new i.Menu(n,t,{actionItemProvider:a.getActionItem,context:a.getActionsContext?a.getActionsContext():null,actionRunner:e.actionRunner}),s=r.addListener(m.EventType.CANCEL,function(){e.contextViewService.hideContextView(!0)}),d=r.addListener(m.EventType.BLUR,function(){e.contextViewService.hideContextView(!0)});return r.focus(),g.combinedDisposable([s,d,r])},onHide:function(t){a.onHide&&a.onHide(t),e.menuContainerElement=null}})})},o.prototype.onMouseDown=function(o){if(this.menuContainerElement){for(var e=new n.StandardMouseEvent(o).target;e;){if(e===this.menuContainerElement)return;e=e.parentElement}this.contextViewService.hideContextView()}},o.prototype.dispose=function(){this.setContainer(null)},o}();e.ContextMenuHandler=o}),define(s[387],n([1,0,386]),function(o,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function t(n,a,t,i){this.contextMenuHandler=new r.ContextMenuHandler(n,i,a,t)}return t.prototype.dispose=function(){this.contextMenuHandler.dispose()},t.prototype.setContainer=function(t){this.contextMenuHandler.setContainer(t)},t.prototype.showContextMenu=function(t){this.contextMenuHandler.showContextMenu(t)},t}();e.ContextMenuService=t}),define(s[187],n([1,0,10]),function(a,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function o(t){this._staticArguments=t}return o.prototype.appendStaticArguments=function(t){this._staticArguments.push.apply(this._staticArguments,t)},o.prototype.staticArguments=function(t){return isNaN(t)?this._staticArguments.slice(0):this._staticArguments[t]},o.prototype._validate=function(o){if(!o)throw t.illegalArgument("can not be falsy")},o}();e.AbstractDescriptor=n;var i=function(r){function o(e){for(var a=[],n=1;n<arguments.length;n++)a[n-1]=arguments[n];var i=r.call(this,a)||this;return i._ctor=e,i}return Z(o,r),Object.defineProperty(o.prototype,"ctor",{get:function(){return this._ctor},enumerable:!0,configurable:!0}),o.prototype.bind=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=[];return n=n.concat(this.staticArguments()),n=n.concat(t),new(o.bind.apply(o,[void 0,this._ctor].concat(n)))},o}(n);e.SyncDescriptor=i,e.createSyncDescriptor=function(o){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return new(i.bind.apply(i,[void 0,o].concat(e)))};var o=function(a){function o(e,s){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var o=a.call(this,n)||this;if(o._moduleName=e,o._ctorName=s,"string"!=typeof e)throw new Error("Invalid AsyncDescriptor arguments, expected `moduleName` to be a string!");return o}return Z(o,a),o.create=function(t,e){return new o(t,e)},Object.defineProperty(o.prototype,"moduleName",{get:function(){return this._moduleName},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"ctorName",{get:function(){return this._ctorName},enumerable:!0,configurable:!0}),o.prototype.bind=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=[];return n=n.concat(this.staticArguments()),n=n.concat(t),new(o.bind.apply(o,[void 0,this.moduleName,this.ctorName].concat(n)))},o}(n);e.AsyncDescriptor=o}),define(s[16],n([1,0]),function(r,e){"use strict";function a(o,r,t,a){r[s.DI_TARGET]===r?r[s.DI_DEPENDENCIES].push({id:o,index:t,optional:a}):(r[s.DI_DEPENDENCIES]=[{id:o,index:t,optional:a}],r[s.DI_TARGET]=r)}function t(o){if(s.serviceIds.has(o))return s.serviceIds.get(o);var n=function(t,e,i){if(3!==arguments.length)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");a(n,t,i,!1)};return n.toString=function(){return o},s.serviceIds.set(o,n),n}Object.defineProperty(e,"__esModule",{value:!0});var s;!function(o){o.serviceIds=new Map,o.DI_TARGET="$di$target",o.DI_DEPENDENCIES="$di$dependencies",o.getServiceDependencies=function(e){return e[o.DI_DEPENDENCIES]||[]}}(s=e._util||(e._util={})),e.IInstantiationService=t("instantiationService"),e.createDecorator=t,e.optional=function(n){return function(e,t,i){if(3!==arguments.length)throw new Error("@optional-decorator can only be used to decorate a parameter");a(n,e,i,!0)}}}),define(s[42],n([1,0,16,20]),function(r,e,t,n){"use strict";function i(o){if(o){var e=o.getControl();if(e){if(n.isCommonCodeEditor(e))return{codeEditor:e,diffEditor:null};if(n.isCommonDiffEditor(e))return{codeEditor:null,diffEditor:e}}}return{codeEditor:null,diffEditor:null}}Object.defineProperty(e,"__esModule",{value:!0}),e.ICodeEditorService=t.createDecorator("codeEditorService"),e.getCodeOrDiffEditor=i,e.getCodeEditor=function(o){var e=i(o);return e.codeEditor||e.diffEditor&&e.diffEditor.getModifiedEditor()||null}}),define(s[61],n([1,0,16]),function(o,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ID_EDITOR_WORKER_SERVICE="editorWorkerService",e.IEditorWorkerService=t.createDecorator(e.ID_EDITOR_WORKER_SERVICE)}),define(s[88],n([1,0,16]),function(o,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IModeService=t.createDecorator("modeService")}),define(s[56],n([1,0,16]),function(o,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IModelService=t.createDecorator("modelService")}),define(s[87],n([1,0,16]),function(o,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITextModelService=t.createDecorator("textModelService")}),define(s[146],n([1,0,16]),function(o,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITextResourceConfigurationService=t.createDecorator("textResourceConfigurationService")});var v=this&&this.__param||function(o,e){return function(t,n){e(t,n,o)}};define(s[147],n([1,0,18,3,7,197,473,17,56,226,43,146,88]),function(g,e,m,n,i,o,r,f,a,s,l,c,d){"use strict";function u(o,e){var t=o.getModel(e);return!!t&&!t.isTooLargeForTokenization()}Object.defineProperty(e,"__esModule",{value:!0});var t=function(o){function e(e,n,a){var r=o.call(this)||this;return r._modelService=e,r._workerManager=r._register(new h(r._modelService)),r._register(f.LinkProviderRegistry.register("*",{provideLinks:function(o,e){return u(r._modelService,o.uri)?m.wireCancellationToken(e,r._workerManager.withWorker().then(function(e){return e.computeLinks(o.uri)})):i.TPromise.as([])}})),r._register(f.SuggestRegistry.register("*",new p(r._workerManager,n,a,r._modelService))),r}return Z(e,o),e.prototype.dispose=function(){o.prototype.dispose.call(this)},e.prototype.canComputeDiff=function(o,e){return u(this._modelService,o)&&u(this._modelService,e)},e.prototype.computeDiff=function(o,e,t){return this._workerManager.withWorker().then(function(n){return n.computeDiff(o,e,t)})},e.prototype.canComputeDirtyDiff=function(o,e){return u(this._modelService,o)&&u(this._modelService,e)},e.prototype.computeDirtyDiff=function(o,e,t){return this._workerManager.withWorker().then(function(n){return n.computeDirtyDiff(o,e,t)})},e.prototype.computeMoreMinimalEdits=function(o,e,t){return Array.isArray(e)&&0!==e.length&&u(this._modelService,o)?this._workerManager.withWorker().then(function(n){return n.computeMoreMinimalEdits(o,e,t)}):i.TPromise.as(e)},e.prototype.canNavigateValueSet=function(t){return u(this._modelService,t)},e.prototype.navigateValueSet=function(o,e,t){return this._workerManager.withWorker().then(function(n){return n.navigateValueSet(o,e,t)})},e=F([v(0,a.IModelService),v(1,c.ITextResourceConfigurationService),v(2,d.IModeService)],e)}(n.Disposable);e.EditorWorkerServiceImpl=t;var p=function(){function t(o,r,t,n){this._workerManager=o,this._configurationService=r,this._modeService=t,this._modelService=n}return t.prototype.provideCompletionItems=function(o,e){if(this._configurationService.getConfiguration(o.uri,e,"editor").wordBasedSuggestions&&u(this._modelService,o.uri))return this._workerManager.withWorker().then(function(t){return t.textualSuggest(o.uri,e)})},t}(),h=function(o){function e(e){var n=o.call(this)||this;return n._modelService=e,n._editorWorkerClient=null,n._register(new m.IntervalTimer).cancelAndSet(function(){return n._checkStopIdleWorker()},150000),n._register(n._modelService.onModelRemoved(function(){return n._checkStopEmptyWorker()})),n}return Z(e,o),e.prototype.dispose=function(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),o.prototype.dispose.call(this)},e.prototype._checkStopEmptyWorker=function(){this._editorWorkerClient&&0===this._modelService.getModels().length&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)},e.prototype._checkStopIdleWorker=function(){this._editorWorkerClient&&new Date().getTime()-this._lastWorkerUsedTime>3e5&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)},e.prototype.withWorker=function(){return this._lastWorkerUsedTime=new Date().getTime(),this._editorWorkerClient||(this._editorWorkerClient=new C(this._modelService,"editorWorkerService")),i.TPromise.as(this._editorWorkerClient)},e}(n.Disposable),_=function(a){function e(e,n,i){var d=a.call(this)||this;if(d._syncedModels=Object.create(null),d._syncedModelsLastUsedTime=Object.create(null),d._proxy=e,d._modelService=n,!i){var r=new m.IntervalTimer;r.cancelAndSet(function(){return d._checkStopModelSync()},30000),d._register(r)}return d}return Z(e,a),e.prototype.dispose=function(){for(var e in this._syncedModels)n.dispose(this._syncedModels[e]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),a.prototype.dispose.call(this)},e.prototype.esureSyncedResources=function(o){for(var e=0;e<o.length;e++){var t=o[e],n=t.toString();this._syncedModels[n]||this._beginModelSync(t),this._syncedModels[n]&&(this._syncedModelsLastUsedTime[n]=new Date().getTime())}},e.prototype._checkStopModelSync=function(){var o=new Date().getTime(),e=[];for(var t in this._syncedModelsLastUsedTime)o-this._syncedModelsLastUsedTime[t]>6e4&&e.push(t);for(var n=0;n<e.length;n++)this._stopModelSync(e[n])},e.prototype._beginModelSync=function(r){var a=this,e=this._modelService.getModel(r);if(e&&!e.isTooLargeForTokenization()){var t=r.toString();this._proxy.acceptNewModel({url:e.uri.toString(),lines:e.getLinesContent(),EOL:e.getEOL(),versionId:e.getVersionId()});var n=[];n.push(e.onDidChangeContent(function(o){a._proxy.acceptModelChanged(t.toString(),o)})),n.push(e.onWillDispose(function(){a._stopModelSync(t)})),n.push({dispose:function(){a._proxy.acceptRemovedModel(t)}}),this._syncedModels[t]=n}},e.prototype._stopModelSync=function(o){var e=this._syncedModels[o];delete this._syncedModels[o],delete this._syncedModelsLastUsedTime[o],n.dispose(e)},e}(n.Disposable),y=function(){function t(t){this._instance=t,this._proxyObj=i.TPromise.as(this._instance)}return t.prototype.dispose=function(){this._instance.dispose(),this._instance=null,this._proxyObj=null},t.prototype.getProxyObject=function(){return new m.ShallowCancelThenPromise(this._proxyObj)},t}(),C=function(a){function e(e,o){var n=a.call(this)||this;return n._modelService=e,n._workerFactory=new r.DefaultWorkerFactory(o),n._worker=null,n._modelManager=null,n}return Z(e,a),e.prototype._getOrCreateWorker=function(){if(!this._worker)try{this._worker=this._register(new o.SimpleWorkerClient(this._workerFactory,"vs/editor/common/services/editorSimpleWorker"))}catch(t){o.logOnceWebWorkerWarning(t),this._worker=new y(new s.EditorSimpleWorkerImpl())}return this._worker},e.prototype._getProxy=function(){var n=this;return new m.ShallowCancelThenPromise(this._getOrCreateWorker().getProxyObject().then(null,function(e){return o.logOnceWebWorkerWarning(e),n._worker=new y(new s.EditorSimpleWorkerImpl()),n._getOrCreateWorker().getProxyObject()}))},e.prototype._getOrCreateModelManager=function(t){return this._modelManager||(this._modelManager=this._register(new _(t,this._modelService,!1))),this._modelManager},e.prototype._withSyncedResources=function(o){var e=this;return this._getProxy().then(function(t){return e._getOrCreateModelManager(t).esureSyncedResources(o),t})},e.prototype.computeDiff=function(o,e,t){return this._withSyncedResources([o,e]).then(function(n){return n.computeDiff(o.toString(),e.toString(),t)})},e.prototype.computeDirtyDiff=function(o,e,t){return this._withSyncedResources([o,e]).then(function(n){return n.computeDirtyDiff(o.toString(),e.toString(),t)})},e.prototype.computeMoreMinimalEdits=function(o,e,t){return this._withSyncedResources([o]).then(function(n){return n.computeMoreMinimalEdits(o.toString(),e,t)})},e.prototype.computeLinks=function(o){return this._withSyncedResources([o]).then(function(e){return e.computeLinks(o.toString())})},e.prototype.textualSuggest=function(d,e){var t=this;return this._withSyncedResources([d]).then(function(n){var i=t._modelService.getModel(d);if(!i)return null;var p=l.LanguageConfigurationRegistry.getWordDefinition(i.getLanguageIdentifier().id),r=p.source,s=(p.global?"g":"")+(p.ignoreCase?"i":"")+(p.multiline?"m":"");return n.textualSuggest(d.toString(),e,r,s)})},e.prototype.navigateValueSet=function(d,e,t){var n=this;return this._withSyncedResources([d]).then(function(i){var o=n._modelService.getModel(d);if(!o)return null;var p=l.LanguageConfigurationRegistry.getWordDefinition(o.getLanguageIdentifier().id),s=p.source,a=(p.global?"g":"")+(p.ignoreCase?"i":"")+(p.multiline?"m":"");return i.navigateValueSet(d.toString(),e,t,s,a)})},e}(n.Disposable);e.EditorWorkerClient=C}),define(s[397],n([1,0,18,147]),function(r,e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createWebWorker=function(o,e){return new i(o,e)};var i=function(o){function e(e,r){var n=o.call(this,e,r.label)||this;return n._foreignModuleId=r.moduleId,n._foreignModuleCreateData=r.createData||null,n._foreignProxy=null,n}return Z(e,o),e.prototype._getForeignProxy=function(){var r=this;return this._foreignProxy||(this._foreignProxy=new t.ShallowCancelThenPromise(this._getProxy().then(function(o){return o.loadForeignModule(r._foreignModuleId,r._foreignModuleCreateData).then(function(e){r._foreignModuleId=null,r._foreignModuleCreateData=null;for(var t={},n=0;n<e.length;n++)t[e[n]]=function(o,e){return function(){var t=Array.prototype.slice.call(arguments,0);return e(o,t)}}(e[n],function(t,e){return o.fmr(t,e)});return t})}))),this._foreignProxy},e.prototype.getProxy=function(){return this._getForeignProxy()},e.prototype.withSyncedResources=function(o){var e=this;return this._withSyncedResources(o).then(function(){return e.getProxy()})},e}(n.EditorWorkerClient)}),define(s[398],n([1,0,7,2,56,269]),function(a,e,d,t,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function o(t){this._modelService=t}return o.prototype.getRangesToPosition=function(o,e){return d.TPromise.as(this.getRangesToPositionSync(o,e))},o.prototype.getRangesToPositionSync=function(o,e){var t=this._modelService.getModel(o),n=[];return t&&this._doGetRangesToPosition(t,e).forEach(function(t){n.push({type:void 0,range:t})}),n},o.prototype._doGetRangesToPosition=function(r,e){var d=i.build(r),s,n;s=i.find(d,e);for(var o=[];s;)n&&t.Range.equalsRange(n,s.range)||o.push(s.range),n=s.range,s=s.parent;return o=o.reverse()},o=F([v(0,n.IModelService)],o)}();e.TokenSelectionSupport=o}),define(s[77],n([1,0,16]),function(o,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IStandaloneThemeService=t.createDecorator("themeService")}),define(s[31],n([1,0,7,29,16]),function(a,e,t,d,n){"use strict";function p(t){return"object"==typeof t&&"function"==typeof t.handler&&(!t.description||"object"==typeof t.description)}Object.defineProperty(e,"__esModule",{value:!0}),e.ICommandService=n.createDecorator("commandService"),e.CommandsRegistry=new(function(){function t(){this._commands=new Map}return t.prototype.registerCommand=function(r,e){var g=this;if(!e)throw new Error("invalid command");var n;if(p(e)){var o=e.handler,i=e.description;if(i){for(var m=[],u=0,l=i.args,c;u<l.length;u++)c=l[u],m.push(c.constraint);n={description:i,handler:function(i){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return d.validateConstraints(e,m),o.apply(void 0,[i].concat(e))}}}else n={handler:o}}else n={handler:e};var _=this._commands.get(r);return void 0===_?this._commands.set(r,n):Array.isArray(_)?_.unshift(n):this._commands.set(r,[n,_]),{dispose:function(){var e=g._commands.get(r);if(Array.isArray(e)){var t=e.indexOf(n);0<=t&&(e.splice(t,1),0===e.length&&g._commands.delete(r))}else p(e)&&g._commands.delete(r)}}},t.prototype.getCommand=function(o){var e=this._commands.get(o);return Array.isArray(e)?e[0]:e},t.prototype.getCommands=function(){var o=this,e=Object.create(null);return this._commands.forEach(function(t,n){e[n]=o.getCommand(n)}),e},t}()),e.NullCommandService={_serviceBrand:void 0,onWillExecuteCommand:function(){return{dispose:function(){}}},executeCommand:function(){return t.TPromise.as(void 0)}}}),define(s[401],n([1,0,10,24,7,2,17,18,31,56]),function(p,e,g,m,n,_,o,r,t,i){"use strict";function a(a){var l=[],e=o.LinkProviderRegistry.ordered(a).reverse().map(function(o){return r.asWinJsPromise(function(e){return o.provideLinks(a,e)}).then(function(t){if(Array.isArray(t)){var e=t.map(function(t){return new d(t,o)});l=s(l,e)}},g.onUnexpectedExternalError)});return n.TPromise.join(e).then(function(){return l})}function s(r,e){var t=[],d,n,i,o,s,a;for(d=0,i=0,n=r.length,o=e.length;d<n&&i<o;)s=r[d],a=e[i],_.Range.areIntersectingOrTouching(s.range,a.range)?d++:0>_.Range.compareRangesUsingStarts(s.range,a.range)?(t.push(s),d++):(t.push(a),i++);for(;d<n;d++)t.push(r[d]);for(;i<o;i++)t.push(e[i]);return t}Object.defineProperty(e,"__esModule",{value:!0});var d=function(){function t(o,n){this._link=o,this._provider=n}return Object.defineProperty(t.prototype,"range",{get:function(){return this._link.range},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"url",{get:function(){return this._link.url},enumerable:!0,configurable:!0}),t.prototype.resolve=function(){var o=this;if(this._link.url)try{return n.TPromise.as(m.default.parse(this._link.url))}catch(t){return n.TPromise.wrapError(new Error("invalid"))}return"function"==typeof this._provider.resolveLink?r.asWinJsPromise(function(e){return o._provider.resolveLink(o._link,e)}).then(function(e){return o._link=e||o._link,o._link.url?o.resolve():n.TPromise.wrapError(new Error("missing"))}):n.TPromise.wrapError(new Error("missing"))},t}();e.Link=d,e.getLinks=a,t.CommandsRegistry.registerCommand("_executeLinkProvider",function(s){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];var n=e[0];if(n instanceof m.default){var o=s.get(i.IModelService).getModel(n);if(o)return a(o)}})}),define(s[85],n([1,0,53,187,16,31]),function(d,e,t,p,n,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t){this._id=t}return Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),t.EditorTitle=new t("1"),t.EditorTitleContext=new t("2"),t.EditorContext=new t("3"),t.ExplorerContext=new t("4"),t.ProblemsPanelContext=new t("5"),t.DebugVariablesContext=new t("6"),t.DebugWatchContext=new t("7"),t.DebugCallStackContext=new t("8"),t.DebugBreakpointsContext=new t("9"),t.DebugConsoleContext=new t("10"),t.SCMTitle=new t("11"),t.SCMResourceGroupContext=new t("12"),t.SCMResourceContext=new t("13"),t.CommandPalette=new t("14"),t.ViewTitle=new t("15"),t.ViewItemContext=new t("16"),t}();e.MenuId=i,e.IMenuService=n.createDecorator("menuService"),e.MenuRegistry=new(function(){function t(){this._commands=Object.create(null),this._menuItems=Object.create(null)}return t.prototype.addCommand=function(o){var e=this._commands[o.id];return this._commands[o.id]=o,void 0!==e},t.prototype.getCommand=function(t){return this._commands[t]},t.prototype.appendMenuItem=function(o,r){var e=o.id,t=this._menuItems[e];return t?t.push(r):this._menuItems[e]=t=[r],{dispose:function(){var o=t.indexOf(r);0<=o&&t.splice(o,1)}}},t.prototype.getMenuItems=function(o){var e=o.id,t=this._menuItems[e]||[];return e===i.CommandPalette.id&&this._appendImplicitItems(t),t},t.prototype._appendImplicitItems=function(d){for(var e=new Set,t=0,n=d;t<n.length;t++){var i=n[t],o=i.command,r=i.alt;e.add(o.id),r&&e.add(r.id)}for(var s in this._commands)e.has(s)||d.push({command:this._commands[s]})},t}());var r=function(r){function e(e,a,n){var i=r.call(this,e,a)||this;return i._commandService=n,i}return Z(e,r),e.prototype.run=function(){for(var o=[],e=0;e<arguments.length;e++)o[e]=arguments[e];return(t=this._commandService).executeCommand.apply(t,[this.id].concat(o));var t},e=F([v(2,o.ICommandService)],e)}(t.Action);e.ExecuteCommandAction=r;var a=function(a){function e(t,n,i,o){var r=this;return r="string"==typeof t.title?a.call(this,t.id,t.title,o)||this:a.call(this,t.id,t.title.value,o)||this,r._cssClass=t.iconClass,r._enabled=!0,r._options=i||{},r.item=t,r.alt=n?new e(n,void 0,r._options,o):void 0,r}return Z(e,a),e.prototype.run=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var o=[];return this._options.arg&&(o=o.concat([this._options.arg])),this._options.shouldForwardArgs&&(o=o.concat(e)),a.prototype.run.apply(this,o)},e=F([v(3,o.ICommandService)],e)}(r);e.MenuItemAction=a;var s=function(){function t(i,a,t,n,o,r){this._id=a,this._label=t,this._keybindings=n,this._keybindingContext=o,this._keybindingWeight=r,this._descriptor=p.createSyncDescriptor(i,this._id,this._label)}return Object.defineProperty(t.prototype,"syncDescriptor",{get:function(){return this._descriptor},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"keybindings",{get:function(){return this._keybindings},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"keybindingContext",{get:function(){return this._keybindingContext},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"keybindingWeight",{get:function(){return this._keybindingWeight},enumerable:!0,configurable:!0}),t}();e.SyncActionDescriptor=s}),define(s[62],n([1,0,33,29,26,24,80,16]),function(p,e,g,m,h,o,r,t){"use strict";function a(o,e,t){var n=function(o,e){for(var t=o,r=0;r<e.length;r++){if("object"!=typeof t||null===t)return;t=t[e[r]]}return t}(o,e.split("."));return void 0===n?t:n}function u(i,e,t){Object.keys(e).forEach(function(n){n in i?m.isObject(i[n])&&m.isObject(e[n])?u(i[n],e[n],t):t&&(i[n]=e[n]):i[n]=e[n]})}Object.defineProperty(e,"__esModule",{value:!0}),e.IConfigurationService=t.createDecorator("configurationService"),!function(t){t[t.Default=1]="Default",t[t.User=2]="User",t[t.Workspace=3]="Workspace"}(e.ConfigurationSource||(e.ConfigurationSource={})),e.getConfigurationValue=a,e.merge=u;var s=function(){function o(o,i,t){void 0===o&&(o={}),void 0===i&&(i=[]),void 0===t&&(t=[]),this._contents=o,this._keys=i,this._overrides=t}return Object.defineProperty(o.prototype,"contents",{get:function(){return this._contents},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"overrides",{get:function(){return this._overrides},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"keys",{get:function(){return this._keys},enumerable:!0,configurable:!0}),o.prototype.getContentsFor=function(t){return h.clone(this.contents[t])},o.prototype.override=function(e){var t=new o,n=h.clone(this.contents);if(this._overrides)for(var i=0,r=this._overrides,s;i<r.length;i++)s=r[i],-1!==s.identifiers.indexOf(e)&&u(n,s.contents,!0);return t._contents=n,t},o.prototype.merge=function(e,t){void 0===t&&(t=!0);var n=new o;return this.doMerge(n,this,t),this.doMerge(n,e,t),n},o.prototype.doMerge=function(o,e,n){void 0===n&&(n=!0),u(o.contents,h.clone(e.contents),n);for(var i=h.clone(o._overrides),t=0,r=e._overrides;t<r.length;t++)!function(o){var e=i.filter(function(e){return g.equals(e.identifiers,o.identifiers)})[0];e?u(e.contents,o.contents,n):i.push(o)}(r[t]);o._overrides=i},o}();e.ConfigurationModel=s;var n=function(){function d(a,d,t,n,i){void 0===t&&(t=new s),void 0===n&&(n=new r.StrictResourceMap),this._defaults=a,this._user=d,this._workspaceConfiguration=t,this.folders=n,this._workspace=i,this.merge()}return Object.defineProperty(d.prototype,"defaults",{get:function(){return this._defaults},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"user",{get:function(){return this._user},enumerable:!0,configurable:!0}),d.prototype.merge=function(){this._globalConfiguration=new s().merge(this._defaults).merge(this._user),this._workspaceConsolidatedConfiguration=new s().merge(this._globalConfiguration).merge(this._workspaceConfiguration),this._legacyWorkspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new r.StrictResourceMap;for(var o=0,e=this.folders.keys(),t;o<e.length;o++)t=e[o],this.mergeFolder(t)},d.prototype.mergeFolder=function(t){this._foldersConsolidatedConfigurations.set(t,new s().merge(this._workspaceConsolidatedConfiguration).merge(this.folders.get(t)))},d.prototype.getValue=function(o,e){void 0===o&&(o=""),void 0===e&&(e={});var t=this.getConsolidateConfigurationModel(e);return o?t.getContentsFor(o):t.contents},d.prototype.lookup=function(o,e){void 0===e&&(e={});var t=this.getConsolidateConfigurationModel(e),n=this.getFolderConfigurationModelForResource(e.resource);return{default:h.clone(a(e.overrideIdentifier?this._defaults.override(e.overrideIdentifier).contents:this._defaults.contents,o)),user:h.clone(a(e.overrideIdentifier?this._user.override(e.overrideIdentifier).contents:this._user.contents,o)),workspace:h.clone(this._workspace?a(e.overrideIdentifier?this._workspaceConfiguration.override(e.overrideIdentifier).contents:this._workspaceConfiguration.contents,o):void 0),folder:h.clone(n?a(e.overrideIdentifier?n.override(e.overrideIdentifier).contents:n.contents,o):void 0),value:h.clone(a(t.contents,o))}},d.prototype.lookupLegacy=function(o){this._legacyWorkspaceConsolidatedConfiguration||(this._legacyWorkspaceConsolidatedConfiguration=this._workspace?new s().merge(this._workspaceConfiguration).merge(this.folders.get(this._workspace.roots[0])):null);var e=this.getConsolidateConfigurationModel({});return{default:h.clone(a(this._defaults.contents,o)),user:h.clone(a(this._user.contents,o)),workspace:h.clone(this._legacyWorkspaceConsolidatedConfiguration?a(this._legacyWorkspaceConsolidatedConfiguration.contents,o):void 0),folder:void 0,value:h.clone(a(e.contents,o))}},d.prototype.keys=function(o){void 0===o&&(o={});var e=this.getFolderConfigurationModelForResource(o.resource);return{default:this._defaults.keys,user:this._user.keys,workspace:this._workspaceConfiguration.keys,folder:e?e.keys:[]}},d.prototype.values=function(){for(var a=Object.create(null),t=this.keys(),n=0,i=t.workspace.concat(t.user,t.default).sort(),o,e;n<i.length;n++)e=i[n],e!==o&&(o=e,a[e]=this.lookup(e));return a},d.prototype.values2=function(){for(var a=new Map,t=this.keys(),n=0,i=t.workspace.concat(t.user,t.default).sort(),o,e;n<i.length;n++)e=i[n],e!==o&&(o=e,a.set(e,this.lookup(e)));return a},d.prototype.getConsolidateConfigurationModel=function(o){var e=this.getConsolidatedConfigurationModelForResource(o);return o.overrideIdentifier?e.override(o.overrideIdentifier):e},d.prototype.getConsolidatedConfigurationModelForResource=function(o){var e=o.resource;if(!this._workspace)return this._globalConfiguration;if(!e)return this._workspaceConsolidatedConfiguration;var i=this._workspace.getRoot(e);return i?this._foldersConsolidatedConfigurations.get(i)||this._workspaceConsolidatedConfiguration:this._workspaceConsolidatedConfiguration},d.prototype.getFolderConfigurationModelForResource=function(o){if(!this._workspace||!o)return null;var n=this._workspace.getRoot(o);return n?this.folders.get(n):null},d.prototype.toData=function(){var a=this;return{defaults:{contents:this._defaults.contents,overrides:this._defaults.overrides,keys:this._defaults.keys},user:{contents:this._user.contents,overrides:this._user.overrides,keys:this._user.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:this.folders.keys().reduce(function(e,t){var n=a.folders.get(t),i=n.contents,d=n.overrides,l=n.keys;return e[t.toString()]={contents:i,overrides:d,keys:l},e},Object.create({}))}},d.parse=function(e,t){return new d(d.parseConfigurationModel(e.defaults),d.parseConfigurationModel(e.user),d.parseConfigurationModel(e.workspace),Object.keys(e.folders).reduce(function(t,n){return t.set(o.default.parse(n),d.parseConfigurationModel(e.folders[n])),t},new r.StrictResourceMap),t)},d.parseConfigurationModel=function(t){return new s(t.contents,t.keys,t.overrides)},d}();e.Configuration=n}),define(s[19],n([1,0,16]),function(p,e,t){"use strict";function g(o,e){var t=o.getType(),n=e.getType();if(t!==n)return t-n;switch(t){case i.Defined:case i.Not:case i.Equals:case i.NotEquals:return o.cmp(e);default:throw new Error("Unknown ContextKeyExpr!");}}Object.defineProperty(e,"__esModule",{value:!0});var i;!function(t){t[t.Defined=1]="Defined",t[t.Not=2]="Not",t[t.Equals=3]="Equals",t[t.NotEquals=4]="NotEquals",t[t.And=5]="And"}(i=e.ContextKeyExprType||(e.ContextKeyExprType={}));var o=function(){function t(){}return t.has=function(t){return new n(t)},t.equals=function(o,e){return new r(o,e)},t.notEquals=function(o,e){return new a(o,e)},t.not=function(t){return new s(t)},t.and=function(){for(var o=[],e=0;e<arguments.length;e++)o[e]=arguments[e];return new l(o)},t.deserialize=function(o){var i=this;if(!o)return null;var t=o.split("&&");return new l(t.map(function(t){return i._deserializeOne(t)})).normalize()},t._deserializeOne=function(o){if(0<=(o=o.trim()).indexOf("!="))return e=o.split("!="),new a(e[0].trim(),this._deserializeValue(e[1]));if(0<=o.indexOf("==")){var e=o.split("==");return new r(e[0].trim(),this._deserializeValue(e[1]))}return /^\!\s*/.test(o)?new s(o.substr(1).trim()):new n(o)},t._deserializeValue=function(o){if("true"===(o=o.trim()))return!0;if("false"===o)return!1;var e=/^'([^']*)'$/.exec(o);return e?e[1].trim():o},t}();e.ContextKeyExpr=o;var n=function(){function o(t){this.key=t}return o.prototype.getType=function(){return i.Defined},o.prototype.cmp=function(t){return this.key<t.key?-1:this.key>t.key?1:0},o.prototype.equals=function(e){return e instanceof o&&this.key===e.key},o.prototype.evaluate=function(t){return!!t.getValue(this.key)},o.prototype.normalize=function(){return this},o.prototype.serialize=function(){return this.key},o.prototype.keys=function(){return[this.key]},o}();e.ContextKeyDefinedExpr=n;var r=function(){function o(o,n){this.key=o,this.value=n}return o.prototype.getType=function(){return i.Equals},o.prototype.cmp=function(t){return this.key<t.key?-1:this.key>t.key?1:this.value<t.value?-1:this.value>t.value?1:0},o.prototype.equals=function(e){return e instanceof o&&this.key===e.key&&this.value===e.value},o.prototype.evaluate=function(t){return t.getValue(this.key)==this.value},o.prototype.normalize=function(){return"boolean"==typeof this.value?this.value?new n(this.key):new s(this.key):this},o.prototype.serialize=function(){return"boolean"==typeof this.value?this.normalize().serialize():this.key+" == '"+this.value+"'"},o.prototype.keys=function(){return[this.key]},o}();e.ContextKeyEqualsExpr=r;var a=function(){function o(o,n){this.key=o,this.value=n}return o.prototype.getType=function(){return i.NotEquals},o.prototype.cmp=function(t){return this.key<t.key?-1:this.key>t.key?1:this.value<t.value?-1:this.value>t.value?1:0},o.prototype.equals=function(e){return e instanceof o&&this.key===e.key&&this.value===e.value},o.prototype.evaluate=function(t){return t.getValue(this.key)!=this.value},o.prototype.normalize=function(){return"boolean"==typeof this.value?this.value?new s(this.key):new n(this.key):this},o.prototype.serialize=function(){return"boolean"==typeof this.value?this.normalize().serialize():this.key+" != '"+this.value+"'"},o.prototype.keys=function(){return[this.key]},o}();e.ContextKeyNotEqualsExpr=a;var s=function(){function o(t){this.key=t}return o.prototype.getType=function(){return i.Not},o.prototype.cmp=function(t){return this.key<t.key?-1:this.key>t.key?1:0},o.prototype.equals=function(e){return e instanceof o&&this.key===e.key},o.prototype.evaluate=function(t){return!t.getValue(this.key)},o.prototype.normalize=function(){return this},o.prototype.serialize=function(){return"!"+this.key},o.prototype.keys=function(){return[this.key]},o}();e.ContextKeyNotExpr=s;var l=function(){function a(e){this.expr=a._normalizeArr(e)}return a.prototype.getType=function(){return i.And},a.prototype.equals=function(e){if(e instanceof a){if(this.expr.length!==e.expr.length)return!1;for(var t=0,o=this.expr.length;t<o;t++)if(!this.expr[t].equals(e.expr[t]))return!1;return!0}return!1},a.prototype.evaluate=function(o){for(var e=0,t=this.expr.length;e<t;e++)if(!this.expr[e].evaluate(o))return!1;return!0},a._normalizeArr=function(e){var t=[];if(e){for(var n=0,o=e.length,i;n<o;n++)i=e[n],i&&(i=i.normalize())&&(i instanceof a?t=t.concat(i.expr):t.push(i));t.sort(g)}return t},a.prototype.normalize=function(){return 0===this.expr.length?null:1===this.expr.length?this.expr[0]:this},a.prototype.serialize=function(){return 0===this.expr.length?"":1===this.expr.length?this.normalize().serialize():this.expr.map(function(t){return t.serialize()}).join(" && ")},a.prototype.keys=function(){for(var o=[],e=0,t=this.expr,n;e<t.length;e++)n=t[e],o.push.apply(o,n.keys());return o},a}();e.ContextKeyAndExpr=l;var c=function(r){function e(e,o){var n=r.call(this,e)||this;return n._defaultValue=o,n}return Z(e,r),e.prototype.bindTo=function(t){return t.createKey(this.key,this._defaultValue)},e.prototype.getValue=function(t){return t.getContextKeyValue(this.key)},e.prototype.toNegated=function(){return o.not(this.key)},e.prototype.isEqualTo=function(t){return o.equals(this.key,t)},e}(n);e.RawContextKey=c,e.IContextKeyService=t.createDecorator("contextKeyService"),e.SET_CONTEXT_COMMAND_ID="setContext"}),define(s[21],n([1,0,19]),function(o,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),!function(o){o.textFocus=new t.RawContextKey("editorTextFocus",!1),o.focus=new t.RawContextKey("editorFocus",!1),o.readOnly=new t.RawContextKey("editorReadonly",!1),o.writable=o.readOnly.toNegated(),o.hasNonEmptySelection=new t.RawContextKey("editorHasSelection",!1),o.hasOnlyEmptySelection=o.hasNonEmptySelection.toNegated(),o.hasMultipleSelections=new t.RawContextKey("editorHasMultipleSelections",!1),o.hasSingleSelection=o.hasMultipleSelections.toNegated(),o.tabMovesFocus=new t.RawContextKey("editorTabMovesFocus",!1),o.tabDoesNotMoveFocus=o.tabMovesFocus.toNegated(),o.isInEmbeddedEditor=new t.RawContextKey("isInEmbeddedEditor",void 0),o.languageId=new t.RawContextKey("editorLangId",void 0),o.hasCompletionItemProvider=new t.RawContextKey("editorHasCompletionItemProvider",void 0),o.hasCodeActionsProvider=new t.RawContextKey("editorHasCodeActionsProvider",void 0),o.hasCodeLensProvider=new t.RawContextKey("editorHasCodeLensProvider",void 0),o.hasDefinitionProvider=new t.RawContextKey("editorHasDefinitionProvider",void 0),o.hasImplementationProvider=new t.RawContextKey("editorHasImplementationProvider",void 0),o.hasTypeDefinitionProvider=new t.RawContextKey("editorHasTypeDefinitionProvider",void 0),o.hasHoverProvider=new t.RawContextKey("editorHasHoverProvider",void 0),o.hasDocumentHighlightProvider=new t.RawContextKey("editorHasDocumentHighlightProvider",void 0),o.hasDocumentSymbolProvider=new t.RawContextKey("editorHasDocumentSymbolProvider",void 0),o.hasReferenceProvider=new t.RawContextKey("editorHasReferenceProvider",void 0),o.hasRenameProvider=new t.RawContextKey("editorHasRenameProvider",void 0),o.hasDocumentFormattingProvider=new t.RawContextKey("editorHasDocumentFormattingProvider",void 0),o.hasDocumentSelectionFormattingProvider=new t.RawContextKey("editorHasDocumentSelectionFormattingProvider",void 0),o.hasSignatureHelpProvider=new t.RawContextKey("editorHasSignatureHelpProvider",void 0)}(e.EditorContextKeys||(e.EditorContextKeys={}))}),define(s[406],n([1,0,3,17,21,70]),function(a,e,t,d,i,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(a){function e(e,o){var n=a.call(this)||this;n._editor=e,n._langId=i.EditorContextKeys.languageId.bindTo(o),n._hasCompletionItemProvider=i.EditorContextKeys.hasCompletionItemProvider.bindTo(o),n._hasCodeActionsProvider=i.EditorContextKeys.hasCodeActionsProvider.bindTo(o),n._hasCodeLensProvider=i.EditorContextKeys.hasCodeLensProvider.bindTo(o),n._hasDefinitionProvider=i.EditorContextKeys.hasDefinitionProvider.bindTo(o),n._hasImplementationProvider=i.EditorContextKeys.hasImplementationProvider.bindTo(o),n._hasTypeDefinitionProvider=i.EditorContextKeys.hasTypeDefinitionProvider.bindTo(o),n._hasHoverProvider=i.EditorContextKeys.hasHoverProvider.bindTo(o),n._hasDocumentHighlightProvider=i.EditorContextKeys.hasDocumentHighlightProvider.bindTo(o),n._hasDocumentSymbolProvider=i.EditorContextKeys.hasDocumentSymbolProvider.bindTo(o),n._hasReferenceProvider=i.EditorContextKeys.hasReferenceProvider.bindTo(o),n._hasRenameProvider=i.EditorContextKeys.hasRenameProvider.bindTo(o),n._hasDocumentFormattingProvider=i.EditorContextKeys.hasDocumentFormattingProvider.bindTo(o),n._hasDocumentSelectionFormattingProvider=i.EditorContextKeys.hasDocumentSelectionFormattingProvider.bindTo(o),n._hasSignatureHelpProvider=i.EditorContextKeys.hasSignatureHelpProvider.bindTo(o),n._isInWalkThrough=i.EditorContextKeys.isInEmbeddedEditor.bindTo(o);var r=function(){return n._update()};return n._register(e.onDidChangeModel(r)),n._register(e.onDidChangeModelLanguage(r)),n._register(d.SuggestRegistry.onDidChange(r)),n._register(d.CodeActionProviderRegistry.onDidChange(r)),n._register(d.CodeLensProviderRegistry.onDidChange(r)),n._register(d.DefinitionProviderRegistry.onDidChange(r)),n._register(d.ImplementationProviderRegistry.onDidChange(r)),n._register(d.TypeDefinitionProviderRegistry.onDidChange(r)),n._register(d.HoverProviderRegistry.onDidChange(r)),n._register(d.DocumentHighlightProviderRegistry.onDidChange(r)),n._register(d.DocumentSymbolProviderRegistry.onDidChange(r)),n._register(d.ReferenceProviderRegistry.onDidChange(r)),n._register(d.RenameProviderRegistry.onDidChange(r)),n._register(d.DocumentFormattingEditProviderRegistry.onDidChange(r)),n._register(d.DocumentRangeFormattingEditProviderRegistry.onDidChange(r)),n._register(d.SignatureHelpProviderRegistry.onDidChange(r)),r(),n}return Z(e,a),e.prototype.dispose=function(){a.prototype.dispose.call(this)},e.prototype.reset=function(){this._langId.reset(),this._hasCompletionItemProvider.reset(),this._hasCodeActionsProvider.reset(),this._hasCodeLensProvider.reset(),this._hasDefinitionProvider.reset(),this._hasImplementationProvider.reset(),this._hasTypeDefinitionProvider.reset(),this._hasHoverProvider.reset(),this._hasDocumentHighlightProvider.reset(),this._hasDocumentSymbolProvider.reset(),this._hasReferenceProvider.reset(),this._hasRenameProvider.reset(),this._hasDocumentFormattingProvider.reset(),this._hasDocumentSelectionFormattingProvider.reset(),this._hasSignatureHelpProvider.reset(),this._isInWalkThrough.reset()},e.prototype._update=function(){var t=this._editor.getModel();t?(this._langId.set(t.getLanguageIdentifier().language),this._hasCompletionItemProvider.set(d.SuggestRegistry.has(t)),this._hasCodeActionsProvider.set(d.CodeActionProviderRegistry.has(t)),this._hasCodeLensProvider.set(d.CodeLensProviderRegistry.has(t)),this._hasDefinitionProvider.set(d.DefinitionProviderRegistry.has(t)),this._hasImplementationProvider.set(d.ImplementationProviderRegistry.has(t)),this._hasTypeDefinitionProvider.set(d.TypeDefinitionProviderRegistry.has(t)),this._hasHoverProvider.set(d.HoverProviderRegistry.has(t)),this._hasDocumentHighlightProvider.set(d.DocumentHighlightProviderRegistry.has(t)),this._hasDocumentSymbolProvider.set(d.DocumentSymbolProviderRegistry.has(t)),this._hasReferenceProvider.set(d.ReferenceProviderRegistry.has(t)),this._hasRenameProvider.set(d.RenameProviderRegistry.has(t)),this._hasSignatureHelpProvider.set(d.SignatureHelpProviderRegistry.has(t)),this._hasDocumentFormattingProvider.set(d.DocumentFormattingEditProviderRegistry.has(t)||d.DocumentRangeFormattingEditProviderRegistry.has(t)),this._hasDocumentSelectionFormattingProvider.set(d.DocumentRangeFormattingEditProviderRegistry.has(t)),this._isInWalkThrough.set(t.uri.scheme===o.Schemas.walkThroughSnippet)):this.reset()},e}(t.Disposable);e.EditorModeContext=n}),define(s[407],n([1,0,11,3,19,85,31]),function(d,e,l,t,n,p,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function r(e,t,n,o){var g=this;this._id=e,this._commandService=n,this._contextKeyService=o,this._menuGroups=[],this._disposables=[],this._onDidChange=new l.Emitter,t.then(function(){var t=p.MenuRegistry.getMenuItems(e),o=new Set,n;t.sort(r._compareMenuItems);for(var i=0,a=t;i<a.length;i++){var s=a[i],l=s.group;n&&n[0]===l||(n=[l,[]],g._menuGroups.push(n)),n[1].push(s),r._fillInKbExprKeys(s.when,o)}g._disposables.push(g._contextKeyService.onDidChangeContext(function(r){if(r)for(var e=0,t=r,n;e<t.length;e++)if(n=t[e],o.has(n))return void g._onDidChange.fire()})),g._onDidChange.fire(g)})}return r.prototype.dispose=function(){this._disposables=t.dispose(this._disposables),this._onDidChange.dispose()},Object.defineProperty(r.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!0,configurable:!0}),r.prototype.getActions=function(r){for(var e=[],t=0,n=this._menuGroups;t<n.length;t++){for(var i=n[t],o=i[0],s=[],a=0,u=i[1],l;a<u.length;a++)if(l=u[a],this._contextKeyService.contextMatchesRules(l.when)){var c=new p.MenuItemAction(l.command,l.alt,r,this._commandService);c.order=l.order,s.push(c)}0<s.length&&e.push([o,s])}return e},r._fillInKbExprKeys=function(r,e){if(r)for(var t=0,n=r.keys(),i;t<n.length;t++)i=n[t],e.add(i)},r._compareMenuItems=function(d,e){var t=d.group,l=e.group;if(t!==l){if(!t)return 1;if(!l)return-1;if("navigation"===t)return-1;if("navigation"===l)return 1;var p=t.localeCompare(l);if(0!==p)return p}var o=d.order||0,r=e.order||0;if(o<r)return-1;if(o>r)return 1;var s="string"==typeof d.command.title?d.command.title:d.command.title.value,a="string"==typeof e.command.title?e.command.title:e.command.title.value;return s.localeCompare(a)},r=F([v(2,o.ICommandService),v(3,n.IContextKeyService)],r)}();e.Menu=i}),define(s[69],n([1,0,53,16]),function(r,e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IContextViewService=n.createDecorator("contextViewService"),e.IContextMenuService=n.createDecorator("contextMenuService");var i=function(o){function e(e,r){var n=o.call(this,"contextsubmenu",e,"",!0)||this;return n.entries=r,n}return Z(e,o),e}(t.Action);e.ContextSubMenu=i}),define(s[64],n([1,0,16]),function(o,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IEditorService=t.createDecorator("editorService");var n;!function(t){t[t.ONE=0]="ONE",t[t.TWO=1]="TWO",t[t.THREE=2]="THREE"}(n=e.Position||(e.Position={})),e.POSITIONS=[n.ONE,n.TWO,n.THREE],!function(t){t[t.LEFT=0]="LEFT",t[t.RIGHT=1]="RIGHT"}(e.Direction||(e.Direction={})),!function(t){t[t.SHORT=0]="SHORT",t[t.MEDIUM=1]="MEDIUM",t[t.LONG=2]="LONG"}(e.Verbosity||(e.Verbosity={}))}),define(s[156],n([1,0,16]),function(o,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IEnvironmentService=t.createDecorator("environmentService")}),define(s[411],n([1,0,45,79,15,16,9]),function(d,e,p,t,n,o,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IFileService=o.createDecorator("fileService"),!function(t){t[t.CREATE=0]="CREATE",t[t.DELETE=1]="DELETE",t[t.MOVE=2]="MOVE",t[t.COPY=3]="COPY",t[t.IMPORT=4]="IMPORT"}(e.FileOperation||(e.FileOperation={}));var i=function(){function t(o,i,t){this._resource=o,this._operation=i,this._target=t}return Object.defineProperty(t.prototype,"resource",{get:function(){return this._resource},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"target",{get:function(){return this._target},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"operation",{get:function(){return this._operation},enumerable:!0,configurable:!0}),t}();e.FileOperationEvent=i;var a;!function(t){t[t.UPDATED=0]="UPDATED",t[t.ADDED=1]="ADDED",t[t.DELETED=2]="DELETED"}(a=e.FileChangeType||(e.FileChangeType={}));var s=function(o){function e(e){var i=o.call(this)||this;return i._changes=e,i}return Z(e,o),Object.defineProperty(e.prototype,"changes",{get:function(){return this._changes},enumerable:!0,configurable:!0}),e.prototype.contains=function(o,r){return!!o&&this._changes.some(function(e){return e.type===r&&(r===a.DELETED?p.isEqualOrParent(o.fsPath,e.resource.fsPath,!n.isLinux):p.isEqual(o.fsPath,e.resource.fsPath,!n.isLinux))})},e.prototype.getAdded=function(){return this.getOfType(a.ADDED)},e.prototype.gotAdded=function(){return this.hasType(a.ADDED)},e.prototype.getDeleted=function(){return this.getOfType(a.DELETED)},e.prototype.gotDeleted=function(){return this.hasType(a.DELETED)},e.prototype.getUpdated=function(){return this.getOfType(a.UPDATED)},e.prototype.gotUpdated=function(){return this.hasType(a.UPDATED)},e.prototype.getOfType=function(o){return this._changes.filter(function(e){return e.type===o})},e.prototype.hasType=function(o){return this._changes.some(function(e){return e.type===o})},e}(t.Event);e.FileChangesEvent=s,e.isParent=function(o,e,t){return o&&e&&o!==e&&!(e.length>o.length)&&(e.charAt(e.length-1)!==p.nativeSep&&(e+=p.nativeSep),t?r.beginsWithIgnoreCase(o,e):0===o.indexOf(e))},e.indexOf=function(o,e,t){return e.length>o.length?-1:o===e?0:(t&&(o=o.toLowerCase(),e=e.toLowerCase()),o.indexOf(e))};var l=function(o){function e(e,r){var n=o.call(this,e)||this;return n.fileOperationResult=r,n}return Z(e,o),e}(Error);e.FileOperationError=l,!function(t){t[t.FILE_IS_BINARY=0]="FILE_IS_BINARY",t[t.FILE_IS_DIRECTORY=1]="FILE_IS_DIRECTORY",t[t.FILE_NOT_FOUND=2]="FILE_NOT_FOUND",t[t.FILE_NOT_MODIFIED_SINCE=3]="FILE_NOT_MODIFIED_SINCE",t[t.FILE_MODIFIED_SINCE=4]="FILE_MODIFIED_SINCE",t[t.FILE_MOVE_CONFLICT=5]="FILE_MOVE_CONFLICT",t[t.FILE_READ_ONLY=6]="FILE_READ_ONLY",t[t.FILE_TOO_LARGE=7]="FILE_TOO_LARGE",t[t.FILE_INVALID_PATH=8]="FILE_INVALID_PATH"}(e.FileOperationResult||(e.FileOperationResult={})),e.MAX_FILE_SIZE="object"==typeof process?"ia32"===process.arch?314572800:17179869184:314572800,e.AutoSaveConfiguration={OFF:"off",AFTER_DELAY:"afterDelay",ON_FOCUS_CHANGE:"onFocusChange",ON_WINDOW_CHANGE:"onWindowChange"},e.HotExitConfiguration={OFF:"off",ON_EXIT:"onExit",ON_EXIT_AND_WINDOW_CLOSE:"onExitAndWindowClose"},e.CONTENT_CHANGE_EVENT_BUFFER_DELAY=1e3,e.SUPPORTED_ENCODINGS={utf8:{labelLong:"UTF-8",labelShort:"UTF-8",order:1,alias:"utf8bom"},utf8bom:{labelLong:"UTF-8 with BOM",labelShort:"UTF-8 with BOM",encodeOnly:!0,order:2,alias:"utf8"},utf16le:{labelLong:"UTF-16 LE",labelShort:"UTF-16 LE",order:3},utf16be:{labelLong:"UTF-16 BE",labelShort:"UTF-16 BE",order:4},windows1252:{labelLong:"Western (Windows 1252)",labelShort:"Windows 1252",order:5},iso88591:{labelLong:"Western (ISO 8859-1)",labelShort:"ISO 8859-1",order:6},iso88593:{labelLong:"Western (ISO 8859-3)",labelShort:"ISO 8859-3",order:7},iso885915:{labelLong:"Western (ISO 8859-15)",labelShort:"ISO 8859-15",order:8},macroman:{labelLong:"Western (Mac Roman)",labelShort:"Mac Roman",order:9},cp437:{labelLong:"DOS (CP 437)",labelShort:"CP437",order:10},windows1256:{labelLong:"Arabic (Windows 1256)",labelShort:"Windows 1256",order:11},iso88596:{labelLong:"Arabic (ISO 8859-6)",labelShort:"ISO 8859-6",order:12},windows1257:{labelLong:"Baltic (Windows 1257)",labelShort:"Windows 1257",order:13},iso88594:{labelLong:"Baltic (ISO 8859-4)",labelShort:"ISO 8859-4",order:14},iso885914:{labelLong:"Celtic (ISO 8859-14)",labelShort:"ISO 8859-14",order:15},windows1250:{labelLong:"Central European (Windows 1250)",labelShort:"Windows 1250",order:16},iso88592:{labelLong:"Central European (ISO 8859-2)",labelShort:"ISO 8859-2",order:17},cp852:{labelLong:"Central European (CP 852)",labelShort:"CP 852",order:18},windows1251:{labelLong:"Cyrillic (Windows 1251)",labelShort:"Windows 1251",order:19},cp866:{labelLong:"Cyrillic (CP 866)",labelShort:"CP 866",order:20},iso88595:{labelLong:"Cyrillic (ISO 8859-5)",labelShort:"ISO 8859-5",order:21},koi8r:{labelLong:"Cyrillic (KOI8-R)",labelShort:"KOI8-R",order:22},koi8u:{labelLong:"Cyrillic (KOI8-U)",labelShort:"KOI8-U",order:23},iso885913:{labelLong:"Estonian (ISO 8859-13)",labelShort:"ISO 8859-13",order:24},windows1253:{labelLong:"Greek (Windows 1253)",labelShort:"Windows 1253",order:25},iso88597:{labelLong:"Greek (ISO 8859-7)",labelShort:"ISO 8859-7",order:26},windows1255:{labelLong:"Hebrew (Windows 1255)",labelShort:"Windows 1255",order:27},iso88598:{labelLong:"Hebrew (ISO 8859-8)",labelShort:"ISO 8859-8",order:28},iso885910:{labelLong:"Nordic (ISO 8859-10)",labelShort:"ISO 8859-10",order:29},iso885916:{labelLong:"Romanian (ISO 8859-16)",labelShort:"ISO 8859-16",order:30},windows1254:{labelLong:"Turkish (Windows 1254)",labelShort:"Windows 1254",order:31},iso88599:{labelLong:"Turkish (ISO 8859-9)",labelShort:"ISO 8859-9",order:32},windows1258:{labelLong:"Vietnamese (Windows 1258)",labelShort:"Windows 1258",order:33},gbk:{labelLong:"Chinese (GBK)",labelShort:"GBK",order:34},gb18030:{labelLong:"Chinese (GB18030)",labelShort:"GB18030",order:35},cp950:{labelLong:"Traditional Chinese (Big5)",labelShort:"Big5",order:36},big5hkscs:{labelLong:"Traditional Chinese (Big5-HKSCS)",labelShort:"Big5-HKSCS",order:37},shiftjis:{labelLong:"Japanese (Shift JIS)",labelShort:"Shift JIS",order:38},eucjp:{labelLong:"Japanese (EUC-JP)",labelShort:"EUC-JP",order:39},euckr:{labelLong:"Korean (EUC-KR)",labelShort:"EUC-KR",order:40},windows874:{labelLong:"Thai (Windows 874)",labelShort:"Windows 874",order:41},iso885911:{labelLong:"Latin/Thai (ISO 8859-11)",labelShort:"ISO 8859-11",order:42},koi8ru:{labelLong:"Cyrillic (KOI8-RU)",labelShort:"KOI8-RU",order:43},koi8t:{labelLong:"Tajik (KOI8-T)",labelShort:"KOI8-T",order:44},gb2312:{labelLong:"Simplified Chinese (GB 2312)",labelShort:"GB 2312",order:45}},!function(t){t[t.FILE=0]="FILE",t[t.FOLDER=1]="FOLDER",t[t.ROOT_FOLDER=2]="ROOT_FOLDER"}(e.FileKind||(e.FileKind={}))}),define(s[84],n([1,0]),function(o,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function t(){for(var a=[],d=0;d<arguments.length;d++)a[d]=arguments[d];this._entries=new Map;for(var t=0,n=a;t<n.length;t++){var i=n[t],o=i[0],r=i[1];this.set(o,r)}}return t.prototype.set=function(o,e){var t=this._entries.get(o);return this._entries.set(o,e),t},t.prototype.forEach=function(o){this._entries.forEach(function(e,t){return o(t,e)})},t.prototype.has=function(t){return this._entries.has(t)},t.prototype.get=function(t){return this._entries.get(t)},t}();e.ServiceCollection=t}),define(s[413],n([1,0,7,10,29,72,428,187,16,84]),function(d,e,p,g,m,b,r,S,o,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function i(i,e){void 0===i&&(i=new n.ServiceCollection),void 0===e&&(e=!1),this._services=i,this._strict=e,this._services.set(o.IInstantiationService,this)}return i.prototype.createChild=function(o){var e=this;return this._services.forEach(function(n,t){o.has(n)||(t instanceof S.SyncDescriptor&&(t=e._createAndCacheServiceInstance(n,t)),o.set(n,t))}),new i(o,this._strict)},i.prototype.invokeFunction=function(i){for(var a=this,e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];var n;try{return n={get:function(t,e){var n=a._getOrCreateServiceInstance(t);if(!n&&e!==o.optional)throw new Error("[invokeFunction] unkown service '"+t+"'");return n}},i.apply(void 0,[n].concat(e))}finally{n.get=function(){throw g.illegalState("service accessor is only valid during the invocation of its target method")}}},i.prototype.createInstance=function(o){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return o instanceof S.AsyncDescriptor?this._createInstanceAsync(o,e):o instanceof S.SyncDescriptor?this._createInstance(o,e):this._createInstance(new S.SyncDescriptor(o),e)},i.prototype._createInstanceAsync=function(i,e){var t=this,o;return new p.TPromise(function(r,n){d([i.moduleName],function(a){if(o&&n(o),!a)return n(g.illegalArgument("module not found: "+i.moduleName));var s;if("function"!=typeof(s=i.ctorName?a[i.ctorName]:a))return n(g.illegalArgument("not a function: "+i.ctorName||i.moduleName));try{e.unshift.apply(e,i.staticArguments()),r(t._createInstance(new S.SyncDescriptor(s),e))}catch(t){return n(t)}},n)},function(){o=g.canceled()})},i.prototype._createInstance=function(u,e){for(var t=u.staticArguments().concat(e),n=o._util.getServiceDependencies(u.ctor).sort(function(o,e){return o.index-e.index}),i=[],r=0,s=n;r<s.length;r++){var a=s[r],l=this._getOrCreateServiceInstance(a.id);if(!l&&this._strict&&!a.optional)throw new Error("[createInstance] "+u.ctor.name+" depends on UNKNOWN service "+a.id+".");i.push(l)}var g=0<n.length?n[0].index:t.length;if(t.length!==g){console.warn("[createInstance] First service dependency of "+u.ctor.name+" at position "+(g+1)+" conflicts with "+t.length+" static arguments");var d=g-t.length;t=0<d?t.concat(Array(d)):t.slice(0,g)}var h=[u.ctor];h.push.apply(h,t),h.push.apply(h,i);var p=m.create.apply(null,h);return u._validate(p),p},i.prototype._getOrCreateServiceInstance=function(o){var e=this._services.get(o);return e instanceof S.SyncDescriptor?this._createAndCacheServiceInstance(o,e):e},i.prototype._createAndCacheServiceInstance=function(a,s){function u(){var t=new Error("[createInstance] cyclic dependency between services");throw t.message=n.toString(),t}b.ok(this._services.get(a)instanceof S.SyncDescriptor);for(var n=new r.Graph(function(t){return t.id.toString()}),i=0,E=[{id:a,desc:s}],l;E.length;){l=E.pop(),n.lookupOrInsertNode(l),100<i++&&u();for(var c=0,d=o._util.getServiceDependencies(l.desc.ctor);c<d.length;c++){var h=d[c],p=this._services.get(h.id);if(p||console.warn("[createInstance] "+a+" depends on "+h.id+" which is NOT registered."),p instanceof S.SyncDescriptor){var L={id:h.id,desc:p};n.insertEdge(l,L),E.push(L)}}}for(;;){var g=n.roots();if(0===g.length){0!==n.length&&u();break}for(var m=0,v=g;m<v.length;m++){var _=v[m],y=this._createInstance(_.data.desc,[]);this._services.set(_.data.id,y),n.removeNode(_.data)}}return this._services.get(a)},i}();e.InstantiationService=t}),define(s[414],n([1,0,383,3,36,11]),function(a,e,p,t,n,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function i(r,a,t,n){this.toDispose=[],this._contextKeyService=r,this._commandService=a,this._statusService=n,this._messageService=t,this._currentChord=null,this._currentChordStatusMessage=null,this._onDidUpdateKeybindings=new o.Emitter,this.toDispose.push(this._onDidUpdateKeybindings)}return i.prototype.dispose=function(){this.toDispose=t.dispose(this.toDispose)},Object.defineProperty(i.prototype,"onDidUpdateKeybindings",{get:function(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:o.default.None},enumerable:!0,configurable:!0}),i.prototype.getDefaultKeybindingsContent=function(){return""},i.prototype.getDefaultKeybindings=function(){return this._getResolver().getDefaultKeybindings()},i.prototype.getKeybindings=function(){return this._getResolver().getKeybindings()},i.prototype.customKeybindingsCount=function(){return 0},i.prototype.lookupKeybindings=function(t){return this._getResolver().lookupKeybindings(t).map(function(t){return t.resolvedKeybinding})},i.prototype.lookupKeybinding=function(o){var e=this._getResolver().lookupPrimaryKeybinding(o);return e?e.resolvedKeybinding:null},i.prototype.softDispatch=function(a,e){var t=this.resolveKeyboardEvent(a);if(t.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),null;var n=t.getDispatchParts()[0];if(null===n)return null;var i=this._contextKeyService.getContext(e),o=this._currentChord?this._currentChord.keypress:null;return this._getResolver().resolve(i,o,n)},i.prototype._dispatch=function(o,e){var t=this,i=!1,r=this.resolveKeyboardEvent(o);if(r.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),null;var s=r.getDispatchParts()[0];if(null===s)return i;var g=this._contextKeyService.getContext(e),u=this._currentChord?this._currentChord.keypress:null,l=r.getLabel(),m=this._getResolver().resolve(g,u,s);return m&&m.enterChord?(i=!0,this._currentChord={keypress:s,label:l},this._statusService&&(this._currentChordStatusMessage=this._statusService.setStatusMessage(p.localize(0,null,l))),i):(this._statusService&&this._currentChord&&(m&&m.commandId||(this._statusService.setStatusMessage(p.localize(1,null,this._currentChord.label,l),1e4),i=!0)),this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChord=null,m&&m.commandId&&(m.bubble||(i=!0),this._commandService.executeCommand(m.commandId,m.commandArgs||{}).done(void 0,function(o){t._messageService.show(n.default.Warning,o)})),i)},i}();e.AbstractKeybindingService=i}),define(s[46],n([1,0,16]),function(o,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),!function(t){t[t.Default=1]="Default",t[t.User=2]="User"}(e.KeybindingSource||(e.KeybindingSource={})),e.IKeybindingService=t.createDecorator("keybindingService")}),define(s[159],n([1,0,33,31]),function(r,e,a,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function d(e,t){this._defaultKeybindings=e,this._defaultBoundCommands=new Map;for(var n=0,i=e.length,o;n<i;n++)o=e[n].command,this._defaultBoundCommands.set(o,!0);this._map=new Map,this._lookupMap=new Map,this._keybindings=d.combine(e,t);for(var n=0,i=this._keybindings.length,r;n<i;n++)r=this._keybindings[n],null!==r.keypressFirstPart&&this._addKeyPress(r.keypressFirstPart,r)}return d._isTargetedForRemoval=function(r,e,t,n,i){if(r.command!==n)return!1;if(e&&r.keypressFirstPart!==e)return!1;if(t&&r.keypressChordPart!==t)return!1;if(i){if(!r.when)return!1;if(!i.equals(r.when))return!1}return!0},d.combine=function(d,e){d=d.slice(0);for(var t=[],n=0,i=e.length,o;n<i;n++)if(o=e[n],o.command&&0!==o.command.length&&"-"===o.command.charAt(0))for(var r=o.command.substr(1),s=o.keypressFirstPart,a=o.keypressChordPart,p=o.when,l=d.length-1;0<=l;l--)this._isTargetedForRemoval(d[l],s,a,r,p)&&d.splice(l,1);else t.push(o);return d.concat(t)},d.prototype._addKeyPress=function(e,t){var n=this._map.get(e);if(void 0===n)return this._map.set(e,[t]),void this._addToLookupMap(t);for(var i=n.length-1,o;0<=i;i--)if(o=n[i],o.command!==t.command){var r=null!==o.keypressChordPart,s=null!==t.keypressChordPart;r&&s&&o.keypressChordPart!==t.keypressChordPart||d.whenIsEntirelyIncluded(!0,o.when,t.when)&&this._removeFromLookupMap(o)}n.push(t),this._addToLookupMap(t)},d.prototype._addToLookupMap=function(o){if(o.command){var e=this._lookupMap.get(o.command);void 0===e?(e=[o],this._lookupMap.set(o.command,e)):e.push(o)}},d.prototype._removeFromLookupMap=function(o){var e=this._lookupMap.get(o.command);if(void 0!==e)for(var t=0,n=e.length;t<n;t++)if(e[t]===o)return void e.splice(t,1)},d.whenIsEntirelyIncluded=function(d,e,l){if(d||(e=e?e.normalize():null,l=l?l.normalize():null),!l)return!0;if(!e)return!1;for(var p=e.serialize().split(" && "),i=l.serialize().split(" && "),o=Object.create(null),r=0,s=p.length;r<s;r++)o[p[r]]=!0;for(var r=0,s=i.length;r<s;r++)if(!o[i[r]])return!1;return!0},d.prototype.getDefaultBoundCommands=function(){return this._defaultBoundCommands},d.prototype.getDefaultKeybindings=function(){return this._defaultKeybindings},d.prototype.getKeybindings=function(){return this._keybindings},d.prototype.lookupKeybindings=function(r){var e=this._lookupMap.get(r);if(void 0===e||0===e.length)return[];for(var t=[],n=0,i=e.length-1;0<=i;i--)t[n++]=e[i];return t},d.prototype.lookupPrimaryKeybinding=function(o){var e=this._lookupMap.get(o);return void 0===e||0===e.length?null:e[e.length-1]},d.prototype.resolve=function(d,e,t){var n=null;if(null!==e){if(void 0===(s=this._map.get(e)))return null;n=[];for(var i=0,o=s.length,r;i<o;i++)r=s[i],r.keypressChordPart===t&&n.push(r)}else{var s=this._map.get(t);if(void 0===s)return null;n=s}var a=this._findCommand(d,n);return a?null===e&&null!==a.keypressChordPart?{enterChord:!0,commandId:null,commandArgs:null,bubble:!1}:{enterChord:!1,commandId:a.command,commandArgs:a.commandArgs,bubble:a.bubble}:null},d.prototype._findCommand=function(e,t){for(var n=t.length-1,i;0<=n;n--)if(i=t[n],d.contextMatchesRules(e,i.when))return i;return null},d.contextMatchesRules=function(o,e){return!e||e.evaluate(o)},d.getAllUnboundCommands=function(i){var e=n.CommandsRegistry.getCommands(),t=[];for(var o in e)"_"!==o[0]&&0!==o.indexOf("vscode.")&&("object"!=typeof e[o].description||a.isFalsyOrEmpty(e[o].description.args))&&!0!==i.get(o)&&t.push(o);return t},d}();e.KeybindingResolver=t}),define(s[417],n([1,0,3,31,159,19,62,11]),function(_,e,t,n,i,o,r,s){"use strict";function a(t){for(;t;){if(t.hasAttribute(u))return parseInt(t.getAttribute(u),10);t=t.parentElement}return 0}Object.defineProperty(e,"__esModule",{value:!0});var u="data-keybinding-context",l=function(){function t(o,n){this._id=o,this._parent=n,this._value=Object.create(null),this._value._contextId=o}return t.prototype.setValue=function(o,e){return this._value[o]!==e&&(this._value[o]=e,!0)},t.prototype.removeValue=function(t){return delete this._value[t]},t.prototype.getValue=function(o){var e=this._value[o];return void 0===e&&this._parent?this._parent.getValue(o):e},t}();e.Context=l;var c=function(r){function e(e,a,n){var i=r.call(this,e,null)||this;return i._emitter=n,i._subscription=a.onDidUpdateConfiguration(function(){return i._updateConfigurationContext(a.getConfiguration())}),i._updateConfigurationContext(a.getConfiguration()),i}return Z(e,r),e.prototype.dispose=function(){this._subscription.dispose()},e.prototype._updateConfigurationContext=function(o){var e=this;for(var t in this._value)0===t.indexOf("config.")&&delete this._value[t];var a=function(t,i){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){i.push(n);var o=t[n];if("boolean"==typeof o){var d=i.join(".");e._value[d]=o,e._emitter.fire(d)}else"object"==typeof o&&a(o,i);i.pop()}};a(o,["config"])},e}(l),d=function(){function t(o,i,t){this._parent=o,this._key=i,this._defaultValue=t,this.reset()}return t.prototype.set=function(t){this._parent.setContext(this._key,t)},t.prototype.reset=function(){void 0===this._defaultValue?this._parent.removeContext(this._key):this._parent.setContext(this._key,this._defaultValue)},t.prototype.get=function(){return this._parent.getContextKeyValue(this._key)},t}(),h=function(){function t(t){this._myContextId=t,this._onDidChangeContextKey=new s.Emitter}return t.prototype.createKey=function(o,e){return new d(this,o,e)},Object.defineProperty(t.prototype,"onDidChangeContext",{get:function(){return this._onDidChangeContext||(this._onDidChangeContext=s.debounceEvent(this._onDidChangeContextKey.event,function(o,e){return o?0>o.indexOf(e)&&o.push(e):o=[e],o},25)),this._onDidChangeContext},enumerable:!0,configurable:!0}),t.prototype.createScoped=function(t){return new g(this,this._onDidChangeContextKey,t)},t.prototype.contextMatchesRules=function(o){var e=this.getContextValuesContainer(this._myContextId);return i.KeybindingResolver.contextMatchesRules(e,o)},t.prototype.getContextKeyValue=function(t){return this.getContextValuesContainer(this._myContextId).getValue(t)},t.prototype.setContext=function(o,e){this.getContextValuesContainer(this._myContextId).setValue(o,e)&&this._onDidChangeContextKey.fire(o)},t.prototype.removeContext=function(t){this.getContextValuesContainer(this._myContextId).removeValue(t)&&this._onDidChangeContextKey.fire(t)},t.prototype.getContext=function(t){return this.getContextValuesContainer(a(t))},t}();e.AbstractContextKeyService=h;var p=function(o){function e(e){var r=o.call(this,0)||this;r._toDispose=[],r._lastContextId=0,r._contexts=Object.create(null);var n=new c(r._myContextId,e,r._onDidChangeContextKey);return r._contexts[r._myContextId+""]=n,r._toDispose.push(n),r}return Z(e,o),e.prototype.dispose=function(){this._toDispose=t.dispose(this._toDispose)},e.prototype.getContextValuesContainer=function(t){return this._contexts[t+""]},e.prototype.createChildContext=function(o){void 0===o&&(o=this._myContextId);var e=++this._lastContextId;return this._contexts[e+""]=new l(e,this.getContextValuesContainer(o)),e},e.prototype.disposeContext=function(t){delete this._contexts[t+""]},e=F([v(0,r.IConfigurationService)],e)}(h);e.ContextKeyService=p;var g=function(r){function e(e,a,n){var i=r.call(this,e.createChildContext())||this;return i._parent=e,i._onDidChangeContextKey=a,n&&(i._domNode=n,i._domNode.setAttribute(u,i._myContextId+"")),i}return Z(e,r),e.prototype.dispose=function(){this._parent.disposeContext(this._myContextId),this._domNode&&this._domNode.removeAttribute(u)},Object.defineProperty(e.prototype,"onDidChangeContext",{get:function(){return this._parent.onDidChangeContext},enumerable:!0,configurable:!0}),e.prototype.getContextValuesContainer=function(t){return this._parent.getContextValuesContainer(t)},e.prototype.createChildContext=function(t){return void 0===t&&(t=this._myContextId),this._parent.createChildContext(t)},e.prototype.disposeContext=function(t){this._parent.disposeContext(t)},e}(h);n.CommandsRegistry.registerCommand(o.SET_CONTEXT_COMMAND_ID,function(i,e,t){i.get(o.IContextKeyService).createKey(e+"",t)})}),define(s[418],n([1,0]),function(o,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(){return function(d,e,l,n,i){if(this.resolvedKeybinding=d,d){var o=d.getDispatchParts(),r=o[0],s=o[1];this.keypressFirstPart=r,this.keypressChordPart=s}else this.keypressFirstPart=null,this.keypressChordPart=null;this.bubble=!!e&&94===e.charCodeAt(0),this.command=this.bubble?e.substr(1):e,this.commandArgs=l,this.when=n,this.isDefault=i}}();e.ResolvedKeybindingItem=t}),define(s[419],n([1,0,40,155]),function(r,e,a,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(o){function e(e,r){var n=o.call(this)||this;return n._os=r,null===e?(n._firstPart=null,n._chordPart=null):2===e.type?(n._firstPart=e.firstPart,n._chordPart=e.chordPart):(n._firstPart=e,n._chordPart=null),n}return Z(e,o),e.prototype._keyCodeToUILabel=function(t){if(2===this._os)switch(t){case 15:return"\u2190";case 16:return"\u2191";case 17:return"\u2192";case 18:return"\u2193";}return a.KeyCodeUtils.toString(t)},e.prototype._getUILabelForKeybinding=function(t){return t?t.isDuplicateModifierCase()?"":this._keyCodeToUILabel(t.keyCode):null},e.prototype.getLabel=function(){var o=this._getUILabelForKeybinding(this._firstPart),e=this._getUILabelForKeybinding(this._chordPart);return s.UILabelProvider.toLabel(this._firstPart,o,this._chordPart,e,this._os)},e.prototype._getAriaLabelForKeybinding=function(t){return t?t.isDuplicateModifierCase()?"":a.KeyCodeUtils.toString(t.keyCode):null},e.prototype.getAriaLabel=function(){var o=this._getAriaLabelForKeybinding(this._firstPart),e=this._getAriaLabelForKeybinding(this._chordPart);return s.AriaLabelProvider.toLabel(this._firstPart,o,this._chordPart,e,this._os)},e.prototype._keyCodeToElectronAccelerator=function(t){if(93<=t&&108>=t)return null;return 16===t?"Up":18===t?"Down":15===t?"Left":17===t?"Right":a.KeyCodeUtils.toString(t)},e.prototype._getElectronAcceleratorLabelForKeybinding=function(t){return t?t.isDuplicateModifierCase()?null:this._keyCodeToElectronAccelerator(t.keyCode):null},e.prototype.getElectronAccelerator=function(){if(null!==this._chordPart)return null;var t=this._getElectronAcceleratorLabelForKeybinding(this._firstPart);return s.ElectronAcceleratorLabelProvider.toLabel(this._firstPart,t,null,null,this._os)},e.prototype._getUserSettingsLabelForKeybinding=function(t){return t?t.isDuplicateModifierCase()?"":a.KeyCodeUtils.toUserSettingsUS(t.keyCode):null},e.prototype.getUserSettingsLabel=function(){var o=this._getUserSettingsLabelForKeybinding(this._firstPart),e=this._getUserSettingsLabelForKeybinding(this._chordPart),t=s.UserSettingsLabelProvider.toLabel(this._firstPart,o,this._chordPart,e,this._os);return t?t.toLowerCase():t},e.prototype.isWYSIWYG=function(){return!0},e.prototype.isChord=function(){return!!this._chordPart},e.prototype.getParts=function(){return[this._toResolvedKeybindingPart(this._firstPart),this._toResolvedKeybindingPart(this._chordPart)]},e.prototype._toResolvedKeybindingPart=function(t){return t?new a.ResolvedKeybindingPart(t.ctrlKey,t.shiftKey,t.altKey,t.metaKey,this._getUILabelForKeybinding(t),this._getAriaLabelForKeybinding(t)):null},e.prototype.getDispatchParts=function(){return[this._firstPart?e.getDispatchStr(this._firstPart):null,this._chordPart?e.getDispatchStr(this._chordPart):null]},e.getDispatchStr=function(o){if(o.isModifierKey())return null;var e="";return o.ctrlKey&&(e+="ctrl+"),o.shiftKey&&(e+="shift+"),o.altKey&&(e+="alt+"),o.metaKey&&(e+="meta+"),e+=a.KeyCodeUtils.toString(o.keyCode)},e}(a.ResolvedKeybinding);e.USLayoutResolvedKeybinding=t}),define(s[420],n([1,0,7,11,16]),function(a,e,d,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILifecycleService=n.createDecorator("lifecycleService"),!function(t){t[t.CLOSE=1]="CLOSE",t[t.QUIT=2]="QUIT",t[t.RELOAD=3]="RELOAD",t[t.LOAD=4]="LOAD"}(e.ShutdownReason||(e.ShutdownReason={}));var o;!function(t){t[t.NewWindow=1]="NewWindow",t[t.ReloadedWindow=3]="ReloadedWindow",t[t.ReopenedWindow=4]="ReopenedWindow"}(o=e.StartupKind||(e.StartupKind={}));var i;!function(t){t[t.Starting=1]="Starting",t[t.Running=2]="Running",t[t.ShuttingDown=3]="ShuttingDown"}(i=e.LifecyclePhase||(e.LifecyclePhase={})),e.NullLifecycleService={_serviceBrand:null,phase:i.Running,startupKind:o.NewWindow,onDidChangePhase:t.default.None,onWillShutdown:t.default.None,onShutdown:t.default.None},e.handleVetos=function(n,l){if(0===n.length)return d.TPromise.as(!1);for(var e=[],t=!1,o=0,i=n,r;o<i.length;o++){if(r=i[o],!0===r)return d.TPromise.as(!0);d.TPromise.is(r)&&e.push(r.then(function(o){o&&(t=!0)},function(o){l(o),t=!0}))}return d.TPromise.join(e).then(function(){return t})}}),define(s[421],n([1,0,33,70,29,11,36]),function(d,e,m,p,i,t,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var _;!function(t){t.get=function(o,e,t){if(o[e])return o[e][t]},t.set=function(o,e,t,n){o[e]||(o[e]=Object.create(null)),o[e][t]=n},t.remove=function(o,e,t){return o[e]&&o[e][t]&&(delete o[e][t],i.isEmptyObject(o[e])&&delete o[e],!0)}}(_||(_={}));var o=function(){function t(t){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=Object.create(null),this._service=t,this._subscription=t.onMarkerChanged(this._update,this)}return t.prototype.dispose=function(){this._subscription.dispose(),this._data=void 0},t.prototype._update=function(a){for(var e=0,t=a;e<t.length;e++){var n=t[e],i=n.toString(),o=this._data[i];o&&this._substract(o);var r=this._resourceStats(n);this._add(r),this._data[i]=r}},t.prototype._resourceStats=function(i){var a={errors:0,warnings:0,infos:0,unknowns:0};if(i.scheme===p.Schemas.inMemory||i.scheme===p.Schemas.walkThrough||i.scheme===p.Schemas.walkThroughSnippet)return a;for(var t=0,n=this._service.read({resource:i}),o;t<n.length;t++)o=n[t].severity,o===c.default.Error?a.errors+=1:o===c.default.Warning?a.warnings+=1:o===c.default.Info?a.infos+=1:a.unknowns+=1;return a},t.prototype._substract=function(t){this.errors-=t.errors,this.warnings-=t.warnings,this.infos-=t.infos,this.unknowns-=t.unknowns},t.prototype._add=function(t){this.errors+=t.errors,this.warnings+=t.warnings,this.infos+=t.infos,this.unknowns+=t.unknowns},t}(),n=function(){function a(){this._onMarkerChanged=new t.Emitter,this._onMarkerChangedEvent=t.debounceEvent(this._onMarkerChanged.event,a._debouncer,0),this._byResource=Object.create(null),this._byOwner=Object.create(null),this._stats=new o(this)}return a.prototype.dispose=function(){this._stats.dispose()},Object.defineProperty(a.prototype,"onMarkerChanged",{get:function(){return this._onMarkerChangedEvent},enumerable:!0,configurable:!0}),a.prototype.getStatistics=function(){return this._stats},a.prototype.remove=function(n,e){if(!m.isFalsyOrEmpty(e))for(var t=0,i=e,o;t<i.length;t++)o=i[t],this.changeOne(n,o,void 0)},a.prototype.changeOne=function(e,t,n){if(m.isFalsyOrEmpty(n)){var o=_.remove(this._byResource,t.toString(),e),i=_.remove(this._byOwner,e,t.toString());if(o!==i)throw new Error("invalid marker service state");o&&i&&this._onMarkerChanged.fire([t])}else{for(var r=[],s=0,l=n;s<l.length;s++){var p=l[s],d=a._toMarker(e,t,p);d&&r.push(d)}_.set(this._byResource,t.toString(),e,r),_.set(this._byOwner,e,t.toString(),r),this._onMarkerChanged.fire([t])}},a._toMarker=function(d,p,g){var n=g.code,m=g.severity,h=g.message,_=g.source,f=g.startLineNumber,y=g.startColumn,C=g.endLineNumber,b=g.endColumn;if(h)return n=n||null,f=0<f?f:1,y=0<y?y:1,C=C>=f?C:f,b=0<b?b:y,{resource:p,owner:d,code:n,severity:m,message:h,source:_,startLineNumber:f,startColumn:y,endLineNumber:C,endColumn:b}},a.prototype.changeAll=function(e,t){var n=[],o=this._byOwner[e];if(o)for(var i in delete this._byOwner[e],o){var r=_.get(this._byResource,i,e)[0];r&&n.push(r.resource),_.remove(this._byResource,i,e)}if(!m.isFalsyOrEmpty(t)){for(var s=Object.create(null),l=0,c=t;l<c.length;l++){var d=c[l],i=d.resource,u=d.marker,p=a._toMarker(e,i,u);if(p){var h=s[i.toString()];h?h.push(p):(s[i.toString()]=[p],n.push(i))}}for(var i in s)_.set(this._byResource,i,e,s[i]),_.set(this._byOwner,e,i,s[i])}0<n.length&&this._onMarkerChanged.fire(n)},a.prototype.read=function(a){void 0===a&&(a=Object.create(null));var e=a.owner,t=a.resource,n=a.take;if((!n||0>n)&&(n=-1),e&&t)return(c=_.get(this._byResource,t.toString(),e))?c.slice(0,0<n?n:void 0):[];if(e||t){var m=e?this._byOwner[e]:this._byResource[t.toString()];if(!m)return[];for(var y in c=[],m)for(var r=0,s=m[y];r<s.length;r++){var u=s[r],l=c.push(u);if(0<n&&l===n)return c}return c}var c=[];for(var d in this._byResource)for(var h in this._byResource[d])for(var p=0,f=this._byResource[d][h];p<f.length;p++){var u=f[p],l=c.push(u);if(0<n&&l===n)return c}return c},a._debouncer=function(e,t){e||(a._dedupeMap=Object.create(null),e=[]);for(var n=0,i=t,o;n<i.length;n++)o=i[n],void 0===a._dedupeMap[o.toString()]&&(a._dedupeMap[o.toString()]=!0,e.push(o));return e},a}();e.MarkerService=n}),define(s[103],n([1,0,36,16]),function(o,e,r,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),!function(o){var n="";o.makeKey=function(t){var e=[n];return t.source?e.push(t.source.replace("\xA6","\xA6")):e.push(n),t.code?e.push(t.code.replace("\xA6","\xA6")):e.push(n),void 0!==t.severity&&null!==t.severity?e.push(r.default.toString(t.severity)):e.push(n),t.message?e.push(t.message.replace("\xA6","\xA6")):e.push(n),void 0!==t.startLineNumber&&null!==t.startLineNumber?e.push(t.startLineNumber.toString()):e.push(n),void 0!==t.startColumn&&null!==t.startColumn?e.push(t.startColumn.toString()):e.push(n),void 0!==t.endLineNumber&&null!==t.endLineNumber?e.push(t.endLineNumber.toString()):e.push(n),void 0!==t.endColumn&&null!==t.endColumn?e.push(t.endColumn.toString()):e.push(n),e.push(n),e.join("\xA6")}}(e.IMarkerData||(e.IMarkerData={})),e.IMarkerService=t.createDecorator("markerService")}),define(s[50],n([1,0,384,7,36,16,53]),function(a,e,t,n,i,o,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CloseAction=new r.Action("close.message",t.localize(0,null),null,!0,function(){return n.TPromise.as(!0)}),e.LaterAction=new r.Action("later.message",t.localize(1,null),null,!0,function(){return n.TPromise.as(!0)}),e.CancelAction=new r.Action("cancel.message",t.localize(2,null),null,!0,function(){return n.TPromise.as(!0)}),e.IMessageService=o.createDecorator("messageService"),e.IChoiceService=o.createDecorator("choiceService"),e.Severity=i.default}),define(s[71],n([1,0,7,16]),function(o,e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IOpenerService=n.createDecorator("openerService"),e.NullOpenerService=Object.freeze({_serviceBrand:void 0,open:function(){return t.TPromise.as(void 0)}})}),define(s[425],n([1,0,195,196,4,102,71,24,10,122]),function(p,e,g,t,m,o,n,i,r,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t){this._editor=t,this._lineNumber=-1}return t.prototype.setLineNumber=function(t){this._lineNumber=t,this._result=[]},t.prototype.clearResult=function(){this._result=[]},t.prototype.computeSync=function(){for(var a=function(t){return{value:t}},e=this._editor.getLineDecorations(this._lineNumber),t=[],n=0,i=e.length,o;n<i;n++)if(o=e[n],o.options.glyphMarginClassName){var r=o.options.glyphMarginHoverMessage;(function(t){return t&&(!Array.isArray(t)||0<t.length)})(r)&&(Array.isArray(r)?t=t.concat(r.map(a)):t.push(a(r)))}return t},t.prototype.onResult=function(t){this._result=this._result.concat(t)},t.prototype.getResult=function(){return this._result},t.prototype.getResultWithLoadingMessage=function(){return this.getResult()},t}(),l=function(d){function e(t,i,o){var r=d.call(this,e.ID,t)||this;return r.openerService=i,r.modeService=o,r.openerService=i||n.NullOpenerService,r._lastLineNumber=-1,r._computer=new s(r._editor),r._hoverOperation=new g.HoverOperation(r._computer,function(t){return r._withResult(t)},null,function(t){return r._withResult(t)}),r}return Z(e,d),e.prototype.dispose=function(){this._hoverOperation.cancel(),d.prototype.dispose.call(this)},e.prototype.onModelDecorationsChanged=function(){this.isVisible&&(this._hoverOperation.cancel(),this._computer.clearResult(),this._hoverOperation.start())},e.prototype.startShowingAt=function(t){this._lastLineNumber!==t&&(this._hoverOperation.cancel(),this.hide(),this._lastLineNumber=t,this._computer.setLineNumber(t),this._hoverOperation.start())},e.prototype.hide=function(){this._lastLineNumber=-1,this._hoverOperation.cancel(),d.prototype.hide.call(this)},e.prototype._withResult=function(t){this._messages=t,0<this._messages.length?this._renderMessages(this._lastLineNumber,this._messages):this.hide()},e.prototype._renderMessages=function(s,e){var d=this,n=document.createDocumentFragment();e.forEach(function(s){var e=o.renderMarkedString(s.value,{actionCallback:function(t){return d.openerService.open(i.default.parse(t)).then(void 0,r.onUnexpectedError)},codeBlockRenderer:function(o,e){var t=d.modeService.getModeIdForLanguageName(o);return d.modeService.getOrCreateMode(t).then(function(){return a.tokenizeToString(e,t)})}});n.appendChild(m.$("div.hover-row",null,e))}),this.updateContents(n),this.showAt(s)},e.ID="editor.contrib.modesGlyphHoverWidget",e}(t.GlyphHoverWidget);e.ModesGlyphHoverWidget=l}),define(s[163],n([1,0,16]),function(o,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IProgressService=t.createDecorator("progressService"),e.emptyProgress=Object.freeze({report:function(){}});var n=function(){function t(t){this._callback=t}return Object.defineProperty(t.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),t.prototype.report=function(t){this._value=t,this._callback()},t}();e.Progress=n,!function(t){t[t.Scm=1]="Scm",t[t.Window=10]="Window"}(e.ProgressLocation||(e.ProgressLocation={})),e.IProgressService2=t.createDecorator("progressService2")}),define(s[44],n([1,0,29,72]),function(a,e,s,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function t(){this.data={}}return t.prototype.add=function(o,e){n.ok(s.isString(o)),n.ok(s.isObject(e)),n.ok(!this.data.hasOwnProperty(o),"There is already an extension with this id"),this.data[o]=e},t.prototype.knows=function(t){return this.data.hasOwnProperty(t)},t.prototype.as=function(t){return this.data[t]||null},t}();e.Registry=new t;var o=function(){function t(){this.toBeInstantiated=[],this.instances=[]}return t.prototype.setInstantiationService=function(o){for(this.instantiationService=o;0<this.toBeInstantiated.length;){var e=this.toBeInstantiated.shift();this.instantiate(e)}},t.prototype.instantiate=function(o){var e=this.instantiationService.createInstance(o);this.instances.push(e)},t.prototype._register=function(t){this.instantiationService?this.instantiate(t):this.toBeInstantiated.push(t)},t.prototype._getInstances=function(){return this.instances.slice(0)},t.prototype._setInstances=function(t){this.instances=t},t}();e.BaseRegistry=o}),define(s[30],n([1,0,44]),function(i,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorContribution=function(t){n.INSTANCE.registerEditorBrowserContribution(t)},!function(t){t.getEditorContributions=function(){return n.INSTANCE.getEditorBrowserContributions()}}(e.EditorBrowserRegistry||(e.EditorBrowserRegistry={}));var n=function(){function t(){this.editorContributions=[]}return t.prototype.registerEditorBrowserContribution=function(t){this.editorContributions.push(t)},t.prototype.getEditorBrowserContributions=function(){return this.editorContributions.slice(0)},t.INSTANCE=new t,t}();t.Registry.add({EditorContributions:"editor.contributions"}.EditorContributions,n.INSTANCE)}),define(s[126],n([1,0,336,11,44,43,17]),function(d,e,t,n,i,o,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Extensions={ModesRegistry:"editor.modesRegistry"};var s=function(){function t(){this._onDidAddLanguages=new n.Emitter,this.onDidAddLanguages=this._onDidAddLanguages.event,this._languages=[]}return t.prototype.registerLanguage=function(t){this._languages.push(t),this._onDidAddLanguages.fire([t])},t.prototype.registerLanguages=function(t){this._languages=this._languages.concat(t),this._onDidAddLanguages.fire(t)},t.prototype.getLanguages=function(){return this._languages.slice(0)},t}();e.EditorModesRegistry=s,e.ModesRegistry=new s,i.Registry.add(e.Extensions.ModesRegistry,e.ModesRegistry),e.PLAINTEXT_MODE_ID="plaintext",e.PLAINTEXT_LANGUAGE_IDENTIFIER=new r.LanguageIdentifier(e.PLAINTEXT_MODE_ID,1),e.ModesRegistry.registerLanguage({id:e.PLAINTEXT_MODE_ID,extensions:[".txt",".gitignore"],aliases:[t.localize(0,null),"text"],mimetypes:["text/plain"]}),o.LanguageConfigurationRegistry.register(e.PLAINTEXT_LANGUAGE_IDENTIFIER,{brackets:[["(",")"],["[","]"],["{","}"]]})}),define(s[430],n([1,0,339,70,11,36,7,103,2,20,175,15,62,49,126,101,55,34]),function(y,e,L,n,i,x,o,t,a,N,l,r,s,d,p,c,g,u){"use strict";function m(t){return t.toString()}Object.defineProperty(e,"__esModule",{value:!0});var h=function(){function t(o,i){var t=this;this.model=o,this._markerDecorations=[],this._modelEventsListener=o.addBulkListener(function(o){return i(t,o)})}return t.prototype.dispose=function(){this._markerDecorations=this.model.deltaDecorations(this._markerDecorations,[]),this._modelEventsListener.dispose(),this._modelEventsListener=null,this.model=null},t.prototype.getModelId=function(){return m(this.model.uri)},t.prototype.acceptMarkerDecorations=function(t){this._markerDecorations=this.model.deltaDecorations(this._markerDecorations,t)},t}(),_=function(){function t(){}return t.setMarkers=function(o,e){var r=this,t=e.read({resource:o.model.uri,take:500}).map(function(e){return{range:r._createDecorationRange(o.model,e),options:r._createDecorationOption(e)}});o.acceptMarkerDecorations(t)},t._createDecorationRange=function(d,e){var t=d.validateRange(new a.Range(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn)),n=new a.Range(t.startLineNumber,t.startColumn,t.endLineNumber,t.endColumn);if(n.isEmpty()){var i=d.getWordAtPosition(n.getStartPosition());if(i)n=new a.Range(n.startLineNumber,i.startColumn,n.endLineNumber,i.endColumn);else{var o=d.getLineLastNonWhitespaceColumn(t.startLineNumber)||d.getLineMaxColumn(t.startLineNumber);1===o||(n=n.endColumn>=o?new a.Range(n.startLineNumber,o-1,n.endLineNumber,o):new a.Range(n.startLineNumber,n.startColumn,n.endLineNumber,n.endColumn+1))}}else if(e.endColumn===T&&1===e.startColumn&&n.startLineNumber===n.endLineNumber){var r=d.getLineFirstNonWhitespaceColumn(e.startLineNumber);r<n.endColumn&&(n=new a.Range(n.startLineNumber,r,n.endLineNumber,n.endColumn),e.startColumn=r)}return n},t._createDecorationOption=function(n){var e,r,d,l;switch(n.severity){case x.default.Ignore:break;case x.default.Warning:case x.default.Info:e=u.ClassName.EditorWarningDecoration,r="rgba(18,136,18,0.7)",d="rgba(18,136,18,0.7)",l="rgba(50,255,50,1)";break;case x.default.Error:default:e=u.ClassName.EditorErrorDecoration,r="rgba(255,18,18,0.7)",d="rgba(255,18,18,0.7)",l="rgba(255,50,50,1)";}var p=null,g=n.message,m=n.source;return"string"==typeof g&&(g=g.trim(),m&&(g=/\n/g.test(g)?L.localize(0,null,m,g):L.localize(1,null,m,g)),p=[{language:"_",value:g}]),{stickiness:N.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:e,hoverMessage:p,showIfCollapsed:!0,overviewRuler:{color:r,darkColor:d,hcColor:l,position:N.OverviewRulerLane.Right}}},t}(),f=r.isLinux||r.isMacintosh?N.DefaultEndOfLine.LF:N.DefaultEndOfLine.CRLF,C=function(){function y(o,r){var t=this;this._markerService=o,this._configurationService=r,this._models={},this._modelCreationOptionsByLanguage=Object.create(null),this._onModelAdded=new i.Emitter,this._onModelRemoved=new i.Emitter,this._onModelModeChanged=new i.Emitter,this._markerService&&(this._markerServiceSubscription=this._markerService.onMarkerChanged(this._handleMarkerChange,this)),this._configurationServiceSubscription=this._configurationService.onDidUpdateConfiguration(function(){return t._updateModelOptions()}),this._updateModelOptions()}return y._readModelOptions=function(l){var e=d.EDITOR_MODEL_DEFAULTS.tabSize;if(l.editor&&void 0!==l.editor.tabSize){var p=parseInt(l.editor.tabSize,10);isNaN(p)||(e=p)}var n=d.EDITOR_MODEL_DEFAULTS.insertSpaces;l.editor&&void 0!==l.editor.insertSpaces&&(n="false"!==l.editor.insertSpaces&&!!l.editor.insertSpaces);var c=f,u=l.files&&l.files.eol;"\r\n"===u?c=N.DefaultEndOfLine.CRLF:"\n"===u&&(c=N.DefaultEndOfLine.LF);var r=d.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace;l.editor&&void 0!==l.editor.trimAutoWhitespace&&(r="false"!==l.editor.trimAutoWhitespace&&!!l.editor.trimAutoWhitespace);var g=d.EDITOR_MODEL_DEFAULTS.detectIndentation;return l.editor&&void 0!==l.editor.detectIndentation&&(g="false"!==l.editor.detectIndentation&&!!l.editor.detectIndentation),{tabSize:e,insertSpaces:n,detectIndentation:g,defaultEOL:c,trimAutoWhitespace:r}},y.prototype.getCreationOptions=function(e){var o=this._modelCreationOptionsByLanguage[e];return o||(o=y._readModelOptions(this._configurationService.getConfiguration(null,{overrideIdentifier:e})),this._modelCreationOptionsByLanguage[e]=o),o},y.prototype._updateModelOptions=function(){var e=this._modelCreationOptionsByLanguage;this._modelCreationOptionsByLanguage=Object.create(null);for(var t=Object.keys(this._models),n=0,i=t.length;n<i;n++){var o=t[n],r=this._models[o],s=r.model.getLanguageIdentifier().language,a=e[s],d=this.getCreationOptions(s);y._setModelOptionsForModel(r.model,d,a)}},y._setModelOptionsForModel=function(o,e,t){t&&t.detectIndentation===e.detectIndentation&&t.insertSpaces===e.insertSpaces&&t.tabSize===e.tabSize&&t.trimAutoWhitespace===e.trimAutoWhitespace||(e.detectIndentation?(o.detectIndentation(e.insertSpaces,e.tabSize),o.updateOptions({trimAutoWhitespace:e.trimAutoWhitespace})):o.updateOptions({insertSpaces:e.insertSpaces,tabSize:e.tabSize,trimAutoWhitespace:e.trimAutoWhitespace}))},y.prototype.dispose=function(){this._markerServiceSubscription&&this._markerServiceSubscription.dispose(),this._configurationServiceSubscription.dispose()},y.prototype._handleMarkerChange=function(o){var r=this;o.forEach(function(t){var e=m(t),o=r._models[e];o&&_.setMarkers(o,r._markerService)})},y.prototype._cleanUp=function(o){var e=this;o.uri.scheme!==n.Schemas.inMemory&&o.uri.scheme!==n.Schemas.internal&&o.uri.scheme!==n.Schemas.vscode||this._markerService&&this._markerService.read({resource:o.uri}).map(function(t){return t.owner}).forEach(function(t){return e._markerService.remove(t,[o.uri])})},y.prototype._createModelData=function(d,p,t){var n=this,i=this.getCreationOptions(p.language),o="string"==typeof d?c.RawTextSource.fromString(d):d,r=new l.Model(o,i,p,t),s=m(r.uri);if(this._models[s])throw new Error("ModelService: Cannot add model because it already exists!");var a=new h(r,function(o,e){return n._onModelEvents(o,e)});return this._models[s]=a,a},y.prototype.updateModel=function(o,e){var t=this.getCreationOptions(o.getLanguageIdentifier().language),n=c.TextSource.create(e,t.defaultEOL);o.equals(n)||o.setValueFromTextSource(n)},y.prototype.createModel=function(r,e,a){var n;return!e||o.TPromise.is(e)?(n=this._createModelData(r,p.PLAINTEXT_LANGUAGE_IDENTIFIER,a),this.setMode(n.model,e)):n=this._createModelData(r,e.getLanguageIdentifier(),a),this._markerService&&_.setMarkers(n,this._markerService),this._onModelAdded.fire(n.model),n.model},y.prototype.setMode=function(n,e){e&&(o.TPromise.is(e)?e.then(function(e){n.isDisposed()||n.setMode(e.getLanguageIdentifier())}):n.setMode(e.getLanguageIdentifier()))},y.prototype.destroyModel=function(o){var e=this._models[m(o)];e&&e.model.dispose()},y.prototype.getModels=function(){for(var r=[],e=Object.keys(this._models),t=0,n=e.length,i;t<n;t++)i=e[t],r.push(this._models[i].model);return r},y.prototype.getModel=function(o){var e=m(o),t=this._models[e];return t?t.model:null},Object.defineProperty(y.prototype,"onModelAdded",{get:function(){return this._onModelAdded?this._onModelAdded.event:null},enumerable:!0,configurable:!0}),Object.defineProperty(y.prototype,"onModelRemoved",{get:function(){return this._onModelRemoved?this._onModelRemoved.event:null},enumerable:!0,configurable:!0}),Object.defineProperty(y.prototype,"onModelModeChanged",{get:function(){return this._onModelModeChanged?this._onModelModeChanged.event:null},enumerable:!0,configurable:!0}),y.prototype._onModelDisposing=function(o){var e=m(o.uri),t=this._models[e];delete this._models[e],t.dispose(),this._cleanUp(o),this._onModelRemoved.fire(o)},y.prototype._onModelEvents=function(e,t){for(var n=0,i=t.length;n<i;n++)if((o=t[n]).type===g.TextModelEventType.ModelDispose)return void this._onModelDisposing(e.model);for(var n=0,i=t.length,o;n<i;n++)if(o=t[n],o.type===g.TextModelEventType.ModelLanguageChanged){var r=e.model,d=o.data.oldLanguage,p=r.getLanguageIdentifier().language,u=this.getCreationOptions(d),l=this.getCreationOptions(p);y._setModelOptionsForModel(r,l,u),this._onModelModeChanged.fire({model:r,oldModeId:d})}},y=F([v(0,t.IMarkerService),v(1,s.IConfigurationService)],y)}();e.ModelServiceImpl=C}),define(s[431],n([1,0,3,15,25,30,12,2,22,251,34,325]),function(p,e,t,n,i,o,r,s,a,u,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var c=function(){function d(o){var n=this;this._editor=o,this._toUnhook=[],this._toUnhook.push(this._editor.onMouseDown(function(t){return n._onEditorMouseDown(t)})),this._toUnhook.push(this._editor.onMouseUp(function(t){return n._onEditorMouseUp(t)})),this._toUnhook.push(this._editor.onMouseDrag(function(t){return n._onEditorMouseDrag(t)})),this._toUnhook.push(this._editor.onMouseDrop(function(t){return n._onEditorMouseDrop(t)})),this._toUnhook.push(this._editor.onKeyDown(function(t){return n.onEditorKeyDown(t)})),this._toUnhook.push(this._editor.onKeyUp(function(t){return n.onEditorKeyUp(t)})),this._dndDecorationIds=[],this._mouseDown=!1,this._modiferPressed=!1,this._dragSelection=null}return p=d,d.get=function(t){return t.getContribution(p.ID)},d.prototype.onEditorKeyDown=function(t){this._editor.getConfiguration().dragAndDrop&&(t[p.TRIGGER_MODIFIER]&&(this._modiferPressed=!0),this._mouseDown&&t[p.TRIGGER_MODIFIER]&&this._editor.updateOptions({mouseStyle:"copy"}))},d.prototype.onEditorKeyUp=function(t){this._editor.getConfiguration().dragAndDrop&&(t[p.TRIGGER_MODIFIER]&&(this._modiferPressed=!1),this._mouseDown&&t.keyCode===p.TRIGGER_KEY_VALUE&&this._editor.updateOptions({mouseStyle:"default"}))},d.prototype._onEditorMouseDown=function(){this._mouseDown=!0},d.prototype._onEditorMouseUp=function(){this._mouseDown=!1,this._editor.updateOptions({mouseStyle:"text"})},d.prototype._onEditorMouseDrag=function(t){var o=t.target;if(null===this._dragSelection){var e=this._editor.getSelections().filter(function(t){return t.containsPosition(o.position)});if(1!==e.length)return;this._dragSelection=e[0]}t.event[p.TRIGGER_MODIFIER]?this._editor.updateOptions({mouseStyle:"copy"}):this._editor.updateOptions({mouseStyle:"default"}),this._dragSelection.containsPosition(o.position)?this._removeDecoration():this.showAt(o.position)},d.prototype._onEditorMouseDrop=function(t){if(t.target&&(this._hitContent(t.target)||this._hitMargin(t.target))&&t.target.position){var o=new r.Position(t.target.position.lineNumber,t.target.position.column);if(null===this._dragSelection){var e=this._editor.getSelections().map(function(t){return t.containsPosition(o)?new a.Selection(o.lineNumber,o.column,o.lineNumber,o.column):t});this._editor.setSelections(e)}else(!this._dragSelection.containsPosition(o)||(t.event[p.TRIGGER_MODIFIER]||this._modiferPressed)&&(this._dragSelection.getEndPosition().equals(o)||this._dragSelection.getStartPosition().equals(o)))&&(this._editor.pushUndoStop(),this._editor.executeCommand(p.ID,new u.DragAndDropCommand(this._dragSelection,o,t.event[p.TRIGGER_MODIFIER]||this._modiferPressed)),this._editor.pushUndoStop())}this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1},d.prototype.showAt=function(t){var e=this;this._editor.changeDecorations(function(n){var i=[];i.push({range:new s.Range(t.lineNumber,t.column,t.lineNumber,t.column),options:p._DECORATION_OPTIONS}),e._dndDecorationIds=n.deltaDecorations(e._dndDecorationIds,i)}),this._editor.revealPosition(t)},d.prototype._removeDecoration=function(){var o=this;this._editor.changeDecorations(function(e){e.deltaDecorations(o._dndDecorationIds,[])})},d.prototype._hitContent=function(t){return t.type===i.MouseTargetType.CONTENT_TEXT||t.type===i.MouseTargetType.CONTENT_EMPTY},d.prototype._hitMargin=function(t){return t.type===i.MouseTargetType.GUTTER_GLYPH_MARGIN||t.type===i.MouseTargetType.GUTTER_LINE_NUMBERS||t.type===i.MouseTargetType.GUTTER_LINE_DECORATIONS},d.prototype.getId=function(){return p.ID},d.prototype.dispose=function(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modiferPressed=!1,this._toUnhook=t.dispose(this._toUnhook)},d.ID="editor.contrib.dragAndDrop",d.TRIGGER_MODIFIER=n.isMacintosh?"altKey":"ctrlKey",d.TRIGGER_KEY_VALUE=n.isMacintosh?6:5,d._DECORATION_OPTIONS=l.ModelDecorationOptions.register({className:"dnd-target"}),d=p=F([o.editorContribution],d);var p}();e.DragAndDropController=c}),define(s[432],n([1,0,3,28,4,25,30,402]),function(d,e,t,n,i,o,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function o(o){var i=this;this.editor=o,this.toDispose=[],n.isIPad&&(this.toDispose.push(o.onDidChangeConfiguration(function(){return i.update()})),this.update())}return e=o,o.prototype.update=function(){var o=!!this.widget,n=!this.editor.getConfiguration().readOnly;!o&&n?this.widget=new a(this.editor):o&&!n&&(this.widget.dispose(),this.widget=null)},o.prototype.getId=function(){return e.ID},o.prototype.dispose=function(){this.toDispose=t.dispose(this.toDispose),this.widget&&(this.widget.dispose(),this.widget=null)},o.ID="editor.contrib.iPadShowKeyboard",o=e=F([r.editorContribution],o);var e}();e.IPadShowKeyboard=s;var a=function(){function n(o){var n=this;this.editor=o,this._domNode=document.createElement("textarea"),this._domNode.className="iPadShowKeyboard",this._toDispose=[],this._toDispose.push(i.addDisposableListener(this._domNode,"touchstart",function(){n.editor.focus()})),this._toDispose.push(i.addDisposableListener(this._domNode,"focus",function(){n.editor.focus()})),this.editor.addOverlayWidget(this)}return n.prototype.dispose=function(){this.editor.removeOverlayWidget(this),this._toDispose=t.dispose(this._toDispose)},n.prototype.getId=function(){return n.ID},n.prototype.getDomNode=function(){return this._domNode},n.prototype.getPosition=function(){return{preference:o.OverlayWidgetPositionPreference.BOTTOM_RIGHT_CORNER}},n.ID="editor.contrib.ShowKeyboardWidget",n}()}),define(s[433],n([1,0,44,38]),function(a,e,t,n){"use strict";function i(t){return 0<t.length&&"#"===t.charAt(t.length-1)?t.substring(0,t.length-1):t}Object.defineProperty(e,"__esModule",{value:!0}),e.Extensions={JSONContribution:"base.contributions.json"};var o=new(function(){function t(){this.schemasById={},this.eventEmitter=new n.EventEmitter}return t.prototype.addRegistryChangedListener=function(t){return this.eventEmitter.addListener("registryChanged",t)},t.prototype.registerSchema=function(o,e){this.schemasById[i(o)]=e,this.eventEmitter.emit("registryChanged",{})},t.prototype.getSchemaContributions=function(){return{schemas:this.schemasById}},t}());t.Registry.add(e.Extensions.JSONContribution,o)}),define(s[127],n([1,0,382,11,44,29,9,433]),function(p,g,t,e,n,_,o,i){"use strict";function r(t){switch(Array.isArray(t)?t[0]:t){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null;}}function u(o){return g.OVERRIDE_PROPERTY_PATTERN.test(o)?t.localize(3,null,o):void 0===d.getConfigurationProperties()[o]?null:t.localize(4,null,o)}Object.defineProperty(g,"__esModule",{value:!0}),g.Extensions={Configuration:"base.contributions.configuration"};var l;!function(t){t[t.WINDOW=1]="WINDOW",t[t.RESOURCE=2]="RESOURCE"}(l=g.ConfigurationScope||(g.ConfigurationScope={})),g.schemaId="vscode://schemas/settings",g.editorConfigurationSchemaId="vscode://schemas/settings/editor",g.resourceConfigurationSchemaId="vscode://schemas/settings/resource";var a=n.Registry.as(i.Extensions.JSONContribution),s=function(){function n(){this.overrideIdentifiers=[],this.configurationContributors=[],this.configurationSchema={properties:{},patternProperties:{},additionalProperties:!1,errorMessage:"Unknown configuration setting"},this.editorConfigurationSchema={properties:{},patternProperties:{},additionalProperties:!1,errorMessage:"Unknown editor configuration setting"},this.resourceConfigurationSchema={properties:{},patternProperties:{},additionalProperties:!1,errorMessage:"Not a resource configuration setting"},this._onDidRegisterConfiguration=new e.Emitter,this.configurationProperties={},this.computeOverridePropertyPattern(),a.registerSchema(g.schemaId,this.configurationSchema),a.registerSchema(g.editorConfigurationSchemaId,this.editorConfigurationSchema),a.registerSchema(g.resourceConfigurationSchemaId,this.resourceConfigurationSchema)}return Object.defineProperty(n.prototype,"onDidRegisterConfiguration",{get:function(){return this._onDidRegisterConfiguration.event},enumerable:!0,configurable:!0}),n.prototype.registerConfiguration=function(o,e){void 0===e&&(e=!0),this.registerConfigurations([o],e)},n.prototype.registerConfigurations=function(o,i){var t=this;void 0===i&&(i=!0),o.forEach(function(o){t.validateAndRegisterProperties(o,i),t.configurationContributors.push(o),t.registerJSONConfiguration(o),t.updateSchemaForOverrideSettingsConfiguration(o)}),this._onDidRegisterConfiguration.fire(this)},n.prototype.registerOverrideIdentifiers=function(o){(e=this.overrideIdentifiers).push.apply(e,o),this.updateOverridePropertyPatternKey();var e},n.prototype.registerDefaultConfigurations=function(n){for(var e={id:"defaultOverrides",title:t.localize(0,null),properties:{}},i=0,o=n,r;i<o.length;i++)for(var s in r=o[i],r.defaults){var a=r.defaults[s];g.OVERRIDE_PROPERTY_PATTERN.test(s)&&"object"==typeof a&&(e.properties[s]={type:"object",default:a,description:t.localize(1,null,s),$ref:g.editorConfigurationSchemaId})}Object.keys(e.properties).length&&this.registerConfiguration(e,!1)},n.prototype.validateAndRegisterProperties=function(c,e,t,n){void 0===e&&(e=!0),void 0===t&&(t=l.WINDOW),void 0===n&&(n=!1),t=void 0!==c.scope&&null!==c.scope?c.scope:t,n=c.overridable||n;var i=c.properties;if(i)for(var o in i){var s=void 0;if(e&&(s=u(o)))console.warn(s),delete i[o];else{var a=i[o],d=a.default;_.isUndefined(d)&&(a.default=r(a.type)),n&&(a.overridable=!0),void 0===a.scope&&(a.scope=t),this.configurationProperties[o]=i[o]}}var h=c.allOf;if(h)for(var p=0,f=h,g;p<f.length;p++)g=f[p],this.validateAndRegisterProperties(g,e,t,n)},n.prototype.validateProperty=function(t){return!g.OVERRIDE_PROPERTY_PATTERN.test(t)&&void 0!==this.getConfigurationProperties()[t]},n.prototype.getConfigurations=function(){return this.configurationContributors},n.prototype.getConfigurationProperties=function(){return this.configurationProperties},n.prototype.registerJSONConfiguration=function(t){function s(n){var i=n.properties;if(i)for(var t in i)e.properties[t]=i[t];var o=n.allOf;o&&o.forEach(s)}var e=this.configurationSchema;s(t),a.registerSchema(g.schemaId,e)},n.prototype.updateSchemaForOverrideSettingsConfiguration=function(t){t.id!=="override"&&(this.update(t),a.registerSchema(g.editorConfigurationSchemaId,this.editorConfigurationSchema),a.registerSchema(g.resourceConfigurationSchemaId,this.resourceConfigurationSchema))},n.prototype.updateOverridePropertyPatternKey=function(){var o=this.configurationSchema.patternProperties[this.overridePropertyPattern];o||(o={type:"object",description:t.localize(2,null),errorMessage:"Unknown Identifier. Use language identifiers",$ref:g.editorConfigurationSchemaId}),delete this.configurationSchema.patternProperties[this.overridePropertyPattern],this.computeOverridePropertyPattern(),this.configurationSchema.patternProperties[this.overridePropertyPattern]=o,a.registerSchema(g.schemaId,this.configurationSchema)},n.prototype.update=function(r){var a=this,e=r.properties;if(e)for(var t in e)switch(e[t].overridable&&(this.editorConfigurationSchema.properties[t]=this.getConfigurationProperties()[t]),e[t].scope){case l.RESOURCE:this.resourceConfigurationSchema.properties[t]=this.getConfigurationProperties()[t];}var n=r.allOf;n&&n.forEach(function(t){return a.update(t)})},n.prototype.computeOverridePropertyPattern=function(){this.overridePropertyPattern=this.overrideIdentifiers.length?"\\[(${0})\\]$".replace("${0}",this.overrideIdentifiers.map(function(t){return o.createRegExp(t,!1).source}).join("|")):"\\[.*\\]$"},n}();g.OVERRIDE_PROPERTY_PATTERN=/\[.*\]$/;var d=new s;n.Registry.add(g.Extensions.Configuration,d),g.validateProperty=u}),define(s[168],n([1,0,304,11,3,26,15,127,44,132,135,49]),function(f,y,e,t,n,i,o,r,a,s,l,c){"use strict";Object.defineProperty(y,"__esModule",{value:!0});var d=c.EDITOR_DEFAULTS,u=c.EDITOR_FONT_DEFAULTS,p=c.EDITOR_MODEL_DEFAULTS;y.TabFocus=new(function(){function o(){this._tabFocus=!1,this._onDidChangeTabFocus=new t.Emitter,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}return o.prototype.getTabFocusMode=function(){return this._tabFocus},o.prototype.setTabFocusMode=function(t){this._tabFocus!==t&&(this._tabFocus=t,this._onDidChangeTabFocus.fire(this._tabFocus))},o}());var g=function(r){function o(e){var a=r.call(this)||this;return a._onDidChange=a._register(new t.Emitter),a.onDidChange=a._onDidChange.event,a._rawOptions=i.mixin({},e||{}),a._rawOptions.scrollbar=i.mixin({},a._rawOptions.scrollbar||{}),a._rawOptions.minimap=i.mixin({},a._rawOptions.minimap||{}),a._rawOptions.find=i.mixin({},a._rawOptions.find||{}),a._validatedOptions=c.EditorOptionsValidator.validate(a._rawOptions,d),a.editor=null,a._isDominatedByLongLines=!1,a._lineNumbersDigitCount=1,a._register(l.EditorZoom.onDidChangeZoomLevel(function(){return a._recomputeOptions()})),a._register(y.TabFocus.onDidChangeTabFocus(function(){return a._recomputeOptions()})),a}return Z(o,r),o.prototype.dispose=function(){r.prototype.dispose.call(this)},o.prototype._recomputeOptions=function(){var o=this.editor,e=this._computeInternalOptions();o&&o.equals(e)||(this.editor=e,o&&this._onDidChange.fire(o.createChangeEvent(e)))},o.prototype.getRawOptions=function(){return this._rawOptions},o.prototype._computeInternalOptions=function(){var t=this._validatedOptions,e=this._getEnvConfiguration(),n=s.BareFontInfo.createFromRawSettings(this._rawOptions,e.zoomLevel),i={outerWidth:e.outerWidth,outerHeight:e.outerHeight,fontInfo:this.readConfiguration(n),extraEditorClassName:e.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:e.emptySelectionClipboard,pixelRatio:e.pixelRatio,tabFocusMode:y.TabFocus.getTabFocusMode(),accessibilitySupport:e.accessibilitySupport};return c.InternalEditorOptionsFactory.createInternalEditorOptions(i,t)},o.prototype.updateOptions=function(t){this._rawOptions=i.mixin(this._rawOptions,t||{}),this._validatedOptions=c.EditorOptionsValidator.validate(this._rawOptions,d),this._recomputeOptions()},o.prototype.setIsDominatedByLongLines=function(t){this._isDominatedByLongLines=t,this._recomputeOptions()},o.prototype.setMaxLineNumber=function(n){var e=o._digitCount(n);this._lineNumbersDigitCount!==e&&(this._lineNumbersDigitCount=e,this._recomputeOptions())},o._digitCount=function(o){for(var e=0;o;)o=M(o/10),e++;return e||1},o}(n.Disposable);y.CommonEditorConfiguration=g;var m=a.Registry.as(r.Extensions.Configuration),h={id:"editor",order:5,type:"object",title:e.localize(0,null),overridable:!0,scope:r.ConfigurationScope.RESOURCE,properties:{"editor.fontFamily":{type:"string",default:u.fontFamily,description:e.localize(1,null)},"editor.fontWeight":{type:"string",enum:["normal","bold","100","200","300","400","500","600","700","800","900"],default:u.fontWeight,description:e.localize(2,null)},"editor.fontSize":{type:"number",default:u.fontSize,description:e.localize(3,null)},"editor.lineHeight":{type:"number",default:u.lineHeight,description:e.localize(4,null)},"editor.letterSpacing":{type:"number",default:u.letterSpacing,description:e.localize(5,null)},"editor.lineNumbers":{type:"string",enum:["off","on","relative"],default:"on",description:e.localize(6,null)},"editor.rulers":{type:"array",items:{type:"number"},default:d.viewInfo.rulers,description:e.localize(7,null)},"editor.wordSeparators":{type:"string",default:d.wordSeparators,description:e.localize(8,null)},"editor.tabSize":{type:"number",default:p.tabSize,minimum:1,description:e.localize(9,null),errorMessage:e.localize(10,null)},"editor.insertSpaces":{type:"boolean",default:p.insertSpaces,description:e.localize(11,null),errorMessage:e.localize(12,null)},"editor.detectIndentation":{type:"boolean",default:p.detectIndentation,description:e.localize(13,null)},"editor.roundedSelection":{type:"boolean",default:d.viewInfo.roundedSelection,description:e.localize(14,null)},"editor.scrollBeyondLastLine":{type:"boolean",default:d.viewInfo.scrollBeyondLastLine,description:e.localize(15,null)},"editor.minimap.enabled":{type:"boolean",default:d.viewInfo.minimap.enabled,description:e.localize(16,null)},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:d.viewInfo.minimap.showSlider,description:e.localize(17,null)},"editor.minimap.renderCharacters":{type:"boolean",default:d.viewInfo.minimap.renderCharacters,description:e.localize(18,null)},"editor.minimap.maxColumn":{type:"number",default:d.viewInfo.minimap.maxColumn,description:e.localize(19,null)},"editor.find.seedSearchStringFromSelection":{type:"boolean",default:d.contribInfo.find.seedSearchStringFromSelection,description:e.localize(20,null)},"editor.find.autoFindInSelection":{type:"boolean",default:d.contribInfo.find.autoFindInSelection,description:e.localize(21,null)},"editor.wordWrap":{type:"string",enum:["off","on","wordWrapColumn","bounded"],enumDescriptions:[e.localize(22,null),e.localize(23,null),e.localize(24,null),e.localize(25,null)],default:d.wordWrap,description:e.localize(26,null)},"editor.wordWrapColumn":{type:"integer",default:d.wordWrapColumn,minimum:1,description:e.localize(27,null)},"editor.wrappingIndent":{type:"string",enum:["none","same","indent"],default:"same",description:e.localize(28,null)},"editor.mouseWheelScrollSensitivity":{type:"number",default:d.viewInfo.scrollbar.mouseWheelScrollSensitivity,description:e.localize(29,null)},"editor.multiCursorModifier":{type:"string",enum:["ctrlCmd","alt"],enumDescriptions:[e.localize(30,null),e.localize(31,null)],default:"alt",description:e.localize(32,null)},"editor.quickSuggestions":{anyOf:[{type:"boolean"},{type:"object",properties:{strings:{type:"boolean",default:!1,description:e.localize(33,null)},comments:{type:"boolean",default:!1,description:e.localize(34,null)},other:{type:"boolean",default:!0,description:e.localize(35,null)}}}],default:d.contribInfo.quickSuggestions,description:e.localize(36,null)},"editor.quickSuggestionsDelay":{type:"integer",default:d.contribInfo.quickSuggestionsDelay,minimum:0,description:e.localize(37,null)},"editor.parameterHints":{type:"boolean",default:d.contribInfo.parameterHints,description:e.localize(38,null)},"editor.autoClosingBrackets":{type:"boolean",default:d.autoClosingBrackets,description:e.localize(39,null)},"editor.formatOnType":{type:"boolean",default:d.contribInfo.formatOnType,description:e.localize(40,null)},"editor.formatOnPaste":{type:"boolean",default:d.contribInfo.formatOnPaste,description:e.localize(41,null)},"editor.autoIndent":{type:"boolean",default:d.autoIndent,description:e.localize(42,null)},"editor.suggestOnTriggerCharacters":{type:"boolean",default:d.contribInfo.suggestOnTriggerCharacters,description:e.localize(43,null)},"editor.acceptSuggestionOnEnter":{type:"string",enum:["on","smart","off"],default:d.contribInfo.acceptSuggestionOnEnter,description:e.localize(44,null)},"editor.acceptSuggestionOnCommitCharacter":{type:"boolean",default:d.contribInfo.acceptSuggestionOnCommitCharacter,description:e.localize(45,null)},"editor.snippetSuggestions":{type:"string",enum:["top","bottom","inline","none"],enumDescriptions:[e.localize(46,null),e.localize(47,null),e.localize(48,null),e.localize(49,null)],default:d.contribInfo.snippetSuggestions,description:e.localize(50,null)},"editor.emptySelectionClipboard":{type:"boolean",default:d.emptySelectionClipboard,description:e.localize(51,null)},"editor.wordBasedSuggestions":{type:"boolean",default:d.contribInfo.wordBasedSuggestions,description:e.localize(52,null)},"editor.suggestFontSize":{type:"integer",default:0,minimum:0,description:e.localize(53,null)},"editor.suggestLineHeight":{type:"integer",default:0,minimum:0,description:e.localize(54,null)},"editor.selectionHighlight":{type:"boolean",default:d.contribInfo.selectionHighlight,description:e.localize(55,null)},"editor.occurrencesHighlight":{type:"boolean",default:d.contribInfo.occurrencesHighlight,description:e.localize(56,null)},"editor.overviewRulerLanes":{type:"integer",default:3,description:e.localize(57,null)},"editor.overviewRulerBorder":{type:"boolean",default:d.viewInfo.overviewRulerBorder,description:e.localize(58,null)},"editor.cursorBlinking":{type:"string",enum:["blink","smooth","phase","expand","solid"],default:c.blinkingStyleToString(d.viewInfo.cursorBlinking),description:e.localize(59,null)},"editor.mouseWheelZoom":{type:"boolean",default:d.viewInfo.mouseWheelZoom,description:e.localize(60,null)},"editor.cursorStyle":{type:"string",enum:["block","block-outline","line","line-thin","underline","underline-thin"],default:c.cursorStyleToString(d.viewInfo.cursorStyle),description:e.localize(61,null)},"editor.fontLigatures":{type:"boolean",default:d.viewInfo.fontLigatures,description:e.localize(62,null)},"editor.hideCursorInOverviewRuler":{type:"boolean",default:d.viewInfo.hideCursorInOverviewRuler,description:e.localize(63,null)},"editor.renderWhitespace":{type:"string",enum:["none","boundary","all"],default:d.viewInfo.renderWhitespace,description:e.localize(64,null)},"editor.renderControlCharacters":{type:"boolean",default:d.viewInfo.renderControlCharacters,description:e.localize(65,null)},"editor.renderIndentGuides":{type:"boolean",default:d.viewInfo.renderIndentGuides,description:e.localize(66,null)},"editor.renderLineHighlight":{type:"string",enum:["none","gutter","line","all"],default:d.viewInfo.renderLineHighlight,description:e.localize(67,null)},"editor.codeLens":{type:"boolean",default:d.contribInfo.codeLens,description:e.localize(68,null)},"editor.folding":{type:"boolean",default:d.contribInfo.folding,description:e.localize(69,null)},"editor.showFoldingControls":{type:"string",enum:["always","mouseover"],default:d.contribInfo.showFoldingControls,description:e.localize(70,null)},"editor.matchBrackets":{type:"boolean",default:d.contribInfo.matchBrackets,description:e.localize(71,null)},"editor.glyphMargin":{type:"boolean",default:d.viewInfo.glyphMargin,description:e.localize(72,null)},"editor.useTabStops":{type:"boolean",default:d.useTabStops,description:e.localize(73,null)},"editor.trimAutoWhitespace":{type:"boolean",default:p.trimAutoWhitespace,description:e.localize(74,null)},"editor.stablePeek":{type:"boolean",default:!1,description:e.localize(75,null)},"editor.dragAndDrop":{type:"boolean",default:d.dragAndDrop,description:e.localize(76,null)},"editor.accessibilitySupport":{type:"string",enum:["auto","on","off"],enumDescriptions:[e.localize(77,null),e.localize(78,null),e.localize(79,null)],default:d.accessibilitySupport,description:e.localize(80,null)},"editor.links":{type:"boolean",default:d.contribInfo.links,description:e.localize(81,null)},"diffEditor.renderSideBySide":{type:"boolean",default:!0,description:e.localize(82,null)},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:!0,description:e.localize(83,null)},"diffEditor.renderIndicators":{type:"boolean",default:!0,description:e.localize(84,null)}}};o.isLinux&&(h.properties["editor.selectionClipboard"]={type:"boolean",default:d.contribInfo.selectionClipboard,description:e.localize(85,null)}),m.registerConfiguration(h)}),define(s[436],n([1,0,10,166,9,44,126,17,68,127]),function(p,e,t,_,n,o,i,r,a,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=Object.prototype.hasOwnProperty,c=function(){function d(o){void 0===o&&(o=!0);var n=this;this._nextLanguageId=1,this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},this._languageIds=[],o&&(this._registerLanguages(i.ModesRegistry.getLanguages()),i.ModesRegistry.onDidAddLanguages(function(t){return n._registerLanguages(t)}))}return d.prototype._registerLanguages=function(r){var a=this;if(0!==r.length){for(var e=0;e<r.length;e++)this._registerLanguage(r[e]);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(function(t){var o=a._languages[t];o.name&&(a._nameMap[o.name]=o.identifier),o.aliases.forEach(function(t){a._lowercaseNameMap[t.toLowerCase()]=o.identifier}),o.mimetypes.forEach(function(t){a._mimeTypesMap[t]=o.identifier})}),o.Registry.as(s.Extensions.Configuration).registerOverrideIdentifiers(i.ModesRegistry.getLanguages().map(function(t){return t.id}))}},d.prototype._registerLanguage=function(e){var t=e.id,n=null;if(l.call(this._languages,t))n=this._languages[t];else{var i=this._nextLanguageId++;n={identifier:new r.LanguageIdentifier(t,i),name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[]},this._languageIds[i]=t,this._languages[t]=n}d._mergeLanguage(n,e)},d._mergeLanguage=function(o,e){var i=e.id,S=null;if(void 0!==e.mimetypes&&Array.isArray(e.mimetypes))for(T=0;T<e.mimetypes.length;T++)S||(S=e.mimetypes[T]),o.mimetypes.push(e.mimetypes[T]);if(S||(S="text/x-"+i,o.mimetypes.push(S)),Array.isArray(e.extensions))for(var E=0,a=e.extensions,u;E<a.length;E++)u=a[E],_.registerTextMime({id:i,mime:S,extension:u}),o.extensions.push(u);if(Array.isArray(e.filenames))for(var L=0,c=e.filenames,d;L<c.length;L++)d=c[L],_.registerTextMime({id:i,mime:S,filename:d}),o.filenames.push(d);if(Array.isArray(e.filenamePatterns))for(var w=0,p=e.filenamePatterns,f;w<p.length;w++)f=p[w],_.registerTextMime({id:i,mime:S,filepattern:f});if("string"==typeof e.firstLine&&0<e.firstLine.length){var x=e.firstLine;"^"!==x.charAt(0)&&(x="^"+x);try{var m=new RegExp(x);n.regExpLeadsToEndlessLoop(m)||_.registerTextMime({id:i,mime:S,firstline:m})}catch(o){t.onUnexpectedError(o)}}o.aliases.push(i);var N=null;if(void 0!==e.aliases&&Array.isArray(e.aliases)&&(N=0===e.aliases.length?[null]:e.aliases),null!==N)for(var T=0;T<N.length;T++)N[T]&&0!==N[T].length&&o.aliases.push(N[T]);var y=null!==N&&0<N.length;if(y&&null===N[0]);else{var I=(y?N[0]:null)||i;!y&&o.name||(o.name=I)}"string"==typeof e.configuration&&o.configurationFiles.push(e.configuration)},d.prototype.isRegisteredMode=function(t){return!!l.call(this._mimeTypesMap,t)||l.call(this._languages,t)},d.prototype.getRegisteredModes=function(){return Object.keys(this._languages)},d.prototype.getRegisteredLanguageNames=function(){return Object.keys(this._nameMap)},d.prototype.getLanguageName=function(t){return l.call(this._languages,t)?this._languages[t].name:null},d.prototype.getModeIdForLanguageNameLowercase=function(t){return l.call(this._lowercaseNameMap,t)?this._lowercaseNameMap[t].language:null},d.prototype.getConfigurationFiles=function(t){return l.call(this._languages,t)?this._languages[t].configurationFiles||[]:[]},d.prototype.getMimeForMode=function(t){return l.call(this._languages,t)?this._languages[t].mimetypes[0]||null:null},d.prototype.extractModeIds=function(o){var n=this;return o?o.split(",").map(function(t){return t.trim()}).map(function(t){return l.call(n._mimeTypesMap,t)?n._mimeTypesMap[t].language:t}).filter(function(t){return l.call(n._languages,t)}):[]},d.prototype.getLanguageIdentifier=function(o){if(o===a.NULL_MODE_ID||0===o)return a.NULL_LANGUAGE_IDENTIFIER;var n;if("string"==typeof o)n=o;else if(!(n=this._languageIds[o]))return null;return l.call(this._languages,n)?this._languages[n].identifier:null},d.prototype.getModeIdsFromLanguageName=function(t){return t&&l.call(this._nameMap,t)?[this._nameMap[t].language]:[]},d.prototype.getModeIdsFromFilenameOrFirstLine=function(o,i){if(!o&&!i)return[];var r=_.guessMimeTypes(o,i);return this.extractModeIds(r.join(","))},d.prototype.getExtensions=function(o){if(!l.call(this._nameMap,o))return[];var e=this._nameMap[o];return this._languages[e.language].extensions},d.prototype.getFilenames=function(o){if(!l.call(this._nameMap,o))return[];var e=this._nameMap[o];return this._languages[e.language].filenames},d}();e.LanguagesRegistry=c}),define(s[437],n([1,0,10,11,7,511,436]),function(d,e,t,n,i,o,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function a(){this._onDidCreateMode=new n.Emitter,this.onDidCreateMode=this._onDidCreateMode.event,this._instantiatedModes={},this._registry=new r.LanguagesRegistry}return a.prototype._onReady=function(){return i.TPromise.as(!0)},a.prototype.isRegisteredMode=function(t){return this._registry.isRegisteredMode(t)},a.prototype.getRegisteredModes=function(){return this._registry.getRegisteredModes()},a.prototype.getRegisteredLanguageNames=function(){return this._registry.getRegisteredLanguageNames()},a.prototype.getExtensions=function(t){return this._registry.getExtensions(t)},a.prototype.getFilenames=function(t){return this._registry.getFilenames(t)},a.prototype.getMimeForMode=function(t){return this._registry.getMimeForMode(t)},a.prototype.getLanguageName=function(t){return this._registry.getLanguageName(t)},a.prototype.getModeIdForLanguageName=function(t){return this._registry.getModeIdForLanguageNameLowercase(t)},a.prototype.getModeIdByFilenameOrFirstLine=function(o,e){var t=this._registry.getModeIdsFromFilenameOrFirstLine(o,e);return 0<t.length?t[0]:null},a.prototype.getModeId=function(o){var e=this._registry.extractModeIds(o);return 0<e.length?e[0]:null},a.prototype.getLanguageIdentifier=function(t){return this._registry.getLanguageIdentifier(t)},a.prototype.getConfigurationFiles=function(t){return this._registry.getConfigurationFiles(t)},a.prototype.lookup=function(r){for(var e=[],t=this._registry.extractModeIds(r),n=0,i;n<t.length;n++)i=t[n],e.push({modeId:i,isInstantiated:this._instantiatedModes.hasOwnProperty(i)});return e},a.prototype.getMode=function(n){for(var e=this._registry.extractModeIds(n),a=!1,i=0;i<e.length;i++){if(this._instantiatedModes.hasOwnProperty(e[i]))return this._instantiatedModes[e[i]];a=a||"plaintext"===e[i]}if(a){var o=null;return this.getOrCreateMode(n).then(function(t){o=t}).done(null,t.onUnexpectedError),o}return null},a.prototype.getOrCreateMode=function(o){var e=this;return this._onReady().then(function(){var t=e.getModeId(o);return e._getOrCreateMode(t||"plaintext")})},a.prototype.getOrCreateModeByLanguageName=function(o){var e=this;return this._onReady().then(function(){var t=e._getModeIdByLanguageName(o);return e._getOrCreateMode(t||"plaintext")})},a.prototype._getModeIdByLanguageName=function(o){var e=this._registry.getModeIdsFromLanguageName(o);return 0<e.length?e[0]:null},a.prototype.getOrCreateModeByFilenameOrFirstLine=function(o,e){var t=this;return this._onReady().then(function(){var n=t.getModeIdByFilenameOrFirstLine(o,e);return t._getOrCreateMode(n||"plaintext")})},a.prototype._getOrCreateMode=function(n){if(!this._instantiatedModes.hasOwnProperty(n)){var e=this.getLanguageIdentifier(n);this._instantiatedModes[n]=new o.FrankensteinMode(e),this._onDidCreateMode.fire(this._instantiatedModes[n])}return this._instantiatedModes[n]},a}();e.ModeServiceImpl=s}),define(s[438],n([1,0,44,442,127,62]),function(p,e,_,t,n,o){"use strict";function i(){var o=Object.create(null),e=_.Registry.as(n.Extensions.Configuration).getConfigurationProperties();for(var t in e)a(o,t,e[t].default,function(t){return console.error("Conflict in default settings: "+t)});return o}function r(o,e){var t=Object.create(null);for(var n in o)a(t,n,o[n],e);return t}function a(d,e,t,n){for(var i=e.split("."),o=i.pop(),r=d,p=0;p<i.length;p++){var a=i[p],c=r[a];switch(typeof c){case"undefined":c=r[a]=Object.create(null);break;case"object":break;default:return void n("Ignoring "+e+" as "+i.slice(0,p+1).join(".")+" is "+JSON.stringify(c));}r=c}"object"==typeof r?r[o]=t:n("Ignoring "+e+" as "+i.join(".")+" is "+JSON.stringify(r))}function s(){var t=_.Registry.as(n.Extensions.Configuration).getConfigurationProperties();return Object.keys(t)}function u(t){return t.substring(1,t.length-1)}Object.defineProperty(e,"__esModule",{value:!0}),e.getDefaultValues=i,e.toValuesTree=r,e.getConfigurationKeys=s;var l=function(o){function e(){var a=o.call(this,i())||this;return a._keys=s(),a._overrides=Object.keys(a._contents).filter(function(t){return n.OVERRIDE_PROPERTY_PATTERN.test(t)}).map(function(t){return{identifiers:[u(t).trim()],contents:r(a._contents[t],function(t){return console.error("Conflict in default settings file: "+t)})}}),a}return Z(e,o),Object.defineProperty(e.prototype,"keys",{get:function(){return this._keys},enumerable:!0,configurable:!0}),e}(o.ConfigurationModel);e.DefaultConfigurationModel=l;var d=function(o){function e(e,r){void 0===e&&(e=""),void 0===r&&(r="");var n=o.call(this)||this;return n.name=r,n._parseErrors=[],e&&n.update(e),n}return Z(e,o),Object.defineProperty(e.prototype,"errors",{get:function(){return this._parseErrors},enumerable:!0,configurable:!0}),e.prototype.update=function(o){function i(t){Array.isArray(d)?d.push(t):l&&(d[l]=t),n.OVERRIDE_PROPERTY_PATTERN.test(l)&&a(l,t)}function a(o,e){s.push({identifiers:[u(o).trim()],raw:e,contents:null})}var c=this,e={},s=[],l=null,d=[],h=[],p=[],f={onObjectBegin:function(){var t={};i(t),h.push(d),d=t,l=null},onObjectProperty:function(t){l=t},onObjectEnd:function(){d=h.pop()},onArrayBegin:function(){var t=[];i(t),h.push(d),d=t,l=null},onArrayEnd:function(){d=h.pop()},onLiteralValue:i,onError:function(t){p.push({error:t})}};if(o)try{t.visit(o,f),e=d[0]||{}}catch(t){console.error("Error while parsing settings file "+this.name+": "+t),this._parseErrors=[t]}this.processRaw(e);var g=_.Registry.as(n.Extensions.Configuration).getConfigurationProperties();this._overrides=s.map(function(o){var e={};for(var t in o.raw)g[t]&&g[t].overridable&&(e[t]=o.raw[t]);return{identifiers:o.identifiers,contents:r(e,function(t){return console.error("Conflict in settings file "+c.name+": "+t)})}})},e.prototype.processRaw=function(o){var n=this;this._contents=r(o,function(t){return console.error("Conflict in settings file "+n.name+": "+t)}),this._keys=Object.keys(o)},e}(o.ConfigurationModel);e.CustomConfigurationModel=d,e.overrideIdentifierFromKey=u,e.keyFromOverrideIdentifier=function(t){return"["+t+"]"}}),define(s[105],n([1,0,40,15,31,44]),function(d,e,l,p,t,o){"use strict";function n(o,e){return o.weight1===e.weight1?o.command<e.command?-1:o.command>e.command?1:o.weight2-e.weight2:o.weight1-e.weight1}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function i(){this.WEIGHT={editorCore:function(t){return void 0===t&&(t=0),0+t},editorContrib:function(t){return void 0===t&&(t=0),100+t},workbenchContrib:function(t){return void 0===t&&(t=0),200+t},builtinExtension:function(t){return void 0===t&&(t=0),300+t},externalExtension:function(t){return void 0===t&&(t=0),400+t}},this._keybindings=[]}return i.bindToCurrentPlatform=function(t){if(1===p.OS){if(t&&t.win)return t.win;}else if(2===p.OS){if(t&&t.mac)return t.mac;}else if(t&&t.linux)return t.linux;return t},i.bindToCurrentPlatform2=function(t){if(1===p.OS){if(t&&t.win)return t.win;}else if(2===p.OS){if(t&&t.mac)return t.mac;}else if(t&&t.linux)return t.linux;return t},i.prototype.registerKeybindingRule=function(n){var t=this,e=i.bindToCurrentPlatform(n);e&&e.primary&&this.registerDefaultKeybinding(l.createKeybinding(e.primary,p.OS),n.id,n.weight,0,n.when),e&&Array.isArray(e.secondary)&&e.secondary.forEach(function(o,e){return t.registerDefaultKeybinding(l.createKeybinding(o,p.OS),n.id,n.weight,-e-1,n.when)})},i.prototype.registerKeybindingRule2=function(e){var t=i.bindToCurrentPlatform2(e);t&&t.primary&&this.registerDefaultKeybinding(t.primary,e.id,e.weight,0,e.when)},i.prototype.registerCommandAndKeybindingRule=function(o){this.registerKeybindingRule(o),t.CommandsRegistry.registerCommand(o.id,o)},i._mightProduceChar=function(t){return 21<=t&&30>=t||31<=t&&56>=t||80===t||81===t||82===t||83===t||84===t||85===t||86===t||110===t||111===t||87===t||88===t||89===t||90===t||91===t||92===t},i.prototype._assertNoCtrlAlt=function(e,t){e.ctrlKey&&e.altKey&&!e.metaKey&&i._mightProduceChar(e.keyCode)&&console.warn("Ctrl+Alt+ keybindings should not be used by default under Windows. Offender: ",e," for ",t)},i.prototype.registerDefaultKeybinding=function(i,a,s,d,l){1===p.OS&&(2===i.type?this._assertNoCtrlAlt(i.firstPart,a):this._assertNoCtrlAlt(i,a)),this._keybindings.push({keybinding:i,command:a,commandArgs:null,when:l,weight1:s,weight2:d})},i.prototype.getDefaultKeybindings=function(){var t=this._keybindings.slice(0);return t.sort(n),t},i}();e.KeybindingsRegistry=new i,e.Extensions={EditorModes:"platform.keybindingsRegistry"},o.Registry.add(e.Extensions.EditorModes,e.KeybindingsRegistry)}),define(s[129],n([1,0,70,36,24,7,62,31,414,419,159,46,20,11,438,3,4,65,105,407,40,418,15]),function(f,e,F,W,t,B,o,r,n,i,a,l,s,d,p,c,u,g,m,h,_,y,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var b=function(){function t(t){this._widget=t}return t.prototype.getId=function(){return"editor"},t.prototype.getControl=function(){return this._widget},t.prototype.getSelection=function(){return this._widget.getSelection()},t.prototype.focus=function(){this._widget.focus()},t.prototype.isVisible=function(){return!0},t.prototype.withTypedEditor=function(o,e){return s.isCommonCodeEditor(this._widget)?o(this._widget):e(this._widget)},t}();e.SimpleEditor=b;var v=function(){function t(t){this.model=t,this._onDispose=new d.Emitter}return Object.defineProperty(t.prototype,"onDispose",{get:function(){return this._onDispose.event},enumerable:!0,configurable:!0}),t.prototype.load=function(){return B.TPromise.as(this)},Object.defineProperty(t.prototype,"textEditorModel",{get:function(){return this.model},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this._onDispose.fire()},t}();e.SimpleModel=v;var S=function(){function t(){this.openEditorDelegate=null}return t.prototype.setEditor=function(t){this.editor=new b(t)},t.prototype.setOpenEditorDelegate=function(t){this.openEditorDelegate=t},t.prototype.openEditor=function(o){var e=this;return B.TPromise.as(this.editor.withTypedEditor(function(n){return e.doOpenEditor(n,o)},function(n){return e.doOpenEditor(n.getOriginalEditor(),o)||e.doOpenEditor(n.getModifiedEditor(),o)}))},t.prototype.doOpenEditor=function(n,e){if(!this.findModel(n,e)){if(e.resource){if(this.openEditorDelegate)return this.openEditorDelegate(e.resource.toString()),null;var t=e.resource.scheme;if(t===F.Schemas.http||t===F.Schemas.https)return u.windowOpenNoOpener(e.resource.toString()),this.editor}return null}var i=e.options.selection;if(i)if("number"==typeof i.endLineNumber&&"number"==typeof i.endColumn)n.setSelection(i),n.revealRangeInCenter(i);else{var o={lineNumber:i.startLineNumber,column:i.startColumn};n.setPosition(o),n.revealPositionInCenter(o)}return this.editor},t.prototype.findModel=function(o,e){var t=o.getModel();return t.uri.toString()===e.resource.toString()?t:null},t}();e.SimpleEditorService=S;var E=function(){function t(){}return t.prototype.setEditor=function(t){this.editor=new b(t)},t.prototype.createModelReference=function(o){var e=this,n;return(n=this.editor.withTypedEditor(function(n){return e.findModel(n,o)},function(n){return e.findModel(n.getOriginalEditor(),o)||e.findModel(n.getModifiedEditor(),o)}))?B.TPromise.as(new c.ImmortalReference(new v(n))):B.TPromise.as(new c.ImmortalReference(null))},t.prototype.registerTextModelContentProvider=function(){return{dispose:function(){}}},t.prototype.findModel=function(o,e){var t=o.getModel();return t.uri.toString()===e.toString()?t:null},t}();e.SimpleEditorModelResolverService=E;var L=function(){function t(){}return t.prototype.show=function(){return t.NULL_PROGRESS_RUNNER},t.prototype.showWhile=function(){return null},t.NULL_PROGRESS_RUNNER={done:function(){},total:function(){},worked:function(){}},t}();e.SimpleProgressService=L;var w=function(){function o(){}return o.prototype.show=function(e,t){return e===W.default.Error?console.error(t):e===W.default.Warning?console.warn(t):console.log(t),o.Empty},o.prototype.hideAll=function(){},o.prototype.confirm=function(o){var e=o.message;return o.detail&&(e=e+"\n\n"+o.detail),window.confirm(e)},o.Empty=function(){},o}();e.SimpleMessageService=w;var x=function(){function t(t){this._onWillExecuteCommand=new d.Emitter,this.onWillExecuteCommand=this._onWillExecuteCommand.event,this._instantiationService=t,this._dynamicCommands=Object.create(null)}return t.prototype.addCommand=function(o,e){var t=this;return this._dynamicCommands[o]=e,{dispose:function(){delete t._dynamicCommands[o]}}},t.prototype.executeCommand=function(a){for(var s=[],t=1;t<arguments.length;t++)s[t-1]=arguments[t];var n=r.CommandsRegistry.getCommand(a)||this._dynamicCommands[a];if(!n)return B.TPromise.wrapError(new Error("command '"+a+"' not found"));try{this._onWillExecuteCommand.fire({commandId:a});var d=this._instantiationService.invokeFunction.apply(this._instantiationService,[n.handler].concat(s));return B.TPromise.as(d)}catch(t){return B.TPromise.wrapError(t)}},t}();e.StandaloneCommandService=x;var N=function(s){function e(e,a,n,i){var o=s.call(this,e,a,n)||this;return o._cachedResolver=null,o._dynamicKeybindings=[],o.toDispose.push(u.addDisposableListener(i,u.EventType.KEY_DOWN,function(n){var e=new g.StandardKeyboardEvent(n);o._dispatch(e,e.target)&&e.preventDefault()})),o}return Z(e,s),e.prototype.addDynamicKeybinding=function(a,d,t,p){var u=this,o=[];this._dynamicKeybindings.push({keybinding:_.createKeybinding(d,C.OS),command:a,when:p,weight1:1e3,weight2:0}),o.push({dispose:function(){for(var e=0;e<u._dynamicKeybindings.length;e++)if(u._dynamicKeybindings[e].command===a)return u._dynamicKeybindings.splice(e,1),void u.updateResolver({source:l.KeybindingSource.Default})}});var r=this._commandService;if(!(r instanceof x))throw new Error("Unknown command service!");return o.push(r.addCommand(a,{handler:t})),this.updateResolver({source:l.KeybindingSource.Default}),c.combinedDisposable(o)},e.prototype.updateResolver=function(t){this._cachedResolver=null,this._onDidUpdateKeybindings.fire(t)},e.prototype._getResolver=function(){if(!this._cachedResolver){var o=this._toNormalizedKeybindingItems(m.KeybindingsRegistry.getDefaultKeybindings(),!0),e=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new a.KeybindingResolver(o,e)}return this._cachedResolver},e.prototype._toNormalizedKeybindingItems=function(d,e){for(var t=[],n=0,i=0,o=d.length;i<o;i++){var r=d[i],s=r.when?r.when.normalize():null,a=r.keybinding;if(a)for(var p=this.resolveKeybinding(a),l=0;l<p.length;l++)t[n++]=new y.ResolvedKeybindingItem(p[l],r.command,r.commandArgs,s,e);else t[n++]=new y.ResolvedKeybindingItem(null,r.command,r.commandArgs,s,e)}return t},e.prototype.resolveKeybinding=function(t){return[new i.USLayoutResolvedKeybinding(t,C.OS)]},e.prototype.resolveKeyboardEvent=function(o){var e=new _.SimpleKeybinding(o.ctrlKey,o.shiftKey,o.altKey,o.metaKey,o.keyCode);return new i.USLayoutResolvedKeybinding(e,C.OS)},e.prototype.resolveUserBinding=function(){return[]},e}(n.AbstractKeybindingService);e.StandaloneKeybindingService=N;var T=function(){function t(){this._onDidUpdateConfiguration=new d.Emitter,this.onDidUpdateConfiguration=this._onDidUpdateConfiguration.event,this._configuration=new o.Configuration(new p.DefaultConfigurationModel(),new o.ConfigurationModel())}return t.prototype.configuration=function(){return this._configuration},t.prototype.reloadConfiguration=function(t){return B.TPromise.as(this.getConfiguration(t))},t.prototype.getConfiguration=function(o,e){return this.configuration().getValue(o,e)},t.prototype.lookup=function(o,e){return this.configuration().lookup(o,e)},t.prototype.keys=function(){return this.configuration().keys()},t.prototype.values=function(){return this._configuration.values()},t.prototype.getConfigurationData=function(){return this.configuration().toData()},t}();e.SimpleConfigurationService=T;var I=function(){function t(o){var n=this;this.configurationService=o,this._onDidUpdateConfigurationEmitter=new d.Emitter,this.configurationService.onDidUpdateConfiguration(function(){n._onDidUpdateConfigurationEmitter.fire()})}return t.prototype.getConfiguration=function(){return this.configurationService.getConfiguration()},t}();e.SimpleResourceConfigurationService=I;var M=function(){function t(t){this._commandService=t}return t.prototype.createMenu=function(o,e){return new h.Menu(o,B.TPromise.as(!0),this._commandService,e)},t}();e.SimpleMenuService=M;var k=function(){function t(){this.isOptedIn=!1}return t.prototype.publicLog=function(){return B.TPromise.as(null)},t.prototype.getTelemetryInfo=function(){return null},t}();e.StandaloneTelemetryService=k;var D=function(){function o(){this._onDidChangeWorkspaceName=new d.Emitter,this.onDidChangeWorkspaceName=this._onDidChangeWorkspaceName.event,this._onDidChangeWorkspaceRoots=new d.Emitter,this.onDidChangeWorkspaceRoots=this._onDidChangeWorkspaceRoots.event,this.legacyWorkspace={resource:t.default.from({scheme:o.SCHEME,authority:"model",path:"/"})},this.workspace={id:"4064f6ec-cb38-4ad0-af64-ee6467e63c82",roots:[this.legacyWorkspace.resource],name:this.legacyWorkspace.resource.fsPath}}return o.prototype.getLegacyWorkspace=function(){return this.legacyWorkspace},o.prototype.getWorkspace=function(){return this.workspace},o.prototype.saveWorkspace=function(){return B.TPromise.as(null)},o.prototype.getRoot=function(e){return e&&e.scheme===o.SCHEME?this.workspace.roots[0]:void 0},o.prototype.hasWorkspace=function(){return!0},o.prototype.hasFolderWorkspace=function(){return!0},o.prototype.hasMultiFolderWorkspace=function(){return!1},o.prototype.isInsideWorkspace=function(e){return e&&e.scheme===o.SCHEME},o.prototype.toResource=function(o){return t.default.file(o)},o}();e.SimpleWorkspaceContextService=D}),define(s[76],n([1,0,16]),function(o,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ID="storageService",e.IStorageService=t.createDecorator(e.ID),!function(t){t[t.GLOBAL=0]="GLOBAL",t[t.WORKSPACE=1]="WORKSPACE"}(e.StorageScope||(e.StorageScope={})),e.NullStorageService={_serviceBrand:void 0,store:function(){},swap:function(){},remove:function(){},get:function(o,e,t){return t},getInteger:function(o,e,t){return t},getBoolean:function(o,e,t){return t}}}),define(s[66],n([1,0,11,3,15,28,168,132,412,410,76]),function(g,e,m,t,n,x,o,r,a,N,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(){this._keys=Object.create(null),this._values=Object.create(null)}return t.prototype.has=function(o){var e=o.getId();return!!this._values[e]},t.prototype.get=function(o){var e=o.getId();return this._values[e]},t.prototype.put=function(o,e){var t=o.getId();this._keys[t]=o,this._values[t]=e},t.prototype.remove=function(o){var e=o.getId();delete this._keys[e],delete this._values[e]},t.prototype.getKeys=function(){var o=this;return Object.keys(this._keys).map(function(e){return o._keys[e]})},t.prototype.getValues=function(){var o=this;return Object.keys(this._keys).map(function(e){return o._values[e]})},t}();e.readFontInfo=function(t){return d.INSTANCE.readConfiguration(t)},e.restoreFontInfo=function(o){var e=o.get("editorFontInfo",i.StorageScope.GLOBAL);if("string"==typeof e){var r=null;try{r=JSON.parse(e)}catch(t){return}Array.isArray(r)&&d.INSTANCE.restoreFontInfo(r)}},e.saveFontInfo=function(o){var e=d.INSTANCE.saveFontInfo();o.store("editorFontInfo",JSON.stringify(e),i.StorageScope.GLOBAL)};var d=function(o){function i(){var e=o.call(this)||this;return e._onDidChange=e._register(new m.Emitter),e.onDidChange=e._onDidChange.event,e._cache=new s,e._evictUntrustedReadingsTimeout=-1,e}return Z(i,o),i.prototype.dispose=function(){-1!==this._evictUntrustedReadingsTimeout&&(clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),o.prototype.dispose.call(this)},i.prototype._writeToCache=function(o,e){var t=this;this._cache.put(o,e),e.isTrusted||-1!==this._evictUntrustedReadingsTimeout||(this._evictUntrustedReadingsTimeout=setTimeout(function(){t._evictUntrustedReadingsTimeout=-1,t._evictUntrustedReadings()},5e3))},i.prototype._evictUntrustedReadings=function(){for(var r=this._cache.getValues(),e=!1,t=0,n=r.length,i;t<n;t++)i=r[t],i.isTrusted||(e=!0,this._cache.remove(i));e&&this._onDidChange.fire()},i.prototype.saveFontInfo=function(){return this._cache.getValues().filter(function(t){return t.isTrusted})},i.prototype.restoreFontInfo=function(o){for(var e=0,t=o.length,n;e<t;e++)n=new r.FontInfo(o[e],!1),this._writeToCache(n,n)},i.prototype.readConfiguration=function(t){if(!this._cache.has(t)){var e=i._actualReadConfiguration(t);(2>=e.typicalHalfwidthCharacterWidth||2>=e.typicalFullwidthCharacterWidth||2>=e.spaceWidth||2>=e.maxDigitWidth)&&(e=new r.FontInfo({zoomLevel:x.getZoomLevel(),fontFamily:e.fontFamily,fontWeight:e.fontWeight,fontSize:e.fontSize,lineHeight:e.lineHeight,letterSpacing:e.letterSpacing,isMonospace:e.isMonospace,typicalHalfwidthCharacterWidth:G(e.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:G(e.typicalFullwidthCharacterWidth,5),spaceWidth:G(e.spaceWidth,5),maxDigitWidth:G(e.maxDigitWidth,5)},!1)),this._writeToCache(t,e)}return this._cache.get(t)},i.createRequest=function(r,e,t,n){var i=new N.CharWidthRequest(r,e);return t.push(i),n&&n.push(i),i},i._actualReadConfiguration=function(a){var e=[],t=[],n=this.createRequest("n",0,e,t),i=this.createRequest("\uFF4D",0,e,null),o=this.createRequest(" ",0,e,t),s=this.createRequest("0",0,e,t),l=this.createRequest("1",0,e,t),c=this.createRequest("2",0,e,t),d=this.createRequest("3",0,e,t),u=this.createRequest("4",0,e,t),p=this.createRequest("5",0,e,t),h=this.createRequest("6",0,e,t),g=this.createRequest("7",0,e,t),m=this.createRequest("8",0,e,t),f=this.createRequest("9",0,e,t);this.createRequest("\u2192",0,e,t),this.createRequest("\xB7",0,e,t),this.createRequest("|",0,e,t),this.createRequest("/",0,e,t),this.createRequest("-",0,e,t),this.createRequest("_",0,e,t),this.createRequest("i",0,e,t),this.createRequest("l",0,e,t),this.createRequest("m",0,e,t),this.createRequest("|",1,e,t),this.createRequest("_",1,e,t),this.createRequest("i",1,e,t),this.createRequest("l",1,e,t),this.createRequest("m",1,e,t),this.createRequest("n",1,e,t),this.createRequest("|",2,e,t),this.createRequest("_",2,e,t),this.createRequest("i",2,e,t),this.createRequest("l",2,e,t),this.createRequest("m",2,e,t),this.createRequest("n",2,e,t),N.readCharWidths(a,e);for(var _=G(s.width,l.width,c.width,d.width,u.width,p.width,h.width,g.width,m.width,f.width),v=!0,T=t[0].width,b=1,w=t.length,S;b<w;b++)if(S=T-t[b].width,-.001>S||.001<S){v=!1;break}var E=2e3<x.getTimeSinceLastZoomLevelChanged();return new r.FontInfo({zoomLevel:x.getZoomLevel(),fontFamily:a.fontFamily,fontWeight:a.fontWeight,fontSize:a.fontSize,lineHeight:a.lineHeight,letterSpacing:a.letterSpacing,isMonospace:v,typicalHalfwidthCharacterWidth:n.width,typicalFullwidthCharacterWidth:i.width,spaceWidth:o.width,maxDigitWidth:_},E)},i.INSTANCE=new i,i}(t.Disposable),l=function(o){function e(e,r){void 0===r&&(r=null);var n=o.call(this,e)||this;return n._elementSizeObserver=n._register(new a.ElementSizeObserver(r,function(){return n._onReferenceDomElementSizeChanged()})),n._register(d.INSTANCE.onDidChange(function(){return n._onCSSBasedConfigurationChanged()})),n._validatedOptions.automaticLayout&&n._elementSizeObserver.startObserving(),n._register(x.onDidChangeZoomLevel(function(){return n._recomputeOptions()})),n._register(x.onDidChangeAccessibilitySupport(function(){return n._recomputeOptions()})),n._recomputeOptions(),n}return Z(e,o),e.applyFontInfoSlow=function(o,e){o.style.fontFamily=e.fontFamily,o.style.fontWeight=e.fontWeight,o.style.fontSize=e.fontSize+"px",o.style.lineHeight=e.lineHeight+"px",o.style.letterSpacing=e.letterSpacing+"px"},e.applyFontInfo=function(o,e){o.setFontFamily(e.fontFamily),o.setFontWeight(e.fontWeight),o.setFontSize(e.fontSize),o.setLineHeight(e.lineHeight),o.setLetterSpacing(e.letterSpacing)},e.prototype._onReferenceDomElementSizeChanged=function(){this._recomputeOptions()},e.prototype._onCSSBasedConfigurationChanged=function(){this._recomputeOptions()},e.prototype.observeReferenceElement=function(t){this._elementSizeObserver.observe(t)},e.prototype.dispose=function(){o.prototype.dispose.call(this)},e.prototype._getExtraEditorClassName=function(){var t="";return x.isIE?t+="ie ":x.isFirefox?t+="ff ":x.isEdge&&(t+="edge "),n.isMacintosh&&(t+="mac "),t},e.prototype._getEnvConfiguration=function(){return{extraEditorClassName:this._getExtraEditorClassName(),outerWidth:this._elementSizeObserver.getWidth(),outerHeight:this._elementSizeObserver.getHeight(),emptySelectionClipboard:x.isWebKit,pixelRatio:x.getPixelRatio(),zoomLevel:x.getZoomLevel(),accessibilitySupport:x.getAccessibilitySupport()}},e.prototype.readConfiguration=function(t){return d.INSTANCE.readConfiguration(t)},e}(o.CommonEditorConfiguration);e.Configuration=l}),define(s[443],n([1,0,27,112,66,35]),function(d,e,t,p,i,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(o){function e(e){var i=o.call(this,e)||this;return i._visibleLines=new p.VisibleLinesCollection(i),i.domNode=i._visibleLines.domNode,i._dynamicOverlays=[],i._isFocused=!1,i.domNode.setClassName("view-overlays"),i}return Z(e,o),e.prototype.shouldRender=function(){if(o.prototype.shouldRender.call(this))return!0;for(var e=0,t=this._dynamicOverlays.length;e<t;e++)if(this._dynamicOverlays[e].shouldRender())return!0;return!1},e.prototype.dispose=function(){o.prototype.dispose.call(this);for(var e=0,t=this._dynamicOverlays.length;e<t;e++)this._dynamicOverlays[e].dispose();this._dynamicOverlays=null},e.prototype.getDomNode=function(){return this.domNode},e.prototype.createVisibleLine=function(){return new r(this._context.configuration,this._dynamicOverlays)},e.prototype.addDynamicOverlay=function(t){this._dynamicOverlays.push(t)},e.prototype.onConfigurationChanged=function(o){this._visibleLines.onConfigurationChanged(o);for(var e=this._visibleLines.getStartLineNumber(),t=this._visibleLines.getEndLineNumber(),n=e;n<=t;n++)this._visibleLines.getVisibleLine(n).onConfigurationChanged(o);return!0},e.prototype.onFlushed=function(t){return this._visibleLines.onFlushed(t)},e.prototype.onFocusChanged=function(t){return this._isFocused=t.isFocused,!0},e.prototype.onLinesChanged=function(t){return this._visibleLines.onLinesChanged(t)},e.prototype.onLinesDeleted=function(t){return this._visibleLines.onLinesDeleted(t)},e.prototype.onLinesInserted=function(t){return this._visibleLines.onLinesInserted(t)},e.prototype.onScrollChanged=function(t){return this._visibleLines.onScrollChanged(t)||!0},e.prototype.onTokensChanged=function(t){return this._visibleLines.onTokensChanged(t)},e.prototype.onZonesChanged=function(t){return this._visibleLines.onZonesChanged(t)},e.prototype.prepareRender=function(r){for(var e=this._dynamicOverlays.filter(function(t){return t.shouldRender()}),t=0,n=e.length,i;t<n;t++)i=e[t],i.prepareRender(r),i.onDidRender();return null},e.prototype.render=function(t){this._viewOverlaysRender(t),this.domNode.toggleClassName("focused",this._isFocused)},e.prototype._viewOverlaysRender=function(t){this._visibleLines.renderLines(t.viewportData)},e}(o.ViewPart);e.ViewOverlays=n;var r=function(){function o(o,n){this._configuration=o,this._lineHeight=this._configuration.editor.lineHeight,this._dynamicOverlays=n,this._domNode=null,this._renderedContent=null}return o.prototype.getDomNode=function(){return this._domNode?this._domNode.domNode:null},o.prototype.setDomNode=function(o){this._domNode=t.createFastDomNode(o)},o.prototype.onContentChanged=function(){},o.prototype.onTokensChanged=function(){},o.prototype.onConfigurationChanged=function(t){t.lineHeight&&(this._lineHeight=this._configuration.editor.lineHeight)},o.prototype.renderLine=function(a,e,t){for(var n="",i=0,o=this._dynamicOverlays.length;i<o;i++)n+=this._dynamicOverlays[i].render(t.startLineNumber,a);return this._renderedContent===n?null:(this._renderedContent=n,"<div style=\"position:absolute;top:"+e+"px;width:100%;height:"+this._lineHeight+"px;\">"+n+"</div>")},o.prototype.layoutLine=function(o,e){this._domNode&&(this._domNode.setTop(e),this._domNode.setHeight(this._lineHeight))},o}();e.ViewOverlayLine=r;var a=function(o){function e(e){var i=o.call(this,e)||this;return i._contentWidth=i._context.configuration.editor.layoutInfo.contentWidth,i.domNode.setHeight(0),i}return Z(e,o),e.prototype.onConfigurationChanged=function(e){return e.layoutInfo&&(this._contentWidth=this._context.configuration.editor.layoutInfo.contentWidth),o.prototype.onConfigurationChanged.call(this,e)},e.prototype.onScrollChanged=function(e){return o.prototype.onScrollChanged.call(this,e)||e.scrollWidthChanged},e.prototype._viewOverlaysRender=function(e){o.prototype._viewOverlaysRender.call(this,e),this.domNode.setWidth(G(e.scrollWidth,this._contentWidth))},e}(n);e.ContentViewOverlays=a;var s=function(o){function e(e){var r=o.call(this,e)||this;return r._contentLeft=r._context.configuration.editor.layoutInfo.contentLeft,r.domNode.setClassName("margin-view-overlays"),r.domNode.setWidth(1),i.Configuration.applyFontInfo(r.domNode,r._context.configuration.editor.fontInfo),r}return Z(e,o),e.prototype.onConfigurationChanged=function(e){var t=!1;return e.fontInfo&&(i.Configuration.applyFontInfo(this.domNode,this._context.configuration.editor.fontInfo),t=!0),e.layoutInfo&&(this._contentLeft=this._context.configuration.editor.layoutInfo.contentLeft,t=!0),o.prototype.onConfigurationChanged.call(this,e)||t},e.prototype.onScrollChanged=function(e){return o.prototype.onScrollChanged.call(this,e)||e.scrollHeightChanged},e.prototype._viewOverlaysRender=function(e){o.prototype._viewOverlaysRender.call(this,e);var t=q(e.scrollHeight,1e6);this.domNode.setHeight(t),this.domNode.setWidth(this._contentLeft)},e}(n);e.MarginViewOverlays=s}),define(s[444],n([1,0,27,12,2,49,66,4]),function(d,e,p,n,g,o,i,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=function(){return function(o,e,t,n){this.top=o,this.left=e,this.width=t,this.textContent=n}}(),t=function(){function t(o,r){this._context=o,this._isSecondary=r,this._cursorStyle=this._context.configuration.editor.viewInfo.cursorStyle,this._lineHeight=this._context.configuration.editor.lineHeight,this._typicalHalfwidthCharacterWidth=this._context.configuration.editor.fontInfo.typicalHalfwidthCharacterWidth,this._isVisible=!0,this._domNode=p.createFastDomNode(document.createElement("div")),this._isSecondary?this._domNode.setClassName("cursor secondary"):this._domNode.setClassName("cursor"),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),i.Configuration.applyFontInfo(this._domNode,this._context.configuration.editor.fontInfo),this._domNode.setDisplay("none"),this.updatePosition(new n.Position(1,1)),this._isInEditableRange=!0,this._lastRenderedContent="",this._renderData=null}return t.prototype.getDomNode=function(){return this._domNode},t.prototype.getIsInEditableRange=function(){return this._isInEditableRange},t.prototype.getPosition=function(){return this._position},t.prototype.show=function(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)},t.prototype.hide=function(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)},t.prototype.onConfigurationChanged=function(t){return t.lineHeight&&(this._lineHeight=this._context.configuration.editor.lineHeight),t.viewInfo&&(this._cursorStyle=this._context.configuration.editor.viewInfo.cursorStyle),t.fontInfo&&(i.Configuration.applyFontInfo(this._domNode,this._context.configuration.editor.fontInfo),this._typicalHalfwidthCharacterWidth=this._context.configuration.editor.fontInfo.typicalHalfwidthCharacterWidth),!0},t.prototype.onCursorPositionChanged=function(o,e){return this.updatePosition(o),this._isInEditableRange=e,!0},t.prototype._prepareRender=function(p){if(this._cursorStyle===o.TextEditorCursorStyle.Line||this._cursorStyle===o.TextEditorCursorStyle.LineThin){var e=p.visibleRangeForPosition(this._position);if(!e)return null;var u=this._cursorStyle===o.TextEditorCursorStyle.Line?r.computeScreenAwareSize(2):r.computeScreenAwareSize(1);var n=p.getVerticalOffsetForLineNumber(this._position.lineNumber)-p.bigNumbersDelta;return new a(n,e.left,u,"")}var i=p.linesVisibleRangesForRange(new g.Range(this._position.lineNumber,this._position.column,this._position.lineNumber,this._position.column+1),!1);if(!i||0===i.length||0===i[0].ranges.length)return null;var m=i[0].ranges[0],l=1>m.width?this._typicalHalfwidthCharacterWidth:m.width,c="";this._cursorStyle===o.TextEditorCursorStyle.Block&&(c=this._context.model.getLineContent(this._position.lineNumber).charAt(this._position.column-1));var d=p.getVerticalOffsetForLineNumber(this._position.lineNumber)-p.bigNumbersDelta;return new a(d,m.left,l,c)},t.prototype.prepareRender=function(t){this._renderData=this._prepareRender(t)},t.prototype.render=function(){return this._renderData?(this._lastRenderedContent!==this._renderData.textContent&&(this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._lineHeight),this._domNode.setHeight(this._lineHeight),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._lineHeight,width:2}):(this._domNode.setDisplay("none"),null)},t.prototype.updatePosition=function(t){this._position=t},t}();e.ViewCursor=t}),define(s[58],n([1,0,16]),function(o,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITelemetryService=t.createDecorator("telemetryService")}),define(s[13],n([1,0,10,24,31,105,44,58,12,56,85,64,19,42]),function(_,e,f,n,i,o,t,r,S,u,a,s,d,l){"use strict";function p(t){return t.get(l.ICodeEditorService).getFocusedCodeEditor()}function c(o){var e=o.get(s.IEditorService),t=e.getActiveEditor&&e.getActiveEditor();return l.getCodeEditor(t)}function g(t){return b.registerEditorCommand(t),t}Object.defineProperty(e,"__esModule",{value:!0});var m=function(){function t(t){this.id=t.id,this.precondition=t.precondition,this._kbOpts=t.kbOpts,this._description=t.description}return t.prototype.toCommandAndKeybindingRule=function(r){var a=this,e=this._kbOpts||{primary:0},t=e.kbExpr;this.precondition&&(t=t?d.ContextKeyExpr.and(t,this.precondition):this.precondition);var n="number"==typeof e.weight?e.weight:r;return{id:this.id,handler:function(t,e){return a.runCommand(t,e)},weight:n,when:t,primary:e.primary,secondary:e.secondary,win:e.win,linux:e.linux,mac:e.mac,description:this._description}},t}();e.Command=m;var y=function(o){function n(){return null!==o&&o.apply(this,arguments)||this}return Z(n,o),n.bindToContribution=function(o){return function(i){function e(t){var e=i.call(this,t)||this;return e._callback=t.handler,e}return Z(e,i),e.prototype.runEditorCommand=function(e,t){o(t)&&this._callback(o(t))},e}(n)},n.prototype.runCommand=function(o,r){var t=this,n=p(o);if(n||(n=c(o)),n)return n.invokeWithinContext(function(o){if(o.get(d.IContextKeyService).contextMatchesRules(t.precondition))return t.runEditorCommand(o,n,r)})},n}(m);e.EditorCommand=y;var C=function(o){function e(e){var i=o.call(this,e)||this;return i.label=e.label,i.alias=e.alias,i.menuOpts=e.menuOpts,i}return Z(e,o),e.prototype.toMenuItem=function(){return this.menuOpts?{command:{id:this.id,title:this.label},when:this.precondition,group:this.menuOpts.group,order:this.menuOpts.order}:null},e.prototype.runEditorCommand=function(o,e,t){return this.reportTelemetry(o,e),this.run(o,e,t||{})},e.prototype.reportTelemetry=function(o,e){o.get(r.ITelemetryService).publicLog("editorActionInvoked",h({name:this.label,id:this.id},e.getTelemetryData()))},e}(y);e.EditorAction=C,e.editorAction=function(t){b.registerEditorAction(new t)},e.editorCommand=function(t){g(new t)},e.registerEditorCommand=g,e.commonEditorContribution=function(t){v.INSTANCE.registerEditorContribution(t)};var b;!function(r){function a(o,r){i.CommandsRegistry.registerCommand(o,function(t,e){return r(t,e||{})})}r.registerEditorAction=function(t){v.INSTANCE.registerEditorAction(t)},r.getEditorActions=function(){return v.INSTANCE.getEditorActions()},r.getEditorCommand=function(t){return v.INSTANCE.getEditorCommand(t)},r.getEditorContributions=function(){return v.INSTANCE.getEditorContributions()},r.commandWeight=function(t){return void 0===t&&(t=0),o.KeybindingsRegistry.WEIGHT.editorContrib(t)},r.registerEditorCommand=function(t){v.INSTANCE.registerEditorCommand(t)},r.registerLanguageCommand=a,r.registerDefaultLanguageCommand=function(t,i){a(t,function(o,e){var t=e.resource,r=e.position;if(!(t instanceof n.default))throw f.illegalArgument("resource");if(!S.Position.isIPosition(r))throw f.illegalArgument("position");var s=o.get(u.IModelService).getModel(t);if(!s)throw f.illegalArgument("Can not find open model for "+t);var d=S.Position.lift(r);return i(s,d,e)})}}(b=e.CommonEditorRegistry||(e.CommonEditorRegistry={}));var v=function(){function t(){this.editorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}return t.prototype.registerEditorContribution=function(t){this.editorContributions.push(t)},t.prototype.registerEditorAction=function(n){var e=n.toMenuItem();e&&a.MenuRegistry.appendMenuItem(a.MenuId.EditorContext,e),o.KeybindingsRegistry.registerCommandAndKeybindingRule(n.toCommandAndKeybindingRule(o.KeybindingsRegistry.WEIGHT.editorContrib())),this.editorActions.push(n)},t.prototype.getEditorContributions=function(){return this.editorContributions.slice(0)},t.prototype.getEditorActions=function(){return this.editorActions.slice(0)},t.prototype.registerEditorCommand=function(t){o.KeybindingsRegistry.registerCommandAndKeybindingRule(t.toCommandAndKeybindingRule(o.KeybindingsRegistry.WEIGHT.editorContrib())),this.editorCommands[t.id]=t},t.prototype.getEditorCommand=function(t){return this.editorCommands[t]||null},t.INSTANCE=new t,t}();t.Registry.add({EditorCommonContributions:"editor.commonContributions"}.EditorCommonContributions,v.INSTANCE)}),define(s[447],n([1,0,10,11,3,7,84,19,321,39,12,2,22,20,330,488,406,55,21,13]),function(f,e,E,L,t,n,i,s,o,r,a,l,d,c,p,g,m,u,h,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var y=0,C=function(h){function e(e,a,n,o){var r=h.call(this)||this;return r._onDidDispose=r._register(new L.Emitter),r.onDidDispose=r._onDidDispose.event,r._onDidChangeModelContent=r._register(new L.Emitter),r.onDidChangeModelContent=r._onDidChangeModelContent.event,r._onDidChangeModelLanguage=r._register(new L.Emitter),r.onDidChangeModelLanguage=r._onDidChangeModelLanguage.event,r._onDidChangeModelOptions=r._register(new L.Emitter),r.onDidChangeModelOptions=r._onDidChangeModelOptions.event,r._onDidChangeModelDecorations=r._register(new L.Emitter),r.onDidChangeModelDecorations=r._onDidChangeModelDecorations.event,r._onDidChangeConfiguration=r._register(new L.Emitter),r.onDidChangeConfiguration=r._onDidChangeConfiguration.event,r._onDidChangeModel=r._register(new L.Emitter),r.onDidChangeModel=r._onDidChangeModel.event,r._onDidChangeCursorPosition=r._register(new L.Emitter),r.onDidChangeCursorPosition=r._onDidChangeCursorPosition.event,r._onDidChangeCursorSelection=r._register(new L.Emitter),r.onDidChangeCursorSelection=r._onDidChangeCursorSelection.event,r._onDidLayoutChange=r._register(new L.Emitter),r.onDidLayoutChange=r._onDidLayoutChange.event,r._onDidFocusEditorText=r._register(new L.Emitter),r.onDidFocusEditorText=r._onDidFocusEditorText.event,r._onDidBlurEditorText=r._register(new L.Emitter),r.onDidBlurEditorText=r._onDidBlurEditorText.event,r._onDidFocusEditor=r._register(new L.Emitter),r.onDidFocusEditor=r._onDidFocusEditor.event,r._onDidBlurEditor=r._register(new L.Emitter),r.onDidBlurEditor=r._onDidBlurEditor.event,r._onWillType=r._register(new L.Emitter),r.onWillType=r._onWillType.event,r._onDidType=r._register(new L.Emitter),r.onDidType=r._onDidType.event,r._onDidPaste=r._register(new L.Emitter),r.onDidPaste=r._onDidPaste.event,r.domElement=e,r.id=++y,r._decorationTypeKeysToIds={},r._decorationTypeSubtypes={},a=a||{},r._configuration=r._register(r._createConfiguration(a)),r._register(r._configuration.onDidChange(function(t){r._onDidChangeConfiguration.fire(t),t.layoutInfo&&r._onDidLayoutChange.fire(r._configuration.editor.layoutInfo)})),r._contextKeyService=r._register(o.createScoped(r.domElement)),r._register(new b(r,r._contextKeyService)),r._register(new m.EditorModeContext(r,r._contextKeyService)),r._instantiationService=n.createChild(new i.ServiceCollection([s.IContextKeyService,r._contextKeyService])),r._attachModel(null),r._contributions={},r._actions={},r}return Z(e,h),e.prototype.getId=function(){return this.getEditorType()+":"+this.id},e.prototype.getEditorType=function(){return c.EditorType.ICodeEditor},e.prototype.destroy=function(){this.dispose()},e.prototype.dispose=function(){for(var e=Object.keys(this._contributions),t=0,n=e.length,i;t<n;t++)i=e[t],this._contributions[i].dispose();this._contributions={},this._actions={},this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),h.prototype.dispose.call(this)},e.prototype.invokeWithinContext=function(t){return this._instantiationService.invokeFunction(t)},e.prototype.updateOptions=function(t){this._configuration.updateOptions(t)},e.prototype.getConfiguration=function(){return this._configuration.editor},e.prototype.getRawConfiguration=function(){return this._configuration.getRawOptions()},e.prototype.getValue=function(o){if(void 0===o&&(o=null),this.model){var e=o&&o.preserveBOM,t=c.EndOfLinePreference.TextDefined;return o&&o.lineEnding&&"\n"===o.lineEnding?t=c.EndOfLinePreference.LF:o&&o.lineEnding&&"\r\n"===o.lineEnding&&(t=c.EndOfLinePreference.CRLF),this.model.getValue(t,e)}return""},e.prototype.setValue=function(t){this.model&&this.model.setValue(t)},e.prototype.getModel=function(){return this.model},e.prototype.setModel=function(o){if(void 0===o&&(o=null),this.model!==o){var e=this._detachModel();this._attachModel(o);var t={oldModelUrl:e?e.uri:null,newModelUrl:o?o.uri:null};this._onDidChangeModel.fire(t),this._postDetachModelCleanup(e)}},e.prototype.getCenteredRangeInViewport=function(){return this.hasView?this.viewModel.getCenteredRangeInViewport():null},e.prototype.getVisibleColumnFromPosition=function(o){if(!this.model)return o.column;var e=this.model.validatePosition(o),t=this.model.getOptions().tabSize;return r.CursorColumns.visibleColumnFromColumn(this.model.getLineContent(e.lineNumber),e.column,t)+1},e.prototype.getPosition=function(){return this.cursor?this.cursor.getPosition().clone():null},e.prototype.setPosition=function(o,e,t,n){if(void 0===e&&(e=!1),void 0===t&&(t=!1),void 0===n&&(n=!1),this.cursor){if(!a.Position.isIPosition(o))throw new Error("Invalid arguments");this.cursor.setSelections("api",[{selectionStartLineNumber:o.lineNumber,selectionStartColumn:o.column,positionLineNumber:o.lineNumber,positionColumn:o.column}]),e&&this.revealPosition(o,t,n)}},e.prototype._sendRevealRange=function(r,e,t){if(this.model&&this.cursor){if(!l.Range.isIRange(r))throw new Error("Invalid arguments");var n=this.model.validateRange(r),i=this.viewModel.coordinatesConverter.convertModelRangeToViewRange(n);this.cursor.emitCursorRevealRange(i,e,t)}},e.prototype.revealLine=function(t){this._revealLine(t,0)},e.prototype.revealLineInCenter=function(t){this._revealLine(t,1)},e.prototype.revealLineInCenterIfOutsideViewport=function(t){this._revealLine(t,2)},e.prototype._revealLine=function(o,n){if("number"!=typeof o)throw new Error("Invalid arguments");this._sendRevealRange(new l.Range(o,1,o,1),n,!1)},e.prototype.revealPosition=function(o,e,t){void 0===e&&(e=!1),void 0===t&&(t=!1),this._revealPosition(o,e?1:0,t)},e.prototype.revealPositionInCenter=function(t){this._revealPosition(t,1,!0)},e.prototype.revealPositionInCenterIfOutsideViewport=function(t){this._revealPosition(t,2,!0)},e.prototype._revealPosition=function(o,e,t){if(!a.Position.isIPosition(o))throw new Error("Invalid arguments");this._sendRevealRange(new l.Range(o.lineNumber,o.column,o.lineNumber,o.column),e,t)},e.prototype.getSelection=function(){return this.cursor?this.cursor.getSelection().clone():null},e.prototype.getSelections=function(){if(!this.cursor)return null;for(var o=this.cursor.getSelections(),e=[],t=0,n=o.length;t<n;t++)e[t]=o[t].clone();return e},e.prototype.setSelection=function(a,e,t,n){void 0===e&&(e=!1),void 0===t&&(t=!1),void 0===n&&(n=!1);var i=d.Selection.isISelection(a),p=l.Range.isIRange(a);if(!i&&!p)throw new Error("Invalid arguments");if(i)this._setSelectionImpl(a,e,t,n);else if(p){var c={selectionStartLineNumber:a.startLineNumber,selectionStartColumn:a.startColumn,positionLineNumber:a.endLineNumber,positionColumn:a.endColumn};this._setSelectionImpl(c,e,t,n)}},e.prototype._setSelectionImpl=function(r,e,t,n){if(this.cursor){var i=new d.Selection(r.selectionStartLineNumber,r.selectionStartColumn,r.positionLineNumber,r.positionColumn);this.cursor.setSelections("api",[i]),e&&this.revealRange(i,t,n)}},e.prototype.revealLines=function(o,e){this._revealLines(o,e,0)},e.prototype.revealLinesInCenter=function(o,e){this._revealLines(o,e,1)},e.prototype.revealLinesInCenterIfOutsideViewport=function(o,e){this._revealLines(o,e,2)},e.prototype._revealLines=function(o,i,r){if("number"!=typeof o||"number"!=typeof i)throw new Error("Invalid arguments");this._sendRevealRange(new l.Range(o,1,i,1),r,!1)},e.prototype.revealRange=function(o,e,t){void 0===e&&(e=!1),void 0===t&&(t=!0),this._revealRange(o,e?1:0,t)},e.prototype.revealRangeInCenter=function(t){this._revealRange(t,1,!0)},e.prototype.revealRangeInCenterIfOutsideViewport=function(t){this._revealRange(t,2,!0)},e.prototype.revealRangeAtTop=function(t){this._revealRange(t,3,!0)},e.prototype._revealRange=function(o,e,t){if(!l.Range.isIRange(o))throw new Error("Invalid arguments");this._sendRevealRange(l.Range.lift(o),e,t)},e.prototype.setSelections=function(o){if(this.cursor){if(!o||0===o.length)throw new Error("Invalid arguments");for(var i=0,t=o.length;i<t;i++)if(!d.Selection.isISelection(o[i]))throw new Error("Invalid arguments");this.cursor.setSelections("api",o)}},e.prototype.getScrollWidth=function(){return this.hasView?this.viewModel.viewLayout.getScrollWidth():-1},e.prototype.getScrollLeft=function(){return this.hasView?this.viewModel.viewLayout.getScrollLeft():-1},e.prototype.getScrollHeight=function(){return this.hasView?this.viewModel.viewLayout.getScrollHeight():-1},e.prototype.getScrollTop=function(){return this.hasView?this.viewModel.viewLayout.getScrollTop():-1},e.prototype.setScrollLeft=function(t){if(this.hasView){if("number"!=typeof t)throw new Error("Invalid arguments");this.viewModel.viewLayout.setScrollPosition({scrollLeft:t})}},e.prototype.setScrollTop=function(t){if(this.hasView){if("number"!=typeof t)throw new Error("Invalid arguments");this.viewModel.viewLayout.setScrollPosition({scrollTop:t})}},e.prototype.setScrollPosition=function(t){this.hasView&&this.viewModel.viewLayout.setScrollPosition(t)},e.prototype.saveViewState=function(){if(!this.cursor||!this.hasView)return null;for(var a={},s=Object.keys(this._contributions),t=0,n=s.length;t<n;t++){var i=s[t],o=this._contributions[i];"function"==typeof o.saveViewState&&(a[i]=o.saveViewState())}return{cursorState:this.cursor.saveState(),viewState:this.viewModel.viewLayout.saveState(),contributionsState:a}},e.prototype.restoreViewState=function(d){if(this.cursor&&this.hasView&&d&&d.cursorState&&d.viewState){var e=d,t=e.cursorState;Array.isArray(t)?this.cursor.restoreState(t):this.cursor.restoreState([t]),this.viewModel.viewLayout.restoreState(e.viewState);for(var n=d.contributionsState||{},i=Object.keys(this._contributions),o=0,r=i.length;o<r;o++){var s=i[o],a=this._contributions[s];"function"==typeof a.restoreViewState&&a.restoreViewState(n[s])}}},e.prototype.onVisible=function(){},e.prototype.onHide=function(){},e.prototype.getContribution=function(t){return this._contributions[t]||null},e.prototype.getActions=function(){for(var r=[],e=Object.keys(this._actions),t=0,n=e.length,i;t<n;t++)i=e[t],r.push(this._actions[i]);return r},e.prototype.getSupportedActions=function(){var t=this.getActions();return t=t.filter(function(t){return t.isSupported()})},e.prototype.getAction=function(t){return this._actions[t]||null},e.prototype.trigger=function(r,e,t){if(t=t||{},e===c.Handler.Type)return this.cursor&&"string"==typeof t.text&&0!==t.text.length?("keyboard"===r&&this._onWillType.fire(t.text),this.cursor.trigger(r,e,t),void("keyboard"===r&&this._onDidType.fire(t.text))):void 0;if(e!==c.Handler.Paste){var i=this.getAction(e);if(i)n.TPromise.as(i.run()).done(null,E.onUnexpectedError);else if(this.cursor){var o=_.CommonEditorRegistry.getEditorCommand(e);if(o)return t=t||{},t.source=r,void n.TPromise.as(o.runEditorCommand(null,this,t)).done(null,E.onUnexpectedError);this.cursor.trigger(r,e,t)}}else{if(!this.cursor||"string"!=typeof t.text||0===t.text.length)return;var s=this.cursor.getSelection().getStartPosition();this.cursor.trigger(r,e,t);var a=this.cursor.getSelection().getStartPosition();"keyboard"===r&&this._onDidPaste.fire(new l.Range(s.lineNumber,s.column,a.lineNumber,a.column))}},e.prototype._getCursors=function(){return this.cursor},e.prototype._getCursorConfiguration=function(){return this.cursor.context.config},e.prototype.pushUndoStop=function(){return!!this.model&&!this._configuration.editor.readOnly&&(this.model.pushStackElement(),!0)},e.prototype.executeEdits=function(o,e,t){var n=this;return!!this.cursor&&!this._configuration.editor.readOnly&&(this.model.pushEditOperations(this.cursor.getSelections(),e,function(){return t||n.cursor.getSelections()}),t&&this.cursor.setSelections(o,t),!0)},e.prototype.executeCommand=function(o,e){this.cursor&&this.cursor.trigger(o,c.Handler.ExecuteCommand,e)},e.prototype.executeCommands=function(o,e){this.cursor&&this.cursor.trigger(o,c.Handler.ExecuteCommands,e)},e.prototype.changeDecorations=function(t){return this.model?this.model.changeDecorations(t,this.id):null},e.prototype.getLineDecorations=function(t){return this.model?this.model.getLineDecorations(t,this.id,this._configuration.editor.readOnly):null},e.prototype.deltaDecorations=function(o,e){return this.model?0===o.length&&0===e.length?o:this.model.deltaDecorations(o,e,this.id):[]},e.prototype.setDecorations=function(p,e){var t={},n=this._decorationTypeSubtypes[p]||{};this._decorationTypeSubtypes[p]=t;for(var i=[],o=0,r=e;o<r.length;o++){var s=r[o],a=p;s.renderOptions&&(a=p+"-"+(m=g.hash(s.renderOptions).toString(16)),n[m]||t[m]||this._registerDecorationType(a,s.renderOptions,p),t[m]=!0);var u=this._resolveDecorationOptions(a,!!s.hoverMessage);s.hoverMessage&&(u.hoverMessage=s.hoverMessage),i.push({range:s.range,options:u})}for(var m in n)t[m]||this._removeDecorationType(p+"-"+m);var c=this._decorationTypeKeysToIds[p]||[];this._decorationTypeKeysToIds[p]=this.deltaDecorations(c,i)},e.prototype.removeDecorations=function(o){var e=this._decorationTypeKeysToIds[o];e&&this.deltaDecorations(e,[]),this._decorationTypeKeysToIds.hasOwnProperty(o)&&delete this._decorationTypeKeysToIds[o],this._decorationTypeSubtypes.hasOwnProperty(o)&&delete this._decorationTypeSubtypes[o]},e.prototype.getLayoutInfo=function(){return this._configuration.editor.layoutInfo},e.prototype._attachModel=function(n){var a=this;this.model=n||null,this.listenersToRemove=[],this.viewModel=null,this.cursor=null,this.model?(this.domElement.setAttribute("data-mode-id",this.model.getLanguageIdentifier().language),this._configuration.setIsDominatedByLongLines(this.model.isDominatedByLongLines()),this._configuration.setMaxLineNumber(this.model.getLineCount()),this.model.onBeforeAttached(),this.viewModel=new p.ViewModel(this.id,this._configuration,this.model),this.listenersToRemove.push(this.model.addBulkListener(function(t){for(var e=0,n=t.length;e<n;e++){var i=t[e].type,o=t[e].data;i===u.TextModelEventType.ModelDecorationsChanged?a._onDidChangeModelDecorations.fire(o):i===u.TextModelEventType.ModelLanguageChanged?(a.domElement.setAttribute("data-mode-id",a.model.getLanguageIdentifier().language),a._onDidChangeModelLanguage.fire(o)):i===u.TextModelEventType.ModelContentChanged?a._onDidChangeModelContent.fire(o):i===u.TextModelEventType.ModelOptionsChanged?a._onDidChangeModelOptions.fire(o):i===u.TextModelEventType.ModelDispose?a.setModel(null):void 0}})),this.cursor=new o.Cursor(this._configuration,this.model,this.viewModel),this._createView(),this.listenersToRemove.push(this.cursor.onDidChange(function(t){for(var e=[],n=0,i=t.selections.length;n<i;n++)e[n]=t.selections[n].getPosition();var o={position:e[0],secondaryPositions:e.slice(1),reason:t.reason,source:t.source};a._onDidChangeCursorPosition.fire(o);var r={selection:t.selections[0],secondarySelections:t.selections.slice(1),source:t.source,reason:t.reason};a._onDidChangeCursorSelection.fire(r)}))):this.hasView=!1},e.prototype._postDetachModelCleanup=function(o){if(o){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(var e in this._decorationTypeSubtypes){var t=this._decorationTypeSubtypes[e];for(var n in t)this._removeDecorationType(e+"-"+n)}this._decorationTypeSubtypes={}}o.removeAllDecorationsWithOwnerId(this.id)}},e.prototype._detachModel=function(){this.model&&this.model.onBeforeDetached(),this.hasView=!1,this.listenersToRemove=t.dispose(this.listenersToRemove),this.cursor&&(this.cursor.dispose(),this.cursor=null),this.viewModel&&(this.viewModel.dispose(),this.viewModel=null);var o=this.model;return this.model=null,this.domElement.removeAttribute("data-mode-id"),o},e.prototype.getTelemetryData=function(){return null},e}(t.Disposable);e.CommonCodeEditor=C;var b=function(o){function e(e,r){var n=o.call(this)||this;return n._editor=e,n._editorId=r.createKey("editorId",e.getId()),n._editorFocus=h.EditorContextKeys.focus.bindTo(r),n._editorTextFocus=h.EditorContextKeys.textFocus.bindTo(r),n._editorTabMovesFocus=h.EditorContextKeys.tabMovesFocus.bindTo(r),n._editorReadonly=h.EditorContextKeys.readOnly.bindTo(r),n._hasMultipleSelections=h.EditorContextKeys.hasMultipleSelections.bindTo(r),n._hasNonEmptySelection=h.EditorContextKeys.hasNonEmptySelection.bindTo(r),n._register(n._editor.onDidChangeConfiguration(function(){return n._updateFromConfig()})),n._register(n._editor.onDidChangeCursorSelection(function(){return n._updateFromSelection()})),n._register(n._editor.onDidFocusEditor(function(){return n._updateFromFocus()})),n._register(n._editor.onDidBlurEditor(function(){return n._updateFromFocus()})),n._register(n._editor.onDidFocusEditorText(function(){return n._updateFromFocus()})),n._register(n._editor.onDidBlurEditorText(function(){return n._updateFromFocus()})),n._updateFromConfig(),n._updateFromSelection(),n._updateFromFocus(),n}return Z(e,o),e.prototype._updateFromConfig=function(){var t=this._editor.getConfiguration();this._editorTabMovesFocus.set(t.tabFocusMode),this._editorReadonly.set(t.readOnly)},e.prototype._updateFromSelection=function(){var t=this._editor.getSelections();t?(this._hasMultipleSelections.set(1<t.length),this._hasNonEmptySelection.set(t.some(function(t){return!t.isEmpty()}))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())},e.prototype._updateFromFocus=function(){this._editorFocus.set(this._editor.hasWidgetFocus()),this._editorTextFocus.set(this._editor.isFocused())},e}(t.Disposable)}),define(s[134],n([1,0,12,2,20,39,54,173,13,311,21,105,42,19,29,64,119,170]),function(f,e,x,N,t,o,T,s,a,u,l,n,i,r,d,p,c,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var m=t.Handler,I=n.KeybindingsRegistry.WEIGHT.editorCore(),k=function(o){function e(){return null!==o&&o.apply(this,arguments)||this}return Z(e,o),e.prototype.runEditorCommand=function(o,e,t){this.runCoreEditorCommand(e._getCursors(),t||{})},e}(a.EditorCommand);e.CoreEditorCommand=k;var h;!function(o){o.description={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'to': A mandatory direction value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'up', 'down'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'by': Unit to move. Default is computed based on 'to' value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'line', 'wrappedLine', 'page', 'halfPage'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'value': Number of units to move. Default is '1'.\n\t\t\t\t\t* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n\t\t\t\t",constraint:function(o){if(!d.isObject(o))return!1;var e=o;return d.isString(e.to)&&(d.isUndefined(e.by)||d.isString(e.by))&&(d.isUndefined(e.value)||d.isNumber(e.value))&&(d.isUndefined(e.revealCursor)||d.isBoolean(e.revealCursor))}}]},o.RawDirection={Up:"up",Down:"down"},o.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage"},o.parse=function(e){var t;switch(e.to){case o.RawDirection.Up:t=1;break;case o.RawDirection.Down:t=2;break;default:return null;}var r;switch(e.by){case o.RawUnit.Line:r=1;break;case o.RawUnit.WrappedLine:r=2;break;case o.RawUnit.Page:r=3;break;case o.RawUnit.HalfPage:r=4;break;default:r=2;}return{direction:t,unit:r,value:M(e.value||1),revealCursor:!!e.revealCursor,select:!!e.select}},!function(t){t[t.Up=1]="Up",t[t.Down=2]="Down"}(o.Direction||(o.Direction={})),!function(t){t[t.Line=1]="Line",t[t.WrappedLine=2]="WrappedLine",t[t.Page=3]="Page",t[t.HalfPage=4]="HalfPage"}(o.Unit||(o.Unit={}))}(h=e.EditorScroll_||(e.EditorScroll_={}));var _;!function(t){t.description={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'lineNumber': A mandatory line number value.\n\t\t\t\t\t* 'at': Logical position at which line has to be revealed .\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'top', 'center', 'bottom'\n\t\t\t\t\t\t```\n\t\t\t\t",constraint:function(o){if(!d.isObject(o))return!1;var e=o;return d.isNumber(e.lineNumber)&&(d.isUndefined(e.at)||d.isString(e.at))}}]},t.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"}}(_=e.RevealLine_||(e.RevealLine_={}));var y;!function(r){var e=function(o){function e(e){var i=o.call(this,e)||this;return i._inSelectionMode=e.inSelectionMode,i}return Z(e,o),e.prototype.runCoreEditorCommand=function(o,e){o.context.model.pushStackElement(),o.setStates(e.source,T.CursorChangeReason.Explicit,[s.CursorMoveCommands.moveTo(o.context,o.getPrimaryCursor(),this._inSelectionMode,e.position,e.viewPosition)]),o.reveal(!0,0)},e}(k);r.MoveTo=a.registerEditorCommand(new e({id:"_moveTo",inSelectionMode:!1,precondition:null})),r.MoveToSelect=a.registerEditorCommand(new e({id:"_moveToSelect",inSelectionMode:!0,precondition:null}));var t=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Z(e,n),e.prototype.runCoreEditorCommand=function(i,e){i.context.model.pushStackElement();var t=this._getColumnSelectResult(i.context,i.getPrimaryCursor(),i.getColumnSelectData(),e);i.setStates(e.source,T.CursorChangeReason.Explicit,t.viewStates.map(function(t){return o.CursorState.fromViewState(t)})),i.setColumnSelectData({toViewLineNumber:t.toLineNumber,toViewVisualColumn:t.toVisualColumn}),i.reveal(!0,t.reversed?1:2)},e}(k);r.ColumnSelect=a.registerEditorCommand(new(function(o){function e(){return o.call(this,{id:"columnSelect",precondition:null})||this}return Z(e,o),e.prototype._getColumnSelectResult=function(n,e,t,i){var o=n.model.validatePosition(i.position),a;return a=i.viewPosition?n.validateViewPosition(new x.Position(i.viewPosition.lineNumber,i.viewPosition.column),o):n.convertModelPositionToViewPosition(o),u.ColumnSelection.columnSelect(n.config,n.viewModel,e.viewState.selection,a.lineNumber,i.mouseColumn-1)},e}(t))),r.CursorColumnSelectLeft=a.registerEditorCommand(new(function(o){function e(){return o.call(this,{id:"cursorColumnSelectLeft",precondition:null,kbOpts:{weight:I,kbExpr:l.EditorContextKeys.textFocus,primary:3599,linux:{primary:0}}})||this}return Z(e,o),e.prototype._getColumnSelectResult=function(o,e,t){return u.ColumnSelection.columnSelectLeft(o.config,o.viewModel,e.viewState,t.toViewLineNumber,t.toViewVisualColumn)},e}(t))),r.CursorColumnSelectRight=a.registerEditorCommand(new(function(o){function e(){return o.call(this,{id:"cursorColumnSelectRight",precondition:null,kbOpts:{weight:I,kbExpr:l.EditorContextKeys.textFocus,primary:3601,linux:{primary:0}}})||this}return Z(e,o),e.prototype._getColumnSelectResult=function(o,e,t){return u.ColumnSelection.columnSelectRight(o.config,o.viewModel,e.viewState,t.toViewLineNumber,t.toViewVisualColumn)},e}(t)));var n=function(o){function e(e){var i=o.call(this,e)||this;return i._isPaged=e.isPaged,i}return Z(e,o),e.prototype._getColumnSelectResult=function(o,e,t){return u.ColumnSelection.columnSelectUp(o.config,o.viewModel,e.viewState,this._isPaged,t.toViewLineNumber,t.toViewVisualColumn)},e}(t);r.CursorColumnSelectUp=a.registerEditorCommand(new n({isPaged:!1,id:"cursorColumnSelectUp",precondition:null,kbOpts:{weight:I,kbExpr:l.EditorContextKeys.textFocus,primary:3600,linux:{primary:0}}})),r.CursorColumnSelectPageUp=a.registerEditorCommand(new n({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:null,kbOpts:{weight:I,kbExpr:l.EditorContextKeys.textFocus,primary:3595,linux:{primary:0}}}));var i=function(o){function e(e){var i=o.call(this,e)||this;return i._isPaged=e.isPaged,i}return Z(e,o),e.prototype._getColumnSelectResult=function(o,e,t){return u.ColumnSelection.columnSelectDown(o.config,o.viewModel,e.viewState,this._isPaged,t.toViewLineNumber,t.toViewVisualColumn)},e}(t);r.CursorColumnSelectDown=a.registerEditorCommand(new i({isPaged:!1,id:"cursorColumnSelectDown",precondition:null,kbOpts:{weight:I,kbExpr:l.EditorContextKeys.textFocus,primary:3602,linux:{primary:0}}})),r.CursorColumnSelectPageDown=a.registerEditorCommand(new i({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:null,kbOpts:{weight:I,kbExpr:l.EditorContextKeys.textFocus,primary:3596,linux:{primary:0}}}));var d=function(n){function e(){return n.call(this,{id:"cursorMove",precondition:null,description:s.CursorMove.description})||this}return Z(e,n),e.prototype.runCoreEditorCommand=function(o,e){var t=s.CursorMove.parse(e);t&&this._runCursorMove(o,e.source,t)},e.prototype._runCursorMove=function(i,e,t){i.context.model.pushStackElement(),i.setStates(e,T.CursorChangeReason.Explicit,o.CursorState.ensureInEditableRange(i.context,s.CursorMoveCommands.move(i.context,i.getAll(),t))),i.reveal(!0,0)},e}(k);r.CursorMoveImpl=d,r.CursorMove=a.registerEditorCommand(new d);var p;!function(t){t[t.PAGE_SIZE_MARKER=-1]="PAGE_SIZE_MARKER"}(p||(p={}));var c=function(o){function e(t){var e=o.call(this,t)||this;return e._staticArgs=t.args,e}return Z(e,o),e.prototype.runCoreEditorCommand=function(e,t){var o=this._staticArgs;-1===this._staticArgs.value&&(o={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:e.context.config.pageSize}),r.CursorMove._runCursorMove(e,t.source,o)},e}(k);r.CursorLeft=a.registerEditorCommand(new c({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:null,kbOpts:{weight:I,kbExpr:l.EditorContextKeys.textFocus,primary:15,mac:{primary:15,secondary:[288]}}})),r.CursorLeftSelect=a.registerEditorCommand(new c({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:null,kbOpts:{weight:I,kbExpr:l.EditorContextKeys.textFocus,primary:1039}})),r.CursorRight=a.registerEditorCommand(new c({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:null,kbOpts:{weight:I,kbExpr:l.EditorContextKeys.textFocus,primary:17,mac:{primary:17,secondary:[292]}}})),r.CursorRightSelect=a.registerEditorCommand(new c({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:null,kbOpts:{weight:I,kbExpr:l.EditorContextKeys.textFocus,primary:1041}})),r.CursorUp=a.registerEditorCommand(new c({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:null,kbOpts:{weight:I,kbExpr:l.EditorContextKeys.textFocus,primary:16,mac:{primary:16,secondary:[302]}}})),r.CursorUpSelect=a.registerEditorCommand(new c({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:null,kbOpts:{weight:I,kbExpr:l.EditorContextKeys.textFocus,primary:1040,secondary:[3088],mac:{primary:1040},linux:{primary:1040}}})),r.CursorPageUp=a.registerEditorCommand(new c({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:null,kbOpts:{weight:I,kbExpr:l.EditorContextKeys.textFocus,primary:11}})),r.CursorPageUpSelect=a.registerEditorCommand(new c({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:null,kbOpts:{weight:I,kbExpr:l.EditorContextKeys.textFocus,primary:1035}})),r.CursorDown=a.registerEditorCommand(new c({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:null,kbOpts:{weight:I,kbExpr:l.EditorContextKeys.textFocus,primary:18,mac:{primary:18,secondary:[300]}}})),r.CursorDownSelect=a.registerEditorCommand(new c({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:null,kbOpts:{weight:I,kbExpr:l.EditorContextKeys.textFocus,primary:1042,secondary:[3090],mac:{primary:1042},linux:{primary:1042}}})),r.CursorPageDown=a.registerEditorCommand(new c({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:null,kbOpts:{weight:I,kbExpr:l.EditorContextKeys.textFocus,primary:12}})),r.CursorPageDownSelect=a.registerEditorCommand(new c({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:null,kbOpts:{weight:I,kbExpr:l.EditorContextKeys.textFocus,primary:1036}})),r.CreateCursor=a.registerEditorCommand(new(function(o){function e(){return o.call(this,{id:"createCursor",precondition:null})||this}return Z(e,o),e.prototype.runCoreEditorCommand=function(a,e){var t=a.context;if(!t.config.readOnly&&!t.model.hasEditableRange()){var n=e.wholeLine?s.CursorMoveCommands.line(t,a.getPrimaryCursor(),!1,e.position,e.viewPosition):s.CursorMoveCommands.moveTo(t,a.getPrimaryCursor(),!1,e.position,e.viewPosition);var i=a.getAll();if(1<i.length)for(var o=n.modelState?n.modelState.position:null,p=n.viewState?n.viewState.position:null,g=0,l=i.length,c;g<l;g++)if(c=i[g],(!o||c.modelState.selection.containsPosition(o))&&(!p||c.viewState.selection.containsPosition(p)))return i.splice(g,1),a.context.model.pushStackElement(),void a.setStates(e.source,T.CursorChangeReason.Explicit,i);i.push(n),a.context.model.pushStackElement(),a.setStates(e.source,T.CursorChangeReason.Explicit,i)}},e}(k))),r.LastCursorMoveToSelect=a.registerEditorCommand(new(function(o){function e(){return o.call(this,{id:"_lastCursorMoveToSelect",precondition:null})||this}return Z(e,o),e.prototype.runCoreEditorCommand=function(r,e){var t=r.context;if(!t.config.readOnly&&!t.model.hasEditableRange()){var n=r.getLastAddedCursorIndex(),i=r.getAll().slice(0);i[n]=s.CursorMoveCommands.moveTo(t,i[n],!0,e.position,e.viewPosition),r.context.model.pushStackElement(),r.setStates(e.source,T.CursorChangeReason.Explicit,i)}},e}(k)));var g=function(i){function e(e){var o=i.call(this,e)||this;return o._inSelectionMode=e.inSelectionMode,o}return Z(e,i),e.prototype.runCoreEditorCommand=function(n,e){n.context.model.pushStackElement(),n.setStates(e.source,T.CursorChangeReason.Explicit,o.CursorState.ensureInEditableRange(n.context,s.CursorMoveCommands.moveToBeginningOfLine(n.context,n.getAll(),this._inSelectionMode))),n.reveal(!0,0)},e}(k);r.CursorHome=a.registerEditorCommand(new g({inSelectionMode:!1,id:"cursorHome",precondition:null,kbOpts:{weight:I,kbExpr:l.EditorContextKeys.textFocus,primary:14,mac:{primary:14,secondary:[2063]}}})),r.CursorHomeSelect=a.registerEditorCommand(new g({inSelectionMode:!0,id:"cursorHomeSelect",precondition:null,kbOpts:{weight:I,kbExpr:l.EditorContextKeys.textFocus,primary:1038,mac:{primary:1038,secondary:[3087]}}})),r.CursorLineStart=a.registerEditorCommand(new(function(n){function e(){return n.call(this,{id:"cursorLineStart",precondition:null,kbOpts:{weight:I,kbExpr:l.EditorContextKeys.textFocus,primary:0,mac:{primary:287}}})||this}return Z(e,n),e.prototype.runCoreEditorCommand=function(n,e){n.context.model.pushStackElement(),n.setStates(e.source,T.CursorChangeReason.Explicit,o.CursorState.ensureInEditableRange(n.context,this._exec(n.context,n.getAll()))),n.reveal(!0,0)},e.prototype._exec=function(r,e){for(var t=[],n=0,i=e.length;n<i;n++){var d=e[n],s=d.modelState.position.lineNumber;t[n]=o.CursorState.fromModelState(d.modelState.move(!1,s,1,0))}return t},e}(k)));var m=function(i){function e(e){var o=i.call(this,e)||this;return o._inSelectionMode=e.inSelectionMode,o}return Z(e,i),e.prototype.runCoreEditorCommand=function(n,e){n.context.model.pushStackElement(),n.setStates(e.source,T.CursorChangeReason.Explicit,o.CursorState.ensureInEditableRange(n.context,s.CursorMoveCommands.moveToEndOfLine(n.context,n.getAll(),this._inSelectionMode))),n.reveal(!0,0)},e}(k);r.CursorEnd=a.registerEditorCommand(new m({inSelectionMode:!1,id:"cursorEnd",precondition:null,kbOpts:{weight:I,kbExpr:l.EditorContextKeys.textFocus,primary:13,mac:{primary:13,secondary:[2065]}}})),r.CursorEndSelect=a.registerEditorCommand(new m({inSelectionMode:!0,id:"cursorEndSelect",precondition:null,kbOpts:{weight:I,kbExpr:l.EditorContextKeys.textFocus,primary:1037,mac:{primary:1037,secondary:[3089]}}})),r.CursorLineEnd=a.registerEditorCommand(new(function(n){function e(){return n.call(this,{id:"cursorLineEnd",precondition:null,kbOpts:{weight:I,kbExpr:l.EditorContextKeys.textFocus,primary:0,mac:{primary:291}}})||this}return Z(e,n),e.prototype.runCoreEditorCommand=function(n,e){n.context.model.pushStackElement(),n.setStates(e.source,T.CursorChangeReason.Explicit,o.CursorState.ensureInEditableRange(n.context,this._exec(n.context,n.getAll()))),n.reveal(!0,0)},e.prototype._exec=function(r,e){for(var t=[],n=0,i=e.length;n<i;n++){var d=e[n],s=d.modelState.position.lineNumber,a=r.model.getLineMaxColumn(s);t[n]=o.CursorState.fromModelState(d.modelState.move(!1,s,a,0))}return t},e}(k)));var f=function(i){function e(e){var o=i.call(this,e)||this;return o._inSelectionMode=e.inSelectionMode,o}return Z(e,i),e.prototype.runCoreEditorCommand=function(n,e){n.context.model.pushStackElement(),n.setStates(e.source,T.CursorChangeReason.Explicit,o.CursorState.ensureInEditableRange(n.context,s.CursorMoveCommands.moveToBeginningOfBuffer(n.context,n.getAll(),this._inSelectionMode))),n.reveal(!0,0)},e}(k);r.CursorTop=a.registerEditorCommand(new f({inSelectionMode:!1,id:"cursorTop",precondition:null,kbOpts:{weight:I,kbExpr:l.EditorContextKeys.textFocus,primary:2062,mac:{primary:2064}}})),r.CursorTopSelect=a.registerEditorCommand(new f({inSelectionMode:!0,id:"cursorTopSelect",precondition:null,kbOpts:{weight:I,kbExpr:l.EditorContextKeys.textFocus,primary:3086,mac:{primary:3088}}}));var y=function(i){function e(e){var o=i.call(this,e)||this;return o._inSelectionMode=e.inSelectionMode,o}return Z(e,i),e.prototype.runCoreEditorCommand=function(n,e){n.context.model.pushStackElement(),n.setStates(e.source,T.CursorChangeReason.Explicit,o.CursorState.ensureInEditableRange(n.context,s.CursorMoveCommands.moveToEndOfBuffer(n.context,n.getAll(),this._inSelectionMode))),n.reveal(!0,0)},e}(k);r.CursorBottom=a.registerEditorCommand(new y({inSelectionMode:!1,id:"cursorBottom",precondition:null,kbOpts:{weight:I,kbExpr:l.EditorContextKeys.textFocus,primary:2061,mac:{primary:2066}}})),r.CursorBottomSelect=a.registerEditorCommand(new y({inSelectionMode:!0,id:"cursorBottomSelect",precondition:null,kbOpts:{weight:I,kbExpr:l.EditorContextKeys.textFocus,primary:3085,mac:{primary:3090}}}));var b=function(o){function e(){return o.call(this,{id:"editorScroll",precondition:null,description:h.description})||this}return Z(e,o),e.prototype.runCoreEditorCommand=function(o,e){var t=h.parse(e);t&&this._runEditorScroll(o,e.source,t)},e.prototype._runEditorScroll=function(r,e,t){var n=this._computeDesiredScrollTop(r.context,t);if(t.revealCursor){var i=r.context.getCompletelyVisibleViewRangeAtScrollTop(n);r.setStates(e,T.CursorChangeReason.Explicit,[s.CursorMoveCommands.findPositionInViewportIfOutside(r.context,r.getPrimaryCursor(),i,t.select)])}r.scrollTo(n)},e.prototype._computeDesiredScrollTop=function(n,e){if(1===e.unit){var t=n.getCompletelyVisibleModelRange(),i;i=1===e.direction?G(1,t.startLineNumber-e.value):q(n.model.getLineCount(),t.startLineNumber+e.value);var o=n.convertModelPositionToViewPosition(new x.Position(i,1));return n.getVerticalOffsetForViewLine(o.lineNumber)}var r=3===e.unit?n.config.pageSize*e.value:4===e.unit?w(n.config.pageSize/2)*e.value:e.value;var s=(1===e.direction?-1:1)*r;return n.getScrollTop()+s*n.config.lineHeight},e}(k);r.EditorScrollImpl=b,r.EditorScroll=a.registerEditorCommand(new b),r.ScrollLineUp=a.registerEditorCommand(new(function(e){function t(){return e.call(this,{id:"scrollLineUp",precondition:null,kbOpts:{weight:I,kbExpr:l.EditorContextKeys.textFocus,primary:2064,mac:{primary:267}}})||this}return Z(t,e),t.prototype.runCoreEditorCommand=function(e,t){r.EditorScroll._runEditorScroll(e,t.source,{direction:1,unit:2,value:1,revealCursor:!1,select:!1})},t}(k))),r.ScrollPageUp=a.registerEditorCommand(new(function(e){function t(){return e.call(this,{id:"scrollPageUp",precondition:null,kbOpts:{weight:I,kbExpr:l.EditorContextKeys.textFocus,primary:2059,win:{primary:523},linux:{primary:523}}})||this}return Z(t,e),t.prototype.runCoreEditorCommand=function(e,t){r.EditorScroll._runEditorScroll(e,t.source,{direction:1,unit:3,value:1,revealCursor:!1,select:!1})},t}(k))),r.ScrollLineDown=a.registerEditorCommand(new(function(e){function t(){return e.call(this,{id:"scrollLineDown",precondition:null,kbOpts:{weight:I,kbExpr:l.EditorContextKeys.textFocus,primary:2066,mac:{primary:268}}})||this}return Z(t,e),t.prototype.runCoreEditorCommand=function(e,t){r.EditorScroll._runEditorScroll(e,t.source,{direction:2,unit:2,value:1,revealCursor:!1,select:!1})},t}(k))),r.ScrollPageDown=a.registerEditorCommand(new(function(e){function t(){return e.call(this,{id:"scrollPageDown",precondition:null,kbOpts:{weight:I,kbExpr:l.EditorContextKeys.textFocus,primary:2060,win:{primary:524},linux:{primary:524}}})||this}return Z(t,e),t.prototype.runCoreEditorCommand=function(e,t){r.EditorScroll._runEditorScroll(e,t.source,{direction:2,unit:3,value:1,revealCursor:!1,select:!1})},t}(k)));var v=function(o){function e(e){var i=o.call(this,e)||this;return i._inSelectionMode=e.inSelectionMode,i}return Z(e,o),e.prototype.runCoreEditorCommand=function(o,e){o.context.model.pushStackElement(),o.setStates(e.source,T.CursorChangeReason.Explicit,[s.CursorMoveCommands.word(o.context,o.getPrimaryCursor(),this._inSelectionMode,e.position)]),o.reveal(!0,0)},e}(k);r.WordSelect=a.registerEditorCommand(new v({inSelectionMode:!1,id:"_wordSelect",precondition:null})),r.WordSelectDrag=a.registerEditorCommand(new v({inSelectionMode:!0,id:"_wordSelectDrag",precondition:null})),r.LastCursorWordSelect=a.registerEditorCommand(new(function(o){function e(){return o.call(this,{id:"lastCursorWordSelect",precondition:null})||this}return Z(e,o),e.prototype.runCoreEditorCommand=function(r,e){var t=r.context;if(!t.config.readOnly&&!t.model.hasEditableRange()){var n=r.getLastAddedCursorIndex(),i=r.getAll().slice(0);i[n]=s.CursorMoveCommands.word(t,i[n],!0,e.position),t.model.pushStackElement(),r.setStates(e.source,T.CursorChangeReason.Explicit,i)}},e}(k)));var S=function(o){function e(e){var i=o.call(this,e)||this;return i._inSelectionMode=e.inSelectionMode,i}return Z(e,o),e.prototype.runCoreEditorCommand=function(o,e){o.context.model.pushStackElement(),o.setStates(e.source,T.CursorChangeReason.Explicit,[s.CursorMoveCommands.line(o.context,o.getPrimaryCursor(),this._inSelectionMode,e.position,e.viewPosition)]),o.reveal(!1,0)},e}(k);r.LineSelect=a.registerEditorCommand(new S({inSelectionMode:!1,id:"_lineSelect",precondition:null})),r.LineSelectDrag=a.registerEditorCommand(new S({inSelectionMode:!0,id:"_lineSelectDrag",precondition:null}));var E=function(o){function e(e){var i=o.call(this,e)||this;return i._inSelectionMode=e.inSelectionMode,i}return Z(e,o),e.prototype.runCoreEditorCommand=function(r,e){var t=r.context;if(!t.config.readOnly&&!t.model.hasEditableRange()){var n=r.getLastAddedCursorIndex(),i=r.getAll().slice(0);i[n]=s.CursorMoveCommands.line(r.context,i[n],this._inSelectionMode,e.position,e.viewPosition),r.context.model.pushStackElement(),r.setStates(e.source,T.CursorChangeReason.Explicit,i)}},e}(k);r.LastCursorLineSelect=a.registerEditorCommand(new E({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:null})),r.LastCursorLineSelectDrag=a.registerEditorCommand(new E({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:null})),r.ExpandLineSelection=a.registerEditorCommand(new(function(n){function e(){return n.call(this,{id:"expandLineSelection",precondition:null,kbOpts:{weight:I,kbExpr:l.EditorContextKeys.textFocus,primary:2087}})||this}return Z(e,n),e.prototype.runCoreEditorCommand=function(n,e){n.context.model.pushStackElement(),n.setStates(e.source,T.CursorChangeReason.Explicit,o.CursorState.ensureInEditableRange(n.context,s.CursorMoveCommands.expandLineSelection(n.context,n.getAll()))),n.reveal(!0,0)},e}(k))),r.CancelSelection=a.registerEditorCommand(new(function(o){function e(){return o.call(this,{id:"cancelSelection",precondition:l.EditorContextKeys.hasNonEmptySelection,kbOpts:{weight:I,kbExpr:l.EditorContextKeys.textFocus,primary:9,secondary:[1033]}})||this}return Z(e,o),e.prototype.runCoreEditorCommand=function(o,e){o.context.model.pushStackElement(),o.setStates(e.source,T.CursorChangeReason.Explicit,[s.CursorMoveCommands.cancelSelection(o.context,o.getPrimaryCursor())]),o.reveal(!0,0)},e}(k))),r.RemoveSecondaryCursors=a.registerEditorCommand(new(function(o){function e(){return o.call(this,{id:"removeSecondaryCursors",precondition:l.EditorContextKeys.hasMultipleSelections,kbOpts:{weight:I+1,kbExpr:l.EditorContextKeys.textFocus,primary:9,secondary:[1033]}})||this}return Z(e,o),e.prototype.runCoreEditorCommand=function(o,e){o.context.model.pushStackElement(),o.setStates(e.source,T.CursorChangeReason.Explicit,[o.getPrimaryCursor()]),o.reveal(!0,0)},e}(k))),r.RevealLine=a.registerEditorCommand(new(function(o){function e(){return o.call(this,{id:"revealLine",precondition:null,description:_.description})||this}return Z(e,o),e.prototype.runCoreEditorCommand=function(i,e){var t=e,n=t.lineNumber+1;1>n&&(n=1);var o=i.context.model.getLineCount();n>o&&(n=o);var r=new N.Range(n,1,n,i.context.model.getLineMaxColumn(n)),s=0;if(t.at)switch(t.at){case _.RawAtArgument.Top:s=3;break;case _.RawAtArgument.Center:s=1;break;case _.RawAtArgument.Bottom:s=4;}var a=i.context.convertModelRangeToViewRange(r);i.revealRange(!1,a,s)},e}(k))),r.SelectAll=a.registerEditorCommand(new(function(o){function e(){return o.call(this,{id:"selectAll",precondition:null})||this}return Z(e,o),e.prototype.runCoreEditorCommand=function(o,e){o.context.model.pushStackElement(),o.setStates(e.source,T.CursorChangeReason.Explicit,[s.CursorMoveCommands.selectAll(o.context,o.getPrimaryCursor())])},e}(k)))}(y=e.CoreNavigationCommands||(e.CoreNavigationCommands={})),!function(t){t.LineBreakInsert=a.registerEditorCommand(new(function(o){function e(){return o.call(this,{id:"lineBreakInsert",precondition:l.EditorContextKeys.writable,kbOpts:{weight:I,kbExpr:l.EditorContextKeys.textFocus,primary:null,mac:{primary:301}}})||this}return Z(e,o),e.prototype.runEditorCommand=function(o,e){e.pushUndoStop(),e.executeCommands(this.id,c.TypeOperations.lineBreakInsert(e._getCursorConfiguration(),e.getModel(),e.getSelections()))},e}(a.EditorCommand))),t.Outdent=a.registerEditorCommand(new(function(o){function e(){return o.call(this,{id:"outdent",precondition:l.EditorContextKeys.writable,kbOpts:{weight:I,kbExpr:r.ContextKeyExpr.and(l.EditorContextKeys.textFocus,l.EditorContextKeys.tabDoesNotMoveFocus),primary:1026}})||this}return Z(e,o),e.prototype.runEditorCommand=function(o,e){e.pushUndoStop(),e.executeCommands(this.id,c.TypeOperations.outdent(e._getCursorConfiguration(),e.getModel(),e.getSelections())),e.pushUndoStop()},e}(a.EditorCommand))),t.Tab=a.registerEditorCommand(new(function(o){function e(){return o.call(this,{id:"tab",precondition:l.EditorContextKeys.writable,kbOpts:{weight:I,kbExpr:r.ContextKeyExpr.and(l.EditorContextKeys.textFocus,l.EditorContextKeys.tabDoesNotMoveFocus),primary:2}})||this}return Z(e,o),e.prototype.runEditorCommand=function(o,e){e.pushUndoStop(),e.executeCommands(this.id,c.TypeOperations.tab(e._getCursorConfiguration(),e.getModel(),e.getSelections())),e.pushUndoStop()},e}(a.EditorCommand))),t.DeleteLeft=a.registerEditorCommand(new(function(o){function e(){return o.call(this,{id:"deleteLeft",precondition:l.EditorContextKeys.writable,kbOpts:{weight:I,kbExpr:l.EditorContextKeys.textFocus,primary:1,secondary:[1025],mac:{primary:1,secondary:[1025,294,257]}}})||this}return Z(e,o),e.prototype.runEditorCommand=function(n,e){var t=g.DeleteOperations.deleteLeft(e._getCursorConfiguration(),e.getModel(),e.getSelections()),i=t[0],o=t[1];i&&e.pushUndoStop(),e.executeCommands(this.id,o)},e}(a.EditorCommand))),t.DeleteRight=a.registerEditorCommand(new(function(o){function e(){return o.call(this,{id:"deleteRight",precondition:l.EditorContextKeys.writable,kbOpts:{weight:I,kbExpr:l.EditorContextKeys.textFocus,primary:20,mac:{primary:20,secondary:[290,276]}}})||this}return Z(e,o),e.prototype.runEditorCommand=function(n,e){var t=g.DeleteOperations.deleteRight(e._getCursorConfiguration(),e.getModel(),e.getSelections()),i=t[0],o=t[1];i&&e.pushUndoStop(),e.executeCommands(this.id,o)},e}(a.EditorCommand)))}(e.CoreEditingCommands||(e.CoreEditingCommands={}));var b;!function(){function d(t){return t.get(i.ICodeEditorService).getFocusedCodeEditor()}function t(o){var e=o.get(p.IEditorService),t=e.getActiveEditor&&e.getActiveEditor();return i.getCodeEditor(t)}function c(t){n.KeybindingsRegistry.registerCommandAndKeybindingRule(t.toCommandAndKeybindingRule(I))}function e(t){c(new r("default:"+t,t)),c(new r(t,t))}var o=function(o){function e(e){var t=o.call(this,e)||this;return t._editorHandler=e.editorHandler,t._inputHandler=e.inputHandler,t}return Z(e,o),e.prototype.runCommand=function(n,e){var i=d(n);if(i&&i.isFocused())return this._runEditorHandler(i,e);var o=document.activeElement;if(!(o&&0<=["input","textarea"].indexOf(o.tagName.toLowerCase()))){var r=t(n);return r?(r.focus(),this._runEditorHandler(r,e)):void 0}document.execCommand(this._inputHandler)},e.prototype._runEditorHandler=function(o,e){var t=this._editorHandler;"string"==typeof t?o.trigger("keyboard",t,e):((e=e||{}).source="keyboard",t.runEditorCommand(null,o,e))},e}(a.Command);c(new o({editorHandler:y.SelectAll,inputHandler:"selectAll",id:"editor.action.selectAll",precondition:null,kbOpts:{weight:I,kbExpr:null,primary:2079}})),c(new o({editorHandler:m.Undo,inputHandler:"undo",id:m.Undo,precondition:l.EditorContextKeys.writable,kbOpts:{weight:I,kbExpr:l.EditorContextKeys.textFocus,primary:2104}})),c(new o({editorHandler:m.Redo,inputHandler:"redo",id:m.Redo,precondition:l.EditorContextKeys.writable,kbOpts:{weight:I,kbExpr:l.EditorContextKeys.textFocus,primary:2103,secondary:[3128],mac:{primary:3128}}}));var r=function(o){function e(e,r){var a=o.call(this,{id:e,precondition:null})||this;return a._handlerId=r,a}return Z(e,o),e.prototype.runCommand=function(t,e){var o=d(t);o&&o.trigger("keyboard",this._handlerId,e)},e}(a.Command);e(m.Type),e(m.ReplacePreviousChar),e(m.CompositionStart),e(m.CompositionEnd),e(m.Paste),e(m.Cut)}(b||(b={}))}),define(s[449],n([1,0,12,20,134]),function(a,e,s,d,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function t(r,a,t,n,i){this.configuration=r,this.viewModel=a,this._execCoreEditorCommandFunc=t,this.outgoingEvents=n,this.commandService=i}return t.prototype._execMouseCommand=function(o,e){e.source="mouse",this._execCoreEditorCommandFunc(o,e)},t.prototype.paste=function(o,e,i){this.commandService.executeCommand(d.Handler.Paste,{text:e,pasteOnNewLine:i})},t.prototype.type=function(o,e){this.commandService.executeCommand(d.Handler.Type,{text:e})},t.prototype.replacePreviousChar=function(o,e,i){this.commandService.executeCommand(d.Handler.ReplacePreviousChar,{text:e,replaceCharCnt:i})},t.prototype.compositionStart=function(){this.commandService.executeCommand(d.Handler.CompositionStart,{})},t.prototype.compositionEnd=function(){this.commandService.executeCommand(d.Handler.CompositionEnd,{})},t.prototype.cut=function(){this.commandService.executeCommand(d.Handler.Cut,{})},t.prototype._validateViewColumn=function(o){var e=this.viewModel.getLineMinColumn(o.lineNumber);return o.column<e?new s.Position(o.lineNumber,e):o},t.prototype._hasMulticursorModifier=function(t){switch(this.configuration.editor.multiCursorModifier){case"altKey":return t.altKey;case"ctrlKey":return t.ctrlKey;case"metaKey":return t.metaKey;}return!1},t.prototype._hasNonMulticursorModifier=function(t){switch(this.configuration.editor.multiCursorModifier){case"altKey":return t.ctrlKey||t.metaKey;case"ctrlKey":return t.altKey||t.metaKey;case"metaKey":return t.ctrlKey||t.altKey;}return!1},t.prototype.dispatchMouse=function(t){t.startedOnLineNumbers?this._hasMulticursorModifier(t)?t.inSelectionMode?this.lastCursorLineSelect(t.position):this.createCursor(t.position,!0):t.inSelectionMode?this.lineSelectDrag(t.position):this.lineSelect(t.position):4<=t.mouseDownCount?this.selectAll():3===t.mouseDownCount?this._hasMulticursorModifier(t)?t.inSelectionMode?this.lastCursorLineSelectDrag(t.position):this.lastCursorLineSelect(t.position):t.inSelectionMode?this.lineSelectDrag(t.position):this.lineSelect(t.position):2===t.mouseDownCount?this._hasMulticursorModifier(t)?this.lastCursorWordSelect(t.position):t.inSelectionMode?this.wordSelectDrag(t.position):this.wordSelect(t.position):this._hasMulticursorModifier(t)?this._hasNonMulticursorModifier(t)||(t.shiftKey?this.columnSelect(t.position,t.mouseColumn):t.inSelectionMode?this.lastCursorMoveToSelect(t.position):this.createCursor(t.position,!1)):t.inSelectionMode?this.moveToSelect(t.position):this.moveTo(t.position)},t.prototype._usualArgs=function(t){return t=this._validateViewColumn(t),{position:this.convertViewToModelPosition(t),viewPosition:t}},t.prototype.moveTo=function(t){this._execMouseCommand(n.CoreNavigationCommands.MoveTo,this._usualArgs(t))},t.prototype.moveToSelect=function(t){this._execMouseCommand(n.CoreNavigationCommands.MoveToSelect,this._usualArgs(t))},t.prototype.columnSelect=function(o,i){o=this._validateViewColumn(o),this._execMouseCommand(n.CoreNavigationCommands.ColumnSelect,{position:this.convertViewToModelPosition(o),viewPosition:o,mouseColumn:i})},t.prototype.createCursor=function(o,i){o=this._validateViewColumn(o),this._execMouseCommand(n.CoreNavigationCommands.CreateCursor,{position:this.convertViewToModelPosition(o),viewPosition:o,wholeLine:i})},t.prototype.lastCursorMoveToSelect=function(t){this._execMouseCommand(n.CoreNavigationCommands.LastCursorMoveToSelect,this._usualArgs(t))},t.prototype.wordSelect=function(t){this._execMouseCommand(n.CoreNavigationCommands.WordSelect,this._usualArgs(t))},t.prototype.wordSelectDrag=function(t){this._execMouseCommand(n.CoreNavigationCommands.WordSelectDrag,this._usualArgs(t))},t.prototype.lastCursorWordSelect=function(t){this._execMouseCommand(n.CoreNavigationCommands.LastCursorWordSelect,this._usualArgs(t))},t.prototype.lineSelect=function(t){this._execMouseCommand(n.CoreNavigationCommands.LineSelect,this._usualArgs(t))},t.prototype.lineSelectDrag=function(t){this._execMouseCommand(n.CoreNavigationCommands.LineSelectDrag,this._usualArgs(t))},t.prototype.lastCursorLineSelect=function(t){this._execMouseCommand(n.CoreNavigationCommands.LastCursorLineSelect,this._usualArgs(t))},t.prototype.lastCursorLineSelectDrag=function(t){this._execMouseCommand(n.CoreNavigationCommands.LastCursorLineSelectDrag,this._usualArgs(t))},t.prototype.selectAll=function(){this._execMouseCommand(n.CoreNavigationCommands.SelectAll,{})},t.prototype.convertViewToModelPosition=function(t){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(t)},t.prototype.emitKeyDown=function(t){this.outgoingEvents.emitKeyDown(t)},t.prototype.emitKeyUp=function(t){this.outgoingEvents.emitKeyUp(t)},t.prototype.emitContextMenu=function(t){this.outgoingEvents.emitContextMenu(t)},t.prototype.emitMouseMove=function(t){this.outgoingEvents.emitMouseMove(t)},t.prototype.emitMouseLeave=function(t){this.outgoingEvents.emitMouseLeave(t)},t.prototype.emitMouseUp=function(t){this.outgoingEvents.emitMouseUp(t)},t.prototype.emitMouseDown=function(t){this.outgoingEvents.emitMouseDown(t)},t.prototype.emitMouseDrag=function(t){this.outgoingEvents.emitMouseDrag(t)},t.prototype.emitMouseDrop=function(t){this.outgoingEvents.emitMouseDrop(t)},t}();e.ViewController=t}),define(s[450],n([1,0,342,21,13,241]),function(a,e,t,n,i,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(o){function e(e,r){var n=o.call(this,r)||this;return n.left=e,n}return Z(e,o),e.prototype.run=function(r,e){for(var t=[],n=e.getSelections(),i=0;i<n.length;i++)t.push(new d.MoveCaretCommand(n[i],this.left));e.pushUndoStop(),e.executeCommands(this.id,t),e.pushUndoStop()},e}(i.EditorAction);(function(o){function e(){return o.call(this,!0,{id:"editor.action.moveCarretLeftAction",label:t.localize(0,null),alias:"Move Caret Left",precondition:n.EditorContextKeys.writable})||this}Z(e,o),e=F([i.editorAction],e)})(o),function(o){function e(){return o.call(this,!1,{id:"editor.action.moveCarretRightAction",label:t.localize(1,null),alias:"Move Caret Right",precondition:n.EditorContextKeys.writable})||this}Z(e,o),e=F([i.editorAction],e)}(o)}),define(s[451],n([1,0,343,2,21,13,73]),function(a,e,t,u,n,o,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),!function(r){function e(){return r.call(this,{id:"editor.action.transposeLetters",label:t.localize(0,null),alias:"Transpose Letters",precondition:n.EditorContextKeys.writable,kbOpts:{kbExpr:n.EditorContextKeys.textFocus,primary:0,mac:{primary:306}}})||this}Z(e,r),e.prototype.run=function(s,e){for(var t=e.getModel(),n=[],o=e.getSelections(),r=0,a;r<o.length;r++)if(a=o[r],a.isEmpty()){var g=a.startLineNumber,l=a.startColumn;if(1!==l&&l!==t.getLineMaxColumn(g)){var c=t.getLineContent(g),d=c.charAt(l-2),m=c.charAt(l-1),p=new u.Range(g,l-1,g,l+1);n.push(new i.ReplaceCommand(p,m+d))}}0<n.length&&(e.pushUndoStop(),e.executeCommands(this.id,n),e.pushUndoStop())},e=F([o.editorAction],e)}(o.EditorAction)}),define(s[452],n([1,0,344,28,15,42,13,154,21,314]),function(_,e,f,t,n,o,i,r,a){"use strict";function s(t){return t?i.editorAction:function(){}}Object.defineProperty(e,"__esModule",{value:!0});var l="9_cutcopypaste",u=n.isNative||document.queryCommandSupported("cut"),d=n.isNative||document.queryCommandSupported("copy"),h=d&&!t.isEdgeOrIE,p=n.isNative||!t.isChrome&&document.queryCommandSupported("paste"),g=function(r){function e(e,o){var n=r.call(this,o)||this;return n.browserCommand=e,n}return Z(e,r),e.prototype.runCommand=function(i,e){var t=i.get(o.ICodeEditorService).getFocusedCodeEditor();t&&t.isFocused()?t.trigger("keyboard",this.id,e):document.execCommand(this.browserCommand)},e.prototype.run=function(o,e){e.focus(),document.execCommand(this.browserCommand)},e}(i.EditorAction);(function(o){function e(){var e={kbExpr:a.EditorContextKeys.textFocus,primary:2102,win:{primary:2102,secondary:[1044]}};return n.isNative||(e=null),o.call(this,"cut",{id:"editor.action.clipboardCutAction",label:f.localize(0,null),alias:"Cut",precondition:a.EditorContextKeys.writable,kbOpts:e,menuOpts:{group:l,order:1}})||this}Z(e,o),e.prototype.run=function(e,t){!t.getConfiguration().emptySelectionClipboard&&t.getSelection().isEmpty()||o.prototype.run.call(this,e,t)},e=F([s(u)],e)})(g),function(o){function e(){var e={kbExpr:a.EditorContextKeys.textFocus,primary:2081,win:{primary:2081,secondary:[2067]}};return n.isNative||(e=null),o.call(this,"copy",{id:"editor.action.clipboardCopyAction",label:f.localize(1,null),alias:"Copy",precondition:null,kbOpts:e,menuOpts:{group:l,order:2}})||this}Z(e,o),e.prototype.run=function(e,t){!t.getConfiguration().emptySelectionClipboard&&t.getSelection().isEmpty()||o.prototype.run.call(this,e,t)},e=F([s(d)],e)}(g),function(o){function e(){var e={kbExpr:a.EditorContextKeys.textFocus,primary:2100,win:{primary:2100,secondary:[1043]}};return n.isNative||(e=null),o.call(this,"paste",{id:"editor.action.clipboardPasteAction",label:f.localize(2,null),alias:"Paste",precondition:a.EditorContextKeys.writable,kbOpts:e,menuOpts:{group:l,order:3}})||this}Z(e,o),e=F([s(p)],e)}(g),function(o){function e(){return o.call(this,"copy",{id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:f.localize(3,null),alias:"Copy With Syntax Highlighting",precondition:null,kbOpts:{kbExpr:a.EditorContextKeys.textFocus,primary:null}})||this}Z(e,o),e.prototype.run=function(e,t){!t.getConfiguration().emptySelectionClipboard&&t.getSelection().isEmpty()||(r.CopyOptions.forceCopyWithSyntaxHighlighting=!0,o.prototype.run.call(this,e,t),r.CopyOptions.forceCopyWithSyntaxHighlighting=!1)},e=F([s(h)],e)}(g)}),define(s[453],n([1,0,10,33,24,7,13,17,56,18]),function(d,e,p,n,g,i,t,r,o,a){"use strict";function s(d){var l=[],c=r.CodeLensProviderRegistry.ordered(d),e=c.map(function(s){return a.asWinJsPromise(function(e){return s.provideCodeLenses(d,e)}).then(function(t){if(Array.isArray(t))for(var e=0,n=t,o;e<n.length;e++)o=n[e],l.push({symbol:o,provider:s})},p.onUnexpectedExternalError)});return i.TPromise.join(e).then(function(){return n.mergeSort(l,function(o,e){return o.symbol.range.startLineNumber<e.symbol.range.startLineNumber?-1:o.symbol.range.startLineNumber>e.symbol.range.startLineNumber?1:c.indexOf(o.provider)<c.indexOf(e.provider)?-1:c.indexOf(o.provider)>c.indexOf(e.provider)?1:o.symbol.range.startColumn<e.symbol.range.startColumn?-1:o.symbol.range.startColumn>e.symbol.range.startColumn?1:0})})}Object.defineProperty(e,"__esModule",{value:!0}),e.getCodeLensData=s,t.CommonEditorRegistry.registerLanguageCommand("_executeCodeLensProvider",function(n,e){var t=e.resource;if(!(t instanceof g.default))throw p.illegalArgument();var i=n.get(o.IModelService).getModel(t);if(!i)throw p.illegalArgument();return s(i).then(function(t){return t.map(function(t){return t.symbol})})})}),define(s[454],n([1,0,345,40,21,13,189,250]),function(d,e,t,n,i,o,r,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=function(o){function e(e,r){var n=o.call(this,r)||this;return n._type=e,n}return Z(e,o),e.prototype.run=function(a,e){var t=e.getModel();if(t){for(var n=[],i=e.getSelections(),o=t.getOptions(),r=0;r<i.length;r++)n.push(new l.LineCommentCommand(i[r],o.tabSize,this._type));e.pushUndoStop(),e.executeCommands(this.id,n),e.pushUndoStop()}},e}(o.EditorAction);(function(n){function e(){return n.call(this,0,{id:"editor.action.commentLine",label:t.localize(0,null),alias:"Toggle Line Comment",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.textFocus,primary:2133}})||this}Z(e,n),e=F([o.editorAction],e)})(a),function(r){function e(){return r.call(this,1,{id:"editor.action.addCommentLine",label:t.localize(1,null),alias:"Add Line Comment",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.textFocus,primary:n.KeyChord(2089,2081)}})||this}Z(e,r),e=F([o.editorAction],e)}(a),function(r){function e(){return r.call(this,2,{id:"editor.action.removeCommentLine",label:t.localize(2,null),alias:"Remove Line Comment",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.textFocus,primary:n.KeyChord(2089,2099)}})||this}Z(e,r),e=F([o.editorAction],e)}(a),function(n){function e(){return n.call(this,{id:"editor.action.blockComment",label:t.localize(3,null),alias:"Toggle Block Comment",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.textFocus,primary:1567,linux:{primary:3103}}})||this}Z(e,n),e.prototype.run=function(a,e){for(var t=[],n=e.getSelections(),i=0;i<n.length;i++)t.push(new r.BlockCommentCommand(n[i]));e.pushUndoStop(),e.executeCommands(this.id,t),e.pushUndoStop()},e=F([o.editorAction],e)}(o.EditorAction)}),define(s[455],n([1,0,346,3,7,4,75,69,46,19,85,21,13,25,30]),function(_,e,t,n,i,o,f,r,a,s,l,c,d,u,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var g=function(){function d(a,d,t,n,i,o){var r=this;this._contextMenuService=d,this._contextViewService=t,this._contextKeyService=n,this._keybindingService=i,this._menuService=o,this._toDispose=[],this._contextMenuIsBeingShownCount=0,this._editor=a,this._toDispose.push(this._editor.onContextMenu(function(t){return r._onContextMenu(t)})),this._toDispose.push(this._editor.onDidScrollChange(function(){0<r._contextMenuIsBeingShownCount&&r._contextViewService.hideContextView()})),this._toDispose.push(this._editor.onKeyDown(function(t){58===t.keyCode&&(t.preventDefault(),t.stopPropagation(),r.showContextMenu())}))}return c=d,d.get=function(t){return t.getContribution(c.ID)},d.prototype._onContextMenu=function(o){if(!this._editor.getConfiguration().contribInfo.contextmenu)return this._editor.focus(),void(o.target.position&&!this._editor.getSelection().containsPosition(o.target.position)&&this._editor.setPosition(o.target.position));if(o.target.type!==u.MouseTargetType.OVERLAY_WIDGET&&(o.event.preventDefault(),o.target.type===u.MouseTargetType.CONTENT_TEXT||o.target.type===u.MouseTargetType.CONTENT_EMPTY||o.target.type===u.MouseTargetType.TEXTAREA)){this._editor.focus(),o.target.position&&!this._editor.getSelection().containsPosition(o.target.position)&&this._editor.setPosition(o.target.position);var e;o.target.type!==u.MouseTargetType.TEXTAREA&&(e={x:o.event.posx,y:o.event.posy+1}),this.showContextMenu(e)}},d.prototype.showContextMenu=function(o){if(this._editor.getConfiguration().contribInfo.contextmenu)if(this._contextMenuService){var e=this._getMenuActions();0<e.length&&this._doShowContextMenu(e,o)}else this._editor.focus()},d.prototype._getMenuActions=function(){var a=[],e=this._menuService.createMenu(l.MenuId.EditorContext,this._contextKeyService),t=e.getActions({arg:this._editor.getModel().uri});e.dispose();for(var n=0,i=t,o;n<i.length;n++)o=i[n][1],a.push.apply(a,o),a.push(new f.Separator);return a.pop(),a},d.prototype._doShowContextMenu=function(r,e){var s=this;void 0===e&&(e=null);var t=this._editor.getConfiguration().contribInfo.hover;this._editor.updateOptions({hover:!1});var n=e;if(!n){this._editor.revealPosition(this._editor.getPosition()),this._editor.render();var p=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),u=o.getDomNodePagePosition(this._editor.getDomNode()),l=u.left+p.left,g=u.top+p.top+p.height;n={x:l,y:g}}this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({getAnchor:function(){return n},getActions:function(){return i.TPromise.as(r)},getActionItem:function(o){var e=s._keybindingFor(o);if(e)return new f.ActionItem(o,o,{label:!0,keybinding:e.getLabel(),isMenu:!0});var t=o;return"function"==typeof t.getActionItem?t.getActionItem():new f.ActionItem(o,o,{icon:!0,label:!0,isMenu:!0})},getKeyBinding:function(t){return s._keybindingFor(t)},onHide:function(){s._contextMenuIsBeingShownCount--,s._editor.focus(),s._editor.updateOptions({hover:t})}})},d.prototype._keybindingFor=function(t){return this._keybindingService.lookupKeybinding(t.id)},d.prototype.getId=function(){return c.ID},d.prototype.dispose=function(){0<this._contextMenuIsBeingShownCount&&this._contextViewService.hideContextView(),this._toDispose=n.dispose(this._toDispose)},d.ID="editor.contrib.contextmenu",d=c=F([p.editorContribution,v(1,r.IContextMenuService),v(2,r.IContextViewService),v(3,s.IContextKeyService),v(4,a.IKeybindingService),v(5,l.IMenuService)],d);var c}();e.ContextMenuController=g,!function(o){function e(){return o.call(this,{id:"editor.action.showContextMenu",label:t.localize(0,null),alias:"Show Editor Context Menu",precondition:null,kbOpts:{kbExpr:c.EditorContextKeys.textFocus,primary:1092}})||this}Z(e,o),e.prototype.run=function(o,e){g.get(e).showContextMenu()},e=F([d.editorAction],e)}(d.EditorAction)}),define(s[456],n([1,0,13,3,21,30]),function(d,e,l,t,n,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t){this.selections=t}return t.prototype.equals=function(o){var e=this.selections.length;if(e!==o.selections.length)return!1;for(var t=0;t<e;t++)if(!this.selections[t].equalsSelection(o.selections[t]))return!1;return!0},t}(),r=function(r){function e(e){var o=r.call(this)||this;return o._editor=e,o._isCursorUndo=!1,o._undoStack=[],o._prevState=o._readState(),o._register(e.onDidChangeModel(function(){o._undoStack=[],o._prevState=null})),o._register(e.onDidChangeModelContent(function(){o._undoStack=[],o._prevState=null})),o._register(e.onDidChangeCursorSelection(function(){!o._isCursorUndo&&o._prevState&&(o._undoStack.push(o._prevState),50<o._undoStack.length&&(o._undoStack=o._undoStack.splice(0,o._undoStack.length-50))),o._prevState=o._readState()})),o}return Z(e,r),t=e,e.get=function(o){return o.getContribution(t.ID)},e.prototype._readState=function(){return this._editor.getModel()?new i(this._editor.getSelections()):null},e.prototype.getId=function(){return t.ID},e.prototype.cursorUndo=function(){for(var o=new i(this._editor.getSelections()),e;0<this._undoStack.length;)if(e=this._undoStack.pop(),!e.equals(o))return this._isCursorUndo=!0,this._editor.setSelections(e.selections),void(this._isCursorUndo=!1)},e.ID="editor.contrib.cursorUndoController",e=t=F([o.editorContribution],e);var t}(t.Disposable);e.CursorUndoController=r;var a=function(o){function e(){return o.call(this,{id:"cursorUndo",precondition:null,kbOpts:{kbExpr:n.EditorContextKeys.textFocus,primary:2099}})||this}return Z(e,o),e.prototype.runEditorCommand=function(o,e){r.get(e).cursorUndo()},e=F([l.editorCommand],e)}(l.EditorCommand);e.CursorUndo=a}),define(s[176],n([1,0,348,434,40,3,19,2,22,9,20,13,121,253,252,17,18,54,21,76,34]),function(f,y,t,Y,n,e,o,X,r,i,a,s,d,l,p,g,c,u,m,h,_){"use strict";function C(d,e){var t=b.get(d);if(!t)return null;var p=t.getState(),u=p.wholeWord,g=p.matchCase,m,h;if(!d.isFocused()&&p.isRevealed&&0<p.searchString.length)m=p.searchString;else{var _=d.getSelection();if(_.startLineNumber!==_.endLineNumber&&!e.allowMultiline)return null;if(_.isEmpty()){var l=d.getModel().getWordAtPosition(_.getStartPosition());if(!l)return null;m=l.word,h=new r.Selection(_.startLineNumber,l.startColumn,_.startLineNumber,l.endColumn)}else m=d.getModel().getValueInRange(_).replace(/\r\n/g,"\n");e.changeFindSearchString&&t.setSearchString(m)}return e.highlightFindOptions&&t.highlightFindOptions(),{searchText:m,matchCase:g,wholeWord:u,currentMatch:h}}Object.defineProperty(y,"__esModule",{value:!0}),!function(t){t[t.NoFocusChange=0]="NoFocusChange",t[t.FocusFindInput=1]="FocusFindInput",t[t.FocusReplaceInput=2]="FocusReplaceInput"}(y.FindStartFocusAction||(y.FindStartFocusAction={})),y.CONTEXT_FIND_WIDGET_VISIBLE=new o.RawContextKey("findWidgetVisible",!1),y.CONTEXT_FIND_WIDGET_NOT_VISIBLE=y.CONTEXT_FIND_WIDGET_VISIBLE.toNegated(),y.CONTEXT_FIND_INPUT_FOCUSSED=new o.RawContextKey("findInputFocussed",!1);var b=function(t){function r(e,i,o){var r=t.call(this)||this;return r._editor=e,r._findWidgetVisible=y.CONTEXT_FIND_WIDGET_VISIBLE.bindTo(i),r._storageService=o,r._updateHistoryDelayer=new c.Delayer(500),r._currentHistoryNavigator=new Y.HistoryNavigator,r._state=r._register(new l.FindReplaceState),r.loadQueryState(),r._register(r._state.addChangeListener(function(t){return r._onStateChanged(t)})),r._model=null,r._register(r._editor.onDidChangeModel(function(){var t=r._editor.getModel()&&r._state.isRevealed;r.disposeModel(),r._state.change({searchScope:null,matchCase:r._storageService.getBoolean("editor.matchCase",h.StorageScope.WORKSPACE,!1),wholeWord:r._storageService.getBoolean("editor.wholeWord",h.StorageScope.WORKSPACE,!1),isRegex:r._storageService.getBoolean("editor.isRegex",h.StorageScope.WORKSPACE,!1)},!1),t&&r._start({forceRevealReplace:!1,seedSearchStringFromSelection:!1,shouldFocus:0,shouldAnimate:!1})})),r}return Z(r,t),r.get=function(t){return t.getContribution(r.ID)},r.prototype.dispose=function(){this.disposeModel(),t.prototype.dispose.call(this)},r.prototype.disposeModel=function(){this._model&&(this._model.dispose(),this._model=null)},r.prototype.getId=function(){return r.ID},r.prototype._onStateChanged=function(t){this.saveQueryState(t),t.updateHistory&&t.searchString&&this._delayedUpdateHistory(),t.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel()))},r.prototype.saveQueryState=function(t){t.isRegex&&void 0!==this._state.isRegex&&this._storageService.store("editor.isRegex",this._state.isRegex,h.StorageScope.WORKSPACE),t.wholeWord&&void 0!==this._state.wholeWord&&this._storageService.store("editor.wholeWord",this._state.wholeWord,h.StorageScope.WORKSPACE),t.matchCase&&void 0!==this._state.matchCase&&this._storageService.store("editor.matchCase",this._state.matchCase,h.StorageScope.WORKSPACE)},r.prototype.loadQueryState=function(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",h.StorageScope.WORKSPACE,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",h.StorageScope.WORKSPACE,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",h.StorageScope.WORKSPACE,this._state.isRegex)},!1)},r.prototype._delayedUpdateHistory=function(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this))},r.prototype._updateHistory=function(){this._state.searchString&&this._currentHistoryNavigator.add(this._state.searchString)},r.prototype.getState=function(){return this._state},r.prototype.getHistory=function(){return this._currentHistoryNavigator},r.prototype.closeFindWidget=function(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()},r.prototype.toggleCaseSensitive=function(){this._state.change({matchCase:!this._state.matchCase},!1)},r.prototype.toggleWholeWords=function(){this._state.change({wholeWord:!this._state.wholeWord},!1)},r.prototype.toggleRegex=function(){this._state.change({isRegex:!this._state.isRegex},!1)},r.prototype.toggleSearchScope=function(){if(this._state.searchScope)this._state.change({searchScope:null},!0);else{var t=this._editor.getSelection();1===t.endColumn&&t.endLineNumber>t.startLineNumber&&(t=t.setEndPosition(t.endLineNumber-1,1)),t.isEmpty()||this._state.change({searchScope:t},!0)}},r.prototype.setSearchString=function(t){this._state.change({searchString:t},!1)},r.prototype.highlightFindOptions=function(){},r.prototype._start=function(o){if(this.disposeModel(),this._editor.getModel()){var e={isRevealed:!0};if(o.seedSearchStringFromSelection&&this._editor.getConfiguration().contribInfo.find.seedSearchStringFromSelection){var t=p.getSelectionSearchString(this._editor);t&&(this._state.isRegex?e.searchString=i.escapeRegExpCharacters(t):e.searchString=t)}o.forceRevealReplace?e.isReplaceRevealed=!0:this._findWidgetVisible.get()||(e.isReplaceRevealed=!1),this._state.change(e,!1),this._model||(this._model=new d.FindModelBoundToEditorModel(this._editor,this._state))}},r.prototype.start=function(t){this._start(t)},r.prototype.moveToNextMatch=function(){return!!this._model&&(this._model.moveToNextMatch(),!0)},r.prototype.moveToPrevMatch=function(){return!!this._model&&(this._model.moveToPrevMatch(),!0)},r.prototype.replace=function(){return!!this._model&&(this._model.replace(),!0)},r.prototype.replaceAll=function(){return!!this._model&&(this._model.replaceAll(),!0)},r.prototype.selectAllMatches=function(){return!!this._model&&(this._model.selectAllMatches(),this._editor.focus(),!0)},r.prototype.showPreviousFindTerm=function(){var t=this._currentHistoryNavigator.previous();return t&&this._state.change({searchString:t},!1,!1),!0},r.prototype.showNextFindTerm=function(){var t=this._currentHistoryNavigator.next();return t&&this._state.change({searchString:t},!1,!1),!0},r.ID="editor.contrib.findController",r=F([v(1,o.IContextKeyService),v(2,h.IStorageService)],r)}(e.Disposable);y.CommonFindController=b;var S=function(o){function e(){return o.call(this,{id:d.FIND_IDS.StartFindAction,label:t.localize(0,null),alias:"Find",precondition:null,kbOpts:{kbExpr:null,primary:2084,mac:{primary:2084,secondary:[2083]}}})||this}return Z(e,o),e.prototype.run=function(o,e){var t=b.get(e);t&&t.start({forceRevealReplace:!1,seedSearchStringFromSelection:!0,shouldFocus:1,shouldAnimate:!0})},e=F([s.editorAction],e)}(s.EditorAction);y.StartFindAction=S;var E=function(o){function e(){return null!==o&&o.apply(this,arguments)||this}return Z(e,o),e.prototype.run=function(o,e){var t=b.get(e);t&&!this._run(t)&&(t.start({forceRevealReplace:!1,seedSearchStringFromSelection:0===t.getState().searchString.length,shouldFocus:0,shouldAnimate:!0}),this._run(t))},e}(s.EditorAction);y.MatchFindAction=E;var L=function(o){function e(){return o.call(this,{id:d.FIND_IDS.NextMatchFindAction,label:t.localize(1,null),alias:"Find Next",precondition:null,kbOpts:{kbExpr:m.EditorContextKeys.focus,primary:61,mac:{primary:2085,secondary:[61]}}})||this}return Z(e,o),e.prototype._run=function(t){return t.moveToNextMatch()},e=F([s.editorAction],e)}(E);y.NextMatchFindAction=L;var w=function(o){function e(){return o.call(this,{id:d.FIND_IDS.PreviousMatchFindAction,label:t.localize(2,null),alias:"Find Previous",precondition:null,kbOpts:{kbExpr:m.EditorContextKeys.focus,primary:1085,mac:{primary:3109,secondary:[1085]}}})||this}return Z(e,o),e.prototype._run=function(t){return t.moveToPrevMatch()},e=F([s.editorAction],e)}(E);y.PreviousMatchFindAction=w;var x=function(o){function e(){return null!==o&&o.apply(this,arguments)||this}return Z(e,o),e.prototype.run=function(o,e){var t=b.get(e);if(t){var n=p.getSelectionSearchString(e);n&&t.setSearchString(n),this._run(t)||(t.start({forceRevealReplace:!1,seedSearchStringFromSelection:!1,shouldFocus:0,shouldAnimate:!0}),this._run(t))}},e}(s.EditorAction);y.SelectionMatchFindAction=x;var N=function(o){function e(){return o.call(this,{id:d.FIND_IDS.NextSelectionMatchFindAction,label:t.localize(3,null),alias:"Find Next Selection",precondition:null,kbOpts:{kbExpr:m.EditorContextKeys.focus,primary:2109}})||this}return Z(e,o),e.prototype._run=function(t){return t.moveToNextMatch()},e=F([s.editorAction],e)}(x);y.NextSelectionMatchFindAction=N;var T=function(o){function e(){return o.call(this,{id:d.FIND_IDS.PreviousSelectionMatchFindAction,label:t.localize(4,null),alias:"Find Previous Selection",precondition:null,kbOpts:{kbExpr:m.EditorContextKeys.focus,primary:3133}})||this}return Z(e,o),e.prototype._run=function(t){return t.moveToPrevMatch()},e=F([s.editorAction],e)}(x);y.PreviousSelectionMatchFindAction=T;var I=function(o){function e(){return o.call(this,{id:d.FIND_IDS.StartFindReplaceAction,label:t.localize(5,null),alias:"Replace",precondition:null,kbOpts:{kbExpr:null,primary:2086,mac:{primary:2596}}})||this}return Z(e,o),e.prototype.run=function(a,e){if(!e.getConfiguration().readOnly){var t=b.get(e),n=e.getSelection(),i=!n.isEmpty()&&n.startLineNumber===n.endLineNumber,s=t.getState().searchString||i?2:1;t&&t.start({forceRevealReplace:!0,seedSearchStringFromSelection:i,shouldFocus:s,shouldAnimate:!0})}},e=F([s.editorAction],e)}(s.EditorAction);y.StartFindReplaceAction=I;var M=function(o){function e(){return null!==o&&o.apply(this,arguments)||this}return Z(e,o),e.prototype._getNextMatch=function(a){var e=C(a,{changeFindSearchString:!0,allowMultiline:!0,highlightFindOptions:!0});if(!e)return null;if(e.currentMatch)return e.currentMatch;var s=a.getSelections(),n=s[s.length-1],i=a.getModel().findNextMatch(e.searchText,n.getEndPosition(),!1,e.matchCase,e.wholeWord?a.getConfiguration().wordSeparators:null,!1);return i?new r.Selection(i.range.startLineNumber,i.range.startColumn,i.range.endLineNumber,i.range.endColumn):null},e}(s.EditorAction);y.SelectNextFindMatchAction=M;var k=function(o){function e(){return null!==o&&o.apply(this,arguments)||this}return Z(e,o),e.prototype._getPreviousMatch=function(a){var e=C(a,{changeFindSearchString:!0,allowMultiline:!0,highlightFindOptions:!0});if(!e)return null;if(e.currentMatch)return e.currentMatch;var s=a.getSelections(),n=s[s.length-1],i=a.getModel().findPreviousMatch(e.searchText,n.getStartPosition(),!1,e.matchCase,e.wholeWord?a.getConfiguration().wordSeparators:null,!1);return i?new r.Selection(i.range.startLineNumber,i.range.startColumn,i.range.endLineNumber,i.range.endColumn):null},e}(s.EditorAction);y.SelectPreviousFindMatchAction=k;var D=function(o){function e(){return o.call(this,{id:d.FIND_IDS.AddSelectionToNextFindMatchAction,label:t.localize(6,null),alias:"Add Selection To Next Find Match",precondition:null,kbOpts:{kbExpr:m.EditorContextKeys.focus,primary:2082}})||this}return Z(e,o),e.prototype.run=function(u,e){var t=e.getSelections();if(1<t.length){var n=e.getModel(),i=b.get(e);if(!i)return;var m=i.getState().matchCase,_=!0,y=n.getValueInRange(t[0]);m||(y=y.toLowerCase());for(var a=1,l=t.length;a<l;a++){if((h=t[a]).isEmpty()){_=!1;break}var c=n.getValueInRange(h);if(m||(c=c.toLowerCase()),y!==c){_=!1;break}}if(!_){for(var d=[],a=0,l=t.length,h;a<l;a++){if(h=t[a],h.isEmpty()){var p=e.getModel().getWordAtPosition(h.getStartPosition());if(p){d[a]=new r.Selection(h.startLineNumber,p.startColumn,h.startLineNumber,p.endColumn);continue}}d[a]=h}return void e.setSelections(d)}}var f=this._getNextMatch(e);f&&(e.setSelections(t.concat(f)),e.revealRangeInCenterIfOutsideViewport(f))},e=F([s.editorAction],e)}(M);y.AddSelectionToNextFindMatchAction=D;var R=function(o){function e(){return o.call(this,{id:d.FIND_IDS.AddSelectionToPreviousFindMatchAction,label:t.localize(7,null),alias:"Add Selection To Previous Find Match",precondition:null})||this}return Z(e,o),e.prototype.run=function(o,e){var t=this._getPreviousMatch(e);if(t){var n=e.getSelections();e.setSelections(n.concat(t)),e.revealRangeInCenterIfOutsideViewport(t)}},e=F([s.editorAction],e)}(k);y.AddSelectionToPreviousFindMatchAction=R;var P=function(o){function e(){return o.call(this,{id:d.FIND_IDS.MoveSelectionToNextFindMatchAction,label:t.localize(8,null),alias:"Move Last Selection To Next Find Match",precondition:null,kbOpts:{kbExpr:m.EditorContextKeys.focus,primary:n.KeyChord(2089,2082)}})||this}return Z(e,o),e.prototype.run=function(o,e){var t=this._getNextMatch(e);if(t){var n=e.getSelections();e.setSelections(n.slice(0,n.length-1).concat(t)),e.revealRangeInCenterIfOutsideViewport(t)}},e=F([s.editorAction],e)}(M);y.MoveSelectionToNextFindMatchAction=P;var O=function(o){function e(){return o.call(this,{id:d.FIND_IDS.MoveSelectionToPreviousFindMatchAction,label:t.localize(9,null),alias:"Move Last Selection To Previous Find Match",precondition:null})||this}return Z(e,o),e.prototype.run=function(o,e){var t=this._getPreviousMatch(e);if(t){var n=e.getSelections();e.setSelections(n.slice(0,n.length-1).concat(t)),e.revealRangeInCenterIfOutsideViewport(t)}},e=F([s.editorAction],e)}(k);y.MoveSelectionToPreviousFindMatchAction=O;var A=function(o){function e(){return null!==o&&o.apply(this,arguments)||this}return Z(e,o),e.prototype.run=function(d,e){var t=b.get(e);if(!t)return null;var p=null,i=t.getState();if(i.isRevealed&&i.isRegex&&0<i.searchString.length)p=e.getModel().findMatches(i.searchString,!0,i.isRegex,i.matchCase,i.wholeWord?e.getConfiguration().wordSeparators:null,!1).map(function(t){return t.range});else{var o=C(e,{changeFindSearchString:!0,allowMultiline:!0,highlightFindOptions:!0});if(!o)return;p=e.getModel().findMatches(o.searchText,!0,!1,o.matchCase,o.wholeWord?e.getConfiguration().wordSeparators:null,!1).map(function(t){return t.range})}if(0<p.length){for(var u=e.getSelection(),s=0,a=p.length,l;s<a;s++)if(l=p[s],l.intersectRanges(u)){p.splice(s,1),p.unshift(l);break}e.setSelections(p.map(function(t){return new r.Selection(t.startLineNumber,t.startColumn,t.endLineNumber,t.endColumn)}))}},e}(s.EditorAction);y.AbstractSelectHighlightsAction=A;var W=function(o){function e(){return o.call(this,{id:"editor.action.selectHighlights",label:t.localize(10,null),alias:"Select All Occurrences of Find Match",precondition:null,kbOpts:{kbExpr:m.EditorContextKeys.focus,primary:3114}})||this}return Z(e,o),e=F([s.editorAction],e)}(A);y.SelectHighlightsAction=W;var B=function(o){function e(){return o.call(this,{id:"editor.action.changeAll",label:t.localize(11,null),alias:"Change All Occurrences",precondition:m.EditorContextKeys.writable,kbOpts:{kbExpr:m.EditorContextKeys.textFocus,primary:2108},menuOpts:{group:"1_modification",order:1.2}})||this}return Z(e,o),e=F([s.editorAction],e)}(A);y.CompatChangeAll=B;var V=function(){function t(o,r,t,n){this.searchText=r,this.matchCase=t,this.wordSeparators=n}return t.softEquals=function(o,n){return!o&&!n||o&&n&&o.searchText===n.searchText&&o.matchCase===n.matchCase&&o.wordSeparators===n.wordSeparators},t}(),H=function(o){function e(e){var i=o.call(this)||this;return i.editor=e,i._isEnabled=e.getConfiguration().contribInfo.selectionHighlight,i.decorations=[],i.updateSoon=i._register(new c.RunOnceScheduler(function(){return i._update()},300)),i.state=null,i._register(e.onDidChangeConfiguration(function(){i._isEnabled=e.getConfiguration().contribInfo.selectionHighlight})),i._register(e.onDidChangeCursorSelection(function(t){i._isEnabled&&(t.selection.isEmpty()?t.reason===u.CursorChangeReason.Explicit?(!i.state||i.state.lastWordUnderCursor&&i.state.lastWordUnderCursor.containsPosition(t.selection.getStartPosition())||i._setState(null),i.updateSoon.schedule()):i._setState(null):i._update())})),i._register(e.onDidChangeModel(function(){i._setState(null)})),i._register(b.get(e).getState().addChangeListener(function(){i._update()})),i}return Z(e,o),t=e,e.prototype.getId=function(){return t.ID},e.prototype._update=function(){this._setState(t._createState(this._isEnabled,this.editor))},e._createState=function(p,m){var t=m.getModel();if(!t)return null;var _=m.getConfiguration(),i=null;if(!p)return null;var o=C(m,{changeFindSearchString:!1,allowMultiline:!1,highlightFindOptions:!1});if(!o)return null;var f=g.DocumentHighlightProviderRegistry.has(t);if(o.currentMatch){if(f)return null;if(!_.contribInfo.occurrencesHighlight)return null;i=o.currentMatch}if(/^[ \t]+$/.test(o.searchText))return null;if(200<o.searchText.length)return null;var s=b.get(m);if(!s)return null;var y=s.getState().matchCase,u=m.getSelections(),l=t.getValueInRange(u[0]);y||(l=l.toLowerCase());for(var c=1,d;c<u.length;c++)if(d=t.getValueInRange(u[c]),y||(d=d.toLowerCase()),l!==d)return null;return new V(i,o.searchText,o.matchCase,o.wholeWord?m.getConfiguration().wordSeparators:null)},e.prototype._setState=function(n){if(V.softEquals(this.state,n))this.state=n;else if(this.state=n,this.state){var e=this.editor.getModel(),a=g.DocumentHighlightProviderRegistry.has(e),i=e.findMatches(this.state.searchText,!0,!1,this.state.matchCase,this.state.wordSeparators,!1).map(function(t){return t.range});i.sort(X.Range.compareRangesUsingStarts);var o=this.editor.getSelections();o.sort(X.Range.compareRangesUsingStarts);for(var r=[],s=0,u=0,l=i.length,c=o.length,d;s<l;)if(d=i[s],u>=c)r.push(d),s++;else{var m=X.Range.compareRangesUsingStarts(d,o[u]);0>m?(r.push(d),s++):0<m?u++:(s++,u++)}var p=r.map(function(o){return{range:o,options:a?t._SELECTION_HIGHLIGHT:t._SELECTION_HIGHLIGHT_OVERVIEW}});this.decorations=this.editor.deltaDecorations(this.decorations,p)}else 0<this.decorations.length&&(this.decorations=this.editor.deltaDecorations(this.decorations,[]))},e.prototype.dispose=function(){this._setState(null),o.prototype.dispose.call(this)},e.ID="editor.contrib.selectionHighlighter",e._SELECTION_HIGHLIGHT_OVERVIEW=_.ModelDecorationOptions.register({stickiness:a.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:"selectionHighlight",overviewRuler:{color:"#A0A0A0",darkColor:"#A0A0A0",position:a.OverviewRulerLane.Center}}),e._SELECTION_HIGHLIGHT=_.ModelDecorationOptions.register({stickiness:a.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:"selectionHighlight"}),e=t=F([s.commonEditorContribution],e);var t}(e.Disposable);y.SelectionHighlighter=H;var z=function(n){function e(){return n.call(this,{id:d.FIND_IDS.ShowNextFindTermAction,label:t.localize(12,null),alias:"Show Next Find Term",precondition:y.CONTEXT_FIND_WIDGET_VISIBLE,kbOpts:{weight:s.CommonEditorRegistry.commandWeight(5),kbExpr:o.ContextKeyExpr.and(y.CONTEXT_FIND_INPUT_FOCUSSED,m.EditorContextKeys.focus),primary:d.ShowNextFindTermKeybinding.primary,mac:d.ShowNextFindTermKeybinding.mac,win:d.ShowNextFindTermKeybinding.win,linux:d.ShowNextFindTermKeybinding.linux}})||this}return Z(e,n),e.prototype._run=function(t){return t.showNextFindTerm()},e=F([s.editorAction],e)}(E);y.ShowNextFindTermAction=z;var K=function(n){function e(){return n.call(this,{id:d.FIND_IDS.ShowPreviousFindTermAction,label:t.localize(13,null),alias:"Find Show Previous Find Term",precondition:y.CONTEXT_FIND_WIDGET_VISIBLE,kbOpts:{weight:s.CommonEditorRegistry.commandWeight(5),kbExpr:o.ContextKeyExpr.and(y.CONTEXT_FIND_INPUT_FOCUSSED,m.EditorContextKeys.focus),primary:d.ShowPreviousFindTermKeybinding.primary,mac:d.ShowPreviousFindTermKeybinding.mac,win:d.ShowPreviousFindTermKeybinding.win,linux:d.ShowPreviousFindTermKeybinding.linux}})||this}return Z(e,n),e.prototype._run=function(t){return t.showPreviousFindTerm()},e=F([s.editorAction],e)}(E);y.ShpwPreviousFindTermAction=K;var U=s.EditorCommand.bindToContribution(b.get);s.CommonEditorRegistry.registerEditorCommand(new U({id:d.FIND_IDS.CloseFindWidgetCommand,precondition:y.CONTEXT_FIND_WIDGET_VISIBLE,handler:function(t){return t.closeFindWidget()},kbOpts:{weight:s.CommonEditorRegistry.commandWeight(5),kbExpr:m.EditorContextKeys.focus,primary:9,secondary:[1033]}})),s.CommonEditorRegistry.registerEditorCommand(new U({id:d.FIND_IDS.ToggleCaseSensitiveCommand,precondition:null,handler:function(t){return t.toggleCaseSensitive()},kbOpts:{weight:s.CommonEditorRegistry.commandWeight(5),kbExpr:m.EditorContextKeys.focus,primary:d.ToggleCaseSensitiveKeybinding.primary,mac:d.ToggleCaseSensitiveKeybinding.mac,win:d.ToggleCaseSensitiveKeybinding.win,linux:d.ToggleCaseSensitiveKeybinding.linux}})),s.CommonEditorRegistry.registerEditorCommand(new U({id:d.FIND_IDS.ToggleWholeWordCommand,precondition:null,handler:function(t){return t.toggleWholeWords()},kbOpts:{weight:s.CommonEditorRegistry.commandWeight(5),kbExpr:m.EditorContextKeys.focus,primary:d.ToggleWholeWordKeybinding.primary,mac:d.ToggleWholeWordKeybinding.mac,win:d.ToggleWholeWordKeybinding.win,linux:d.ToggleWholeWordKeybinding.linux}})),s.CommonEditorRegistry.registerEditorCommand(new U({id:d.FIND_IDS.ToggleRegexCommand,precondition:null,handler:function(t){return t.toggleRegex()},kbOpts:{weight:s.CommonEditorRegistry.commandWeight(5),kbExpr:m.EditorContextKeys.focus,primary:d.ToggleRegexKeybinding.primary,mac:d.ToggleRegexKeybinding.mac,win:d.ToggleRegexKeybinding.win,linux:d.ToggleRegexKeybinding.linux}})),s.CommonEditorRegistry.registerEditorCommand(new U({id:d.FIND_IDS.ToggleSearchScopeCommand,precondition:null,handler:function(t){return t.toggleSearchScope()},kbOpts:{weight:s.CommonEditorRegistry.commandWeight(5),kbExpr:m.EditorContextKeys.focus,primary:d.ToggleSearchScopeKeybinding.primary,mac:d.ToggleSearchScopeKeybinding.mac,win:d.ToggleSearchScopeKeybinding.win,linux:d.ToggleSearchScopeKeybinding.linux}})),s.CommonEditorRegistry.registerEditorCommand(new U({id:d.FIND_IDS.ReplaceOneAction,precondition:y.CONTEXT_FIND_WIDGET_VISIBLE,handler:function(t){return t.replace()},kbOpts:{weight:s.CommonEditorRegistry.commandWeight(5),kbExpr:m.EditorContextKeys.focus,primary:3094}})),s.CommonEditorRegistry.registerEditorCommand(new U({id:d.FIND_IDS.ReplaceAllAction,precondition:y.CONTEXT_FIND_WIDGET_VISIBLE,handler:function(t){return t.replaceAll()},kbOpts:{weight:s.CommonEditorRegistry.commandWeight(5),kbExpr:m.EditorContextKeys.focus,primary:2563}})),s.CommonEditorRegistry.registerEditorCommand(new U({id:d.FIND_IDS.SelectAllMatchesAction,precondition:y.CONTEXT_FIND_WIDGET_VISIBLE,handler:function(t){return t.selectAllMatches()},kbOpts:{weight:s.CommonEditorRegistry.commandWeight(5),kbExpr:m.EditorContextKeys.focus,primary:515}}))}),define(s[458],n([1,0,349,29,4,18,40,3,2,13,25,30,333,257,256,21,328]),function(f,e,t,n,i,o,r,s,v,a,l,c,S,d,p,u){"use strict";function g(o){if(!n.isUndefined(o)){if(!n.isObject(o))return!1;var e=o;if(!n.isUndefined(e.levels)&&!n.isNumber(e.levels))return!1;if(!n.isUndefined(e.direction)&&!n.isString(e.direction))return!1}return!0}Object.defineProperty(e,"__esModule",{value:!0});var m=function(){function n(o){var r=this;this.editor=o,this._isEnabled=this.editor.getConfiguration().contribInfo.folding,this._showFoldingControls=this.editor.getConfiguration().contribInfo.showFoldingControls,this.globalToDispose=[],this.localToDispose=[],this.decorations=[],this.computeToken=0,this.globalToDispose.push(this.editor.onDidChangeModel(function(){return r.onModelChanged()})),this.globalToDispose.push(this.editor.onDidChangeConfiguration(function(){var e=r._isEnabled;r._isEnabled=r.editor.getConfiguration().contribInfo.folding,e!==r._isEnabled&&r.onModelChanged();var t=r._showFoldingControls;r._showFoldingControls=r.editor.getConfiguration().contribInfo.showFoldingControls,t!==r._showFoldingControls&&r.updateHideFoldIconClass()})),this.onModelChanged()}return r=n,n.get=function(t){return t.getContribution(p.ID)},n.prototype.getId=function(){return p.ID},n.prototype.dispose=function(){this.cleanState(),this.globalToDispose=s.dispose(this.globalToDispose)},n.prototype.updateHideFoldIconClass=function(){var t=this.editor.getDomNode();t&&i.toggleClass(t,"alwaysShowFoldIcons","always"===this._showFoldingControls)},n.prototype.saveViewState=function(){var o=this.editor.getModel();if(!o)return{};var r=[];return this.decorations.forEach(function(e){if(e.isCollapsed){var t=e.getDecorationRange(o);t&&r.push({startLineNumber:t.startLineNumber,endLineNumber:t.endLineNumber,indent:e.indent,isCollapsed:!0})}}),{collapsedRegions:r,lineCount:o.getLineCount()}},n.prototype.restoreViewState=function(o){var e=this.editor.getModel();e&&this._isEnabled&&o&&Array.isArray(o.collapsedRegions)&&0!==o.collapsedRegions.length&&o.lineCount===e.getLineCount()&&(this.cleanState(),this.applyRegions(o.collapsedRegions),this.onModelChanged())},n.prototype.cleanState=function(){this.localToDispose=s.dispose(this.localToDispose)},n.prototype.applyRegions=function(p){var e=this,n=this.editor.getModel();if(n){var i=!1;p=d.limitByIndent(p,r.MAX_FOLDING_REGIONS).sort(function(o,e){return o.startLineNumber-e.startLineNumber}),this.editor.changeDecorations(function(o){for(var t=[],r=0,s=0,a;s<e.decorations.length&&r<p.length;)if(a=(l=e.decorations[s]).getDecorationRange(n),a){for(;r<p.length&&a.startLineNumber>p[r].startLineNumber;)c=p[r],i=i||c.isCollapsed,t.push(new S.CollapsibleRegion(c,n,o)),r++;if(r<p.length){var u=p[r];a.startLineNumber<u.startLineNumber?(i=i||l.isCollapsed,l.dispose(o),s++):a.startLineNumber===u.startLineNumber&&(!l.isCollapsed||l.startLineNumber===u.startLineNumber&&l.endLineNumber===u.endLineNumber||(i=!0),u.isCollapsed=l.isCollapsed,l.update(u,n,o),t.push(l),s++,r++)}}else i=i||l.isCollapsed,l.dispose(o),s++;for(;s<e.decorations.length;){var l=e.decorations[s];i=i||l.isCollapsed,l.dispose(o),s++}for(;r<p.length;){var c=p[r];i=i||c.isCollapsed,t.push(new S.CollapsibleRegion(c,n,o)),r++}e.decorations=t}),i&&this.updateHiddenAreas()}},n.prototype.onModelChanged=function(){var n=this;this.cleanState(),this.updateHideFoldIconClass();var e=this.editor.getModel();this._isEnabled&&e&&(this.computeAndApplyCollapsibleRegions(),this.contentChangedScheduler=new o.RunOnceScheduler(function(){return n.computeAndApplyCollapsibleRegions()},200),this.cursorChangedScheduler=new o.RunOnceScheduler(function(){return n.revealCursor()},200),this.localToDispose.push(this.contentChangedScheduler),this.localToDispose.push(this.cursorChangedScheduler),this.localToDispose.push(this.editor.onDidChangeModelContent(function(){return n.contentChangedScheduler.schedule()})),this.localToDispose.push(this.editor.onDidChangeCursorPosition(function(){n._isEnabled&&n.cursorChangedScheduler.schedule()})),this.localToDispose.push(this.editor.onMouseDown(function(e){return n.onEditorMouseDown(e)})),this.localToDispose.push(this.editor.onMouseUp(function(e){return n.onEditorMouseUp(e)})),this.localToDispose.push({dispose:function(){return n.disposeDecorations()}}))},n.prototype.computeAndApplyCollapsibleRegions=function(){var t=this.editor.getModel();this.applyRegions(t?d.computeRanges(t):[])},n.prototype.disposeDecorations=function(){var o=this;this.editor.changeDecorations(function(n){o.decorations.forEach(function(t){return t.dispose(n)})}),this.decorations=[],this.editor.setHiddenAreas([])},n.prototype.revealCursor=function(){var r=this,d=this.editor.getModel();if(d){var t=!1,n=this.editor.getSelections();this.editor.changeDecorations(function(i){return r.decorations.forEach(function(o){if(o.isCollapsed){var e=o.getDecorationRange(d);if(e)for(var r=0,s=n,a;r<s.length;r++)if(a=s[r],e.startLineNumber<a.selectionStartLineNumber&&a.selectionStartLineNumber<=e.endLineNumber){o.setCollapsed(!1,i),t=!0;break}}})}),t&&this.updateHiddenAreas(this.editor.getPosition().lineNumber)}},n.prototype.onEditorMouseDown=function(o){if(this.mouseDownInfo=null,0!==this.decorations.length){var e=o.target.range;if(e&&o.event.leftButton){var t=this.editor.getModel(),n=!1;switch(o.target.type){case l.MouseTargetType.GUTTER_LINE_DECORATIONS:n=!0;break;case l.MouseTargetType.CONTENT_EMPTY:case l.MouseTargetType.CONTENT_TEXT:if(e.startColumn===t.getLineMaxColumn(e.startLineNumber))break;return;default:return;}this.mouseDownInfo={lineNumber:e.startLineNumber,iconClicked:n}}}},n.prototype.onEditorMouseUp=function(a){var d=this;if(this.mouseDownInfo){var t=this.mouseDownInfo.lineNumber,n=this.mouseDownInfo.iconClicked,e=a.target.range;if(e&&e.startLineNumber===t){var i=this.editor.getModel();if(n){if(a.target.type!==l.MouseTargetType.GUTTER_LINE_DECORATIONS)return;}else if(e.startColumn!==i.getLineMaxColumn(t))return;this.editor.changeDecorations(function(r){for(var e=0;e<d.decorations.length;e++){var o=d.decorations[e],s=o.getDecorationRange(i);if(s&&s.startLineNumber===t)return void((n||o.isCollapsed)&&(o.setCollapsed(!o.isCollapsed,r),d.updateHiddenAreas(t)))}})}}},n.prototype.updateHiddenAreas=function(r){var a=this.editor.getModel(),t=this.editor.getSelections(),n=!1,i=[];this.decorations.filter(function(t){return t.isCollapsed}).forEach(function(o){var s=o.getDecorationRange(a);s&&(i.push(new v.Range(s.startLineNumber+1,1,s.endLineNumber,1)),t.forEach(function(i,e){v.Range.containsPosition(s,i.getStartPosition())&&(t[e]=i=i.setStartPosition(s.startLineNumber,a.getLineMaxColumn(s.startLineNumber)),n=!0),v.Range.containsPosition(s,i.getEndPosition())&&(t[e]=i.setEndPosition(s.startLineNumber,a.getLineMaxColumn(s.startLineNumber)),n=!0)}))}),n&&this.editor.setSelections(t),this.editor.setHiddenAreas(i),r&&this.editor.revealPositionInCenterIfOutsideViewport({lineNumber:r,column:1})},n.prototype.unfold=function(d){var p=this,e=this.editor.getModel(),n=!1,t=this.editor.getSelections(),o=!1;t.forEach(function(i,r){var a=S.getCollapsibleRegionsToUnfoldAtLine(p.decorations,e,i.startLineNumber,d);if(0<a.length&&(a.forEach(function(o){p.editor.changeDecorations(function(e){o.setCollapsed(!1,e),n=!0})}),!S.doesLineBelongsToCollapsibleRegion(a[0].foldingRange,i.startLineNumber))){var s=a[0].startLineNumber,l=e.getLineMaxColumn(a[0].startLineNumber);t[r]=i.setEndPosition(s,l).setStartPosition(s,l),o=!0}}),o&&this.editor.setSelections(t),n&&this.updateHiddenAreas(t[0].startLineNumber)},n.prototype.fold=function(a,e){var t=this,n=!1,i=this.editor.getSelections();i.forEach(function(i){var o=i.startLineNumber;S.getCollapsibleRegionsToFoldAtLine(t.decorations,t.editor.getModel(),o,a,e).forEach(function(o){return t.editor.changeDecorations(function(e){o.setCollapsed(!0,e),n=!0})})}),n&&this.updateHiddenAreas(i[0].startLineNumber)},n.prototype.foldUnfoldRecursively=function(r){var e=this,a=!1,t=this.editor.getModel(),n=this.editor.getSelections();n.forEach(function(n){for(var o=n.startLineNumber,i=[],s=0,p=e.decorations.length,l;s<p;s++){var u=e.decorations[s],c=u.getDecorationRange(t);if(c&&c.startLineNumber>=o&&(c.endLineNumber<=l||void 0===l)){if(c.startLineNumber!==o&&void 0===l)return;l=l||c.endLineNumber,i.push(u)}}0<i.length&&i.forEach(function(o){e.editor.changeDecorations(function(e){o.setCollapsed(r,e),a=!0})})}),a&&this.updateHiddenAreas(n[0].startLineNumber)},n.prototype.foldAll=function(){this.changeAll(!0)},n.prototype.unfoldAll=function(){this.changeAll(!1)},n.prototype.changeAll=function(o){var e=this;if(0<this.decorations.length){var r=!0;this.editor.changeDecorations(function(n){e.decorations.forEach(function(e){o!==e.isCollapsed&&(e.setCollapsed(o,n),r=!0)})}),r&&this.updateHiddenAreas(this.editor.getPosition().lineNumber)}},n.prototype.foldLevel=function(d,e){var t=this,l=this.editor.getModel(),i=[l.getFullModelRange()],o=!1;this.editor.changeDecorations(function(r){t.decorations.forEach(function(t){var n=t.getDecorationRange(l);if(n){for(;!v.Range.containsRange(i[i.length-1],n);)i.pop();i.push(n),i.length!==d+1||t.isCollapsed||e.some(function(t){return n.startLineNumber<t&&t<=n.endLineNumber})||(t.setCollapsed(!0,r),o=!0)}})}),o&&this.updateHiddenAreas(e[0])},n.MAX_FOLDING_REGIONS=5e3,n=r=F([c.editorContribution],n);var r}();e.FoldingController=m;for(var h=function(o){function e(){return null!==o&&o.apply(this,arguments)||this}return Z(e,o),e.prototype.runEditorCommand=function(o,e,t){var n=m.get(e);n&&(this.reportTelemetry(o,e),this.invoke(n,e,t))},e.prototype.run=function(){},e}(a.EditorAction),y=(function(o){function e(){return o.call(this,{id:"editor.unfold",label:t.localize(0,null),alias:"Unfold",precondition:null,kbOpts:{kbExpr:u.EditorContextKeys.textFocus,primary:3161,mac:{primary:2649}},description:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t\t\t* 'level': Number of levels to unfold\n\t\t\t\t\t\t",constraint:g}]}})||this}Z(e,o),e.prototype.invoke=function(o,e,t){o.unfold(t?t.levels||1:1)},e=F([a.editorAction],e)}(h),function(o){function e(){return o.call(this,{id:"editor.unfoldRecursively",label:t.localize(1,null),alias:"Unfold Recursively",precondition:null,kbOpts:{kbExpr:u.EditorContextKeys.textFocus,primary:r.KeyChord(2089,2137)}})||this}Z(e,o),e.prototype.invoke=function(t){t.foldUnfoldRecursively(!1)},e=F([a.editorAction],e)}(h),function(o){function e(){return o.call(this,{id:"editor.fold",label:t.localize(2,null),alias:"Fold",precondition:null,kbOpts:{kbExpr:u.EditorContextKeys.textFocus,primary:3159,mac:{primary:2647}},description:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t\t\t* 'levels': Number of levels to fold\n\t\t\t\t\t\t\t* 'up': If 'true', folds given number of levels up otherwise folds down\n\t\t\t\t\t\t",constraint:g}]}})||this}Z(e,o),e.prototype.invoke=function(o,e,t){t=t||{levels:1,direction:"up"},o.fold(t.levels||1,"up"===t.direction)},e=F([a.editorAction],e)}(h),function(o){function e(){return o.call(this,{id:"editor.foldRecursively",label:t.localize(3,null),alias:"Fold Recursively",precondition:null,kbOpts:{kbExpr:u.EditorContextKeys.textFocus,primary:r.KeyChord(2089,2135)}})||this}Z(e,o),e.prototype.invoke=function(t){t.foldUnfoldRecursively(!0)},e=F([a.editorAction],e)}(h),function(o){function e(){return o.call(this,{id:"editor.foldAll",label:t.localize(4,null),alias:"Fold All",precondition:null,kbOpts:{kbExpr:u.EditorContextKeys.textFocus,primary:r.KeyChord(2089,2069)}})||this}Z(e,o),e.prototype.invoke=function(t){t.foldAll()},e=F([a.editorAction],e)}(h),function(o){function e(){return o.call(this,{id:"editor.unfoldAll",label:t.localize(5,null),alias:"Unfold All",precondition:null,kbOpts:{kbExpr:u.EditorContextKeys.textFocus,primary:r.KeyChord(2089,2088)}})||this}Z(e,o),e.prototype.invoke=function(t){t.unfoldAll()},e=F([a.editorAction],e)}(h),function(o){function n(){return null!==o&&o.apply(this,arguments)||this}return Z(n,o),n.prototype.getFoldingLevel=function(){return parseInt(this.id.substr(n.ID_PREFIX.length))},n.prototype.getSelectedLines=function(t){return t.getSelections().map(function(t){return t.startLineNumber})},n.prototype.invoke=function(o,e){o.foldLevel(this.getFoldingLevel(),this.getSelectedLines(e))},n.ID_PREFIX="editor.foldLevel",n.ID=function(t){return n.ID_PREFIX+t},n}(h)),C=1;9>=C;C++)a.CommonEditorRegistry.registerEditorAction(new y({id:y.ID(C),label:t.localize(6,null,C),alias:"Fold Level "+C,precondition:null,kbOpts:{kbExpr:u.EditorContextKeys.textFocus,primary:r.KeyChord(2089,2048|21+C)}}))}),define(s[459],n([1,0,10,24,33,7,2,13,17,56,18]),function(g,e,m,n,_,f,i,t,y,C,l){"use strict";function s(o,e,t){var n=y.DocumentRangeFormattingEditProviderRegistry.ordered(o);if(0===n.length)return f.TPromise.as(void 0);var i;return l.sequence(n.map(function(a){if(_.isFalsyOrEmpty(i))return function(){return l.asWinJsPromise(function(i){return a.provideDocumentRangeFormattingEdits(o,e,t,i)}).then(function(t){i=t},m.onUnexpectedExternalError)}})).then(function(){return i})}function a(o,e){var t=y.DocumentFormattingEditProviderRegistry.ordered(o);if(0===t.length)return s(o,o.getFullModelRange(),e);var n;return l.sequence(t.map(function(t){if(_.isFalsyOrEmpty(n))return function(){return l.asWinJsPromise(function(i){return t.provideDocumentFormattingEdits(o,e,i)}).then(function(t){n=t},m.onUnexpectedExternalError)}})).then(function(){return n})}function d(r,e,t,i){var o=y.OnTypeFormattingEditProviderRegistry.ordered(r)[0];return o?0>o.autoFormatTriggerCharacters.indexOf(t)?f.TPromise.as(void 0):l.asWinJsPromise(function(a){return o.provideOnTypeFormattingEdits(r,e,t,i,a)}).then(function(t){return t},m.onUnexpectedExternalError):f.TPromise.as(void 0)}Object.defineProperty(e,"__esModule",{value:!0}),e.getDocumentRangeFormattingEdits=s,e.getDocumentFormattingEdits=a,e.getOnTypeFormattingEdits=d,t.CommonEditorRegistry.registerLanguageCommand("_executeFormatRangeProvider",function(d,e){var t=e.resource,o=e.range,r=e.options;if(!(t instanceof n.default&&i.Range.isIRange(o)))throw m.illegalArgument();var a=d.get(C.IModelService).getModel(t);if(!a)throw m.illegalArgument("resource");return s(a,i.Range.lift(o),r)}),t.CommonEditorRegistry.registerLanguageCommand("_executeFormatDocumentProvider",function(i,e){var t=e.resource,o=e.options;if(!(t instanceof n.default))throw m.illegalArgument("resource");var r=i.get(C.IModelService).getModel(t);if(!r)throw m.illegalArgument("resource");return a(r,o)}),t.CommonEditorRegistry.registerDefaultLanguageCommand("_executeFormatOnTypeProvider",function(n,e,t){var i=t.ch,a=t.options;if("string"!=typeof i)throw m.illegalArgument("ch");return d(n,e,i,a)})}),define(s[460],n([1,0,350,33,40,3,7,19,13,17,459,258,31,42,61,89,2,51,131,21]),function(f,e,y,n,t,N,i,o,r,u,l,c,a,s,d,p,g,m,h,_){"use strict";function C(n){if((n=n.filter(function(t){return t.range})).length){for(var e=n[0].range,t=1;t<n.length;t++)e=g.Range.plusRange(e,n[t].range);var i=e.startLineNumber,o=e.endLineNumber;i===o?1===n.length?m.alert(y.localize(0,null,i)):m.alert(y.localize(1,null,n.length,i)):1===n.length?m.alert(y.localize(2,null,i,o)):m.alert(y.localize(3,null,n.length,i,o))}}Object.defineProperty(e,"__esModule",{value:!0}),function(){function o(o,i){var t=this;this.editor=o,this.workerService=i,this.callOnDispose=[],this.callOnModel=[],this.callOnDispose.push(o.onDidChangeConfiguration(function(){return t.update()})),this.callOnDispose.push(o.onDidChangeModel(function(){return t.update()})),this.callOnDispose.push(o.onDidChangeModelLanguage(function(){return t.update()})),this.callOnDispose.push(u.OnTypeFormattingEditProviderRegistry.onDidChange(this.update,this))}return e=o,o.prototype.update=function(){var r=this;if(this.callOnModel=N.dispose(this.callOnModel),this.editor.getConfiguration().contribInfo.formatOnType&&this.editor.getModel()){var e=this.editor.getModel(),t=u.OnTypeFormattingEditProviderRegistry.ordered(e)[0];if(t&&t.autoFormatTriggerCharacters){for(var d=new p.CharacterSet,n=0,o=t.autoFormatTriggerCharacters,i;n<o.length;n++)i=o[n],d.add(i.charCodeAt(0));this.callOnModel.push(this.editor.onDidType(function(e){var t=e.charCodeAt(e.length-1);d.has(t)&&r.trigger(k(t))}))}}},o.prototype.trigger=function(i){var d=this;if(!(1<this.editor.getSelections().length)){var t=this.editor.getModel(),p=this.editor.getPosition(),o=!1,r=this.editor.onDidChangeModelContent(function(i){if(i.isFlush)return o=!0,void r.dispose();for(var e=0,t=i.changes.length;e<t;e++)if(i.changes[e].range.endLineNumber<=p.lineNumber)return o=!0,void r.dispose()}),e=t.getOptions();l.getOnTypeFormattingEdits(t,p,i,{tabSize:e.tabSize,insertSpaces:e.insertSpaces}).then(function(o){return d.workerService.computeMoreMinimalEdits(t.uri,o,[])}).then(function(t){r.dispose(),o||n.isFalsyOrEmpty(t)||(c.EditOperationsCommand.execute(d.editor,t),C(t))},function(t){throw r.dispose(),t})}},o.prototype.getId=function(){return e.ID},o.prototype.dispose=function(){this.callOnDispose=N.dispose(this.callOnDispose),this.callOnModel=N.dispose(this.callOnModel)},o.ID="editor.contrib.autoFormat",o=e=F([r.commonEditorContribution,v(1,d.IEditorWorkerService)],o);var e}(),function(){function o(o,i){var t=this;this.editor=o,this.workerService=i,this.callOnDispose=[],this.callOnModel=[],this.callOnDispose.push(o.onDidChangeConfiguration(function(){return t.update()})),this.callOnDispose.push(o.onDidChangeModel(function(){return t.update()})),this.callOnDispose.push(o.onDidChangeModelLanguage(function(){return t.update()})),this.callOnDispose.push(u.DocumentRangeFormattingEditProviderRegistry.onDidChange(this.update,this))}return e=o,o.prototype.update=function(){var o=this;if(this.callOnModel=N.dispose(this.callOnModel),this.editor.getConfiguration().contribInfo.formatOnPaste&&this.editor.getModel()){var e=this.editor.getModel(),t=u.DocumentRangeFormattingEditProviderRegistry.ordered(e)[0];t&&t.provideDocumentRangeFormattingEdits&&this.callOnModel.push(this.editor.onDidPaste(function(e){o.trigger(e)}))}},o.prototype.trigger=function(i){var d=this;if(!(1<this.editor.getSelections().length)){var t=this.editor.getModel(),e=t.getOptions(),o=e.tabSize,p=e.insertSpaces,u=new h.EditorState(this.editor,5);l.getDocumentRangeFormattingEdits(t,i,{tabSize:o,insertSpaces:p}).then(function(o){return d.workerService.computeMoreMinimalEdits(t.uri,o,[])}).then(function(t){u.validate(d.editor)&&!n.isFalsyOrEmpty(t)&&(c.EditOperationsCommand.execute(d.editor,t),C(t))})}},o.prototype.getId=function(){return e.ID},o.prototype.dispose=function(){this.callOnDispose=N.dispose(this.callOnDispose),this.callOnModel=N.dispose(this.callOnModel)},o.ID="editor.contrib.formatOnPaste",o=e=F([r.commonEditorContribution,v(1,d.IEditorWorkerService)],o);var e}();var b=function(o){function e(){return null!==o&&o.apply(this,arguments)||this}return Z(e,o),e.prototype.run=function(a,s){var t=a.get(d.IEditorWorkerService),e=this._getFormattingEdits(s);if(!e)return i.TPromise.as(void 0);var l=new h.EditorState(s,5);return e.then(function(o){return t.computeMoreMinimalEdits(s.getModel().uri,o,s.getSelections())}).then(function(t){l.validate(s)&&!n.isFalsyOrEmpty(t)&&(c.EditOperationsCommand.execute(s,t),C(t),s.focus())})},e}(r.EditorAction);e.AbstractFormatAction=b;var S=function(n){function e(){return n.call(this,{id:"editor.action.formatDocument",label:y.localize(4,null),alias:"Format Document",precondition:o.ContextKeyExpr.and(_.EditorContextKeys.writable,_.EditorContextKeys.hasDocumentFormattingProvider),kbOpts:{kbExpr:_.EditorContextKeys.textFocus,primary:1572,linux:{primary:3111}},menuOpts:{group:"1_modification",order:1.3}})||this}return Z(e,n),e.prototype._getFormattingEdits=function(r){var e=r.getModel(),t=e.getOptions(),n=t.tabSize,a=t.insertSpaces;return l.getDocumentFormattingEdits(e,{tabSize:n,insertSpaces:a})},e=F([r.editorAction],e)}(b);e.FormatDocumentAction=S;var E=function(n){function e(){return n.call(this,{id:"editor.action.formatSelection",label:y.localize(5,null),alias:"Format Code",precondition:o.ContextKeyExpr.and(_.EditorContextKeys.writable,_.EditorContextKeys.hasDocumentSelectionFormattingProvider,_.EditorContextKeys.hasNonEmptySelection),kbOpts:{kbExpr:_.EditorContextKeys.textFocus,primary:t.KeyChord(2089,2084)},menuOpts:{group:"1_modification",order:1.31}})||this}return Z(e,n),e.prototype._getFormattingEdits=function(r){var e=r.getModel(),t=e.getOptions(),n=t.tabSize,a=t.insertSpaces;return l.getDocumentRangeFormattingEdits(e,r.getSelection(),{tabSize:n,insertSpaces:a})},e=F([r.editorAction],e)}(b);e.FormatSelectionAction=E,a.CommandsRegistry.registerCommand("editor.action.format",function(o){var e=o.get(s.ICodeEditorService).getFocusedCodeEditor();if(e)return new(function(o){function e(){return o.call(this,{})||this}return Z(e,o),e.prototype._getFormattingEdits=function(a){var e=a.getModel(),t=a.getSelection(),n=e.getOptions(),i=n.tabSize,s=n.insertSpaces;return t.isEmpty()?l.getDocumentFormattingEdits(e,{tabSize:i,insertSpaces:s}):l.getDocumentRangeFormattingEdits(e,t,{tabSize:i,insertSpaces:s})},e}(b))().run(o,e)})}),define(s[177],n([1,0,10,7,13,17,18]),function(p,e,t,n,i,o,r){"use strict";function s(t){return n.TPromise.join(t).then(function(r){for(var e=[],t=0,n=r,i;t<n.length;t++)i=n[t],Array.isArray(i)?e.push.apply(e,i):i&&e.push(i);return e})}function a(a,e,n,d){return s(n.ordered(a).map(function(o){return r.asWinJsPromise(function(t){return d(o,a,e,t)}).then(function(t){return t},function(o){t.onUnexpectedExternalError(o)})}))}function u(n,e){return a(n,e,o.DefinitionProviderRegistry,function(o,e,t,n){return o.provideDefinition(e,t,n)})}function l(n,e){return a(n,e,o.ImplementationProviderRegistry,function(o,e,t,n){return o.provideImplementation(e,t,n)})}function c(n,e){return a(n,e,o.TypeDefinitionProviderRegistry,function(o,e,t,n){return o.provideTypeDefinition(e,t,n)})}Object.defineProperty(e,"__esModule",{value:!0}),e.getDefinitionsAtPosition=u,e.getImplementationsAtPosition=l,e.getTypeDefinitionsAtPosition=c,i.CommonEditorRegistry.registerDefaultLanguageCommand("_executeDefinitionProvider",u),i.CommonEditorRegistry.registerDefaultLanguageCommand("_executeImplementationProvider",l),i.CommonEditorRegistry.registerDefaultLanguageCommand("_executeTypeDefinitionProvider",c)}),define(s[462],n([1,0,33,10,7,13,17,18]),function(d,e,t,n,i,o,l,s){"use strict";function r(o,e){var a=[],r=l.HoverProviderRegistry.ordered(o).map(function(t,i){return s.asWinJsPromise(function(n){return t.provideHover(o,e,n)}).then(function(o){if(o){var e=void 0!==o.range,t=void 0!==o.contents&&o.contents&&0<o.contents.length;e&&t&&(a[i]=o)}},function(t){n.onUnexpectedExternalError(t)})});return i.TPromise.join(r).then(function(){return t.coalesce(a)})}Object.defineProperty(e,"__esModule",{value:!0}),e.getHover=r,o.CommonEditorRegistry.registerDefaultLanguageCommand("_executeHoverProvider",r)}),define(s[463],n([1,0,355,24,10,4,7,102,71,2,12,17,122,462,195,196,133,34,242,245,246,247,32,3]),function(f,e,t,n,i,I,o,s,r,k,a,l,d,c,p,u,g,m,h,y,_,C,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var v=I.$,S=function(){return function(o,e,t,n){this.range=o,this.color=e,this.format=t,this.availableFormats=n}}(),E=function(){function n(t){this._editor=t,this._range=null}return n.prototype.setRange=function(t){this._range=t,this._result=[]},n.prototype.clearResult=function(){this._result=[]},n.prototype.computeAsync=function(){var t=this._editor.getModel();return l.HoverProviderRegistry.has(t)?c.getHover(t,new a.Position(this._range.startLineNumber,this._range.startColumn)):o.TPromise.as(null)},n.prototype.computeSync=function(){var l=this,e=this._range.startLineNumber;if(e>this._editor.getModel().getLineCount())return[];var t=function(t){return t&&(!Array.isArray(t)||0<t.length)},n=this._editor.getModel().getLineMaxColumn(e);return this._editor.getLineDecorations(e).map(function(i){var o=i.range.startLineNumber===e?i.range.startColumn:1,r=i.range.endLineNumber===e?i.range.endColumn:n;if(o>l._range.startColumn||l._range.endColumn>r)return null;var s=new k.Range(l._range.startLineNumber,o,l._range.startLineNumber,r),g=i.options,u=g&&g.extraOptions;if(_.isColorDecorationOptions(u)){var c=u.color,d=u.format,m=u.availableFormats;return new S(s,c,d,m)}if(!t(i.options.hoverMessage))return null;var p;return i.options.hoverMessage&&(p=Array.isArray(i.options.hoverMessage)?i.options.hoverMessage.slice():[i.options.hoverMessage]),{contents:p,range:s}}).filter(function(t){return!!t})},n.prototype.onResult=function(o,e){this._result=e?o.concat(this._result.sort(function(o,e){return o instanceof S?-1:e instanceof S?1:0})):this._result.concat(o)},n.prototype.getResult=function(){return this._result.slice(0)},n.prototype.getResultWithLoadingMessage=function(){return this._result.slice(0).concat([this._getLoadingMessage()])},n.prototype._getLoadingMessage=function(){return{range:this._range,contents:[g.textToMarkedString(t.localize(0,null))]}},n}(),L=function(l){function c(e,t,n){var o=l.call(this,c.ID,e)||this;return o._computer=new E(o._editor),o._highlightDecorations=[],o._isChangingDecorations=!1,o._openerService=t||r.NullOpenerService,o._modeService=n,o._hoverOperation=new p.HoverOperation(o._computer,function(t){return o._withResult(t,!0)},null,function(t){return o._withResult(t,!1)}),o.toDispose=[],o.toDispose.push(I.addStandardDisposableListener(o.getDomNode(),I.EventType.FOCUS,function(){o._colorPicker&&I.addClass(o.getDomNode(),"colorpicker-hover")})),o.toDispose.push(I.addStandardDisposableListener(o.getDomNode(),I.EventType.BLUR,function(){I.removeClass(o.getDomNode(),"colorpicker-hover")})),o}return Z(c,l),c.prototype.dispose=function(){this._hoverOperation.cancel(),this._colorPicker&&this._colorPicker.dispose(),this.toDispose=b.dispose(this.toDispose),l.prototype.dispose.call(this)},c.prototype.onModelDecorationsChanged=function(){this._isChangingDecorations||this.isVisible&&(this._hoverOperation.cancel(),this._computer.clearResult(),this._colorPicker||this._hoverOperation.start())},c.prototype.startShowingAt=function(a,e){if(!this._lastRange||!this._lastRange.equalsRange(a)){if(this._hoverOperation.cancel(),this.isVisible)if(this._showAtPosition.lineNumber!==a.startLineNumber)this.hide();else{for(var t=[],n=0,i=this._messages.length;n<i;n++){var o=this._messages[n],r=o.range;r.startColumn<=a.startColumn&&r.endColumn>=a.endColumn&&t.push(o)}0<t.length?this._renderMessages(a,t):this.hide()}this._lastRange=a,this._computer.setRange(a),this._shouldFocus=e,this._hoverOperation.start()}},c.prototype.hide=function(){this._lastRange=null,this._hoverOperation.cancel(),l.prototype.hide.call(this),this._isChangingDecorations=!0,this._highlightDecorations=this._editor.deltaDecorations(this._highlightDecorations,[]),this._isChangingDecorations=!1,this._colorPicker=null,this._colorPicker&&this._colorPicker.dispose()},c.prototype.isColorPickerVisible=function(){return!!this._colorPicker},c.prototype._withResult=function(o,e){this._messages=o,this._lastRange&&0<this._messages.length?this._renderMessages(this._lastRange,this._messages):e&&this.hide()},c.prototype._renderMessages=function(t,e){var o=this,r=T,l=e[0].range,L=document.createDocumentFragment();e.forEach(function(a){if(a.range)if(r=q(r,a.range.startColumn),l=k.Range.plusRange(l,a.range),a instanceof S){var e,t;"string"==typeof a.format?e=new C.ColorFormatter(a.format):(e=new C.ColorFormatter(a.format.opaque),t=new C.ColorFormatter(a.format.transparent));var u=[];a.availableFormats&&a.availableFormats.forEach(function(o){var n;n="string"==typeof o?new C.ColorFormatter(o):{opaqueFormatter:new C.ColorFormatter(o.opaque),transparentFormatter:new C.ColorFormatter(o.transparent)},u.push(n)});var c=a.color,p=c.red,f=c.green,g=c.blue,m=c.alpha,x=new w.RGBA(255*p,255*f,255*g,255*m),_=w.Color.fromRGBA(x),b=new h.ColorPickerModel(x.toString(),_,e,t,u,o._editor.getModel(),a.range),E=o._register(new y.ColorPickerWidget(b,o._editor));b.widget=E,o._colorPicker=E,L.appendChild(E.getDomNode())}else a.contents.filter(function(t){return!!t}).forEach(function(r){var e=s.renderMarkedString(r,{actionCallback:function(t){o._openerService.open(n.default.parse(t)).then(void 0,i.onUnexpectedError)},codeBlockRenderer:function(i,e){var t=i?o._modeService.getModeIdForLanguageName(i):o._editor.getModel().getLanguageIdentifier().language;return o._modeService.getOrCreateMode(t).then(function(){return d.tokenizeToString(e,t)})}});L.appendChild(v("div.hover-row",null,e))})}),this.showAt(new a.Position(t.startLineNumber,r),this._shouldFocus),this.updateContents(L),this._colorPicker&&(this._colorPicker.layout(),this._colorPicker.layoutSaturationBox()),this._isChangingDecorations=!0,this._highlightDecorations=this._editor.deltaDecorations(this._highlightDecorations,[{range:l,options:c._DECORATION_OPTIONS}]),this._isChangingDecorations=!1},c.ID="editor.contrib.modesContentHoverWidget",c._DECORATION_OPTIONS=m.ModelDecorationOptions.register({className:"hoverHighlight"}),c}(u.ContentHoverWidget);e.ModesContentHoverWidget=L}),define(s[464],n([1,0,357,40,266,59,435,21,73,2,22,13,264,265,319,119,134]),function(f,e,t,n,i,o,r,s,v,R,l,a,d,c,p,u,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var m=function(o){function e(e,r){var n=o.call(this,r)||this;return n.down=e,n}return Z(e,o),e.prototype.run=function(r,e){for(var t=[],n=e.getSelections(),i=0;i<n.length;i++)t.push(new d.CopyLinesCommand(n[i],this.down));e.pushUndoStop(),e.executeCommands(this.id,t),e.pushUndoStop()},e}(a.EditorAction),h=(function(o){function e(){return o.call(this,!1,{id:"editor.action.copyLinesUpAction",label:t.localize(0,null),alias:"Copy Line Up",precondition:s.EditorContextKeys.writable,kbOpts:{kbExpr:s.EditorContextKeys.textFocus,primary:1552,linux:{primary:3600}}})||this}Z(e,o),e=F([a.editorAction],e)}(m),function(o){function e(){return o.call(this,!0,{id:"editor.action.copyLinesDownAction",label:t.localize(1,null),alias:"Copy Line Down",precondition:s.EditorContextKeys.writable,kbOpts:{kbExpr:s.EditorContextKeys.textFocus,primary:1554,linux:{primary:3602}}})||this}Z(e,o),e=F([a.editorAction],e)}(m),function(o){function e(e,r){var n=o.call(this,r)||this;return n.down=e,n}return Z(e,o),e.prototype.run=function(a,e){for(var t=[],n=e.getSelections(),i=e.getConfiguration().autoIndent,o=0;o<n.length;o++)t.push(new p.MoveLinesCommand(n[o],this.down,i));e.pushUndoStop(),e.executeCommands(this.id,t),e.pushUndoStop()},e}(a.EditorAction)),_=(function(o){function e(){return o.call(this,!1,{id:"editor.action.moveLinesUpAction",label:t.localize(2,null),alias:"Move Line Up",precondition:s.EditorContextKeys.writable,kbOpts:{kbExpr:s.EditorContextKeys.textFocus,primary:528,linux:{primary:528}}})||this}Z(e,o),e=F([a.editorAction],e)}(h),function(o){function e(){return o.call(this,!0,{id:"editor.action.moveLinesDownAction",label:t.localize(3,null),alias:"Move Line Down",precondition:s.EditorContextKeys.writable,kbOpts:{kbExpr:s.EditorContextKeys.textFocus,primary:530,linux:{primary:530}}})||this}Z(e,o),e=F([a.editorAction],e)}(h),function(o){function e(e,r){var n=o.call(this,r)||this;return n.descending=e,n}return Z(e,o),e.prototype.run=function(o,e){if(i.SortLinesCommand.canRun(e.getModel(),e.getSelection(),this.descending)){var t=new i.SortLinesCommand(e.getSelection(),this.descending);e.pushUndoStop(),e.executeCommands(this.id,[t]),e.pushUndoStop()}},e}(a.EditorAction)),y=(function(o){function e(){return o.call(this,!1,{id:"editor.action.sortLinesAscending",label:t.localize(4,null),alias:"Sort Lines Ascending",precondition:s.EditorContextKeys.writable})||this}Z(e,o),e=F([a.editorAction],e)}(_),function(o){function e(){return o.call(this,!0,{id:"editor.action.sortLinesDescending",label:t.localize(5,null),alias:"Sort Lines Descending",precondition:s.EditorContextKeys.writable})||this}Z(e,o),e=F([a.editorAction],e)}(_),function(i){function e(){return i.call(this,{id:d.ID,label:t.localize(6,null),alias:"Trim Trailing Whitespace",precondition:s.EditorContextKeys.writable,kbOpts:{kbExpr:s.EditorContextKeys.textFocus,primary:n.KeyChord(2089,2102)}})||this}return Z(e,i),d=e,e.prototype.run=function(o,e){var t=new r.TrimTrailingWhitespaceCommand(e.getSelection());e.pushUndoStop(),e.executeCommands(this.id,[t]),e.pushUndoStop()},e.ID="editor.action.trimTrailingWhitespace",e=d=F([a.editorAction],e);var d}(a.EditorAction));e.TrimTrailingWhitespaceAction=y,!function(o){function e(){return o.call(this,{id:"editor.action.deleteLines",label:t.localize(7,null),alias:"Delete Line",precondition:s.EditorContextKeys.writable,kbOpts:{kbExpr:s.EditorContextKeys.textFocus,primary:3113}})||this}Z(e,o),e.prototype.run=function(o,e){var t=this._getLinesToRemove(e).map(function(t){return new c.DeleteLinesCommand(t.startLineNumber,t.endLineNumber,t.positionColumn)});e.pushUndoStop(),e.executeCommands(this.id,t),e.pushUndoStop()},e=F([a.editorAction],e)}(function(o){function e(){return null!==o&&o.apply(this,arguments)||this}return Z(e,o),e.prototype._getLinesToRemove=function(r){var e=r.getSelections().map(function(o){var e=o.endLineNumber;return o.startLineNumber<o.endLineNumber&&1===o.endColumn&&(e-=1),{startLineNumber:o.startLineNumber,endLineNumber:e,positionColumn:o.positionColumn}});e.sort(function(o,e){return o.startLineNumber-e.startLineNumber});for(var t=[],n=e[0],i=1;i<e.length;i++)n.endLineNumber+1===e[i].startLineNumber?n.endLineNumber=e[i].endLineNumber:(t.push(n),n=e[i]);return t.push(n),t},e}(a.EditorAction));var C=function(o){function e(){return o.call(this,{id:"editor.action.indentLines",label:t.localize(8,null),alias:"Indent Line",precondition:s.EditorContextKeys.writable,kbOpts:{kbExpr:s.EditorContextKeys.textFocus,primary:2137}})||this}return Z(e,o),e.prototype.run=function(o,e){e.pushUndoStop(),e.executeCommands(this.id,u.TypeOperations.indent(e._getCursorConfiguration(),e.getModel(),e.getSelections())),e.pushUndoStop()},e=F([a.editorAction],e)}(a.EditorAction);e.IndentLinesAction=C,!function(o){function e(){return o.call(this,{id:"editor.action.outdentLines",label:t.localize(9,null),alias:"Outdent Line",precondition:s.EditorContextKeys.writable,kbOpts:{kbExpr:s.EditorContextKeys.textFocus,primary:2135}})||this}Z(e,o),e.prototype.run=function(o,e){g.CoreEditingCommands.Outdent.runEditorCommand(null,e,null)},e=F([a.editorAction],e)}(a.EditorAction);var b=function(o){function e(){return o.call(this,{id:"editor.action.insertLineBefore",label:t.localize(10,null),alias:"Insert Line Above",precondition:s.EditorContextKeys.writable,kbOpts:{kbExpr:s.EditorContextKeys.textFocus,primary:3075}})||this}return Z(e,o),e.prototype.run=function(o,e){e.pushUndoStop(),e.executeCommands(this.id,u.TypeOperations.lineInsertBefore(e._getCursorConfiguration(),e.getModel(),e.getSelections()))},e=F([a.editorAction],e)}(a.EditorAction);e.InsertLineBeforeAction=b;var S=function(o){function e(){return o.call(this,{id:"editor.action.insertLineAfter",label:t.localize(11,null),alias:"Insert Line Below",precondition:s.EditorContextKeys.writable,kbOpts:{kbExpr:s.EditorContextKeys.textFocus,primary:2051}})||this}return Z(e,o),e.prototype.run=function(o,e){e.pushUndoStop(),e.executeCommands(this.id,u.TypeOperations.lineInsertAfter(e._getCursorConfiguration(),e.getModel(),e.getSelections()))},e=F([a.editorAction],e)}(a.EditorAction);e.InsertLineAfterAction=S;var E=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Z(e,n),e.prototype.run=function(r,e){for(var t=e.getSelection(),n=this._getRangesToDelete(e),i=[],c=0,s=n.length-1;c<s;c++){var a=n[c],u=n[c+1];null===R.Range.intersectRanges(a,u)?i.push(a):n[c+1]=R.Range.plusRange(a,u)}i.push(n[n.length-1]);var d=this._getEndCursorState(t,i),g=i.map(function(t){return d.push(new l.Selection(t.startLineNumber,t.startColumn,t.startLineNumber,t.startColumn)),o.EditOperation.replace(t,"")});e.executeEdits(this.id,g,d)},e}(a.EditorAction);e.AbstractDeleteAllToBoundaryAction=E;var L=function(o){function e(){return o.call(this,{id:"deleteAllLeft",label:t.localize(12,null),alias:"Delete All Left",precondition:s.EditorContextKeys.writable,kbOpts:{kbExpr:s.EditorContextKeys.textFocus,primary:null,mac:{primary:2049}}})||this}return Z(e,o),e.prototype._getEndCursorState=function(d,e){for(var t=[],i=0,o=e.length,r;i<o;i++){var n=e[i],s=new l.Selection(e[i].startLineNumber,e[i].startColumn,e[i].startLineNumber,e[i].startColumn);n.intersectRanges(d)?r=s:t.push(s)}return r&&t.unshift(r),t},e.prototype._getRangesToDelete=function(o){var e=o.getSelections();return e.sort(R.Range.compareRangesUsingStarts),e=e.map(function(t){return t.isEmpty()?new R.Range(t.startLineNumber,1,t.startLineNumber,t.startColumn):t})},e=F([a.editorAction],e)}(E);e.DeleteAllLeftAction=L;var w=function(o){function e(){return o.call(this,{id:"deleteAllRight",label:t.localize(13,null),alias:"Delete All Right",precondition:s.EditorContextKeys.writable,kbOpts:{kbExpr:s.EditorContextKeys.textFocus,primary:null,mac:{primary:297,secondary:[2068]}}})||this}return Z(e,o),e.prototype._getEndCursorState=function(d,e){for(var t=[],i=0,o=e.length,r;i<o;i++){var n=e[i],s=new l.Selection(n.startLineNumber-0,n.startColumn,n.startLineNumber-0,n.startColumn);n.intersectRanges(d)?r=s:t.push(s)}return r&&t.unshift(r),t},e.prototype._getRangesToDelete=function(o){var i=o.getModel(),e=o.getSelections().map(function(t){if(t.isEmpty()){var e=i.getLineMaxColumn(t.startLineNumber);return t.startColumn===e?new R.Range(t.startLineNumber,t.startColumn,t.startLineNumber+1,1):new R.Range(t.startLineNumber,t.startColumn,t.startLineNumber,e)}return t});return e.sort(R.Range.compareRangesUsingStarts),e},e=F([a.editorAction],e)}(E);e.DeleteAllRightAction=w;var x=function(n){function e(){return n.call(this,{id:"editor.action.joinLines",label:t.localize(14,null),alias:"Join Lines",precondition:s.EditorContextKeys.writable,kbOpts:{kbExpr:s.EditorContextKeys.textFocus,primary:0,mac:{primary:296}}})||this}return Z(e,n),e.prototype.run=function(r,e){var t=e.getSelections(),n=e.getSelection();t.sort(R.Range.compareRangesUsingStarts);var i=[],c=t.reduce(function(o,e){return o.isEmpty()?o.endLineNumber===e.startLineNumber?(n.equalsSelection(o)&&(n=e),e):e.startLineNumber>o.endLineNumber+1?(i.push(o),e):new l.Selection(o.startLineNumber,o.startColumn,e.endLineNumber,e.endColumn):e.startLineNumber>o.endLineNumber?(i.push(o),e):new l.Selection(o.startLineNumber,o.startColumn,e.endLineNumber,e.endColumn)});i.push(c);for(var s=e.getModel(),a=[],u=[],d=n,h=0,p=0,f=i.length;p<f;p++){var g=i[p],m=g.startLineNumber,v=void 0,_=void 0,y=void 0,C=s.getLineContent(g.endLineNumber).length-g.endColumn;if(g.isEmpty()||g.startLineNumber===g.endLineNumber){var b=g.getStartPosition();b.lineNumber<s.getLineCount()?(v=m+1,_=s.getLineMaxColumn(v)):(v=b.lineNumber,_=s.getLineMaxColumn(b.lineNumber))}else v=g.endLineNumber,_=s.getLineMaxColumn(v);for(var w=s.getLineContent(m),S=m+1;S<=v;S++){var E=s.getLineContent(S),L=s.getLineFirstNonWhitespaceColumn(S);if(1<=L){var x=!0;""===w&&(x=!1),x&&(" "===w.charAt(w.length-1)||"\t"===w.charAt(w.length-1))&&(x=!1,w=w.replace(/[\s\uFEFF\xA0]+$/g," "));var N=E.substr(L-1);w+=(x?" ":"")+N,y=x?N.length+1:N.length}else y=0}var I=new R.Range(m,1,v,_);if(!I.isEmpty()){var T=void 0;g.isEmpty()?(a.push(o.EditOperation.replace(I,w)),T=new l.Selection(I.startLineNumber-h,w.length-y+1,m-h,w.length-y+1)):g.startLineNumber===g.endLineNumber?(a.push(o.EditOperation.replace(I,w)),T=new l.Selection(g.startLineNumber-h,g.startColumn,g.endLineNumber-h,g.endColumn)):(a.push(o.EditOperation.replace(I,w)),T=new l.Selection(g.startLineNumber-h,g.startColumn,g.startLineNumber-h,w.length-C)),null===R.Range.intersectRanges(I,n)?u.push(T):d=T}h+=I.endLineNumber-I.startLineNumber}u.unshift(d),e.executeEdits(this.id,a,u)},e=F([a.editorAction],e)}(a.EditorAction);e.JoinLinesAction=x;var N=function(o){function e(){return o.call(this,{id:"editor.action.transpose",label:t.localize(15,null),alias:"Transpose characters around the cursor",precondition:s.EditorContextKeys.writable})||this}return Z(e,o),e.prototype.run=function(c,e){for(var t=e.getSelections(),n=e.getModel(),i=[],o=0,r=t.length,s;o<r;o++)if(s=t[o],s.isEmpty()){var a=s.getStartPosition(),d=n.getLineMaxColumn(a.lineNumber);if(a.column>=d){if(a.lineNumber===n.getLineCount())continue;var u=new R.Range(a.lineNumber,G(1,a.column-1),a.lineNumber+1,1),p=n.getValueInRange(u).split("").reverse().join("");i.push(new v.ReplaceCommand(new l.Selection(a.lineNumber,G(1,a.column-1),a.lineNumber+1,1),p))}else{var u=new R.Range(a.lineNumber,G(1,a.column-1),a.lineNumber,a.column+1),p=n.getValueInRange(u).split("").reverse().join("");i.push(new v.ReplaceCommandThatPreservesSelection(u,p,new l.Selection(a.lineNumber,a.column+1,a.lineNumber,a.column+1)))}}e.pushUndoStop(),e.executeCommands(this.id,i),e.pushUndoStop()},e=F([a.editorAction],e)}(a.EditorAction);e.TransposeAction=N;var T=function(o){function e(){return null!==o&&o.apply(this,arguments)||this}return Z(e,o),e.prototype.run=function(c,e){for(var t=e.getSelections(),n=e.getModel(),i=[],o=0,r=t.length,s;o<r;o++)if(s=t[o],s.isEmpty()){var a=s.getStartPosition(),d=n.getWordAtPosition(a);if(!d)continue;var u=new R.Range(a.lineNumber,d.startColumn,a.lineNumber,d.endColumn),p=n.getValueInRange(u);i.push(new v.ReplaceCommandThatPreservesSelection(u,this._modifyText(p),new l.Selection(a.lineNumber,a.column,a.lineNumber,a.column)))}else p=n.getValueInRange(s),i.push(new v.ReplaceCommandThatPreservesSelection(s,this._modifyText(p),s));e.pushUndoStop(),e.executeCommands(this.id,i),e.pushUndoStop()},e}(a.EditorAction);e.AbstractCaseAction=T;var I=function(o){function e(){return o.call(this,{id:"editor.action.transformToUppercase",label:t.localize(16,null),alias:"Transform to Uppercase",precondition:s.EditorContextKeys.writable})||this}return Z(e,o),e.prototype._modifyText=function(t){return t.toLocaleUpperCase()},e=F([a.editorAction],e)}(T);e.UpperCaseAction=I;var M=function(o){function e(){return o.call(this,{id:"editor.action.transformToLowercase",label:t.localize(17,null),alias:"Transform to Lowercase",precondition:s.EditorContextKeys.writable})||this}return Z(e,o),e.prototype._modifyText=function(t){return t.toLocaleLowerCase()},e=F([a.editorAction],e)}(T);e.LowerCaseAction=M}),define(s[465],n([1,0,359,21,13,22,54,173,39]),function(d,e,t,n,i,p,r,s,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(o){function e(){return o.call(this,{id:"editor.action.insertCursorAbove",label:t.localize(0,null),alias:"Add Cursor Above",precondition:null,kbOpts:{kbExpr:n.EditorContextKeys.textFocus,primary:2576,linux:{primary:1552,secondary:[3088]}}})||this}return Z(e,o),e.prototype.run=function(d,e,t){var n=e._getCursors(),i=n.context;i.config.readOnly||(i.model.pushStackElement(),n.setStates(t.source,r.CursorChangeReason.Explicit,a.CursorState.ensureInEditableRange(i,s.CursorMoveCommands.addCursorUp(i,n.getAll()))),n.reveal(!0,1))},e=F([i.editorAction],e)}(i.EditorAction);e.InsertCursorAbove=o;var l=function(o){function e(){return o.call(this,{id:"editor.action.insertCursorBelow",label:t.localize(1,null),alias:"Add Cursor Below",precondition:null,kbOpts:{kbExpr:n.EditorContextKeys.textFocus,primary:2578,linux:{primary:1554,secondary:[3090]}}})||this}return Z(e,o),e.prototype.run=function(d,e,t){var n=e._getCursors(),i=n.context;i.config.readOnly||(i.model.pushStackElement(),n.setStates(t.source,r.CursorChangeReason.Explicit,a.CursorState.ensureInEditableRange(i,s.CursorMoveCommands.addCursorDown(i,n.getAll()))),n.reveal(!0,2))},e=F([i.editorAction],e)}(i.EditorAction);e.InsertCursorBelow=l,!function(o){function e(){return o.call(this,{id:"editor.action.insertCursorAtEndOfEachLineSelected",label:t.localize(2,null),alias:"Add Cursors to Line Ends",precondition:null,kbOpts:{kbExpr:n.EditorContextKeys.textFocus,primary:1575}})||this}Z(e,o),e.prototype.getCursorsForSelection=function(r,e){if(r.isEmpty())return[];for(var t=e.getModel(),n=[],i=r.startLineNumber,o;i<r.endLineNumber;i++)o=t.getLineMaxColumn(i),n.push(new p.Selection(i,o,i,o));return 1<r.endColumn&&n.push(new p.Selection(r.endLineNumber,r.endColumn,r.endLineNumber,r.endColumn)),n},e.prototype.run=function(o,r){var t=this,e=r.getSelections().map(function(o){return t.getCursorsForSelection(o,r)}).reduce(function(o,e){return o.concat(e)});0<e.length&&r.setSelections(e)},e=F([i.editorAction],e)}(i.EditorAction)}),define(s[178],n([1,0,10,13,17,18,19]),function(d,e,l,t,n,p,o){"use strict";function i(r,e){var t=n.SignatureHelpProviderRegistry.ordered(r),a;return p.sequence(t.map(function(t){return function(){if(!a)return p.asWinJsPromise(function(o){return t.provideSignatureHelp(r,e,o)}).then(function(t){a=t},l.onUnexpectedExternalError)}})).then(function(){return a})}Object.defineProperty(e,"__esModule",{value:!0}),e.Context={Visible:new o.RawContextKey("parameterHintsVisible",!1),MultipleSignatures:new o.RawContextKey("parameterHintsMultipleSignatures",!1)},e.provideSignatureHelp=i,t.CommonEditorRegistry.registerDefaultLanguageCommand("_executeSignatureHelpProvider",i)}),define(s[467],n([1,0,24,2,17,18,7,10,56,13]),function(d,e,p,n,g,o,r,i,a,t){"use strict";function l(a,e){var s=[],t=g.CodeActionProviderRegistry.all(a).map(function(t){return o.asWinJsPromise(function(o){return t.provideCodeActions(a,e,o)}).then(function(n){if(Array.isArray(n))for(var e=0,t=n,i;e<t.length;e++)i=t[e],i&&s.push(i)},function(t){i.onUnexpectedExternalError(t)})});return r.TPromise.join(t).then(function(){return s})}Object.defineProperty(e,"__esModule",{value:!0}),e.getCodeActions=l,t.CommonEditorRegistry.registerLanguageCommand("_executeCodeActionProvider",function(d,e){var t=e.resource,o=e.range;if(!(t instanceof p.default&&n.Range.isIRange(o)))throw i.illegalArgument();var r=d.get(a.IModelService).getModel(t);if(!r)throw i.illegalArgument();return l(r,r.validateRange(o))})}),define(s[468],n([1,0,11,3,2,17,467]),function(d,e,l,t,p,o,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function o(n,a,t,i){void 0===i&&(i=250);var o=this;this._editor=n,this._markerService=a,this._signalChange=t,this._disposables=[],this._disposables.push(l.debounceEvent(this._markerService.onMarkerChanged,function(o,e){return o?o.concat(e):e},i/2)(function(t){return o._onMarkerChanges(t)}),l.debounceEvent(this._editor.onDidChangeCursorPosition,function(t){return t},i)(function(){return o._onCursorChange()}))}return o.prototype.dispose=function(){this._disposables=t.dispose(this._disposables)},o.prototype.trigger=function(o){var r=this._editor.getSelection(),t=this._getActiveMarkerOrWordRange();"manual"!==o||r.isEmpty()||(t=r),t||(t=r),this._signalChange({type:o,range:t,position:this._editor.getPosition(),fixes:t&&i.getCodeActions(this._editor.getModel(),this._editor.getModel().validateRange(t))})},o.prototype._onMarkerChanges=function(o){for(var e=this._editor.getModel().uri,t=0,n=o;t<n.length;t++)if(n[t].toString()===e.toString())return this._currentRange=void 0,void this._onCursorChange()},o.prototype._onCursorChange=function(){var t=this._getActiveMarkerOrWordRange();p.Range.equalsRange(this._currentRange,t)||(this._currentRange=t,this._signalChange({type:"auto",range:t,position:this._editor.getPosition(),fixes:t&&i.getCodeActions(this._editor.getModel(),this._editor.getModel().validateRange(t))}))},o.prototype._getActiveMarkerOrWordRange=function(){for(var o=this._editor.getSelection(),e=this._editor.getModel(),t=0,n=this._markerService.read({resource:e.uri});t<n.length;t++){var i=n[t],r=p.Range.lift(i);if(r.containsRange(o))return r}if(o.isEmpty()){var s=o.getStartPosition(),a=e.getWordAtPosition(s);if(a)return new p.Range(s.lineNumber,a.startColumn,s.lineNumber,a.endColumn)}},o}();e.QuickFixOracle=n;var r=function(){function i(n,r){var t=this;this._onDidChangeFixes=new l.Emitter,this._disposables=[],this._editor=n,this._markerService=r,this._disposables.push(this._editor.onDidChangeModel(function(){return t._update()})),this._disposables.push(this._editor.onDidChangeModelLanguage(function(){return t._update()})),this._disposables.push(o.CodeActionProviderRegistry.onDidChange(this._update,this)),this._update()}return i.prototype.dispose=function(){this._disposables=t.dispose(this._disposables),t.dispose(this._quickFixOracle)},Object.defineProperty(i.prototype,"onDidChangeFixes",{get:function(){return this._onDidChangeFixes.event},enumerable:!0,configurable:!0}),i.prototype._update=function(){var i=this;this._quickFixOracle&&(this._quickFixOracle.dispose(),this._quickFixOracle=void 0,this._onDidChangeFixes.fire(void 0)),this._editor.getModel()&&o.CodeActionProviderRegistry.has(this._editor.getModel())&&!this._editor.getConfiguration().readOnly&&(this._quickFixOracle=new n(this._editor,this._markerService,function(e){return i._onDidChangeFixes.fire(e)}),this._quickFixOracle.trigger("auto"))},i.prototype.trigger=function(t){this._quickFixOracle&&this._quickFixOracle.trigger(t)},i}();e.QuickFixModel=r}),define(s[469],n([1,0,362,3,31,69,19,46,103,21,13,30,268,267,468]),function(f,e,y,t,n,o,r,i,a,s,l,c,d,u,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var g=function(){function s(a,l,t,n,i,o){var r=this;this._keybindingService=o,this._disposables=[],this._editor=a,this._model=new p.QuickFixModel(this._editor,l),this._quickFixContextMenu=new d.QuickFixContextMenu(a,i,n),this._lightBulbWidget=new u.LightBulbWidget(a),this._updateLightBulbTitle(),this._disposables.push(this._quickFixContextMenu.onDidExecuteCodeAction(function(){return r._model.trigger("auto")}),this._lightBulbWidget.onClick(this._handleLightBulbSelect,this),this._model.onDidChangeFixes(function(t){return r._onQuickFixEvent(t)}),this._keybindingService.onDidUpdateKeybindings(this._updateLightBulbTitle,this))}return l=s,s.get=function(t){return t.getContribution(l.ID)},s.prototype.dispose=function(){this._model.dispose(),t.dispose(this._disposables)},s.prototype._onQuickFixEvent=function(t){t&&"manual"===t.type?this._quickFixContextMenu.show(t.fixes,t.position):t&&t.fixes?this._quickFixContextMenu.isVisible?this._quickFixContextMenu.show(t.fixes,t.position):this._lightBulbWidget.model=t:this._lightBulbWidget.hide()},s.prototype.getId=function(){return l.ID},s.prototype._handleLightBulbSelect=function(t){this._quickFixContextMenu.show(this._lightBulbWidget.model.fixes,t)},s.prototype.triggerFromEditorSelection=function(){this._model.trigger("manual")},s.prototype._updateLightBulbTitle=function(){var o=this._keybindingService.lookupKeybinding(m.Id),t;t=o?y.localize(0,null,o.getLabel()):y.localize(1,null),this._lightBulbWidget.title=t},s.ID="editor.contrib.quickFixController",s=l=F([c.editorContribution,v(1,a.IMarkerService),v(2,r.IContextKeyService),v(3,n.ICommandService),v(4,o.IContextMenuService),v(5,i.IKeybindingService)],s);var l}();e.QuickFixController=g;var m=function(o){function e(){return o.call(this,{id:t.Id,label:y.localize(2,null),alias:"Quick Fix",precondition:r.ContextKeyExpr.and(s.EditorContextKeys.writable,s.EditorContextKeys.hasCodeActionsProvider),kbOpts:{kbExpr:s.EditorContextKeys.textFocus,primary:2132}})||this}return Z(e,o),t=e,e.prototype.run=function(o,e){var t=g.get(e);t&&t.triggerFromEditorSelection()},e.Id="editor.action.quickFix",e=t=F([l.editorAction],e);var t}(l.EditorAction);e.QuickFixAction=m}),define(s[470],n([1,0,10,24,7,2,13,17,56,18]),function(p,e,g,n,m,o,t,r,i,a){"use strict";function s(o){var n=[],e=r.DocumentSymbolProviderRegistry.all(o).map(function(e){return a.asWinJsPromise(function(n){return e.provideDocumentSymbols(o,n)}).then(function(t){Array.isArray(t)&&n.push.apply(n,t)},function(t){g.onUnexpectedExternalError(t)})});return m.TPromise.join(e).then(function(){var t=[];return d(t,n,""),t.sort(l),{entries:t}})}function l(n,e){return o.Range.compareRangesUsingStarts(o.Range.lift(n.location.range),o.Range.lift(e.location.range))}function d(a,e,t){for(var n=0,i=e,o;n<i.length;n++)o=i[n],a.push({kind:o.kind,location:o.location,name:o.name,containerName:o.containerName||t})}Object.defineProperty(e,"__esModule",{value:!0}),e.getDocumentSymbols=s,t.CommonEditorRegistry.registerLanguageCommand("_executeDocumentSymbolProvider",function(a,e){var t=e.resource;if(!(t instanceof n.default))throw g.illegalArgument("resource");var o=a.get(i.IModelService).getModel(t);if(!o)throw g.illegalArgument("resource");return s(o)})}),define(s[471],n([1,0,370,33,7,16,2,21,13,398]),function(m,e,t,_,i,o,r,n,a,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=function(){return function(t){this.editor=t,this.next=null,this.previous=null,this.selection=t.getSelection()}}(),c=null,d=!1,u=function(){function n(o,n){this.editor=o,this._tokenSelectionSupport=n.createInstance(s.TokenSelectionSupport)}return p=n,n.get=function(t){return t.getContribution(p.ID)},n.prototype.dispose=function(){},n.prototype.getId=function(){return p.ID},n.prototype.run=function(o){var s=this,e=this.editor.getSelection(),t=this.editor.getModel();c&&c.editor!==this.editor&&(c=null);var n=i.TPromise.as(null);return c||(n=this._tokenSelectionSupport.getRangesToPosition(t.uri,e.getStartPosition()).then(function(t){if(!_.isFalsyOrEmpty(t)){var a;t.filter(function(t){var e=s.editor.getSelection(),o=new r.Range(t.range.startLineNumber,t.range.startColumn,t.range.endLineNumber,t.range.endColumn);return o.containsPosition(e.getStartPosition())&&o.containsPosition(e.getEndPosition())}).forEach(function(t){var e=t.range,n=new l(s.editor);n.selection=new r.Range(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn),a&&(n.next=a,a.previous=n),a=n});var e=new l(s.editor);e.next=a,a&&(a.previous=e),c=e;var o=s.editor.onDidChangeCursorPosition(function(){d||(c=null,o.dispose())})}})),n.then(function(){if(c&&(c=o?c.next:c.previous)){d=!0;try{s.editor.setSelection(c.selection)}finally{d=!1}}})},n.ID="editor.contrib.smartSelectController",n=p=F([a.commonEditorContribution,v(1,o.IInstantiationService)],n);var p}(),p=function(o){function e(e,r){var n=o.call(this,r)||this;return n._forward=e,n}return Z(e,o),e.prototype.run=function(o,e){var t=u.get(e);if(t)return t.run(this._forward)},e}(a.EditorAction);(function(o){function e(){return o.call(this,!0,{id:"editor.action.smartSelect.grow",label:t.localize(0,null),alias:"Expand Select",precondition:null,kbOpts:{kbExpr:n.EditorContextKeys.textFocus,primary:1553,mac:{primary:3345}}})||this}Z(e,o),e=F([a.editorAction],e)})(p),function(o){function e(){return o.call(this,!1,{id:"editor.action.smartSelect.shrink",label:t.localize(1,null),alias:"Shrink Select",precondition:null,kbOpts:{kbExpr:n.EditorContextKeys.textFocus,primary:1551,mac:{primary:3343}}})||this}Z(e,o),e=F([a.editorAction],e)}(p)}),define(s[109],n([1,0,18,33,9,26,10,7,13,17,19]),function(S,e,E,L,i,o,n,s,t,a,r){"use strict";function l(i,e,l,f){void 0===l&&(l="bottom");var y=[],r=p(l);e=e.clone();var o=a.SuggestRegistry.orderedGroups(i);"none"!==l&&_&&o.unshift([_]);var c=!1,u=o.map(function(a){return function(){if(!c)return s.TPromise.join(a.map(function(p){if(L.isFalsyOrEmpty(f)||!(0>f.indexOf(p)))return E.asWinJsPromise(function(t){return p.provideCompletionItems(i,e,t)}).then(function(u){var g=y.length;if(u&&!L.isFalsyOrEmpty(u.suggestions))for(var m=0,s=u.suggestions,a;m<s.length;m++)a=s[m],r(a)&&(d(a,u),y.push({position:e,container:u,suggestion:a,support:p,resolve:h(p,a,i,e)}));g!==y.length&&p!==_&&(c=!0)},n.onUnexpectedExternalError)}))}});return E.sequence(u).then(function(){return y.sort(m(l))})}function d(t){"number"!=typeof t.overwriteBefore&&(t.overwriteBefore=0),("number"!=typeof t.overwriteAfter||0>t.overwriteAfter)&&(t.overwriteAfter=0)}function h(r,a,e,t){return function(){return"function"==typeof r.resolveCompletionItem?E.asWinJsPromise(function(o){return r.resolveCompletionItem(e,t,a,o)}).then(function(t){o.assign(a,t)}):s.TPromise.as(void 0)}}function p(t){return"none"===t?function(t){return"snippet"!==t.type}:function(){return!0}}function c(o,e){var t=0;return"string"==typeof o.suggestion.sortText&&"string"==typeof e.suggestion.sortText&&(t=i.compareIgnoreCase(o.suggestion.sortText,e.suggestion.sortText)),0===t&&(t=i.compareIgnoreCase(o.suggestion.label,e.suggestion.label)),0===t&&o.suggestion.type!==e.suggestion.type&&("snippet"===o.suggestion.type?t=1:"snippet"===e.suggestion.type&&(t=-1)),t}function u(o,e){if(o.suggestion.type!==e.suggestion.type){if("snippet"===o.suggestion.type)return-1;if("snippet"===e.suggestion.type)return 1}return c(o,e)}function g(o,e){if(o.suggestion.type!==e.suggestion.type){if("snippet"===o.suggestion.type)return 1;if("snippet"===e.suggestion.type)return-1}return c(o,e)}function m(t){return"top"===t?u:"bottom"===t?g:c}Object.defineProperty(e,"__esModule",{value:!0}),e.Context={Visible:new r.RawContextKey("suggestWidgetVisible",!1),MultipleSuggestions:new r.RawContextKey("suggestWidgetMultipleSuggestions",!1),MakesTextEdit:new r.RawContextKey("suggestionMakesTextEdit",!0),AcceptOnKey:new r.RawContextKey("suggestionSupportsAcceptOnKey",!0),AcceptSuggestionsOnEnter:new r.RawContextKey("acceptSuggestionOnEnter",!0)};var _;e.setSnippetSuggestSupport=function(o){var e=_;return _=o,e},e.provideSuggestionItems=l,e.getSuggestionComparator=m,t.CommonEditorRegistry.registerDefaultLanguageCommand("_executeCompletionItemProvider",function(o,e){var a={incomplete:!1,suggestions:[]};return l(o,e).then(function(i){for(var e=0,t=i;e<t.length;e++){var n=t[e],o=n.container,r=n.suggestion;a.incomplete=a.incomplete||o.incomplete,a.suggestions.push(r)}return a})});var f=new(function(){function t(){}return t.prototype.provideCompletionItems=function(){return y&&{suggestions:y}},t}()),y;a.SuggestRegistry.register("*",f),e.showSimpleSuggestions=function(o,e){setTimeout(function(){y=e,o.getContribution("editor.contrib.suggestController").triggerSuggest([f]),y=void 0},0)}}),define(s[180],n([1,0,19,13,3,334,21,109,22]),function(d,e,p,n,g,o,t,i,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function a(t,o){this._editor=t,this._snippetListener=[],this._inSnippet=s.InSnippetMode.bindTo(o),this._hasNextTabstop=s.HasNextTabstop.bindTo(o),this._hasPrevTabstop=s.HasPrevTabstop.bindTo(o)}return s=a,a.get=function(t){return t.getContribution("snippetController2")},a.prototype.dispose=function(){this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),g.dispose(this._session)},a.prototype.getId=function(){return"snippetController2"},a.prototype.insert=function(r,e,t,n,i){var s=this;void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=!0),void 0===i&&(i=!0),this._snippetListener=g.dispose(this._snippetListener),n&&this._editor.getModel().pushStackElement(),this._session?this._session.merge(r,e,t):(this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new o.SnippetSession(this._editor,r,e,t),this._session.insert()),i&&this._editor.getModel().pushStackElement(),this._updateState(),this._snippetListener=[this._editor.onDidChangeModel(function(){return s.cancel()}),this._editor.onDidChangeCursorSelection(function(){return s._updateState()})]},a.prototype._updateState=function(){if(this._session){if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),this._handleChoice()}},a.prototype._handleChoice=function(){var o=this._session.choice;if(!o)this._currentChoice=void 0;else if(this._currentChoice!==o){this._currentChoice=o,this._editor.setSelections(this._editor.getSelections().map(function(t){return r.Selection.fromPositions(t.getStartPosition())}));var a=o.options[0];i.showSimpleSuggestions(this._editor,o.options.map(function(t,e){return{type:"value",label:t.value,insertText:t.value,sortText:e+"",overwriteAfter:a.value.length}}))}},a.prototype.finish=function(){for(;this._inSnippet.get();)this.next()},a.prototype.cancel=function(){this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),g.dispose(this._snippetListener),g.dispose(this._session),this._session=void 0,this._modelVersionId=-1},a.prototype.prev=function(){this._session.prev(),this._updateState()},a.prototype.next=function(){this._session.next(),this._updateState()},a.InSnippetMode=new p.RawContextKey("inSnippetMode",!1),a.HasNextTabstop=new p.RawContextKey("hasNextTabstop",!1),a.HasPrevTabstop=new p.RawContextKey("hasPrevTabstop",!1),a=s=F([n.commonEditorContribution,v(1,p.IContextKeyService)],a);var s}();e.SnippetController2=a;var s=n.EditorCommand.bindToContribution(a.get);n.CommonEditorRegistry.registerEditorCommand(new s({id:"jumpToNextSnippetPlaceholder",precondition:p.ContextKeyExpr.and(a.InSnippetMode,a.HasNextTabstop),handler:function(t){return t.next()},kbOpts:{weight:n.CommonEditorRegistry.commandWeight(30),kbExpr:t.EditorContextKeys.textFocus,primary:2}})),n.CommonEditorRegistry.registerEditorCommand(new s({id:"jumpToPrevSnippetPlaceholder",precondition:p.ContextKeyExpr.and(a.InSnippetMode,a.HasPrevTabstop),handler:function(t){return t.prev()},kbOpts:{weight:n.CommonEditorRegistry.commandWeight(30),kbExpr:t.EditorContextKeys.textFocus,primary:1026}})),n.CommonEditorRegistry.registerEditorCommand(new s({id:"leaveSnippet",precondition:a.InSnippetMode,handler:function(t){return t.cancel()},kbOpts:{weight:n.CommonEditorRegistry.commandWeight(30),kbExpr:t.EditorContextKeys.textFocus,primary:9,secondary:[1033]}})),n.CommonEditorRegistry.registerEditorCommand(new s({id:"acceptSnippet",precondition:a.InSnippetMode,handler:function(t){return t.finish()}}))}),define(s[474],n([1,0,10,33,18,11,3,7,17,12,109,272,54]),function(g,e,m,_,n,o,i,r,s,a,l,c,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var h=function(){function t(o,i,t){this.leadingLineContent=o.getLineContent(i.lineNumber).substr(0,i.column-1),this.leadingWord=o.getWordUntilPosition(i),this.lineNumber=i.lineNumber,this.column=i.column,this.auto=t}return t.shouldAutoTrigger=function(o){var e=o.getModel();if(!e)return!1;var r=o.getPosition(),n=e.getWordAtPosition(r);return!!n&&n.endColumn===r.column&&!!isNaN(+n.word)},t.isInEditableRange=function(o){var e=o.getModel(),t=o.getPosition();return!e.hasEditableRange()||e.getEditableRange().containsPosition(t)},t}();e.LineContext=h,!function(t){t[t.Idle=0]="Idle",t[t.Manual=1]="Manual",t[t.Auto=2]="Auto"}(e.State||(e.State={}));var t=function(){function t(i){var r=this;this.editor=i,this.toDispose=[],this.triggerRefilter=new n.TimeoutTimer,this._onDidCancel=new o.Emitter,this._onDidTrigger=new o.Emitter,this._onDidSuggest=new o.Emitter,this._state=0,this.triggerAutoSuggestPromise=null,this.requestPromise=null,this.completionModel=null,this.context=null,this.currentPosition=i.getPosition()||new a.Position(1,1),this.toDispose.push(this.editor.onDidChangeModel(function(){r.updateTriggerCharacters(),r.cancel()})),this.toDispose.push(i.onDidChangeModelLanguage(function(){r.updateTriggerCharacters(),r.cancel()})),this.toDispose.push(this.editor.onDidChangeConfiguration(function(){r.updateTriggerCharacters(),r.updateQuickSuggest()})),this.toDispose.push(s.SuggestRegistry.onDidChange(function(){r.updateTriggerCharacters(),r.updateActiveSuggestSession()})),this.toDispose.push(this.editor.onDidChangeCursorSelection(function(t){r.onCursorChange(t)})),this.updateTriggerCharacters(),this.updateQuickSuggest()}return Object.defineProperty(t.prototype,"onDidCancel",{get:function(){return this._onDidCancel.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDidTrigger",{get:function(){return this._onDidTrigger.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDidSuggest",{get:function(){return this._onDidSuggest.event},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){i.dispose([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this.triggerCharacterListener,this.triggerRefilter]),this.toDispose=i.dispose(this.toDispose),this.cancel()},t.prototype.updateQuickSuggest=function(){this.quickSuggestDelay=this.editor.getConfiguration().contribInfo.quickSuggestionsDelay,(isNaN(this.quickSuggestDelay)||!this.quickSuggestDelay&&0!==this.quickSuggestDelay||0>this.quickSuggestDelay)&&(this.quickSuggestDelay=10)},t.prototype.updateTriggerCharacters=function(){var p=this;if(i.dispose(this.triggerCharacterListener),!this.editor.getConfiguration().readOnly&&this.editor.getModel()&&this.editor.getConfiguration().contribInfo.suggestOnTriggerCharacters){for(var e=Object.create(null),t=0,n=s.SuggestRegistry.all(this.editor.getModel()),o;t<n.length;t++)if(o=n[t],!_.isFalsyOrEmpty(o.triggerCharacters))for(var r=0,a=o.triggerCharacters;r<a.length;r++){var l=a[r],c=e[l];c?c.push(o):e[l]=[o]}this.triggerCharacterListener=this.editor.onDidType(function(t){var n=t.charAt(t.length-1),i=e[n];if(i){var o=[];if(p.completionModel)for(var r=0,s=p.completionModel.items,a;r<s.length;r++)a=s[r],0>i.indexOf(a.support)&&o.push(a);p.trigger(!0,!!p.completionModel,i,o)}})}},Object.defineProperty(t.prototype,"state",{get:function(){return this._state},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){void 0===t&&(t=!1),this.triggerAutoSuggestPromise&&(this.triggerAutoSuggestPromise.cancel(),this.triggerAutoSuggestPromise=null),this.requestPromise&&(this.requestPromise.cancel(),this.requestPromise=null),this._state=0,this.completionModel=null,this.context=null,this._onDidCancel.fire({retrigger:t})},t.prototype.updateActiveSuggestSession=function(){0!==this._state&&(s.SuggestRegistry.has(this.editor.getModel())?this.trigger(2===this._state,!0):this.cancel())},t.prototype.onCursorChange=function(o){var a=this,e=this.currentPosition;if(!(this.currentPosition=this.editor.getPosition(),o.selection.isEmpty()&&"keyboard"===o.source&&o.reason===d.CursorChangeReason.NotSet)){if(0===this._state)return;this.cancel()}else if(s.SuggestRegistry.has(this.editor.getModel())){var t=this.editor.getModel();t&&(0===this._state?!1!==this.editor.getConfiguration().contribInfo.quickSuggestions&&e.isBefore(this.currentPosition)&&(this.cancel(),h.shouldAutoTrigger(this.editor)&&(this.triggerAutoSuggestPromise=r.TPromise.timeout(this.quickSuggestDelay),this.triggerAutoSuggestPromise.then(function(){var t=a.editor.getModel(),e=a.editor.getPosition();if(t){var n=a.editor.getConfiguration().contribInfo.quickSuggestions;if(!1!==n){if(!0===n);else{t.forceTokenization(e.lineNumber);var i=t.getLineTokens(e.lineNumber).findTokenAtOffset(e.column-1).tokenType;if(!(n.other&&0===i||n.comments&&1===i||n.strings&&2===i))return}a.triggerAutoSuggestPromise=null,a.trigger(!0)}}}))):this.triggerRefilter.cancelAndSet(function(){var o=a.editor.getPosition(),e=new h(t,o,2===a._state);a.onNewContext(e)},25))}},t.prototype.trigger=function(i,n,t,d){var r=this;void 0===n&&(n=!1);var o=this.editor.getModel();if(o){var a=new h(o,this.editor.getPosition(),i);h.isInEditableRange(this.editor)&&(this.cancel(n),this._state=i?2:1,this._onDidTrigger.fire({auto:i}),this.context=a,this.requestPromise=l.provideSuggestionItems(o,this.editor.getPosition(),this.editor.getConfiguration().contribInfo.snippetSuggestions,t).then(function(e){if(r.requestPromise=null,0!==r._state){var t=r.editor.getModel();if(t){if(!_.isFalsyOrEmpty(d)){var n=l.getSuggestionComparator(r.editor.getConfiguration().contribInfo.snippetSuggestions);e=e.concat(d).sort(n)}var o=new h(t,r.editor.getPosition(),i);r.completionModel=new c.CompletionModel(e,r.context.column,{leadingLineContent:o.leadingLineContent,characterCountDelta:r.context?o.column-r.context.column:0},r.editor.getConfiguration().contribInfo.snippetSuggestions),r.onNewContext(o)}}}).then(null,m.onUnexpectedError))}},t.prototype.onNewContext=function(a){if(this.context)if(!(a.lineNumber===this.context.lineNumber))this.cancel();else if(a.column<this.context.column)a.leadingWord.word?this.trigger(this.context.auto,!0):this.cancel();else if(this.completionModel)if(a.column>this.context.column&&this.completionModel.incomplete&&0!==a.leadingWord.word.length){var e=this.completionModel.resolveIncompleteInfo(),t=e.complete,n=e.incomplete;this.trigger(2===this._state,!0,n,t)}else{var i=this.completionModel.lineContext,o=!1;if(this.completionModel.lineContext={leadingLineContent:a.leadingLineContent,characterCountDelta:a.column-this.context.column},0===this.completionModel.items.length){if(h.shouldAutoTrigger(this.editor)&&this.context.leadingWord.endColumn<a.leadingWord.startColumn)return void this.trigger(this.context.auto,!0);if(this.context.auto)return void this.cancel();if(this.completionModel.lineContext=i,(o=0<this.completionModel.items.length)&&0===a.leadingWord.word.length)return void this.cancel()}this._onDidSuggest.fire({completionModel:this.completionModel,auto:this.context.auto,isFrozen:o})}},t}();e.SuggestModel=t}),define(s[181],n([1,0,373,13,168]),function(a,e,t,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(o){function e(){return o.call(this,{id:a.ID,label:t.localize(0,null),alias:"Toggle Tab Key Moves Focus",precondition:null,kbOpts:{kbExpr:null,primary:2091,mac:{primary:1323}}})||this}return Z(e,o),a=e,e.prototype.run=function(){var e=i.TabFocus.getTabFocusMode();i.TabFocus.setTabFocusMode(!e)},e.ID="editor.action.toggleTabFocusMode",e=a=F([n.editorAction],e);var a}(n.EditorAction);e.ToggleTabFocusModeAction=o}),define(s[476],n([1,0,21,22,13,12,2,172,73,94,39,54]),function(f,e,t,v,n,o,W,s,a,B,i,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var d=function(a){function e(e){var o=a.call(this,e)||this;return o._inSelectionMode=e.inSelectionMode,o._wordNavigationType=e.wordNavigationType,o}return Z(e,a),e.prototype.runEditorCommand=function(n,e){var d=this,t=e.getConfiguration(),l=B.getMapForWordSeparators(t.wordSeparators),s=e.getModel(),a=e.getSelections().map(function(i){var e=new o.Position(i.positionLineNumber,i.positionColumn),t=d._move(l,s,e,d._wordNavigationType);return d._moveTo(i,t,d._inSelectionMode)});if(e._getCursors().setStates("moveWordCommand",r.CursorChangeReason.NotSet,a.map(function(t){return i.CursorState.fromModelSelection(t)})),1===a.length){var p=new o.Position(a[0].positionLineNumber,a[0].positionColumn);e.revealPosition(p,!1,!0)}},e.prototype._moveTo=function(o,e,t){return t?new v.Selection(o.selectionStartLineNumber,o.selectionStartColumn,e.lineNumber,e.column):new v.Selection(e.lineNumber,e.column,e.lineNumber,e.column)},e}(n.EditorCommand);e.MoveWordCommand=d;var l=function(o){function e(){return null!==o&&o.apply(this,arguments)||this}return Z(e,o),e.prototype._move=function(o,e,t,n){return s.WordOperations.moveWordLeft(o,e,t,n)},e}(d);e.WordLeftCommand=l;var p=function(o){function e(){return null!==o&&o.apply(this,arguments)||this}return Z(e,o),e.prototype._move=function(o,e,t,n){return s.WordOperations.moveWordRight(o,e,t,n)},e}(d);e.WordRightCommand=p;var c=function(o){function e(){return o.call(this,{inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartLeft",precondition:null,kbOpts:{kbExpr:t.EditorContextKeys.textFocus,primary:2063,mac:{primary:527}}})||this}return Z(e,o),e=F([n.editorCommand],e)}(l);e.CursorWordStartLeft=c;var u=function(o){function e(){return o.call(this,{inSelectionMode:!1,wordNavigationType:1,id:"cursorWordEndLeft",precondition:null})||this}return Z(e,o),e=F([n.editorCommand],e)}(l);e.CursorWordEndLeft=u;var g=function(o){function e(){return o.call(this,{inSelectionMode:!1,wordNavigationType:0,id:"cursorWordLeft",precondition:null})||this}return Z(e,o),e=F([n.editorCommand],e)}(l);e.CursorWordLeft=g;var m=function(o){function e(){return o.call(this,{inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartLeftSelect",precondition:null,kbOpts:{kbExpr:t.EditorContextKeys.textFocus,primary:3087,mac:{primary:1551}}})||this}return Z(e,o),e=F([n.editorCommand],e)}(l);e.CursorWordStartLeftSelect=m;var h=function(o){function e(){return o.call(this,{inSelectionMode:!0,wordNavigationType:1,id:"cursorWordEndLeftSelect",precondition:null})||this}return Z(e,o),e=F([n.editorCommand],e)}(l);e.CursorWordEndLeftSelect=h;var _=function(o){function e(){return o.call(this,{inSelectionMode:!0,wordNavigationType:0,id:"cursorWordLeftSelect",precondition:null})||this}return Z(e,o),e=F([n.editorCommand],e)}(l);e.CursorWordLeftSelect=_;var y=function(o){function e(){return o.call(this,{inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartRight",precondition:null})||this}return Z(e,o),e=F([n.editorCommand],e)}(p);e.CursorWordStartRight=y;var C=function(o){function e(){return o.call(this,{inSelectionMode:!1,wordNavigationType:1,id:"cursorWordEndRight",precondition:null,kbOpts:{kbExpr:t.EditorContextKeys.textFocus,primary:2065,mac:{primary:529}}})||this}return Z(e,o),e=F([n.editorCommand],e)}(p);e.CursorWordEndRight=C;var b=function(o){function e(){return o.call(this,{inSelectionMode:!1,wordNavigationType:1,id:"cursorWordRight",precondition:null})||this}return Z(e,o),e=F([n.editorCommand],e)}(p);e.CursorWordRight=b;var S=function(o){function e(){return o.call(this,{inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartRightSelect",precondition:null})||this}return Z(e,o),e=F([n.editorCommand],e)}(p);e.CursorWordStartRightSelect=S;var E=function(o){function e(){return o.call(this,{inSelectionMode:!0,wordNavigationType:1,id:"cursorWordEndRightSelect",precondition:null,kbOpts:{kbExpr:t.EditorContextKeys.textFocus,primary:3089,mac:{primary:1553}}})||this}return Z(e,o),e=F([n.editorCommand],e)}(p);e.CursorWordEndRightSelect=E;var L=function(o){function e(){return o.call(this,{inSelectionMode:!0,wordNavigationType:1,id:"cursorWordRightSelect",precondition:null})||this}return Z(e,o),e=F([n.editorCommand],e)}(p);e.CursorWordRightSelect=L;var w=function(o){function e(e){var i=o.call(this,e)||this;return i._whitespaceHeuristics=e.whitespaceHeuristics,i._wordNavigationType=e.wordNavigationType,i}return Z(e,o),e.prototype.runEditorCommand=function(n,e){var d=this,t=e.getConfiguration(),o=B.getMapForWordSeparators(t.wordSeparators),i=e.getModel(),r=e.getSelections().map(function(n){var e=d._delete(o,i,n,d._whitespaceHeuristics,d._wordNavigationType);return new a.ReplaceCommand(e,"")});e.pushUndoStop(),e.executeCommands(this.id,r),e.pushUndoStop()},e}(n.EditorCommand);e.DeleteWordCommand=w;var x=function(o){function e(){return null!==o&&o.apply(this,arguments)||this}return Z(e,o),e.prototype._delete=function(a,e,t,n,i){var o=s.WordOperations.deleteWordLeft(a,e,t,n,i);return o||new W.Range(1,1,1,1)},e}(w);e.DeleteWordLeftCommand=x;var N=function(o){function e(){return null!==o&&o.apply(this,arguments)||this}return Z(e,o),e.prototype._delete=function(a,e,t,n,i){var o=s.WordOperations.deleteWordRight(a,e,t,n,i);if(o)return o;var r=e.getLineCount(),d=e.getLineMaxColumn(r);return new W.Range(r,d,r,d)},e}(w);e.DeleteWordRightCommand=N;var T=function(o){function e(){return o.call(this,{whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartLeft",precondition:t.EditorContextKeys.writable})||this}return Z(e,o),e=F([n.editorCommand],e)}(x);e.DeleteWordStartLeft=T;var I=function(o){function e(){return o.call(this,{whitespaceHeuristics:!1,wordNavigationType:1,id:"deleteWordEndLeft",precondition:t.EditorContextKeys.writable})||this}return Z(e,o),e=F([n.editorCommand],e)}(x);e.DeleteWordEndLeft=I;var M=function(o){function e(){return o.call(this,{whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordLeft",precondition:t.EditorContextKeys.writable,kbOpts:{kbExpr:t.EditorContextKeys.textFocus,primary:2049,mac:{primary:513}}})||this}return Z(e,o),e=F([n.editorCommand],e)}(x);e.DeleteWordLeft=M;var k=function(o){function e(){return o.call(this,{whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartRight",precondition:t.EditorContextKeys.writable})||this}return Z(e,o),e=F([n.editorCommand],e)}(N);e.DeleteWordStartRight=k;var D=function(o){function e(){return o.call(this,{whitespaceHeuristics:!1,wordNavigationType:1,id:"deleteWordEndRight",precondition:t.EditorContextKeys.writable})||this}return Z(e,o),e=F([n.editorCommand],e)}(N);e.DeleteWordEndRight=D;var R=function(o){function e(){return o.call(this,{whitespaceHeuristics:!0,wordNavigationType:1,id:"deleteWordRight",precondition:t.EditorContextKeys.writable,kbOpts:{kbExpr:t.EditorContextKeys.textFocus,primary:2068,mac:{primary:532}}})||this}return Z(e,o),e=F([n.editorCommand],e)}(N);e.DeleteWordRight=R}),define(s[477],n([1,0,381,13,77]),function(r,e,a,n,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),!function(o){function e(){var e=o.call(this,{id:"editor.action.toggleHighContrast",label:a.localize(0,null),alias:"Toggle High Contrast Theme",precondition:null})||this;return e._originalThemeName=null,e}Z(e,o),e.prototype.run=function(o){var e=o.get(t.IStandaloneThemeService);this._originalThemeName?(e.setTheme(this._originalThemeName),this._originalThemeName=null):(this._originalThemeName=e.getTheme().themeName,e.setTheme("hc-black"))},e=F([n.editorAction],e)}(n.EditorAction)}),define(s[478],n([1,0,160,58,50]),function(a,e,t,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function o(o){this.contextView=new t.ContextView(o)}return o.prototype.dispose=function(){this.contextView.dispose()},o.prototype.setContainer=function(t){this.contextView.setContainer(t)},o.prototype.showContextView=function(t){this.contextView.show(t)},o.prototype.layout=function(){this.contextView.layout()},o.prototype.hideContextView=function(t){this.contextView.hide(t)},o=F([v(1,n.ITelemetryService),v(2,i.IMessageService)],o)}();e.ContextViewService=o}),define(s[479],n([1,0,7,166,45,62,46,420]),function(p,e,t,n,i,o,r,s){"use strict";function a(o){if(!o)return o;for(var r="",t=0,n;t<o.length;t++)n=o[t],r+="0"<=n&&"9">=n?"0":"a"<=n&&"z">=n?"a":"A"<=n&&"Z">=n?"A":n;return r}function u(o){if(!o)return[];var n=[];return l(n,"",o),n}function l(o,e,t){t&&"object"==typeof t&&!Array.isArray(t)?Object.keys(t).forEach(function(n){return l(o,e?e+"."+n:n,t[n])}):o.push(e)}function c(r,e){return r?e.reduce(function(e,t){var n=t.split(".").reduce(function(o,n){return o&&"object"==typeof o?o[n]:void 0},r);return void 0!==n&&e.push((i={},i[t]=n,i)),e;var i},[]):[]}Object.defineProperty(e,"__esModule",{value:!0}),e.NullTelemetryService={_serviceBrand:void 0,publicLog:function(){return t.TPromise.as(null)},isOptedIn:!0,getTelemetryInfo:function(){return t.TPromise.as({instanceId:"someValue.instanceId",sessionId:"someValue.sessionId",machineId:"someValue.machineId"})}},e.combinedAppender=function(){for(var o=[],e=0;e<arguments.length;e++)o[e]=arguments[e];return{log:function(i,t){return o.forEach(function(o){return o.log(i,t)})}}},e.NullAppender={log:function(){return null}},e.anonymize=a,e.telemetryURIDescriptor=function(o){var e=o&&o.fsPath;return e?{mimeType:n.guessMimeTypes(e).join(", "),ext:i.extname(e),path:a(e)}:{}};var d=["editor.tabCompletion","editor.fontFamily","editor.fontWeight","editor.fontSize","editor.lineHeight","editor.letterSpacing","editor.lineNumbers","editor.rulers","editor.wordSeparators","editor.tabSize","editor.insertSpaces","editor.detectIndentation","editor.roundedSelection","editor.scrollBeyondLastLine","editor.minimap.enabled","editor.minimap.renderCharacters","editor.minimap.maxColumn","editor.find.seedSearchStringFromSelection","editor.find.autoFindInSelection","editor.wordWrap","editor.wordWrapColumn","editor.wrappingIndent","editor.mouseWheelScrollSensitivity","editor.multiCursorModifier","editor.quickSuggestions","editor.quickSuggestionsDelay","editor.parameterHints","editor.autoClosingBrackets","editor.autoIndent","editor.formatOnType","editor.formatOnPaste","editor.suggestOnTriggerCharacters","editor.acceptSuggestionOnEnter","editor.acceptSuggestionOnCommitCharacter","editor.snippetSuggestions","editor.emptySelectionClipboard","editor.wordBasedSuggestions","editor.suggestFontSize","editor.suggestLineHeight","editor.selectionHighlight","editor.occurrencesHighlight","editor.overviewRulerLanes","editor.overviewRulerBorder","editor.cursorBlinking","editor.cursorStyle","editor.mouseWheelZoom","editor.fontLigatures","editor.hideCursorInOverviewRuler","editor.renderWhitespace","editor.renderControlCharacters","editor.renderIndentGuides","editor.renderLineHighlight","editor.codeLens","editor.folding","editor.showFoldingControls","editor.matchBrackets","editor.glyphMargin","editor.useTabStops","editor.trimAutoWhitespace","editor.stablePeek","editor.dragAndDrop","editor.formatOnSave","window.zoomLevel","files.autoSave","files.hotExit","files.associations","workbench.statusBar.visible","files.trimTrailingWhitespace","git.confirmSync","workbench.sideBar.location","window.openFilesInNewWindow","javascript.validate.enable","window.reopenFolders","window.restoreWindows","extensions.autoUpdate","files.eol","explorer.openEditors.visible","workbench.editor.enablePreview","files.autoSaveDelay","workbench.editor.showTabs","files.encoding","files.autoGuessEncoding","git.enabled","http.proxyStrictSSL","terminal.integrated.fontFamily","workbench.editor.enablePreviewFromQuickOpen","workbench.editor.swipeToNavigate","php.builtInCompletions.enable","php.validate.enable","php.validate.run","workbench.welcome.enabled","workbench.startupEditor"];e.configurationTelemetry=function(n,e){return e.onDidUpdateConfiguration(function(e){e.source!==o.ConfigurationSource.Default&&(n.publicLog("updateConfiguration",{configurationSource:o.ConfigurationSource[e.source],configurationKeys:u(e.sourceConfig)}),n.publicLog("updateConfigurationValues",{configurationSource:o.ConfigurationSource[e.source],configurationValues:c(e.sourceConfig,d)}))})},e.lifecycleTelemetry=function(o,e){return e.onShutdown(function(e){o.publicLog("shutdown",{reason:s.ShutdownReason[e]})})},e.keybindingsTelemetry=function(o,e){return e.onDidUpdateKeybindings(function(e){e.source===r.KeybindingSource.User&&e.keybindings&&o.publicLog("updateKeybindings",{bindings:e.keybindings.map(function(t){return{key:t.key,command:t.command,when:t.when,args:!!t.args||void 0}})})})}}),define(s[480],n([1,0,24,4,487,70,7,64,45,31,58,16,479]),function(g,e,_,n,t,o,i,r,s,u,a,l,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var c=function(){function p(o,i,t){void 0===t&&(t=d.NullTelemetryService),this._editorService=o,this._commandService=i,this._telemetryService=t}return p.prototype.open=function(r,l){this._telemetryService.publicLog("openerService",{scheme:r.scheme});var y=r.scheme,c=r.path,d=r.query,h=r.fragment,p;if(y===o.Schemas.http||y===o.Schemas.https)n.windowOpenNoOpener(r.toString(!0));else if("command"===y&&u.CommandsRegistry.getCommand(c)){var a=[];try{a=t.parse(d),Array.isArray(a)||(a=[a])}catch(t){}p=(C=this._commandService).executeCommand.apply(C,[c].concat(a))}else{var f=/^L?(\d+)(?:,(\d+))?/.exec(h),m;if(f&&(m={startLineNumber:parseInt(f[1]),startColumn:f[2]?parseInt(f[2]):1},r=r.with({fragment:""})),!r.scheme)return i.TPromise.as(void 0);r.scheme===o.Schemas.file&&(r=_.default.file(s.normalize(r.fsPath))),p=this._editorService.openEditor({resource:r,options:{selection:m}},l&&l.openToSide)}return i.TPromise.as(p);var C},p=F([v(0,r.IEditorService),v(1,u.ICommandService),v(2,l.optional(a.ITelemetryService))],p)}();e.OpenerService=c}),define(s[23],n([1,0,44,32,385]),function(m,e,t,_,n){"use strict";function o(o,e,t){return u.registerColor(o,e,t)}function i(o,e){return function(t){var n=l(o,t);return n?n.darken(e):null}}function r(o,e){return function(t){var n=l(o,t);return n?n.lighten(e):null}}function a(o,e){return function(t){var n=l(o,t);return n?n.transparent(e):null}}function s(i,e,t,n){return function(o){var r=l(i,o);if(r){var s=l(e,o);return s?r.isDarkerThan(s)?_.Color.getLighterColor(r,s,t).transparent(n):_.Color.getDarkerColor(r,s,t).transparent(n):r.transparent(t*n)}return null}}function l(o,n){return null===o?null:"string"==typeof o?"#"===o[0]?_.Color.fromHex(o):n.getColor(o):o instanceof _.Color?o:"function"==typeof o?o(n):null}Object.defineProperty(e,"__esModule",{value:!0}),e.Extensions={ColorContribution:"base.contributions.colors"};var c=n.localize(0,null),u=new(function(){function t(){this.colorSchema={type:"object",description:n.localize(1,null),properties:{},additionalProperties:!1},this.colorsById={}}return t.prototype.registerColor=function(o,i,r){return this.colorsById[o]={id:o,description:r,defaults:i},this.colorSchema.properties[o]={type:"string",description:r,format:"color",pattern:"^#([0-9A-Fa-f]{3,4}|([0-9A-Fa-f]{2}){3,4})$",patternErrorMessage:c},o},t.prototype.getColors=function(){var o=this;return Object.keys(this.colorsById).map(function(e){return o.colorsById[e]})},t.prototype.resolveDefaultColor=function(o,e){var t=this.colorsById[o];return t&&t.defaults?l(t.defaults[e.type],e):null},t.prototype.getColorSchema=function(){return this.colorSchema},t.prototype.toString=function(){var o=this;return Object.keys(this.colorsById).sort(function(o,e){var t=-1===o.indexOf(".")?0:1,n=-1===e.indexOf(".")?0:1;return t===n?o.localeCompare(e):t-n}).map(function(e){return"- `"+e+"`: "+o.colorsById[e].description}).join("\n")},t}());t.Registry.add(e.Extensions.ColorContribution,u),e.registerColor=o,e.foreground=o("foreground",{dark:"#CCCCCC",light:"#6C6C6C",hc:"#FFFFFF"},n.localize(2,null)),e.errorForeground=o("errorForeground",{dark:"#F48771",light:"#A1260D",hc:"#F48771"},n.localize(3,null)),e.descriptionForeground=o("descriptionForeground",{light:a(e.foreground,.7),dark:a(e.foreground,.7),hc:a(e.foreground,.7)},n.localize(4,null)),e.focusBorder=o("focusBorder",{dark:_.Color.fromHex("#0E639C").transparent(.6),light:_.Color.fromHex("#007ACC").transparent(.4),hc:"#F38518"},n.localize(5,null)),e.contrastBorder=o("contrastBorder",{light:null,dark:null,hc:"#6FC3DF"},n.localize(6,null)),e.activeContrastBorder=o("contrastActiveBorder",{light:null,dark:null,hc:e.focusBorder},n.localize(7,null)),e.selectionBackground=o("selection.background",{light:null,dark:null,hc:null},n.localize(8,null)),e.textSeparatorForeground=o("textSeparator.foreground",{light:"#0000002e",dark:"#ffffff2e",hc:_.Color.black},n.localize(9,null)),e.textLinkForeground=o("textLink.foreground",{light:"#4080D0",dark:"#4080D0",hc:"#4080D0"},n.localize(10,null)),e.textLinkActiveForeground=o("textLink.activeForeground",{light:"#4080D0",dark:"#4080D0",hc:"#4080D0"},n.localize(11,null)),e.textPreformatForeground=o("textPreformat.foreground",{light:"#A31515",dark:"#D7BA7D",hc:"#D7BA7D"},n.localize(12,null)),e.textBlockQuoteBackground=o("textBlockQuote.background",{light:"#7f7f7f1a",dark:"#7f7f7f1a",hc:null},n.localize(13,null)),e.textBlockQuoteBorder=o("textBlockQuote.border",{light:"#007acc80",dark:"#007acc80",hc:_.Color.white},n.localize(14,null)),e.textCodeBlockBackground=o("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hc:_.Color.black},n.localize(15,null)),e.widgetShadow=o("widget.shadow",{dark:"#000000",light:"#A8A8A8",hc:null},n.localize(16,null)),e.inputBackground=o("input.background",{dark:"#3C3C3C",light:_.Color.white,hc:_.Color.black},n.localize(17,null)),e.inputForeground=o("input.foreground",{dark:e.foreground,light:e.foreground,hc:e.foreground},n.localize(18,null)),e.inputBorder=o("input.border",{dark:null,light:null,hc:e.contrastBorder},n.localize(19,null)),e.inputActiveOptionBorder=o("inputOption.activeBorder",{dark:"#007ACC",light:"#007ACC",hc:e.activeContrastBorder},n.localize(20,null)),e.inputPlaceholderForeground=o("input.placeholderForeground",{dark:null,light:null,hc:null},n.localize(21,null)),e.inputValidationInfoBackground=o("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hc:_.Color.black},n.localize(22,null)),e.inputValidationInfoBorder=o("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hc:e.contrastBorder},n.localize(23,null)),e.inputValidationWarningBackground=o("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hc:_.Color.black},n.localize(24,null)),e.inputValidationWarningBorder=o("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hc:e.contrastBorder},n.localize(25,null)),e.inputValidationErrorBackground=o("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hc:_.Color.black},n.localize(26,null)),e.inputValidationErrorBorder=o("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hc:e.contrastBorder},n.localize(27,null)),e.selectBackground=o("dropdown.background",{dark:"#3C3C3C",light:_.Color.white,hc:_.Color.black},n.localize(28,null)),e.selectForeground=o("dropdown.foreground",{dark:"#F0F0F0",light:null,hc:_.Color.white},n.localize(29,null)),e.selectBorder=o("dropdown.border",{dark:e.selectBackground,light:"#CECECE",hc:e.contrastBorder},n.localize(30,null)),e.listFocusBackground=o("list.focusBackground",{dark:"#073655",light:"#DCEBFC",hc:null},n.localize(31,null)),e.listFocusForeground=o("list.focusForeground",{dark:null,light:null,hc:null},n.localize(32,null)),e.listActiveSelectionBackground=o("list.activeSelectionBackground",{dark:"#094771",light:"#3399FF",hc:null},n.localize(33,null)),e.listActiveSelectionForeground=o("list.activeSelectionForeground",{dark:_.Color.white,light:_.Color.white,hc:null},n.localize(34,null)),e.listInactiveSelectionBackground=o("list.inactiveSelectionBackground",{dark:"#3F3F46",light:"#CCCEDB",hc:null},n.localize(35,null)),e.listInactiveSelectionForeground=o("list.inactiveSelectionForeground",{dark:null,light:null,hc:null},n.localize(36,null)),e.listInactiveFocusBackground=o("list.inactiveFocusBackground",{dark:"#313135",light:"#d8dae6",hc:null},n.localize(37,null)),e.listInactiveFocusForeground=o("list.inactiveFocusForeground",{dark:null,light:null,hc:null},n.localize(38,null)),e.listHoverBackground=o("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hc:null},n.localize(39,null)),e.listHoverForeground=o("list.hoverForeground",{dark:null,light:null,hc:null},n.localize(40,null)),e.listDropBackground=o("list.dropBackground",{dark:e.listFocusBackground,light:e.listFocusBackground,hc:null},n.localize(41,null)),e.listHighlightForeground=o("list.highlightForeground",{dark:"#0097fb",light:"#007acc",hc:e.focusBorder},n.localize(42,null)),e.pickerGroupForeground=o("pickerGroup.foreground",{dark:_.Color.fromHex("#0097FB").transparent(.6),light:_.Color.fromHex("#007ACC").transparent(.6),hc:_.Color.white},n.localize(43,null)),e.pickerGroupBorder=o("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hc:_.Color.white},n.localize(44,null)),e.buttonForeground=o("button.foreground",{dark:_.Color.white,light:_.Color.white,hc:_.Color.white},n.localize(45,null)),e.buttonBackground=o("button.background",{dark:"#0E639C",light:"#007ACC",hc:null},n.localize(46,null)),e.buttonHoverBackground=o("button.hoverBackground",{dark:r(e.buttonBackground,.2),light:i(e.buttonBackground,.2),hc:null},n.localize(47,null)),e.badgeBackground=o("badge.background",{dark:"#4D4D4D",light:"#BEBEBE",hc:_.Color.black},n.localize(48,null)),e.badgeForeground=o("badge.foreground",{dark:_.Color.white,light:_.Color.white,hc:_.Color.white},n.localize(49,null)),e.scrollbarShadow=o("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hc:null},n.localize(50,null)),e.scrollbarSliderBackground=o("scrollbarSlider.background",{dark:_.Color.fromHex("#797979").transparent(.4),light:_.Color.fromHex("#646464").transparent(.4),hc:a(e.contrastBorder,.6)},n.localize(51,null)),e.scrollbarSliderHoverBackground=o("scrollbarSlider.hoverBackground",{dark:_.Color.fromHex("#646464").transparent(.7),light:_.Color.fromHex("#646464").transparent(.7),hc:a(e.contrastBorder,.8)},n.localize(52,null)),e.scrollbarSliderActiveBackground=o("scrollbarSlider.activeBackground",{dark:_.Color.fromHex("#BFBFBF").transparent(.4),light:_.Color.fromHex("#000000").transparent(.6),hc:e.contrastBorder},n.localize(53,null)),e.progressBarBackground=o("progressBar.background",{dark:_.Color.fromHex("#0E70C0"),light:_.Color.fromHex("#0E70C0"),hc:e.contrastBorder},n.localize(54,null)),e.editorBackground=o("editor.background",{light:"#fffffe",dark:"#1E1E1E",hc:_.Color.black},n.localize(55,null)),e.editorForeground=o("editor.foreground",{light:"#333333",dark:"#BBBBBB",hc:_.Color.white},n.localize(56,null)),e.editorWidgetBackground=o("editorWidget.background",{dark:"#2D2D30",light:"#EFEFF2",hc:"#0C141F"},n.localize(57,null)),e.editorWidgetBorder=o("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hc:e.contrastBorder},n.localize(58,null)),e.editorSelectionBackground=o("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hc:"#f3f518"},n.localize(59,null)),e.editorSelectionForeground=o("editor.selectionForeground",{light:null,dark:null,hc:"#000000"},n.localize(60,null)),e.editorInactiveSelection=o("editor.inactiveSelectionBackground",{light:a(e.editorSelectionBackground,.5),dark:a(e.editorSelectionBackground,.5),hc:a(e.editorSelectionBackground,.5)},n.localize(61,null)),e.editorSelectionHighlight=o("editor.selectionHighlightBackground",{light:s(e.editorSelectionBackground,e.editorBackground,.3,.6),dark:s(e.editorSelectionBackground,e.editorBackground,.3,.6),hc:null},n.localize(62,null)),e.editorFindMatch=o("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hc:null},n.localize(63,null)),e.editorFindMatchHighlight=o("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hc:null},n.localize(64,null)),e.editorFindRangeHighlight=o("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hc:null},n.localize(65,null)),e.editorHoverHighlight=o("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hc:"#ADD6FF26"},n.localize(66,null)),e.editorHoverBackground=o("editorHoverWidget.background",{light:e.editorWidgetBackground,dark:e.editorWidgetBackground,hc:e.editorWidgetBackground},n.localize(67,null)),e.editorHoverBorder=o("editorHoverWidget.border",{light:e.editorWidgetBorder,dark:e.editorWidgetBorder,hc:e.editorWidgetBorder},n.localize(68,null)),e.editorActiveLinkForeground=o("editorLink.activeForeground",{dark:"#4E94CE",light:_.Color.blue,hc:_.Color.cyan},n.localize(69,null)),e.defaultInsertColor=_.Color.fromRGBA(new _.RGBA(155,185,85,51)),e.defaultRemoveColor=_.Color.fromRGBA(new _.RGBA(255,0,0,51)),e.diffInserted=o("diffEditor.insertedTextBackground",{dark:e.defaultInsertColor,light:e.defaultInsertColor,hc:null},n.localize(70,null)),e.diffRemoved=o("diffEditor.removedTextBackground",{dark:e.defaultRemoveColor,light:e.defaultRemoveColor,hc:null},n.localize(71,null)),e.diffInsertedOutline=o("diffEditor.insertedTextBorder",{dark:null,light:null,hc:"#33ff2eff"},n.localize(72,null)),e.diffRemovedOutline=o("diffEditor.removedTextBorder",{dark:null,light:null,hc:"#FF008F"},n.localize(73,null));var h=_.Color.fromHex("#40C8AE").transparent(.5),y=_.Color.fromHex("#40A6FF").transparent(.5),C=_.Color.fromHex("#606060").transparent(.4);e.mergeCurrentHeaderBackground=o("merge.currentHeaderBackground",{dark:h,light:h,hc:null},n.localize(74,null)),e.mergeCurrentContentBackground=o("merge.currentContentBackground",{dark:a(e.mergeCurrentHeaderBackground,.4),light:a(e.mergeCurrentHeaderBackground,.4),hc:a(e.mergeCurrentHeaderBackground,.4)},n.localize(75,null)),e.mergeIncomingHeaderBackground=o("merge.incomingHeaderBackground",{dark:y,light:y,hc:null},n.localize(76,null)),e.mergeIncomingContentBackground=o("merge.incomingContentBackground",{dark:a(e.mergeIncomingHeaderBackground,.4),light:a(e.mergeIncomingHeaderBackground,.4),hc:a(e.mergeIncomingHeaderBackground,.4)},n.localize(77,null)),e.mergeCommonHeaderBackground=o("merge.commonHeaderBackground",{dark:C,light:C,hc:null},n.localize(78,null)),e.mergeCommonContentBackground=o("merge.commonContentBackground",{dark:a(e.mergeCommonHeaderBackground,.4),light:a(e.mergeCommonHeaderBackground,.4),hc:a(e.mergeCommonHeaderBackground,.4)},n.localize(79,null)),e.mergeBorder=o("merge.border",{dark:null,light:null,hc:"#C3DF6F"},n.localize(80,null)),e.overviewRulerCurrentContentForeground=o("editorOverviewRuler.currentContentForeground",{dark:a(e.mergeCurrentHeaderBackground,1),light:a(e.mergeCurrentHeaderBackground,1),hc:e.mergeBorder},n.localize(81,null)),e.overviewRulerIncomingContentForeground=o("editorOverviewRuler.incomingContentForeground",{dark:a(e.mergeIncomingHeaderBackground,1),light:a(e.mergeIncomingHeaderBackground,1),hc:e.mergeBorder},n.localize(82,null)),e.overviewRulerCommonContentForeground=o("editorOverviewRuler.commonContentForeground",{dark:a(e.mergeCommonHeaderBackground,1),light:a(e.mergeCommonHeaderBackground,1),hc:e.mergeBorder},n.localize(83,null)),e.darken=i,e.lighten=r,e.transparent=a,e.oneOf=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return function(e){for(var t=0,n=r,i;t<n.length;t++)if(i=l(n[t],e),i)return i;return null}}}),define(s[137],n([1,0,23]),function(o,e,r){"use strict";function a(o,a,t){function e(s){var e=Object.create(null);for(var d in a){var o=a[d];"string"==typeof o?e[d]=s.getColor(o):"function"==typeof o&&(e[d]=o(s))}"function"==typeof t?t(e):t.style(e)}return e(o.getTheme()),o.onThemeChange(e)}Object.defineProperty(e,"__esModule",{value:!0}),e.attachStyler=a,e.attachCheckboxStyler=function(n,e,t){return a(e,{inputActiveOptionBorder:t&&t.inputActiveOptionBorderColor||r.inputActiveOptionBorder},n)},e.attachBadgeStyler=function(n,e,t){return a(e,{badgeBackground:t&&t.badgeBackground||r.badgeBackground,badgeForeground:t&&t.badgeForeground||r.badgeForeground,badgeBorder:r.contrastBorder},n)},e.attachInputBoxStyler=function(n,e,t){return a(e,{inputBackground:t&&t.inputBackground||r.inputBackground,inputForeground:t&&t.inputForeground||r.inputForeground,inputBorder:t&&t.inputBorder||r.inputBorder,inputValidationInfoBorder:t&&t.inputValidationInfoBorder||r.inputValidationInfoBorder,inputValidationInfoBackground:t&&t.inputValidationInfoBackground||r.inputValidationInfoBackground,inputValidationWarningBorder:t&&t.inputValidationWarningBorder||r.inputValidationWarningBorder,inputValidationWarningBackground:t&&t.inputValidationWarningBackground||r.inputValidationWarningBackground,inputValidationErrorBorder:t&&t.inputValidationErrorBorder||r.inputValidationErrorBorder,inputValidationErrorBackground:t&&t.inputValidationErrorBackground||r.inputValidationErrorBackground},n)},e.attachSelectBoxStyler=function(n,e,t){return a(e,{selectBackground:t&&t.selectBackground||r.selectBackground,selectForeground:t&&t.selectForeground||r.selectForeground,selectBorder:t&&t.selectBorder||r.selectBorder},n)},e.attachFindInputBoxStyler=function(n,e,t){return a(e,{inputBackground:t&&t.inputBackground||r.inputBackground,inputForeground:t&&t.inputForeground||r.inputForeground,inputBorder:t&&t.inputBorder||r.inputBorder,inputActiveOptionBorder:t&&t.inputActiveOptionBorder||r.inputActiveOptionBorder,inputValidationInfoBorder:t&&t.inputValidationInfoBorder||r.inputValidationInfoBorder,inputValidationInfoBackground:t&&t.inputValidationInfoBackground||r.inputValidationInfoBackground,inputValidationWarningBorder:t&&t.inputValidationWarningBorder||r.inputValidationWarningBorder,inputValidationWarningBackground:t&&t.inputValidationWarningBackground||r.inputValidationWarningBackground,inputValidationErrorBorder:t&&t.inputValidationErrorBorder||r.inputValidationErrorBorder,inputValidationErrorBackground:t&&t.inputValidationErrorBackground||r.inputValidationErrorBackground},n)},e.attachQuickOpenStyler=function(n,e,t){return a(e,{foreground:t&&t.foreground||r.foreground,background:t&&t.background||r.editorBackground,borderColor:t&&t.borderColor||r.contrastBorder,widgetShadow:t&&t.widgetShadow||r.widgetShadow,progressBarBackground:t&&t.progressBarBackground||r.progressBarBackground,pickerGroupForeground:t&&t.pickerGroupForeground||r.pickerGroupForeground,pickerGroupBorder:t&&t.pickerGroupBorder||r.pickerGroupBorder,inputBackground:t&&t.inputBackground||r.inputBackground,inputForeground:t&&t.inputForeground||r.inputForeground,inputBorder:t&&t.inputBorder||r.inputBorder,inputValidationInfoBorder:t&&t.inputValidationInfoBorder||r.inputValidationInfoBorder,inputValidationInfoBackground:t&&t.inputValidationInfoBackground||r.inputValidationInfoBackground,inputValidationWarningBorder:t&&t.inputValidationWarningBorder||r.inputValidationWarningBorder,inputValidationWarningBackground:t&&t.inputValidationWarningBackground||r.inputValidationWarningBackground,inputValidationErrorBorder:t&&t.inputValidationErrorBorder||r.inputValidationErrorBorder,inputValidationErrorBackground:t&&t.inputValidationErrorBackground||r.inputValidationErrorBackground,listFocusBackground:t&&t.listFocusBackground||r.listFocusBackground,listFocusForeground:t&&t.listFocusForeground||r.listFocusForeground,listActiveSelectionBackground:t&&t.listActiveSelectionBackground||r.lighten(r.listActiveSelectionBackground,.1),listActiveSelectionForeground:t&&t.listActiveSelectionForeground||r.listActiveSelectionForeground,listFocusAndSelectionBackground:t&&t.listFocusAndSelectionBackground||r.listActiveSelectionBackground,listFocusAndSelectionForeground:t&&t.listFocusAndSelectionForeground||r.listActiveSelectionForeground,listInactiveSelectionBackground:t&&t.listInactiveSelectionBackground||r.listInactiveSelectionBackground,listInactiveSelectionForeground:t&&t.listInactiveSelectionForeground||r.listInactiveSelectionForeground,listInactiveFocusBackground:t&&t.listInactiveFocusBackground||r.listInactiveFocusBackground,listInactiveFocusForeground:t&&t.listInactiveFocusForeground||r.listInactiveFocusForeground,listHoverBackground:t&&t.listHoverBackground||r.listHoverBackground,listHoverForeground:t&&t.listHoverForeground||r.listHoverForeground,listDropBackground:t&&t.listDropBackground||r.listDropBackground,listFocusOutline:t&&t.listFocusOutline||r.activeContrastBorder,listSelectionOutline:t&&t.listSelectionOutline||r.activeContrastBorder,listHoverOutline:t&&t.listHoverOutline||r.activeContrastBorder},n)},e.attachListStyler=function(n,e,t){return a(e,{listFocusBackground:t&&t.listFocusBackground||r.listFocusBackground,listFocusForeground:t&&t.listFocusForeground||r.listFocusForeground,listActiveSelectionBackground:t&&t.listActiveSelectionBackground||r.lighten(r.listActiveSelectionBackground,.1),listActiveSelectionForeground:t&&t.listActiveSelectionForeground||r.listActiveSelectionForeground,listFocusAndSelectionBackground:t&&t.listFocusAndSelectionBackground||r.listActiveSelectionBackground,listFocusAndSelectionForeground:t&&t.listFocusAndSelectionForeground||r.listActiveSelectionForeground,listInactiveSelectionBackground:t&&t.listInactiveSelectionBackground||r.listInactiveSelectionBackground,listInactiveSelectionForeground:t&&t.listInactiveSelectionForeground||r.listInactiveSelectionForeground,listInactiveFocusBackground:t&&t.listInactiveFocusBackground||r.listInactiveFocusBackground,listInactiveFocusForeground:t&&t.listInactiveFocusForeground||r.listInactiveFocusForeground,listHoverBackground:t&&t.listHoverBackground||r.listHoverBackground,listHoverForeground:t&&t.listHoverForeground||r.listHoverForeground,listDropBackground:t&&t.listDropBackground||r.listDropBackground,listFocusOutline:t&&t.listFocusOutline||r.activeContrastBorder,listSelectionOutline:t&&t.listSelectionOutline||r.activeContrastBorder,listHoverOutline:t&&t.listHoverOutline||r.activeContrastBorder,listInactiveFocusOutline:t&&t.listInactiveFocusOutline},n)},e.attachButtonStyler=function(n,e,t){return a(e,{buttonForeground:t&&t.buttonForeground||r.buttonForeground,buttonBackground:t&&t.buttonBackground||r.buttonBackground,buttonHoverBackground:t&&t.buttonHoverBackground||r.buttonHoverBackground,buttonBorder:r.contrastBorder},n)},e.attachProgressBarStyler=function(n,e,t){return a(e,{progressBarBackground:t&&t.progressBarBackground||r.progressBarBackground},n)},e.attachStylerCallback=function(o,e,t){return a(o,e,t)}}),define(s[483],n([1,0,52,301,25,137]),function(a,e,d,n,t,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function o(a,s,t,n,i,o){this.codeEditor=a,this.themeService=o,this.create(s,t,n,i)}return o.prototype.create=function(r,a,l,p){this.domNode=d.$().div().getHTMLElement(),this.quickOpenWidget=new n.QuickOpenWidget(this.domNode,{onOk:r,onCancel:a,onType:l},{inputPlaceHolder:null,inputAriaLabel:p.inputAriaLabel,keyboardSupport:!0},null),this.styler=i.attachQuickOpenStyler(this.quickOpenWidget,this.themeService),this.quickOpenWidget.create(),this.codeEditor.addOverlayWidget(this)},o.prototype.setInput=function(o,e){this.quickOpenWidget.setInput(o,e)},o.prototype.getId=function(){return o.ID},o.prototype.getDomNode=function(){return this.domNode},o.prototype.destroy=function(){this.codeEditor.removeOverlayWidget(this),this.quickOpenWidget.dispose(),this.styler.dispose()},o.prototype.isVisible=function(){return this.visible},o.prototype.show=function(o){this.visible=!0;var e=this.codeEditor.getLayoutInfo();e&&this.quickOpenWidget.layout(new d.Dimension(e.width,e.height)),this.quickOpenWidget.show(o),this.codeEditor.layoutOverlayWidget(this)},o.prototype.hide=function(){this.visible=!1,this.quickOpenWidget.hide(),this.codeEditor.layoutOverlayWidget(this)},o.prototype.getPosition=function(){return this.visible?{preference:t.OverlayWidgetPositionPreference.TOP_CENTER}:null},o.ID="editor.contrib.quickOpenEditorWidget",o}();e.QuickOpenEditorWidget=o}),define(s[14],n([1,0,16,44,11]),function(a,s,e,t,n){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.IThemeService=e.createDecorator("themeService"),s.DARK="dark",s.LIGHT="light",s.HIGH_CONTRAST="hc",s.getThemeTypeSelector=function(t){return t===s.DARK?"vs-dark":t===s.HIGH_CONTRAST?"hc-black":"vs"},s.Extensions={ThemingContribution:"base.contributions.theming"};var o=new(function(){function t(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new n.Emitter}return t.prototype.onThemeChange=function(o){var e=this;return this.themingParticipants.push(o),this.onThemingParticipantAddedEmitter.fire(o),{dispose:function(){var t=e.themingParticipants.indexOf(o);e.themingParticipants.splice(t,1)}}},Object.defineProperty(t.prototype,"onThemingParticipantAdded",{get:function(){return this.onThemingParticipantAddedEmitter.event},enumerable:!0,configurable:!0}),t.prototype.getThemingParticipants=function(){return this.themingParticipants},t}());t.Registry.add(s.Extensions.ThemingContribution,o),s.registerThemingParticipant=function(t){return o.onThemeChange(t)},s.cssRule=function(a){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];for(var n="",i=0;i<e.length;i++){n+=a[i];var o=e[i];n+=null===o?"transparent":o.toString()}return n+=a[a.length-1]}}),define(s[485],n([1,0,9,24,4,20,210,3,14]),function(_,e,f,n,y,C,t,o,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(o){function e(e,r){void 0===r&&(r=y.createStyleSheet());var n=o.call(this)||this;return n._styleSheet=r,n._decorationOptionProviders=Object.create(null),n._themeService=e,n}return Z(e,o),e.prototype.registerDecorationType=function(r,d,l){var p=this._decorationOptionProviders[r];if(!p){var c={styleSheet:this._styleSheet,key:r,parentTypeKey:l,options:d};p=l?new a(this._themeService,c):new s(this._themeService,c),this._decorationOptionProviders[r]=p}p.refCount++},e.prototype.removeDecorationType=function(o){var e=this._decorationOptionProviders[o];e&&(e.refCount--,0>=e.refCount&&(delete this._decorationOptionProviders[o],e.dispose(),this.listCodeEditors().forEach(function(e){return e.removeDecorations(o)})))},e.prototype.resolveDecorationOptions=function(o,e){var t=this._decorationOptionProviders[o];if(!t)throw new Error("Unknown decoration type key: "+o);return t.getOptions(this,e)},e=F([v(0,i.IThemeService)],e)}(t.AbstractCodeEditorService);e.CodeEditorServiceImpl=r;var a=function(){function t(o,n){this._parentTypeKey=n.parentTypeKey,this.refCount=0,this._beforeContentRules=new l(3,n,o),this._afterContentRules=new l(4,n,o)}return t.prototype.getOptions=function(t){var e=t.resolveDecorationOptions(this._parentTypeKey,!0);return this._beforeContentRules&&(e.beforeContentClassName=this._beforeContentRules.className),this._afterContentRules&&(e.afterContentClassName=this._afterContentRules.className),e},t.prototype.dispose=function(){this._beforeContentRules&&(this._beforeContentRules.dispose(),this._beforeContentRules=null),this._afterContentRules&&(this._afterContentRules.dispose(),this._afterContentRules=null)},t}(),s=function(){function t(r,d){var t=this;this.refCount=0,this._disposables=[];var n=function(e){var n=new l(e,d,r);if(n.hasContent)return t._disposables.push(n),n.className};this.className=n(0),this.inlineClassName=n(1),this.beforeContentClassName=n(3),this.afterContentClassName=n(4),this.glyphMarginClassName=n(2);var i=d.options;this.isWholeLine=!!i.isWholeLine,this.stickiness=i.rangeBehavior;var o=i.light&&i.light.overviewRulerColor||i.overviewRulerColor,s=i.dark&&i.dark.overviewRulerColor||i.overviewRulerColor;void 0===o&&void 0===s||(this.overviewRuler={color:o||s,darkColor:s||o,position:i.overviewRulerLane||C.OverviewRulerLane.Center})}return t.prototype.getOptions=function(o,e){return e?{inlineClassName:this.inlineClassName,beforeContentClassName:this.beforeContentClassName,afterContentClassName:this.afterContentClassName,className:this.className,glyphMarginClassName:this.glyphMarginClassName,isWholeLine:this.isWholeLine,overviewRuler:this.overviewRuler,stickiness:this.stickiness}:this},t.prototype.dispose=function(){this._disposables=o.dispose(this._disposables)},t}(),d={color:"color:{0} !important;",backgroundColor:"background-color:{0};",outline:"outline:{0};",outlineColor:"outline-color:{0};",outlineStyle:"outline-style:{0};",outlineWidth:"outline-width:{0};",border:"border:{0};",borderColor:"border-color:{0};",borderRadius:"border-radius:{0};",borderSpacing:"border-spacing:{0};",borderStyle:"border-style:{0};",borderWidth:"border-width:{0};",textDecoration:"text-decoration:{0};",cursor:"cursor:{0};",letterSpacing:"letter-spacing:{0};",gutterIconPath:"background:url('{0}') center center no-repeat;",gutterIconSize:"background-size:{0};",contentText:"content:'{0}';",contentIconPath:"content:url('{0}');",margin:"margin:{0};",width:"width:{0};",height:"height:{0};"},l=function(){function t(r,a,t){var n=this;this._theme=t.getTheme(),this._ruleType=r,this._providerArgs=a,this._usesThemeColors=!1,this._hasContent=!1;var i=c.getClassName(this._providerArgs.key,r);this._providerArgs.parentTypeKey&&(i=i+" "+c.getClassName(this._providerArgs.parentTypeKey,r)),this._className=i,this._unThemedSelector=c.getSelector(this._providerArgs.key,this._providerArgs.parentTypeKey,r),this._buildCSS(),this._usesThemeColors&&(this._themeListener=t.onThemeChange(function(){n._theme=t.getTheme(),n._removeCSS(),n._buildCSS()}))}return t.prototype.dispose=function(){this._hasContent&&(this._removeCSS(),this._hasContent=!1),this._themeListener&&(this._themeListener.dispose(),this._themeListener=null)},Object.defineProperty(t.prototype,"hasContent",{get:function(){return this._hasContent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return this._className},enumerable:!0,configurable:!0}),t.prototype._buildCSS=function(){var a=this._providerArgs.options,i,e,t;switch(this._ruleType){case 0:i=this.getCSSTextForModelDecorationClassName(a),e=this.getCSSTextForModelDecorationClassName(a.light),t=this.getCSSTextForModelDecorationClassName(a.dark);break;case 1:i=this.getCSSTextForModelDecorationInlineClassName(a),e=this.getCSSTextForModelDecorationInlineClassName(a.light),t=this.getCSSTextForModelDecorationInlineClassName(a.dark);break;case 2:i=this.getCSSTextForModelDecorationGlyphMarginClassName(a),e=this.getCSSTextForModelDecorationGlyphMarginClassName(a.light),t=this.getCSSTextForModelDecorationGlyphMarginClassName(a.dark);break;case 3:i=this.getCSSTextForModelDecorationContentClassName(a.before),e=this.getCSSTextForModelDecorationContentClassName(a.light&&a.light.before),t=this.getCSSTextForModelDecorationContentClassName(a.dark&&a.dark.before);break;case 4:i=this.getCSSTextForModelDecorationContentClassName(a.after),e=this.getCSSTextForModelDecorationContentClassName(a.light&&a.light.after),t=this.getCSSTextForModelDecorationContentClassName(a.dark&&a.dark.after);break;default:throw new Error("Unknown rule type: "+this._ruleType);}var n=this._providerArgs.styleSheet.sheet,o=!1;0<i.length&&(n.insertRule(this._unThemedSelector+" {"+i+"}",0),o=!0),0<e.length&&(n.insertRule(".vs"+this._unThemedSelector+" {"+e+"}",0),o=!0),0<t.length&&(n.insertRule(".vs-dark"+this._unThemedSelector+", .hc-black"+this._unThemedSelector+" {"+t+"}",0),o=!0),this._hasContent=o},t.prototype._removeCSS=function(){y.removeCSSRulesContainingSelector(this._unThemedSelector,this._providerArgs.styleSheet)},t.prototype.getCSSTextForModelDecorationClassName=function(o){if(!o)return"";var n=[];return this.collectCSSText(o,["backgroundColor"],n),this.collectCSSText(o,["outline","outlineColor","outlineStyle","outlineWidth"],n),this.collectBorderSettingsCSSText(o,n),n.join("")},t.prototype.getCSSTextForModelDecorationInlineClassName=function(o){if(!o)return"";var n=[];return this.collectCSSText(o,["textDecoration","cursor","color","letterSpacing"],n),n.join("")},t.prototype.getCSSTextForModelDecorationContentClassName=function(i){if(!i)return"";var r=[];if(void 0!==i){if(this.collectBorderSettingsCSSText(i,r),"string"==typeof i.contentIconPath?r.push(f.format(d.contentIconPath,n.default.file(i.contentIconPath).toString().replace(/'/g,"%27"))):i.contentIconPath instanceof n.default&&r.push(f.format(d.contentIconPath,i.contentIconPath.toString(!0).replace(/'/g,"%27"))),"string"==typeof i.contentText){var t=i.contentText.match(/^.*$/m)[0].replace(/['\\]/g,"\\$&");r.push(f.format(d.contentText,t))}this.collectCSSText(i,["textDecoration","color","backgroundColor","margin"],r),this.collectCSSText(i,["width","height"],r)&&r.push("display:inline-block;")}return r.join("")},t.prototype.getCSSTextForModelDecorationGlyphMarginClassName=function(o){if(!o)return"";var i=[];return void 0!==o.gutterIconPath&&("string"==typeof o.gutterIconPath?i.push(f.format(d.gutterIconPath,n.default.file(o.gutterIconPath).toString())):i.push(f.format(d.gutterIconPath,o.gutterIconPath.toString(!0).replace(/'/g,"%27"))),void 0!==o.gutterIconSize&&i.push(f.format(d.gutterIconSize,o.gutterIconSize))),i.join("")},t.prototype.collectBorderSettingsCSSText=function(o,e){return!!this.collectCSSText(o,["border","borderColor","borderRadius","borderSpacing","borderStyle","borderWidth"],e)&&(e.push(f.format("box-sizing: border-box;")),!0)},t.prototype.collectCSSText=function(n,e,t){for(var i=t.length,o=0,r=e;o<r.length;o++){var s=r[o],a=this.resolveValue(n[s]);"string"==typeof a&&t.push(f.format(d[s],a))}return t.length!==i},t.prototype.resolveValue=function(o){if(C.isThemeColor(o)){this._usesThemeColors=!0;var e=this._theme.getColor(o.id);return e?e.toString():"transparent"}return o},t}(),p;!function(t){t[t.ClassName=0]="ClassName",t[t.InlineClassName=1]="InlineClassName",t[t.GlyphMarginClassName=2]="GlyphMarginClassName",t[t.BeforeContentClassName=3]="BeforeContentClassName",t[t.AfterContentClassName=4]="AfterContentClassName"}(p||(p={}));var c=function(){function t(){}return t.getClassName=function(o,e){return"ced-"+o+"-"+e},t.getSelector=function(o,e,t){var n=".monaco-editor ."+this.getClassName(o,t);return e&&(n=n+"."+this.getClassName(e,t)),3===t?n+="::before":4===t&&(n+="::after"),n},t}()}),define(s[486],n([1,0,4,63,35,27,14]),function(d,e,g,n,i,o,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(s){function e(e,m,a,u){var l=s.call(this,e)||this,c=l._context.configuration.editor.viewInfo.scrollbar,d={listenOnDomNode:a.domNode,className:"editor-scrollable "+r.getThemeTypeSelector(e.theme.type),useShadows:!1,lazyRender:!0,vertical:c.vertical,horizontal:c.horizontal,verticalHasArrows:c.verticalHasArrows,horizontalHasArrows:c.horizontalHasArrows,verticalScrollbarSize:c.verticalScrollbarSize,verticalSliderSize:c.verticalSliderSize,horizontalScrollbarSize:c.horizontalScrollbarSize,horizontalSliderSize:c.horizontalSliderSize,handleMouseWheel:c.handleMouseWheel,arrowSize:c.arrowSize,mouseWheelScrollSensitivity:c.mouseWheelScrollSensitivity};l.scrollbar=l._register(new n.ScrollableElement(m.domNode,d,l._context.viewLayout.scrollable)),i.PartFingerprints.write(l.scrollbar.getDomNode(),5),l.scrollbarDomNode=o.createFastDomNode(l.scrollbar.getDomNode()),l.scrollbarDomNode.setPosition("absolute"),l._setLayout();var h=function(a,e,t){var n={};if(e){var i=a.scrollTop;i&&(n.scrollTop=l._context.viewLayout.getScrollTop()+i,a.scrollTop=0)}if(t){var o=a.scrollLeft;o&&(n.scrollLeft=l._context.viewLayout.getScrollLeft()+o,a.scrollLeft=0)}l._context.viewLayout.setScrollPosition(n)};return l._register(g.addDisposableListener(a.domNode,"scroll",function(){return h(a.domNode,!0,!0)})),l._register(g.addDisposableListener(m.domNode,"scroll",function(){return h(m.domNode,!0,!1)})),l._register(g.addDisposableListener(u.domNode,"scroll",function(){return h(u.domNode,!0,!1)})),l}return Z(e,s),e.prototype.dispose=function(){s.prototype.dispose.call(this)},e.prototype._setLayout=function(){var t=this._context.configuration.editor.layoutInfo;this.scrollbarDomNode.setLeft(t.contentLeft),this.scrollbarDomNode.setWidth(t.contentWidth+t.minimapWidth),this.scrollbarDomNode.setHeight(t.contentHeight)},e.prototype.getOverviewRulerLayoutInfo=function(){return this.scrollbar.getOverviewRulerLayoutInfo()},e.prototype.getDomNode=function(){return this.scrollbarDomNode},e.prototype.delegateVerticalScrollbarMouseDown=function(t){this.scrollbar.delegateVerticalScrollbarMouseDown(t)},e.prototype.delegateSliderMouseDown=function(o,e){this.scrollbar.delegateSliderMouseDown(o,e)},e.prototype.onConfigurationChanged=function(o){if(o.viewInfo){var e=this._context.configuration.editor,t={handleMouseWheel:e.viewInfo.scrollbar.handleMouseWheel,mouseWheelScrollSensitivity:e.viewInfo.scrollbar.mouseWheelScrollSensitivity};this.scrollbar.updateOptions(t)}return o.layoutInfo&&this._setLayout(),!0},e.prototype.onScrollChanged=function(){return!0},e.prototype.onThemeChanged=function(){return this.scrollbar.updateClassName("editor-scrollable "+r.getThemeTypeSelector(this._context.theme.type)),!0},e.prototype.prepareRender=function(){},e.prototype.render=function(){this.scrollbar.renderNow()},e}(i.ViewPart);e.EditorScrollbar=t}),define(s[185],n([1,0,28,15,9,27,138,106,214,78,14]),function(d,e,t,n,i,o,L,x,a,u,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var c=!!n.isNative||!(n.isLinux||t.isFirefox||t.isSafari),p=t.isEdgeOrIE,r=function(){function t(o,n){this._domNode=o,this._clientRectDeltaLeft=0,this._clientRectDeltaLeftRead=!1,this.endNode=n}return Object.defineProperty(t.prototype,"clientRectDeltaLeft",{get:function(){return this._clientRectDeltaLeftRead||(this._clientRectDeltaLeftRead=!0,this._clientRectDeltaLeft=this._domNode.getBoundingClientRect().left),this._clientRectDeltaLeft},enumerable:!0,configurable:!0}),t}();e.DomReadingContext=r;var l=function(){function t(o,n){this.themeType=n,this.renderWhitespace=o.editor.viewInfo.renderWhitespace,this.renderControlCharacters=o.editor.viewInfo.renderControlCharacters,this.spaceWidth=o.editor.fontInfo.spaceWidth,this.useMonospaceOptimizations=o.editor.fontInfo.isMonospace&&!o.editor.viewInfo.disableMonospaceOptimizations,this.lineHeight=o.editor.lineHeight,this.stopRenderingLineAfter=o.editor.viewInfo.stopRenderingLineAfter,this.fontLigatures=o.editor.viewInfo.fontLigatures}return t.prototype.equals=function(t){return this.themeType===t.themeType&&this.renderWhitespace===t.renderWhitespace&&this.renderControlCharacters===t.renderControlCharacters&&this.spaceWidth===t.spaceWidth&&this.useMonospaceOptimizations===t.useMonospaceOptimizations&&this.lineHeight===t.lineHeight&&this.stopRenderingLineAfter===t.stopRenderingLineAfter&&this.fontLigatures===t.fontLigatures},t}();e.ViewLineOptions=l;var g=function(){function a(t){this._options=t,this._isMaybeInvalid=!0,this._renderedViewLine=null}return a.prototype.getDomNode=function(){return this._renderedViewLine&&this._renderedViewLine.domNode?this._renderedViewLine.domNode.domNode:null},a.prototype.setDomNode=function(t){if(!this._renderedViewLine)throw new Error("I have no rendered view line to set the dom node to...");this._renderedViewLine.domNode=o.createFastDomNode(t)},a.prototype.onContentChanged=function(){this._isMaybeInvalid=!0},a.prototype.onTokensChanged=function(){this._isMaybeInvalid=!0},a.prototype.onDecorationsChanged=function(){this._isMaybeInvalid=!0},a.prototype.onOptionsChanged=function(t){this._isMaybeInvalid=!0,this._options=t},a.prototype.onSelectionChanged=function(){return(p||this._options.themeType===s.HIGH_CONTRAST)&&(this._isMaybeInvalid=!0,!0)},a.prototype.renderLine=function(e,t,o){if(!1===this._isMaybeInvalid)return null;this._isMaybeInvalid=!1;var n=o.getViewLineRenderingData(e),r=this._options,u=L.LineDecoration.filter(n.inlineDecorations,e,n.minColumn,n.maxColumn);if(p||r.themeType===s.HIGH_CONTRAST)for(var l=o.selections,d=0,g=l.length,h;d<g;d++)if(h=l[d],!(h.endLineNumber<e||h.startLineNumber>e)){var f=h.startLineNumber===e?h.startColumn:n.minColumn,v=h.endLineNumber===e?h.endColumn:n.maxColumn;f<v&&u.push(new L.LineDecoration(f,v,"inline-selected-text",!1))}var _=new x.RenderLineInput(r.useMonospaceOptimizations,n.content,n.mightContainRTL,n.minColumn-1,n.tokens,u,n.tabSize,r.spaceWidth,r.stopRenderingLineAfter,r.renderWhitespace,r.renderControlCharacters,r.fontLigatures);if(this._renderedViewLine&&this._renderedViewLine.input.equals(_))return null;var C=x.renderViewLine(_),b=null;if(c&&r.useMonospaceOptimizations&&!C.containsForeignElements){var S=!0;n.mightContainNonBasicASCII&&(S=i.isBasicASCII(n.content)),S&&1e3>n.content.length&&(b=new m(this._renderedViewLine?this._renderedViewLine.domNode:null,_,C.characterMapping))}return b||(b=y(this._renderedViewLine?this._renderedViewLine.domNode:null,_,C.characterMapping,C.containsRTL,C.containsForeignElements)),this._renderedViewLine=b,"<div style=\"top:"+t+"px;height:"+this._options.lineHeight+"px;\" class=\""+a.CLASS_NAME+"\">"+C.html+"</div>"},a.prototype.layoutLine=function(o,e){this._renderedViewLine&&this._renderedViewLine.domNode&&(this._renderedViewLine.domNode.setTop(e),this._renderedViewLine.domNode.setHeight(this._options.lineHeight))},a.prototype.getWidth=function(){return this._renderedViewLine?this._renderedViewLine.getWidth():0},a.prototype.getVisibleRangesForRange=function(o,e,t){return o=q(this._renderedViewLine.input.lineContent.length+1,G(1,o)),e=q(this._renderedViewLine.input.lineContent.length+1,G(1,e)),this._renderedViewLine.getVisibleRangesForRange(o,e,t)},a.prototype.getColumnOfNodeOffset=function(o,e,t){return this._renderedViewLine.getColumnOfNodeOffset(o,e,t)},a.CLASS_NAME="view-line",a}();e.ViewLine=g;var m=function(){function t(o,i,t){this.domNode=o,this.input=i,this._characterMapping=t,this._charWidth=i.spaceWidth,this._charOffset=null}return t._createCharOffset=function(a){for(var e=a.getPartLengths(),t=a.length,n=new Uint32Array(t),i=0,o=0,r=0;r<t;r++){for(var s=a.charOffsetToPartData(r),d=x.CharacterMapping.getPartIndex(s),l=x.CharacterMapping.getCharIndex(s);i<d;)o+=e[i],i++;n[r]=o+l}return n},t.prototype._getOrCreateCharOffset=function(){return null===this._charOffset&&(this._charOffset=t._createCharOffset(this._characterMapping)),this._charOffset},t.prototype.getWidth=function(){var t=this._getOrCreateCharOffset();return this._getCharPosition(t.length)},t.prototype.getVisibleRangesForRange=function(n,e){n|=0,e|=0;var t=0|this.input.stopRenderingLineAfter;if(-1!==t&&n>t&&e>t)return null;-1!==t&&n>t&&(n=t),-1!==t&&e>t&&(e=t);var i=this._getCharPosition(n),o=this._getCharPosition(e);return[new u.HorizontalRange(i,o-i)]},t.prototype._getCharPosition=function(o){var e=this._getOrCreateCharOffset();return 0===e.length?0:w(this._charWidth*e[o-1])},t.prototype.getColumnOfNodeOffset=function(r,e,t){for(var n=e.textContent.length,i=-1;e;)e=e.previousSibling,i++;return this._characterMapping.partDataToCharOffset(i,n,t)+1},t}(),h=function(){function t(a,d,t,n,l){if(this.domNode=a,this.input=d,this._characterMapping=t,this._isWhitespaceOnly=/^\s*$/.test(d.lineContent),this._containsForeignElements=l,this._cachedWidth=-1,this._pixelOffsetCache=null,!n||0===this._characterMapping.length){this._pixelOffsetCache=new Int32Array(this._characterMapping.length+1);for(var o=0,r=this._characterMapping.length;o<=r;o++)this._pixelOffsetCache[o]=-1}}return t.prototype._getReadingTarget=function(){return this.domNode.domNode.firstChild},t.prototype.getWidth=function(){return-1===this._cachedWidth&&(this._cachedWidth=this._getReadingTarget().offsetWidth),this._cachedWidth},t.prototype.getVisibleRangesForRange=function(a,e,t){a|=0,e|=0;var n=0|this.input.stopRenderingLineAfter;if(-1!==n&&a>n&&e>n)return null;if(-1!==n&&a>n&&(a=n),-1!==n&&e>n&&(e=n),null!==this._pixelOffsetCache){var i=this._readPixelOffset(a,t);if(-1===i)return null;var o=this._readPixelOffset(e,t);return-1===o?null:[new u.HorizontalRange(i,o-i)]}return this._readVisibleRangesForRange(a,e,t)},t.prototype._readVisibleRangesForRange=function(o,e,t){if(o===e){var n=this._readPixelOffset(o,t);return-1===n?null:[new u.HorizontalRange(n,0)]}return this._readRawVisibleRangesForRange(o,e,t)},t.prototype._readPixelOffset=function(o,e){if(0===this._characterMapping.length&&!this._containsForeignElements)return 0;if(null!==this._pixelOffsetCache){var t=this._pixelOffsetCache[o];if(-1!==t)return t;var n=this._actualReadPixelOffset(o,e);return this._pixelOffsetCache[o]=n,n}return this._actualReadPixelOffset(o,e)},t.prototype._actualReadPixelOffset=function(d,e){if(0===this._characterMapping.length){var t=a.RangeUtil.readHorizontalRanges(this._getReadingTarget(),0,0,0,0,e.clientRectDeltaLeft,e.endNode);return t&&0!==t.length?t[0].left:-1}if(d===this._characterMapping.length&&this._isWhitespaceOnly&&!this._containsForeignElements)return this.getWidth();var n=this._characterMapping.charOffsetToPartData(d-1),i=x.CharacterMapping.getPartIndex(n),o=x.CharacterMapping.getCharIndex(n),r=a.RangeUtil.readHorizontalRanges(this._getReadingTarget(),i,o,i,o,e.clientRectDeltaLeft,e.endNode);return r&&0!==r.length?r[0].left:-1},t.prototype._readRawVisibleRangesForRange=function(l,e,t){if(1===l&&e===this._characterMapping.length)return[new u.HorizontalRange(0,this.getWidth())];var n=this._characterMapping.charOffsetToPartData(l-1),i=x.CharacterMapping.getPartIndex(n),o=x.CharacterMapping.getCharIndex(n),r=this._characterMapping.charOffsetToPartData(e-1),s=x.CharacterMapping.getPartIndex(r),p=x.CharacterMapping.getCharIndex(r);return a.RangeUtil.readHorizontalRanges(this._getReadingTarget(),i,o,s,p,t.clientRectDeltaLeft,t.endNode)},t.prototype.getColumnOfNodeOffset=function(r,e,t){for(var n=e.textContent.length,i=-1;e;)e=e.previousSibling,i++;return this._characterMapping.partDataToCharOffset(i,n,t)+1},t}(),_=function(a){function e(){return null!==a&&a.apply(this,arguments)||this}return Z(e,a),e.prototype._readVisibleRangesForRange=function(e,t,n){var i=a.prototype._readVisibleRangesForRange.call(this,e,t,n);if(!i||0===i.length||e===t||1===e&&t===this._characterMapping.length)return i;var d=this._readPixelOffset(t-1,n),r=this._readPixelOffset(t,n);if(-1!==d&&-1!==r){var s=i[i.length-1];d<=r&&s.left<r&&(s.width=r-s.left)}return i},e}(h),y=t.isWebKit?function(r,e,t,n,i){return new _(r,e,t,n,i)}:function(r,e,t,n,i){return new h(r,e,t,n,i)}}),define(s[186],n([1,0,12,2,25,114,28,35,185]),function(g,e,_,f,y,m,o,s,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(i,a,t,n,o,d){void 0===t&&(t=0),void 0===n&&(n=null),void 0===o&&(o=null),void 0===d&&(d=null),this.element=i,this.type=a,this.mouseColumn=t,this.position=n,!o&&n&&(o=new f.Range(n.lineNumber,n.column,n.lineNumber,n.column)),this.range=o,this.detail=d}return t._typeToString=function(t){return t===y.MouseTargetType.TEXTAREA?"TEXTAREA":t===y.MouseTargetType.GUTTER_GLYPH_MARGIN?"GUTTER_GLYPH_MARGIN":t===y.MouseTargetType.GUTTER_LINE_NUMBERS?"GUTTER_LINE_NUMBERS":t===y.MouseTargetType.GUTTER_LINE_DECORATIONS?"GUTTER_LINE_DECORATIONS":t===y.MouseTargetType.GUTTER_VIEW_ZONE?"GUTTER_VIEW_ZONE":t===y.MouseTargetType.CONTENT_TEXT?"CONTENT_TEXT":t===y.MouseTargetType.CONTENT_EMPTY?"CONTENT_EMPTY":t===y.MouseTargetType.CONTENT_VIEW_ZONE?"CONTENT_VIEW_ZONE":t===y.MouseTargetType.CONTENT_WIDGET?"CONTENT_WIDGET":t===y.MouseTargetType.OVERVIEW_RULER?"OVERVIEW_RULER":t===y.MouseTargetType.SCROLLBAR?"SCROLLBAR":t===y.MouseTargetType.OVERLAY_WIDGET?"OVERLAY_WIDGET":"UNKNOWN"},t.toString=function(t){return this._typeToString(t.type)+": "+t.position+" - "+t.range+" - "+t.detail},t.prototype.toString=function(){return t.toString(this)},t}();e.MouseTarget=r;var l=function(){function t(){}return t.isTextArea=function(t){return 2===t.length&&3===t[0]&&6===t[1]},t.isChildOfViewLines=function(t){return 4<=t.length&&3===t[0]&&7===t[3]},t.isChildOfScrollableElement=function(t){return 2<=t.length&&3===t[0]&&5===t[1]},t.isChildOfMinimap=function(t){return 2<=t.length&&3===t[0]&&8===t[1]},t.isChildOfContentWidgets=function(t){return 4<=t.length&&3===t[0]&&1===t[3]},t.isChildOfOverflowingContentWidgets=function(t){return 1<=t.length&&2===t[0]},t.isChildOfOverlayWidgets=function(t){return 2<=t.length&&3===t[0]&&4===t[1]},t}(),c=function(){function o(o,i,t){this.model=o.model,this.layoutInfo=o.configuration.editor.layoutInfo,this.viewDomNode=i.viewDomNode,this.lineHeight=o.configuration.editor.lineHeight,this.typicalHalfwidthCharacterWidth=o.configuration.editor.fontInfo.typicalHalfwidthCharacterWidth,this.lastViewCursorsRenderData=t,this._context=o,this._viewHelper=i}return o.prototype.getZoneAtCoord=function(n){var e=this._context.viewLayout.getWhitespaceAtVerticalOffset(n);if(e){var t=e.verticalOffset+e.height/2,i=this._context.model.getLineCount(),o=null,d=null,l;return e.afterLineNumber!==i&&(d=new _.Position(e.afterLineNumber+1,1)),0<e.afterLineNumber&&(o=new _.Position(e.afterLineNumber,this._context.model.getLineMaxColumn(e.afterLineNumber))),l=null===d?o:null===o?d:n<t?o:d,{viewZoneId:e.id,afterLineNumber:e.afterLineNumber,positionBefore:o,positionAfter:d,position:l}}return null},o.prototype.getFullLineRangeAtCoord=function(i){if(this._context.viewLayout.isAfterLines(i)){var e=this._context.model.getLineCount(),t=this._context.model.getLineMaxColumn(e);return{range:new f.Range(e,t,e,t),isAfterLines:!0}}var n=this._context.viewLayout.getLineNumberAtVerticalOffset(i),o=this._context.model.getLineMaxColumn(n);return{range:new f.Range(n,1,n,o),isAfterLines:!1}},o.prototype.getLineNumberAtVerticalOffset=function(t){return this._context.viewLayout.getLineNumberAtVerticalOffset(t)},o.prototype.isAfterLines=function(t){return this._context.viewLayout.isAfterLines(t)},o.prototype.getVerticalOffsetForLineNumber=function(t){return this._context.viewLayout.getVerticalOffsetForLineNumber(t)},o.prototype.findAttribute=function(e,t){return o._findAttribute(e,t,this._viewHelper.viewDomNode)},o._findAttribute=function(o,e,t){for(;o&&o!==document.body;){if(o.hasAttribute&&o.hasAttribute(e))return o.getAttribute(e);if(o===t)return null;o=o.parentNode}return null},o.prototype.getLineWidth=function(t){return this._viewHelper.getLineWidth(t)},o.prototype.visibleRangeForPosition2=function(o,e){return this._viewHelper.visibleRangeForPosition2(o,e)},o.prototype.getPositionFromDOMInfo=function(o,e){return this._viewHelper.getPositionFromDOMInfo(o,e)},o.prototype.getScrollTop=function(){return this._context.viewLayout.getScrollTop()},o.prototype.getScrollLeft=function(){return this._context.viewLayout.getScrollLeft()},o}(),d=function(a){function o(e,d,n,i){var o=a.call(this,e,d,n)||this;return o._ctx=e,i?(o.target=i,o.targetPath=s.PartFingerprints.collect(i,e.viewDomNode)):(o.target=null,o.targetPath=new Uint8Array(0)),o}return Z(o,a),o.prototype.toString=function(){return"pos("+this.pos.x+","+this.pos.y+"), editorPos("+this.editorPos.x+","+this.editorPos.y+"), mouseVerticalOffset: "+this.mouseVerticalOffset+", mouseContentHorizontalOffset: "+this.mouseContentHorizontalOffset+"\n\ttarget: "+(this.target?this.target.outerHTML:null)},o.prototype.fulfill=function(o,e,t,n){return void 0===e&&(e=null),void 0===t&&(t=null),void 0===n&&(n=null),new r(this.target,o,this.mouseColumn,e,t,n)},o.prototype.withTarget=function(t){return new o(this._ctx,this.editorPos,this.pos,t)},o}(function(){return function(o,e,t){this.editorPos=e,this.pos=t,this.mouseVerticalOffset=G(0,o.getScrollTop()+t.y-e.y),this.mouseContentHorizontalOffset=o.getScrollLeft()+t.x-e.x-o.layoutInfo.contentLeft,this.isInMarginArea=t.x-e.x<o.layoutInfo.contentLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=G(0,i._getMouseColumn(this.mouseContentHorizontalOffset,o.typicalHalfwidthCharacterWidth))}}()),i=function(){function p(o,n){this._context=o,this._viewHelper=n}return p.prototype.mouseTargetIsWidget=function(o){var e=o.target,t=s.PartFingerprints.collect(e,this._viewHelper.viewDomNode);return l.isChildOfContentWidgets(t)||l.isChildOfOverflowingContentWidgets(t)||!!l.isChildOfOverlayWidgets(t)},p.prototype.createMouseTarget=function(e,t,o,n){var i=new c(this._context,this._viewHelper,e),r=new d(i,t,o,n);try{return p._createMouseTarget(i,r,!1)}catch(t){return r.fulfill(y.MouseTargetType.UNKNOWN)}},p._createMouseTarget=function(e,t,o){if(null===t.target){if(o)return t.fulfill(y.MouseTargetType.UNKNOWN);var n=p._doHitTest(e,t);return n.position?p.createMouseTargetFromHitTestPosition(e,t,n.position.lineNumber,n.position.column):this._createMouseTarget(e,t.withTarget(n.hitTarget),!0)}var i=null;return i=i||p._hitTestContentWidget(e,t),i=i||p._hitTestOverlayWidget(e,t),i=i||p._hitTestMinimap(e,t),i=i||p._hitTestScrollbarSlider(e,t),i=i||p._hitTestViewZone(e,t),i=i||p._hitTestMargin(e,t),i=i||p._hitTestViewCursor(e,t),i=i||p._hitTestTextArea(e,t),i=i||p._hitTestViewLines(e,t,o),(i=i||p._hitTestScrollbar(e,t))||t.fulfill(y.MouseTargetType.UNKNOWN)},p._hitTestContentWidget=function(o,e){if(l.isChildOfContentWidgets(e.targetPath)||l.isChildOfOverflowingContentWidgets(e.targetPath)){var t=o.findAttribute(e.target,"widgetId");return t?e.fulfill(y.MouseTargetType.CONTENT_WIDGET,null,null,t):e.fulfill(y.MouseTargetType.UNKNOWN)}return null},p._hitTestOverlayWidget=function(o,e){if(l.isChildOfOverlayWidgets(e.targetPath)){var t=o.findAttribute(e.target,"widgetId");return t?e.fulfill(y.MouseTargetType.OVERLAY_WIDGET,null,null,t):e.fulfill(y.MouseTargetType.UNKNOWN)}return null},p._hitTestViewCursor=function(o,e){if(e.target)for(var t=0,n=(r=o.lastViewCursorsRenderData).length,i;t<n;t++)if(i=r[t],e.target===i.domNode)return e.fulfill(y.MouseTargetType.CONTENT_TEXT,i.position);if(e.isInContentArea)for(var r=o.lastViewCursorsRenderData,s=e.mouseContentHorizontalOffset,a=e.mouseVerticalOffset,t=0,n=r.length;t<n;t++)if(!(s<(i=r[t]).contentLeft||s>i.contentLeft+i.width)){var d=o.getVerticalOffsetForLineNumber(i.position.lineNumber);if(d<=a&&a<=d+i.height)return e.fulfill(y.MouseTargetType.CONTENT_TEXT,i.position)}return null},p._hitTestViewZone=function(o,e){var t=o.getZoneAtCoord(e.mouseVerticalOffset);if(t){var n=e.isInContentArea?y.MouseTargetType.CONTENT_VIEW_ZONE:y.MouseTargetType.GUTTER_VIEW_ZONE;return e.fulfill(n,t.position,null,t)}return null},p._hitTestTextArea=function(o,e){return l.isTextArea(e.targetPath)?e.fulfill(y.MouseTargetType.TEXTAREA):null},p._hitTestMargin=function(o,e){if(e.isInMarginArea){var t=o.getFullLineRangeAtCoord(e.mouseVerticalOffset),n=t.range.getStartPosition(),i=I(e.pos.x-e.editorPos.x);return i<=o.layoutInfo.glyphMarginWidth?e.fulfill(y.MouseTargetType.GUTTER_GLYPH_MARGIN,n,t.range,t.isAfterLines):(i-=o.layoutInfo.glyphMarginWidth)<=o.layoutInfo.lineNumbersWidth?e.fulfill(y.MouseTargetType.GUTTER_LINE_NUMBERS,n,t.range,t.isAfterLines):(i-=o.layoutInfo.lineNumbersWidth,e.fulfill(y.MouseTargetType.GUTTER_LINE_DECORATIONS,n,t.range,t.isAfterLines))}return null},p._hitTestViewLines=function(e,t,o){if(!l.isChildOfViewLines(t.targetPath))return null;if(e.isAfterLines(t.mouseVerticalOffset)){var n=e.model.getLineCount(),i=e.model.getLineMaxColumn(n);return t.fulfill(y.MouseTargetType.CONTENT_EMPTY,new _.Position(n,i))}if(o)return t.fulfill(y.MouseTargetType.UNKNOWN);var r=p._doHitTest(e,t);return r.position?p.createMouseTargetFromHitTestPosition(e,t,r.position.lineNumber,r.position.column):this._createMouseTarget(e,t.withTarget(r.hitTarget),!0)},p._hitTestMinimap=function(o,e){if(l.isChildOfMinimap(e.targetPath)){var t=o.getLineNumberAtVerticalOffset(e.mouseVerticalOffset),n=o.model.getLineMaxColumn(t);return e.fulfill(y.MouseTargetType.SCROLLBAR,new _.Position(t,n))}return null},p._hitTestScrollbarSlider=function(o,e){if(l.isChildOfScrollableElement(e.targetPath)&&e.target&&1===e.target.nodeType){var t=e.target.className;if(t&&/\b(slider|scrollbar)\b/.test(t)){var n=o.getLineNumberAtVerticalOffset(e.mouseVerticalOffset),i=o.model.getLineMaxColumn(n);return e.fulfill(y.MouseTargetType.SCROLLBAR,new _.Position(n,i))}}return null},p._hitTestScrollbar=function(o,e){if(l.isChildOfScrollableElement(e.targetPath)){var t=o.getLineNumberAtVerticalOffset(e.mouseVerticalOffset),n=o.model.getLineMaxColumn(t);return e.fulfill(y.MouseTargetType.SCROLLBAR,new _.Position(t,n))}return null},p.prototype.getMouseColumn=function(e,t){var n=this._context.configuration.editor.layoutInfo,i=this._context.viewLayout.getScrollLeft()+t.x-e.x-n.contentLeft;return p._getMouseColumn(i,this._context.configuration.editor.fontInfo.typicalHalfwidthCharacterWidth)},p._getMouseColumn=function(o,e){return 0>o?1:w(o/e)+1},p.createMouseTargetFromHitTestPosition=function(n,e,t,i){var r=new _.Position(t,i),a=n.getLineWidth(t);if(e.mouseContentHorizontalOffset>a)return o.isEdge&&1===r.column?e.fulfill(y.MouseTargetType.CONTENT_EMPTY,new _.Position(t,n.model.getLineMaxColumn(t))):e.fulfill(y.MouseTargetType.CONTENT_EMPTY,r);var s=n.visibleRangeForPosition2(t,i);if(!s)return e.fulfill(y.MouseTargetType.UNKNOWN,r);var l=s.left;if(e.mouseContentHorizontalOffset===l)return e.fulfill(y.MouseTargetType.CONTENT_TEXT,r);var d;if(1<i){var u=s.left;if(d=!1,d=d||u<e.mouseContentHorizontalOffset&&e.mouseContentHorizontalOffset<l,d=d||l<e.mouseContentHorizontalOffset&&e.mouseContentHorizontalOffset<u)return g=new f.Range(t,i,t,i-1),e.fulfill(y.MouseTargetType.CONTENT_TEXT,r,g)}if(i<n.model.getLineMaxColumn(t)){var p=n.visibleRangeForPosition2(t,i+1);if(p){var h=p.left;if(d=!1,d=d||l<e.mouseContentHorizontalOffset&&e.mouseContentHorizontalOffset<h,d=d||h<e.mouseContentHorizontalOffset&&e.mouseContentHorizontalOffset<l){var g=new f.Range(t,i,t,i+1);return e.fulfill(y.MouseTargetType.CONTENT_TEXT,r,g)}}}return e.fulfill(y.MouseTargetType.CONTENT_TEXT,r)},p._doHitTestWithCaretRangeFromPoint=function(r,e){var t=r.getLineNumberAtVerticalOffset(e.mouseVerticalOffset),n=r.getVerticalOffsetForLineNumber(t)+M(r.lineHeight/2),i=e.pos.y+(n-e.mouseVerticalOffset);i<=e.editorPos.y&&(i=e.editorPos.y+1),i>=e.editorPos.y+r.layoutInfo.height&&(i=e.editorPos.y+r.layoutInfo.height-1);var o=new m.PageCoordinates(e.pos.x,i),s=this._actualDoHitTestWithCaretRangeFromPoint(r,o.toClientCoordinates());return s.position?s:this._actualDoHitTestWithCaretRangeFromPoint(r,e.pos.toClientCoordinates())},p._actualDoHitTestWithCaretRangeFromPoint=function(d,e){var t=document.caretRangeFromPoint(e.clientX,e.clientY);if(!t||!t.startContainer)return{position:null,hitTarget:null};var p=t.startContainer,o;if(p.nodeType===p.TEXT_NODE){var c=(s=(r=p.parentNode)?r.parentNode:null)?s.parentNode:null;if((c&&c.nodeType===c.ELEMENT_NODE?c.className:null)===C.ViewLine.CLASS_NAME)return{position:a=d.getPositionFromDOMInfo(r,t.startOffset),hitTarget:null};o=p.parentNode}else if(p.nodeType===p.ELEMENT_NODE){var r=p.parentNode,s=r?r.parentNode:null;if((s&&s.nodeType===s.ELEMENT_NODE?s.className:null)===C.ViewLine.CLASS_NAME){var a=d.getPositionFromDOMInfo(p,p.textContent.length);return{position:a,hitTarget:null}}o=p}return{position:null,hitTarget:o}},p._doHitTestWithCaretPositionFromPoint=function(a,e){var t=document.caretPositionFromPoint(e.clientX,e.clientY);if(t.offsetNode.nodeType===t.offsetNode.TEXT_NODE){var n=t.offsetNode.parentNode,i=n?n.parentNode:null,o=i?i.parentNode:null;return(o&&o.nodeType===o.ELEMENT_NODE?o.className:null)===C.ViewLine.CLASS_NAME?{position:a.getPositionFromDOMInfo(t.offsetNode.parentNode,t.offset),hitTarget:null}:{position:null,hitTarget:t.offsetNode.parentNode}}return{position:null,hitTarget:t.offsetNode}},p._doHitTestWithMoveToPoint=function(d,e){var t=null,p=null,c=document.body.createTextRange();try{c.moveToPoint(e.clientX,e.clientY)}catch(t){return{position:null,hitTarget:null}}c.collapse(!0);var o=c?c.parentElement():null,r=o?o.parentNode:null,s=r?r.parentNode:null;if((s&&s.nodeType===s.ELEMENT_NODE?s.className:"")===C.ViewLine.CLASS_NAME){var a=c.duplicate();a.moveToElementText(o),a.setEndPoint("EndToStart",c),t=d.getPositionFromDOMInfo(o,a.text.length),a.moveToElementText(d.viewDomNode)}else p=o;return c.moveToElementText(d.viewDomNode),{position:t,hitTarget:p}},p._doHitTest=function(o,e){return document.caretRangeFromPoint?this._doHitTestWithCaretRangeFromPoint(o,e):document.caretPositionFromPoint?this._doHitTestWithCaretPositionFromPoint(o,e.pos.toClientCoordinates()):document.body.createTextRange?this._doHitTestWithMoveToPoint(o,e.pos.toClientCoordinates()):{position:null,hitTarget:null}},p}();e.MouseTargetFactory=i}),define(s[489],n([1,0,3,15,28,4,12,22,82,186,25,18,114,47,135]),function(f,e,t,C,n,b,S,E,o,L,w,l,d,r,a){"use strict";function p(o){return function(e,t){var n=!1;return o&&(n=o.mouseTargetIsWidget(t)),n||t.preventDefault(),t}}Object.defineProperty(e,"__esModule",{value:!0});var i=function(g){function e(t,n,i){var o=g.call(this)||this;o._isFocused=!1,o._context=t,o.viewController=n,o.viewHelper=i,o.mouseTargetFactory=new L.MouseTargetFactory(o._context,i),o._mouseDownOperation=o._register(new c(o._context,o.viewController,o.viewHelper,function(n,e){return o._createMouseTarget(n,e)},function(t){return o._getMouseColumn(t)})),o._asyncFocus=o._register(new l.RunOnceScheduler(function(){return o.viewHelper.focusTextArea()},0)),o.lastMouseLeaveTime=-1;var s=new d.EditorMouseEventFactory(o.viewHelper.viewDomNode);o._register(s.onContextMenu(o.viewHelper.viewDomNode,function(t){return o._onContextMenu(t,!0)})),o._register(s.onMouseMoveThrottled(o.viewHelper.viewDomNode,function(t){return o._onMouseMove(t)},p(o.mouseTargetFactory),e.MOUSE_MOVE_MINIMUM_TIME)),o._register(s.onMouseUp(o.viewHelper.viewDomNode,function(t){return o._onMouseUp(t)})),o._register(s.onMouseLeave(o.viewHelper.viewDomNode,function(t){return o._onMouseLeave(t)})),o._register(s.onMouseDown(o.viewHelper.viewDomNode,function(t){return o._onMouseDown(t)}));var m=function(s){if(o._context.configuration.editor.viewInfo.mouseWheelZoom){var e=new r.StandardMouseWheelEvent(s);if(e.browserEvent.ctrlKey||e.browserEvent.metaKey){var t=a.EditorZoom.getZoomLevel(),n=0<e.deltaY?1:-1;a.EditorZoom.setZoomLevel(t+n),e.preventDefault(),e.stopPropagation()}}};return o._register(b.addDisposableListener(o.viewHelper.viewDomNode,"mousewheel",m,!0)),o._register(b.addDisposableListener(o.viewHelper.viewDomNode,"DOMMouseScroll",m,!0)),o._context.addEventHandler(o),o}return Z(e,g),e.prototype.dispose=function(){this._context.removeEventHandler(this),g.prototype.dispose.call(this)},e.prototype.onCursorStateChanged=function(t){return this._mouseDownOperation.onCursorStateChanged(t),!1},e.prototype.onFocusChanged=function(t){return this._isFocused=t.isFocused,!1},e.prototype.onScrollChanged=function(){return this._mouseDownOperation.onScrollChanged(),!1},e.prototype.getTargetAtClientPoint=function(r,e){var t=new d.ClientCoordinates(r,e).toPageCoordinates(),n=d.createEditorPagePosition(this.viewHelper.viewDomNode);if(t.y<n.y||t.y>n.y+n.height||t.x<n.x||t.x>n.x+n.width)return null;var i=this.viewHelper.getLastViewCursorsRenderData();return this.mouseTargetFactory.createMouseTarget(i,n,t,null)},e.prototype._createMouseTarget=function(o,e){var t=this.viewHelper.getLastViewCursorsRenderData();return this.mouseTargetFactory.createMouseTarget(t,o.editorPos,o.pos,e?o.target:null)},e.prototype._getMouseColumn=function(t){return this.mouseTargetFactory.getMouseColumn(t.editorPos,t.pos)},e.prototype._onContextMenu=function(o,n){this.viewController.emitContextMenu({event:o,target:this._createMouseTarget(o,n)})},e.prototype._onMouseMove=function(t){this._mouseDownOperation.isActive()||t.timestamp<this.lastMouseLeaveTime||this.viewController.emitMouseMove({event:t,target:this._createMouseTarget(t,!0)})},e.prototype._onMouseLeave=function(t){this.lastMouseLeaveTime=new Date().getTime(),this.viewController.emitMouseLeave({event:t,target:null})},e.prototype._onMouseUp=function(t){this.viewController.emitMouseUp({event:t,target:this._createMouseTarget(t,!0)})},e.prototype._onMouseDown=function(o){var i=this,t=this._createMouseTarget(o,!0),c=t.type===w.MouseTargetType.CONTENT_TEXT||t.type===w.MouseTargetType.CONTENT_EMPTY,r=t.type===w.MouseTargetType.GUTTER_GLYPH_MARGIN||t.type===w.MouseTargetType.GUTTER_LINE_NUMBERS||t.type===w.MouseTargetType.GUTTER_LINE_DECORATIONS,s=t.type===w.MouseTargetType.GUTTER_LINE_NUMBERS,a=this._context.configuration.editor.viewInfo.selectOnLineNumbers,u=t.type===w.MouseTargetType.CONTENT_VIEW_ZONE||t.type===w.MouseTargetType.GUTTER_VIEW_ZONE,l=t.type===w.MouseTargetType.CONTENT_WIDGET,d=o.leftButton;C.isMacintosh&&o.ctrlKey&&(d=!1);var g=function(){n.isIE&&!i._isFocused?i._asyncFocus.schedule():(o.preventDefault(),i.viewHelper.focusTextArea())};if(d&&(c||s&&a))g(),this._mouseDownOperation.start(t.type,o);else if(r)o.preventDefault();else if(u){var p=t.detail;this.viewHelper.shouldSuppressMouseDownOnViewZone(p.viewZoneId)&&(g(),this._mouseDownOperation.start(t.type,o),o.preventDefault())}else l&&this.viewHelper.shouldSuppressMouseDownOnWidget(t.detail)&&(g(),o.preventDefault());this.viewController.emitMouseDown({event:o,target:t})},e.MOUSE_MOVE_MINIMUM_TIME=100,e}(o.ViewEventHandler);e.MouseHandler=i;var c=function(a){function e(e,p,n,i,o){var r=a.call(this)||this;return r._context=e,r._viewController=p,r._viewHelper=n,r._createMouseTarget=i,r._getMouseColumn=o,r._mouseMoveMonitor=r._register(new d.GlobalEditorMouseMoveMonitor(r._viewHelper.viewDomNode)),r._onScrollTimeout=r._register(new l.TimeoutTimer),r._mouseState=new u,r._currentSelection=new E.Selection(1,1,1,1),r._isActive=!1,r._lastMouseEvent=null,r}return Z(e,a),e.prototype.dispose=function(){a.prototype.dispose.call(this)},e.prototype.isActive=function(){return this._isActive},e.prototype._onMouseDownThenMove=function(o){this._lastMouseEvent=o,this._mouseState.setModifiers(o);var n=this._findMousePosition(o,!0);n&&(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:o,target:n}):this._dispatchMouse(n,!0))},e.prototype.start=function(o,e){var t=this;this._lastMouseEvent=e,this._mouseState.setStartedOnLineNumbers(o===w.MouseTargetType.GUTTER_LINE_NUMBERS),this._mouseState.setModifiers(e);var n=this._findMousePosition(e,!0);if(n){if(this._mouseState.trySetCount(e.detail,n.position),e.detail=this._mouseState.count,!this._context.configuration.editor.readOnly&&this._context.configuration.editor.dragAndDrop&&!this._mouseState.altKey&&2>e.detail&&!this._isActive&&!this._currentSelection.isEmpty()&&this._currentSelection.containsPosition(n.position))return this._mouseState.isDragAndDrop=!0,this._isActive=!0,void this._mouseMoveMonitor.startMonitoring(p(null),function(o){return t._onMouseDownThenMove(o)},function(){var o=t._findMousePosition(t._lastMouseEvent,!0);t._viewController.emitMouseDrop({event:t._lastMouseEvent,target:o?t._createMouseTarget(t._lastMouseEvent,!0):null}),t._stop()});this._mouseState.isDragAndDrop=!1,this._dispatchMouse(n,e.shiftKey),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(p(null),function(o){return t._onMouseDownThenMove(o)},function(){return t._stop()}))}},e.prototype._stop=function(){this._isActive=!1,this._onScrollTimeout.cancel()},e.prototype.onScrollChanged=function(){var o=this;this._isActive&&this._onScrollTimeout.setIfNotSet(function(){var e=o._findMousePosition(o._lastMouseEvent,!1);e&&(o._mouseState.isDragAndDrop||o._dispatchMouse(e,!0))},10)},e.prototype.onCursorStateChanged=function(t){this._currentSelection=t.selections[0]},e.prototype._getPositionOutsideEditor=function(s){var e=s.editorPos,t=this._context.model,n=this._context.viewLayout,i=this._getMouseColumn(s);if(s.posy<e.y){var o=n.getLineNumberAtVerticalOffset(G(n.getScrollTop()-(e.y-s.posy),0));return new L.MouseTarget(null,w.MouseTargetType.OUTSIDE_EDITOR,i,new S.Position(o,1))}if(s.posy>e.y+e.height){var r=n.getLineNumberAtVerticalOffset(n.getScrollTop()+(s.posy-e.y));return new L.MouseTarget(null,w.MouseTargetType.OUTSIDE_EDITOR,i,new S.Position(r,t.getLineMaxColumn(r)))}var a=n.getLineNumberAtVerticalOffset(n.getScrollTop()+(s.posy-e.y));return s.posx<e.x?new L.MouseTarget(null,w.MouseTargetType.OUTSIDE_EDITOR,i,new S.Position(a,1)):s.posx>e.x+e.width?new L.MouseTarget(null,w.MouseTargetType.OUTSIDE_EDITOR,i,new S.Position(a,t.getLineMaxColumn(a))):null},e.prototype._findMousePosition=function(s,e){var t=this._getPositionOutsideEditor(s);if(t)return t;var n=this._createMouseTarget(s,e);if(!n.position)return null;if(n.type===w.MouseTargetType.CONTENT_VIEW_ZONE||n.type===w.MouseTargetType.GUTTER_VIEW_ZONE){var i=new S.Position(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),o=n.detail,r=o.positionBefore,a=o.positionAfter;if(r&&a)return r.isBefore(i)?new L.MouseTarget(n.element,n.type,n.mouseColumn,r,null,n.detail):new L.MouseTarget(n.element,n.type,n.mouseColumn,a,null,n.detail)}return n},e.prototype._dispatchMouse=function(o,e){this._viewController.dispatchMouse({position:o.position,mouseColumn:o.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,inSelectionMode:e,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey})},e}(t.Disposable),u=function(){function o(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}return Object.defineProperty(o.prototype,"altKey",{get:function(){return this._altKey},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"ctrlKey",{get:function(){return this._ctrlKey},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"metaKey",{get:function(){return this._metaKey},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"shiftKey",{get:function(){return this._shiftKey},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"startedOnLineNumbers",{get:function(){return this._startedOnLineNumbers},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"count",{get:function(){return this._lastMouseDownCount},enumerable:!0,configurable:!0}),o.prototype.setModifiers=function(t){this._altKey=t.altKey,this._ctrlKey=t.ctrlKey,this._metaKey=t.metaKey,this._shiftKey=t.shiftKey},o.prototype.setStartedOnLineNumbers=function(t){this._startedOnLineNumbers=t},o.prototype.trySetCount=function(e,t){var n=new Date().getTime();n-this._lastSetMouseDownCountTime>o.CLEAR_MOUSE_DOWN_COUNT_TIME&&(e=1),this._lastSetMouseDownCountTime=n,e>this._lastMouseDownCount+1&&(e=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(t)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=t,this._lastMouseDownCount=q(e,this._lastMouseDownPositionEqualCount)},o.CLEAR_MOUSE_DOWN_COUNT_TIME=400,o}()}),define(s[490],n([1,0,4,74,489,114]),function(d,e,p,n,i,o){"use strict";function g(o,e){var t={translationY:e.translationY,translationX:e.translationX};return o&&(t.translationY+=o.translationY,t.translationX+=o.translationX),t}Object.defineProperty(e,"__esModule",{value:!0});var r=function(n){function e(e,a,i){var o=n.call(this,e,a,i)||this;return o.viewHelper.linesContentDomNode.style.msTouchAction="none",o.viewHelper.linesContentDomNode.style.msContentZooming="none",o._installGestureHandlerTimeout=window.setTimeout(function(){if(o._installGestureHandlerTimeout=-1,window.MSGesture){var r=new MSGesture,e=new MSGesture;r.target=o.viewHelper.linesContentDomNode,e.target=o.viewHelper.linesContentDomNode,o.viewHelper.linesContentDomNode.addEventListener("MSPointerDown",function(t){var n=t.pointerType;n===(t.MSPOINTER_TYPE_MOUSE||"mouse")?o._lastPointerType="mouse":n===(t.MSPOINTER_TYPE_TOUCH||"touch")?(o._lastPointerType="touch",r.addPointer(t.pointerId)):(o._lastPointerType="pen",e.addPointer(t.pointerId))}),o._register(p.addDisposableThrottledListener(o.viewHelper.linesContentDomNode,"MSGestureChange",function(t){return o._onGestureChange(t)},g)),o._register(p.addDisposableListener(o.viewHelper.linesContentDomNode,"MSGestureTap",function(t){return o._onCaptureGestureTap(t)},!0))}},100),o._lastPointerType="mouse",o}return Z(e,n),e.prototype._onMouseDown=function(e){"mouse"===this._lastPointerType&&n.prototype._onMouseDown.call(this,e)},e.prototype._onCaptureGestureTap=function(r){var e=this,t=new o.EditorMouseEvent(r,this.viewHelper.viewDomNode),n=this._createMouseTarget(t,!1);n.position&&this.viewController.moveTo(n.position),t.browserEvent.fromElement?(t.preventDefault(),this.viewHelper.focusTextArea()):setTimeout(function(){e.viewHelper.focusTextArea()})},e.prototype._onGestureChange=function(o){var e=this._context.viewLayout;e.setScrollPosition({scrollLeft:e.getScrollLeft()-o.translationX,scrollTop:e.getScrollTop()-o.translationY})},e.prototype.dispose=function(){window.clearTimeout(this._installGestureHandlerTimeout),n.prototype.dispose.call(this)},e}(i.MouseHandler),a=function(n){function e(e,a,i){var o=n.call(this,e,a,i)||this;return o.viewHelper.linesContentDomNode.style.touchAction="none",o._installGestureHandlerTimeout=window.setTimeout(function(){if(o._installGestureHandlerTimeout=-1,window.MSGesture){var r=new MSGesture,e=new MSGesture;r.target=o.viewHelper.linesContentDomNode,e.target=o.viewHelper.linesContentDomNode,o.viewHelper.linesContentDomNode.addEventListener("pointerdown",function(t){var n=t.pointerType;"mouse"===n?o._lastPointerType="mouse":"touch"===n?(o._lastPointerType="touch",r.addPointer(t.pointerId)):(o._lastPointerType="pen",e.addPointer(t.pointerId))}),o._register(p.addDisposableThrottledListener(o.viewHelper.linesContentDomNode,"MSGestureChange",function(t){return o._onGestureChange(t)},g)),o._register(p.addDisposableListener(o.viewHelper.linesContentDomNode,"MSGestureTap",function(t){return o._onCaptureGestureTap(t)},!0))}},100),o._lastPointerType="mouse",o}return Z(e,n),e.prototype._onMouseDown=function(e){"mouse"===this._lastPointerType&&n.prototype._onMouseDown.call(this,e)},e.prototype._onCaptureGestureTap=function(r){var e=this,t=new o.EditorMouseEvent(r,this.viewHelper.viewDomNode),n=this._createMouseTarget(t,!1);n.position&&this.viewController.moveTo(n.position),t.browserEvent.fromElement?(t.preventDefault(),this.viewHelper.focusTextArea()):setTimeout(function(){e.viewHelper.focusTextArea()})},e.prototype._onGestureChange=function(o){var e=this._context.viewLayout;e.setScrollPosition({scrollLeft:e.getScrollLeft()-o.translationX,scrollTop:e.getScrollTop()-o.translationY})},e.prototype.dispose=function(){window.clearTimeout(this._installGestureHandlerTimeout),n.prototype.dispose.call(this)},e}(i.MouseHandler),s=function(i){function e(e,r,d){var s=i.call(this,e,r,d)||this;return s.gesture=new n.Gesture(s.viewHelper.linesContentDomNode),s._register(p.addDisposableListener(s.viewHelper.linesContentDomNode,n.EventType.Tap,function(t){return s.onTap(t)})),s._register(p.addDisposableListener(s.viewHelper.linesContentDomNode,n.EventType.Change,function(t){return s.onChange(t)})),s._register(p.addDisposableListener(s.viewHelper.linesContentDomNode,n.EventType.Contextmenu,function(t){return s._onContextMenu(new o.EditorMouseEvent(t,s.viewHelper.viewDomNode),!1)})),s}return Z(e,i),e.prototype.dispose=function(){this.gesture.dispose(),i.prototype.dispose.call(this)},e.prototype.onTap=function(n){n.preventDefault(),this.viewHelper.focusTextArea();var e=this._createMouseTarget(new o.EditorMouseEvent(n,this.viewHelper.viewDomNode),!1);e.position&&this.viewController.moveTo(e.position)},e.prototype.onChange=function(o){var e=this._context.viewLayout;e.setScrollPosition({scrollLeft:e.getScrollLeft()-o.translationX,scrollTop:e.getScrollTop()-o.translationY})},e}(i.MouseHandler),t=function(){function t(o,d,t){this.handler=window.navigator.msPointerEnabled?new r(o,d,t):window.TouchEvent?new s(o,d,t):window.navigator.pointerEnabled?new a(o,d,t):new i.MouseHandler(o,d,t)}return t.prototype.getTargetAtClientPoint=function(o,e){return this.handler.getTargetAtClientPoint(o,e)},t.prototype.dispose=function(){this.handler.dispose()},t}();e.PointerHandler=t}),define(s[491],n([1,0,3,186,11]),function(a,e,t,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(o){function e(e){var r=o.call(this)||this;return r._onDidScroll=r._register(new i.Emitter),r.onDidScroll=r._onDidScroll.event,r._onDidGainFocus=r._register(new i.Emitter),r.onDidGainFocus=r._onDidGainFocus.event,r._onDidLoseFocus=r._register(new i.Emitter),r.onDidLoseFocus=r._onDidLoseFocus.event,r._onKeyDown=r._register(new i.Emitter),r.onKeyDown=r._onKeyDown.event,r._onKeyUp=r._register(new i.Emitter),r.onKeyUp=r._onKeyUp.event,r._onContextMenu=r._register(new i.Emitter),r.onContextMenu=r._onContextMenu.event,r._onMouseMove=r._register(new i.Emitter),r.onMouseMove=r._onMouseMove.event,r._onMouseLeave=r._register(new i.Emitter),r.onMouseLeave=r._onMouseLeave.event,r._onMouseUp=r._register(new i.Emitter),r.onMouseUp=r._onMouseUp.event,r._onMouseDown=r._register(new i.Emitter),r.onMouseDown=r._onMouseDown.event,r._onMouseDrag=r._register(new i.Emitter),r.onMouseDrag=r._onMouseDrag.event,r._onMouseDrop=r._register(new i.Emitter),r.onMouseDrop=r._onMouseDrop.event,r._viewModel=e,r}return Z(e,o),e.prototype.emitScrollChanged=function(t){this._onDidScroll.fire(t)},e.prototype.emitViewFocusGained=function(){this._onDidGainFocus.fire()},e.prototype.emitViewFocusLost=function(){this._onDidLoseFocus.fire()},e.prototype.emitKeyDown=function(t){this._onKeyDown.fire(t)},e.prototype.emitKeyUp=function(t){this._onKeyUp.fire(t)},e.prototype.emitContextMenu=function(t){this._onContextMenu.fire(this._convertViewToModelMouseEvent(t))},e.prototype.emitMouseMove=function(t){this._onMouseMove.fire(this._convertViewToModelMouseEvent(t))},e.prototype.emitMouseLeave=function(t){this._onMouseLeave.fire(this._convertViewToModelMouseEvent(t))},e.prototype.emitMouseUp=function(t){this._onMouseUp.fire(this._convertViewToModelMouseEvent(t))},e.prototype.emitMouseDown=function(t){this._onMouseDown.fire(this._convertViewToModelMouseEvent(t))},e.prototype.emitMouseDrag=function(t){this._onMouseDrag.fire(this._convertViewToModelMouseEvent(t))},e.prototype.emitMouseDrop=function(t){this._onMouseDrop.fire(this._convertViewToModelMouseEvent(t))},e.prototype._convertViewToModelMouseEvent=function(t){return t.target?{event:t.event,target:this._convertViewToModelMouseTarget(t.target)}:t},e.prototype._convertViewToModelMouseTarget=function(t){return new r(t.element,t.type,t.mouseColumn,t.position?this._convertViewToModelPosition(t.position):null,t.range?this._convertViewToModelRange(t.range):null,t.detail)},e.prototype._convertViewToModelPosition=function(t){return this._viewModel.coordinatesConverter.convertViewPositionToModelPosition(t)},e.prototype._convertViewToModelRange=function(t){return this._viewModel.coordinatesConverter.convertViewRangeToModelRange(t)},e}(t.Disposable);e.ViewOutgoingEvents=o;var r=function(){function t(a,s,t,n,i,o){this.element=a,this.type=s,this.mouseColumn=t,this.position=n,this.range=i,this.detail=o}return t.prototype.toString=function(){return n.MouseTarget.toString(this)},t}()}),define(s[492],n([1,0,18,2,12,112,185,66,78,35,57,286]),function(p,e,c,m,_,n,y,r,o,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(){this._currentVisibleRange=new m.Range(1,1,1,1)}return t.prototype.getCurrentVisibleRange=function(){return this._currentVisibleRange},t.prototype.setCurrentVisibleRange=function(t){this._currentVisibleRange=t},t}(),t=function(d){function p(e,l){var i=d.call(this,e)||this;i._linesContent=l,i._textRangeRestingSpot=document.createElement("div"),i._visibleLines=new n.VisibleLinesCollection(i),i.domNode=i._visibleLines.domNode;var o=i._context.configuration;return i._lineHeight=o.editor.lineHeight,i._typicalHalfwidthCharacterWidth=o.editor.fontInfo.typicalHalfwidthCharacterWidth,i._isViewportWrapping=o.editor.wrappingInfo.isViewportWrapping,i._revealHorizontalRightPadding=o.editor.viewInfo.revealHorizontalRightPadding,i._canUseLayerHinting=o.editor.canUseLayerHinting,i._viewLineOptions=new y.ViewLineOptions(o,i._context.theme.type),a.PartFingerprints.write(i.domNode,7),i.domNode.setClassName("view-lines"),r.Configuration.applyFontInfo(i.domNode,o.editor.fontInfo),i._maxLineWidth=0,i._asyncUpdateLineWidths=new c.RunOnceScheduler(function(){i._updateLineWidths()},200),i._lastRenderedData=new s,i._lastCursorRevealRangeHorizontallyEvent=null,i}return Z(p,d),p.prototype.dispose=function(){this._asyncUpdateLineWidths.dispose(),d.prototype.dispose.call(this)},p.prototype.getDomNode=function(){return this.domNode},p.prototype.createVisibleLine=function(){return new y.ViewLine(this._viewLineOptions)},p.prototype.onConfigurationChanged=function(o){this._visibleLines.onConfigurationChanged(o),o.wrappingInfo&&(this._maxLineWidth=0);var e=this._context.configuration;return o.lineHeight&&(this._lineHeight=e.editor.lineHeight),o.fontInfo&&(this._typicalHalfwidthCharacterWidth=e.editor.fontInfo.typicalHalfwidthCharacterWidth),o.wrappingInfo&&(this._isViewportWrapping=e.editor.wrappingInfo.isViewportWrapping),o.viewInfo&&(this._revealHorizontalRightPadding=e.editor.viewInfo.revealHorizontalRightPadding),o.canUseLayerHinting&&(this._canUseLayerHinting=e.editor.canUseLayerHinting),o.fontInfo&&r.Configuration.applyFontInfo(this.domNode,e.editor.fontInfo),this._onOptionsMaybeChanged(),o.layoutInfo&&(this._maxLineWidth=0),!0},p.prototype._onOptionsMaybeChanged=function(){var r=this._context.configuration,e=new y.ViewLineOptions(r,this._context.theme.type);if(!this._viewLineOptions.equals(e)){this._viewLineOptions=e;for(var t=this._visibleLines.getStartLineNumber(),n=this._visibleLines.getEndLineNumber(),i=t;i<=n;i++)this._visibleLines.getVisibleLine(i).onOptionsChanged(this._viewLineOptions);return!0}return!1},p.prototype.onCursorStateChanged=function(){for(var e=this._visibleLines.getStartLineNumber(),t=this._visibleLines.getEndLineNumber(),n=!1,i=e;i<=t;i++)n=this._visibleLines.getVisibleLine(i).onSelectionChanged()||n;return n},p.prototype.onDecorationsChanged=function(){for(var e=this._visibleLines.getStartLineNumber(),t=this._visibleLines.getEndLineNumber(),o=e;o<=t;o++)this._visibleLines.getVisibleLine(o).onDecorationsChanged();return!0},p.prototype.onFlushed=function(o){var e=this._visibleLines.onFlushed(o);return this._maxLineWidth=0,e},p.prototype.onLinesChanged=function(t){return this._visibleLines.onLinesChanged(t)},p.prototype.onLinesDeleted=function(t){return this._visibleLines.onLinesDeleted(t)},p.prototype.onLinesInserted=function(t){return this._visibleLines.onLinesInserted(t)},p.prototype.onRevealRangeRequest=function(o){var e=this._computeScrollTopToRevealRange(this._context.viewLayout.getCurrentViewport(),o.range,o.verticalType);return o.revealHorizontal&&(this._lastCursorRevealRangeHorizontallyEvent=o),this._context.viewLayout.setScrollPosition({scrollTop:e}),!0},p.prototype.onScrollChanged=function(t){return this.domNode.setWidth(t.scrollWidth),this._visibleLines.onScrollChanged(t)||!0},p.prototype.onTokensChanged=function(t){return this._visibleLines.onTokensChanged(t)},p.prototype.onZonesChanged=function(t){return this._visibleLines.onZonesChanged(t)},p.prototype.onThemeChanged=function(){return this._onOptionsMaybeChanged()},p.prototype.getPositionFromDOMInfo=function(o,e){var t=this._getViewLineDomNode(o);if(null===t)return null;var n=this._getLineNumberFor(t);if(-1===n)return null;if(1>n||n>this._context.model.getLineCount())return null;if(1===this._context.model.getLineMaxColumn(n))return new _.Position(n,1);var i=this._visibleLines.getStartLineNumber(),r=this._visibleLines.getEndLineNumber();if(n<i||n>r)return null;var s=this._visibleLines.getVisibleLine(n).getColumnOfNodeOffset(n,o,e),a=this._context.model.getLineMinColumn(n);return s<a&&(s=a),new _.Position(n,s)},p.prototype._getViewLineDomNode=function(t){for(;t&&1===t.nodeType;){if(t.className===y.ViewLine.CLASS_NAME)return t;t=t.parentElement}return null},p.prototype._getLineNumberFor=function(o){for(var e=this._visibleLines.getStartLineNumber(),t=this._visibleLines.getEndLineNumber(),n=e;n<=t;n++)if(o===this._visibleLines.getVisibleLine(n).getDomNode())return n;return-1},p.prototype.getLineWidth=function(o){var e=this._visibleLines.getStartLineNumber(),t=this._visibleLines.getEndLineNumber();return o<e||o>t?-1:this._visibleLines.getVisibleLine(o).getWidth()},p.prototype.linesVisibleRangesForRange=function(i,e){if(this.shouldRender())return null;var t=i.endLineNumber;if(!(i=m.Range.intersectRanges(i,this._lastRenderedData.getCurrentVisibleRange())))return null;var n=[],a=new y.DomReadingContext(this.domNode.domNode,this._textRangeRestingSpot),s;e&&(s=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new _.Position(i.startLineNumber,1)).lineNumber);for(var r=this._visibleLines.getStartLineNumber(),l=this._visibleLines.getEndLineNumber(),d=i.startLineNumber;d<=i.endLineNumber;d++)if(!(d<r||d>l)){var c=d===i.startLineNumber?i.startColumn:1,p=d===i.endLineNumber?i.endColumn:this._context.model.getLineMaxColumn(d),u=this._visibleLines.getVisibleLine(d).getVisibleRangesForRange(c,p,a);u&&0!==u.length&&(e&&d<t&&s!==(s=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new _.Position(d+1,1)).lineNumber)&&(u[u.length-1].width+=this._typicalHalfwidthCharacterWidth),n.push(new o.LineVisibleRanges(d,u)))}return 0===n.length?null:n},p.prototype.visibleRangesForRange2=function(i){if(this.shouldRender())return null;if(!(i=m.Range.intersectRanges(i,this._lastRenderedData.getCurrentVisibleRange())))return null;for(var e=[],t=new y.DomReadingContext(this.domNode.domNode,this._textRangeRestingSpot),n=this._visibleLines.getStartLineNumber(),o=this._visibleLines.getEndLineNumber(),r=i.startLineNumber;r<=i.endLineNumber;r++)if(!(r<n||r>o)){var a=r===i.startLineNumber?i.startColumn:1,s=r===i.endLineNumber?i.endColumn:this._context.model.getLineMaxColumn(r),d=this._visibleLines.getVisibleLine(r).getVisibleRangesForRange(a,s,t);d&&0!==d.length&&(e=e.concat(d))}return 0===e.length?null:e},p.prototype._updateLineWidths=function(){for(var r=this._visibleLines.getStartLineNumber(),e=this._visibleLines.getEndLineNumber(),t=1,n=r,i;n<=e;n++)i=this._visibleLines.getVisibleLine(n).getWidth(),t=G(t,i);1===r&&e===this._context.model.getLineCount()&&(this._maxLineWidth=0),this._ensureMaxLineWidth(t)},p.prototype.prepareRender=function(){throw new Error("Not supported")},p.prototype.render=function(){throw new Error("Not supported")},p.prototype.renderText=function(o){if(this._visibleLines.renderLines(o),this._lastRenderedData.setCurrentVisibleRange(o.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(q(this._context.viewLayout.getScrollHeight(),1e6)),this._lastCursorRevealRangeHorizontallyEvent){var e=this._lastCursorRevealRangeHorizontallyEvent.range;this._lastCursorRevealRangeHorizontallyEvent=null,this.onDidRender();var t=this._computeScrollLeftToRevealRange(e);this._isViewportWrapping||this._ensureMaxLineWidth(t.maxHorizontalOffset),this._context.viewLayout.setScrollPosition({scrollLeft:t.scrollLeft})}this._linesContent.setLayerHinting(this._canUseLayerHinting);var n=this._context.viewLayout.getScrollTop()-o.bigNumbersDelta;this._linesContent.setTop(-n),this._linesContent.setLeft(-this._context.viewLayout.getScrollLeft()),this._asyncUpdateLineWidths.schedule()},p.prototype._ensureMaxLineWidth=function(o){var e=l(o);this._maxLineWidth<e&&(this._maxLineWidth=e,this._context.viewLayout.onMaxLineWidthChanged(this._maxLineWidth))},p.prototype._computeScrollTopToRevealRange=function(d,e,t){var n=d.top,r=d.height,s=n+r,a,i;a=this._context.viewLayout.getVerticalOffsetForLineNumber(e.startLineNumber),i=this._context.viewLayout.getVerticalOffsetForLineNumber(e.endLineNumber)+this._lineHeight,0!==t&&4!==t||(i+=this._lineHeight);var o;if(!(1===t||2===t))o=this._computeMinimumScrolling(n,s,a,i,3===t,4===t);else if(2===t&&n<=a&&i<=s)o=n;else{var p=(a+i)/2;o=G(0,p-r/2)}return o},p.prototype._computeScrollLeftToRevealRange=function(t){var e=0;if(t.startLineNumber!==t.endLineNumber)return{scrollLeft:0,maxHorizontalOffset:e};var d=this._context.viewLayout.getCurrentViewport(),i=d.left,g=i+d.width,r=this.visibleRangesForRange2(t),m=T,a=0;if(!r)return{scrollLeft:i,maxHorizontalOffset:e};for(var u=0,l;u<r.length;u++)l=r[u],l.left<m&&(m=l.left),l.left+l.width>a&&(a=l.left+l.width);return e=a,m=G(0,m-p.HORIZONTAL_EXTRA_PX),a+=this._revealHorizontalRightPadding,{scrollLeft:this._computeMinimumScrolling(i,g,m,a),maxHorizontalOffset:e}},p.prototype._computeMinimumScrolling=function(a,e,t,n,i,d){i=!!i,d=!!d;var l=(e|=0)-(a|=0);return(n|=0)-(t|=0)<l?i?t:d?G(0,n-l):t<a?t:n>e?G(0,n-l):a:t},p.HORIZONTAL_EXTRA_PX=30,p}(a.ViewPart);e.ViewLines=t}),define(s[493],n([1,0,35,215,4,111,27,112,2,57,83,15,14,23,294]),function(_,e,f,n,i,o,r,s,L,u,l,c,t,d){"use strict";function x(t){return 2===t?4:4===t?6:1===t?2:3}function N(t){return 2===t?2:4===t?2:1}Object.defineProperty(e,"__esModule",{value:!0});var a;!function(t){t[t.None=0]="None",t[t.Small=1]="Small",t[t.Large=2]="Large",t[t.SmallBlocks=3]="SmallBlocks",t[t.LargeBlocks=4]="LargeBlocks"}(a||(a={}));var p=function(){function t(r){var a=r.editor.pixelRatio,t=r.editor.layoutInfo,n=r.editor.viewInfo,i=r.editor.fontInfo;this.renderMinimap=0|t.renderMinimap,this.scrollBeyondLastLine=n.scrollBeyondLastLine,this.showSlider=n.minimap.showSlider,this.pixelRatio=a,this.typicalHalfwidthCharacterWidth=i.typicalHalfwidthCharacterWidth,this.lineHeight=r.editor.lineHeight,this.minimapWidth=t.minimapWidth,this.minimapHeight=t.height,this.canvasInnerWidth=G(1,M(a*this.minimapWidth)),this.canvasInnerHeight=G(1,M(a*this.minimapHeight)),this.canvasOuterWidth=this.canvasInnerWidth/a,this.canvasOuterHeight=this.canvasInnerHeight/a}return t.prototype.equals=function(t){return this.renderMinimap===t.renderMinimap&&this.scrollBeyondLastLine===t.scrollBeyondLastLine&&this.showSlider===t.showSlider&&this.pixelRatio===t.pixelRatio&&this.typicalHalfwidthCharacterWidth===t.typicalHalfwidthCharacterWidth&&this.lineHeight===t.lineHeight&&this.minimapWidth===t.minimapWidth&&this.minimapHeight===t.minimapHeight&&this.canvasInnerWidth===t.canvasInnerWidth&&this.canvasInnerHeight===t.canvasInnerHeight&&this.canvasOuterWidth===t.canvasOuterWidth&&this.canvasOuterHeight===t.canvasOuterHeight},t}(),g=function(){function g(a,d,t,n,i,o,r){this.scrollTop=a,this.scrollHeight=d,this._computedSliderRatio=t,this.sliderTop=n,this.sliderHeight=i,this.startLineNumber=o,this.endLineNumber=r}return g.prototype.getDesiredScrollTopFromDelta=function(o){var e=this.sliderTop+o;return w(e/this._computedSliderRatio)},g.create=function(e,t,n,i,o,r,s,a,u){var l=e.pixelRatio,d=x(e.renderMinimap),m=M(e.canvasInnerHeight/d),p=e.lineHeight,h;if(o&&n!==r){h=M((n-t+1)*d/l)}else{h=M(i/p*d/l)}var c=e.scrollBeyondLastLine?(r-1)*d/l:G(0,r*d/l-h);var _=(c=q(e.minimapHeight-h,c))/(a-i),f=s*_;if(m>=r)return new g(s,a,_,f,h,y=1,C=r);var y=G(1,M(t-f*l/d));u&&u.scrollHeight===a&&(u.scrollTop>s&&(y=q(y,u.startLineNumber)),u.scrollTop<s&&(y=G(y,u.startLineNumber)));var C=q(r,y+m-1);return new g(s,a,_,f,h,y,C)},g}(),y=function(){function t(t){this.dy=t}return t.prototype.onContentChanged=function(){this.dy=-1},t.prototype.onTokensChanged=function(){this.dy=-1},t.INVALID=new t(-1),t}(),C=function(){function t(o,i,t){this.renderedLayout=o,this._imageData=i,this._renderedLines=new s.RenderedLinesCollection(function(){return y.INVALID}),this._renderedLines._set(o.startLineNumber,t)}return t.prototype.linesEquals=function(o){if(this.renderedLayout.startLineNumber!==o.startLineNumber)return!1;if(this.renderedLayout.endLineNumber!==o.endLineNumber)return!1;for(var e=this._renderedLines._get().lines,t=0,n=e.length;t<n;t++)if(-1===e[t].dy)return!1;return!0},t.prototype._get=function(){var t=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:t.rendLineNumberStart,lines:t.lines}},t.prototype.onLinesChanged=function(t){return this._renderedLines.onLinesChanged(t.fromLineNumber,t.toLineNumber)},t.prototype.onLinesDeleted=function(t){this._renderedLines.onLinesDeleted(t.fromLineNumber,t.toLineNumber)},t.prototype.onLinesInserted=function(t){this._renderedLines.onLinesInserted(t.fromLineNumber,t.toLineNumber)},t.prototype.onTokensChanged=function(t){return this._renderedLines.onTokensChanged(t.ranges)},t}(),m=function(){function r(e,t,n,i){this._backgroundFillData=r._createBackgroundFillData(t,n,i),this._buffers=[e.createImageData(t,n),e.createImageData(t,n)],this._lastUsedBuffer=0}return r.prototype.getBuffer=function(){this._lastUsedBuffer=1-this._lastUsedBuffer;var t=this._buffers[this._lastUsedBuffer];return t.data.set(this._backgroundFillData),t},r._createBackgroundFillData=function(d,e,t){for(var n=t.r,i=t.g,o=t.b,r=new Uint8ClampedArray(4*(d*e)),s=0,a=0;a<e;a++)for(var p=0;p<d;p++)r[s]=n,r[s+1]=i,r[s+2]=o,r[s+3]=255,s+=4;return r},r}(),h=function(s){function e(e){var d=s.call(this,e)||this;return d._options=new p(d._context.configuration),d._lastRenderData=null,d._buffers=null,d._domNode=r.createFastDomNode(document.createElement("div")),f.PartFingerprints.write(d._domNode,8),d._domNode.setClassName(d._getMinimapDomNodeClassName()),d._domNode.setPosition("absolute"),d._domNode.setAttribute("role","presentation"),d._domNode.setAttribute("aria-hidden","true"),d._domNode.setRight(d._context.configuration.editor.layoutInfo.verticalScrollbarWidth),d._shadow=r.createFastDomNode(document.createElement("div")),d._shadow.setClassName("minimap-shadow-hidden"),d._domNode.appendChild(d._shadow),d._canvas=r.createFastDomNode(document.createElement("canvas")),d._canvas.setPosition("absolute"),d._canvas.setLeft(0),d._domNode.appendChild(d._canvas),d._slider=r.createFastDomNode(document.createElement("div")),d._slider.setPosition("absolute"),d._slider.setClassName("minimap-slider"),d._slider.setLayerHinting(!0),d._domNode.appendChild(d._slider),d._sliderHorizontal=r.createFastDomNode(document.createElement("div")),d._sliderHorizontal.setPosition("absolute"),d._sliderHorizontal.setClassName("minimap-slider-horizontal"),d._slider.appendChild(d._sliderHorizontal),d._tokensColorTracker=o.MinimapTokensColorTracker.getInstance(),d._minimapCharRenderer=n.getOrCreateMinimapCharRenderer(),d._applyLayout(),d._mouseDownListener=i.addStandardDisposableListener(d._canvas.domNode,"mousedown",function(r){r.preventDefault();var e=d._options.renderMinimap;if(0!==e&&d._lastRenderData){var t=x(e),n=d._options.pixelRatio*r.browserEvent.offsetY,i=M(n/t)+d._lastRenderData.renderedLayout.startLineNumber;i=q(i,d._context.model.getLineCount()),d._context.privateViewEventBus.emit(new u.ViewRevealRangeRequestEvent(new L.Range(i,1,i,1),1,!1))}}),d._sliderMouseMoveMonitor=new l.GlobalMouseMoveMonitor,d._sliderMouseDownListener=i.addStandardDisposableListener(d._slider.domNode,"mousedown",function(o){if(o.preventDefault(),o.leftButton&&d._lastRenderData){var a=o.posy,t=o.posx,n=d._lastRenderData.renderedLayout;d._slider.toggleClassName("active",!0),d._sliderMouseMoveMonitor.startMonitoring(l.standardMouseMoveMerger,function(i){var e=I(i.posx-t);if(c.isWindows&&e>140)d._context.viewLayout.setScrollPosition({scrollTop:n.scrollTop});else{var o=i.posy-a;d._context.viewLayout.setScrollPosition({scrollTop:n.getDesiredScrollTopFromDelta(o)})}},function(){d._slider.toggleClassName("active",!1)})}}),d}return Z(e,s),e.prototype.dispose=function(){this._mouseDownListener.dispose(),this._sliderMouseMoveMonitor.dispose(),this._sliderMouseDownListener.dispose(),s.prototype.dispose.call(this)},e.prototype._getMinimapDomNodeClassName=function(){return"always"===this._options.showSlider?"minimap slider-always":"minimap slider-mouseover"},e.prototype.getDomNode=function(){return this._domNode},e.prototype._applyLayout=function(){this._domNode.setWidth(this._options.minimapWidth),this._domNode.setHeight(this._options.minimapHeight),this._shadow.setHeight(this._options.minimapHeight),this._canvas.setWidth(this._options.canvasOuterWidth),this._canvas.setHeight(this._options.canvasOuterHeight),this._canvas.domNode.width=this._options.canvasInnerWidth,this._canvas.domNode.height=this._options.canvasInnerHeight,this._slider.setWidth(this._options.minimapWidth)},e.prototype._getBuffer=function(){return this._buffers||(this._buffers=new m(this._canvas.domNode.getContext("2d"),this._options.canvasInnerWidth,this._options.canvasInnerHeight,this._tokensColorTracker.getColor(2))),this._buffers.getBuffer()},e.prototype._onOptionsMaybeChanged=function(){var t=new p(this._context.configuration);return!this._options.equals(t)&&(this._options=t,this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName()),!0)},e.prototype.onConfigurationChanged=function(){return this._onOptionsMaybeChanged()},e.prototype.onFlushed=function(){return this._lastRenderData=null,!0},e.prototype.onLinesChanged=function(t){return!!this._lastRenderData&&this._lastRenderData.onLinesChanged(t)},e.prototype.onLinesDeleted=function(t){return this._lastRenderData&&this._lastRenderData.onLinesDeleted(t),!0},e.prototype.onLinesInserted=function(t){return this._lastRenderData&&this._lastRenderData.onLinesInserted(t),!0},e.prototype.onScrollChanged=function(){return!0},e.prototype.onTokensChanged=function(t){return!!this._lastRenderData&&this._lastRenderData.onTokensChanged(t)},e.prototype.onTokensColorsChanged=function(){return this._lastRenderData=null,this._buffers=null,!0},e.prototype.onZonesChanged=function(){return this._lastRenderData=null,!0},e.prototype.prepareRender=function(){},e.prototype.render=function(o){if(0!==this._options.renderMinimap){o.scrollLeft+o.viewportWidth>=o.scrollWidth?this._shadow.setClassName("minimap-shadow-hidden"):this._shadow.setClassName("minimap-shadow-visible");var e=g.create(this._options,o.visibleRange.startLineNumber,o.visibleRange.endLineNumber,o.viewportHeight,0<o.viewportData.whitespaceViewportData.length,this._context.model.getLineCount(),o.scrollTop,o.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setTop(e.sliderTop),this._slider.setHeight(e.sliderHeight);var t=o.scrollLeft/this._options.typicalHalfwidthCharacterWidth,n=q(this._options.minimapWidth,w(t*N(this._options.renderMinimap)/this._options.pixelRatio));this._sliderHorizontal.setLeft(n),this._sliderHorizontal.setWidth(this._options.minimapWidth-n),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(e.sliderHeight),this._lastRenderData=this.renderLines(e)}else this._shadow.setClassName("minimap-shadow-hidden")},e.prototype.renderLines=function(t){var g=this._options.renderMinimap,n=t.startLineNumber,i=t.endLineNumber,o=x(g);if(this._lastRenderData&&this._lastRenderData.linesEquals(t)){var r=this._lastRenderData._get();return new C(t,r.imageData,r.lines)}for(var s=this._getBuffer(),a=e._renderUntouchedLines(s,n,i,o,this._lastRenderData),u=this._context.model.getMinimapLinesRenderingData(n,i,a),l=u.tabSize,c=this._tokensColorTracker.getColor(2),d=this._tokensColorTracker.backgroundIsLight(),h=0,p=[],_=0;_<i-n+1;_++)a[_]&&e._renderLine(s,c,d,g,this._tokensColorTracker,this._minimapCharRenderer,h,l,u.data[_]),p[_]=new y(h),h+=o;return this._canvas.domNode.getContext("2d").putImageData(s,0,0),new C(t,s,p)},e._renderUntouchedLines=function(a,e,t,n,i){var T=[];if(!i){for(var r=0;r<t-e+1;r++)T[r]=!0;return T}for(var s=i._get(),u=s.imageData.data,l=s.rendLineNumberStart,c=s.lines,d=c.length,h=a.width,p=a.data,f=-1,g=-1,m=-1,v=-1,_=0,y=e;y<=t;y++){var C=y-e,b=y-l,w=0<=b&&b<d?c[b].dy:-1;if(-1!==w){var S=4*(w*h),E=4*((w+n)*h),L=4*(_*h),x=4*((_+n)*h);g===S&&v===L?(g=E,v=x):(-1!==f&&p.set(u.subarray(f,g),m),f=S,g=E,m=L,v=x),T[C]=!1,_+=n}else T[C]=!0,_+=n}return-1!==f&&p.set(u.subarray(f,g),m),T},e._renderLine=function(m,e,t,n,i,o,r,s,a){for(var u=a.content,l=a.tokens,c=N(n),d=m.width-c,h=0,p=0,f=0,g=0,v=l.length;g<v;g++)for(var _=l[g],y=_.endIndex,C=_.getForeground(),b=i.getColor(C);p<y;p++){if(h>d)return;var L=u.charCodeAt(p);if(9===L){var S=s-(p+f)%s;f+=S-1,h+=S*c}else 32===L?h+=c:(2===n?o.x2RenderChar(m,h,r,L,b,e,t):1===n?o.x1RenderChar(m,h,r,L,b,e,t):4===n?o.x2BlockRenderChar(m,h,r,b,e,t):o.x1BlockRenderChar(m,h,r,b,e,t),h+=c)}},e}(f.ViewPart);e.Minimap=h,t.registerThemingParticipant(function(l,e){var t=l.getColor(d.scrollbarSliderBackground);if(t){var n=t.transparent(.5);e.addRule(".monaco-editor .minimap-slider, .monaco-editor .minimap-slider .minimap-slider-horizontal { background: "+n+"; }")}var i=l.getColor(d.scrollbarSliderHoverBackground);if(i){var o=i.transparent(.5);e.addRule(".monaco-editor .minimap-slider:hover, .monaco-editor .minimap-slider:hover .minimap-slider-horizontal { background: "+o+"; }")}var r=l.getColor(d.scrollbarSliderActiveBackground);if(r){var s=r.transparent(.5);e.addRule(".monaco-editor .minimap-slider.active, .monaco-editor .minimap-slider.active .minimap-slider-horizontal { background: "+s+"; }")}var a=l.getColor(d.scrollbarShadow);a&&e.addRule(".monaco-editor .minimap-shadow-visible { box-shadow: "+a+" -6px 0 6px -6px inset; }")})}),define(s[494],n([1,0,27,35,14,23,300]),function(a,e,d,t,n,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(o){function e(e){var n=o.call(this,e)||this;return n._scrollTop=0,n._width=0,n._updateWidth(),n._shouldShow=!1,n._useShadows=n._context.configuration.editor.viewInfo.scrollbar.useShadows,n._domNode=d.createFastDomNode(document.createElement("div")),n._domNode.setAttribute("role","presentation"),n._domNode.setAttribute("aria-hidden","true"),n}return Z(e,o),e.prototype.dispose=function(){o.prototype.dispose.call(this)},e.prototype._updateShouldShow=function(){var t=this._useShadows&&0<this._scrollTop;return this._shouldShow!==t&&(this._shouldShow=t,!0)},e.prototype.getDomNode=function(){return this._domNode},e.prototype._updateWidth=function(){var o=this._context.configuration.editor.layoutInfo,e=o.width-o.minimapWidth;return this._width!==e&&(this._width=e,!0)},e.prototype.onConfigurationChanged=function(o){var e=!1;return o.viewInfo&&(this._useShadows=this._context.configuration.editor.viewInfo.scrollbar.useShadows),o.layoutInfo&&(e=this._updateWidth()),this._updateShouldShow()||e},e.prototype.onScrollChanged=function(t){return this._scrollTop=t.scrollTop,this._updateShouldShow()},e.prototype.prepareRender=function(){},e.prototype.render=function(){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")},e}(t.ViewPart);e.ScrollDecorationViewPart=i,n.registerThemingParticipant(function(i,e){var t=i.getColor(o.scrollbarShadow);t&&e.addRule(".monaco-editor .scroll-decoration { box-shadow: "+t+" 0 6px 6px -6px inset; }")})}),define(s[495],n([1,0,14,23,67,28,306]),function(p,e,t,g,n,o){"use strict";function i(t){return new s(t)}function r(t){return new l(t.lineNumber,t.ranges.map(i))}Object.defineProperty(e,"__esModule",{value:!0});var a;!function(t){t[t.EXTERN=0]="EXTERN",t[t.INTERN=1]="INTERN",t[t.FLAT=2]="FLAT"}(a||(a={}));var s=function(){return function(t){this.left=t.left,this.width=t.width,this.startStyle=null,this.endStyle=null}}(),l=function(){return function(o,e){this.lineNumber=o,this.ranges=e}}(),c=o.isEdgeOrIE,d=function(o){function e(e){var i=o.call(this)||this;return i._previousFrameVisibleRangesWithStyle=[],i._context=e,i._lineHeight=i._context.configuration.editor.lineHeight,i._roundedSelection=i._context.configuration.editor.viewInfo.roundedSelection,i._selections=[],i._renderResult=null,i._context.addEventHandler(i),i}return Z(e,o),e.prototype.dispose=function(){this._context.removeEventHandler(this),this._context=null,this._selections=null,this._renderResult=null,o.prototype.dispose.call(this)},e.prototype.onConfigurationChanged=function(t){return t.lineHeight&&(this._lineHeight=this._context.configuration.editor.lineHeight),t.viewInfo&&(this._roundedSelection=this._context.configuration.editor.viewInfo.roundedSelection),!0},e.prototype.onCursorStateChanged=function(t){return this._selections=t.selections.slice(0),!0},e.prototype.onDecorationsChanged=function(){return!0},e.prototype.onFlushed=function(){return!0},e.prototype.onLinesChanged=function(){return!0},e.prototype.onLinesDeleted=function(){return!0},e.prototype.onLinesInserted=function(){return!0},e.prototype.onScrollChanged=function(t){return t.scrollTopChanged},e.prototype.onZonesChanged=function(){return!0},e.prototype._visibleRangesHaveGaps=function(o){for(var e=0,t=o.length;e<t;e++)if(1<o[e].ranges.length)return!0;return!1},e.prototype._enrichVisibleRangesWithStyle=function(_,e){var t=null,y=null;if(e&&0<e.length&&0<_.length){for(var C=_[0].lineNumber,o=0;!t&&o<e.length;o++)e[o].lineNumber===C&&(t=e[o].ranges[0]);for(var r=_[_.length-1].lineNumber,o=e.length-1;!y&&0<=o;o--)e[o].lineNumber===r&&(y=e[o].ranges[0]);t&&!t.startStyle&&(t=null),y&&!y.startStyle&&(y=null)}for(var o=0,s=_.length;o<s;o++){var a=_[o].ranges[0],u=a.left,l=a.left+a.width,c={top:0,bottom:0},d={top:0,bottom:0};if(0<o){var h=_[o-1].ranges[0].left,p=_[o-1].ranges[0].left+_[o-1].ranges[0].width;u===h?c.top=2:u>h&&(c.top=1),l===p?d.top=2:h<l&&l<p&&(d.top=1)}else t&&(c.top=t.startStyle.top,d.top=t.endStyle.top);if(o+1<s){var f=_[o+1].ranges[0].left,g=_[o+1].ranges[0].left+_[o+1].ranges[0].width;u===f?c.bottom=2:f<u&&u<g&&(c.bottom=1),l===g?d.bottom=2:l<g&&(d.bottom=1)}else y&&(c.bottom=y.startStyle.bottom,d.bottom=y.endStyle.bottom);a.startStyle=c,a.endStyle=d}},e.prototype._getVisibleRangesWithStyle=function(a,e,t){var n=(e.linesVisibleRangesForRange(a,!0)||[]).map(r),i=this._visibleRangesHaveGaps(n);return c||i||!this._roundedSelection||this._enrichVisibleRangesWithStyle(n,t),n},e.prototype._createSelectionPiece=function(r,e,t,n,i){return"<div class=\"cslr "+t+"\" style=\"top:"+r.toString()+"px;left:"+n.toString()+"px;width:"+i.toString()+"px;height:"+e+"px;\"></div>"},e.prototype._actualRenderOneSelection=function(t,E,n,i){for(var o=0<i.length&&i[0].ranges[0].startStyle,r=this._lineHeight.toString(),s=(this._lineHeight-1).toString(),a=0<i.length?i[0].lineNumber:0,u=0<i.length?i[i.length-1].lineNumber:0,l=0,c=i.length;l<c;l++){for(var d=i[l],h=d.lineNumber,p=h-E,f=n&&(h===u||h===a)?s:r,g=n&&h===a?1:0,m="",v=0,_=d.ranges.length,y;v<_;v++){if(y=d.ranges[v],o){if(1===y.startStyle.top||1===y.startStyle.bottom){m+=this._createSelectionPiece(g,f,e.SELECTION_CLASS_NAME,y.left-e.ROUNDED_PIECE_WIDTH,e.ROUNDED_PIECE_WIDTH);var C=e.EDITOR_BACKGROUND_CLASS_NAME;1===y.startStyle.top&&(C+=" "+e.SELECTION_TOP_RIGHT),1===y.startStyle.bottom&&(C+=" "+e.SELECTION_BOTTOM_RIGHT),m+=this._createSelectionPiece(g,f,C,y.left-e.ROUNDED_PIECE_WIDTH,e.ROUNDED_PIECE_WIDTH)}if(1===y.endStyle.top||1===y.endStyle.bottom){m+=this._createSelectionPiece(g,f,e.SELECTION_CLASS_NAME,y.left+y.width,e.ROUNDED_PIECE_WIDTH);var b=e.EDITOR_BACKGROUND_CLASS_NAME;1===y.endStyle.top&&(b+=" "+e.SELECTION_TOP_LEFT),1===y.endStyle.bottom&&(b+=" "+e.SELECTION_BOTTOM_LEFT),m+=this._createSelectionPiece(g,f,b,y.left+y.width,e.ROUNDED_PIECE_WIDTH)}}var L=e.SELECTION_CLASS_NAME;o&&(0===y.startStyle.top&&(L+=" "+e.SELECTION_TOP_LEFT),0===y.startStyle.bottom&&(L+=" "+e.SELECTION_BOTTOM_LEFT),0===y.endStyle.top&&(L+=" "+e.SELECTION_TOP_RIGHT),0===y.endStyle.bottom&&(L+=" "+e.SELECTION_BOTTOM_RIGHT)),m+=this._createSelectionPiece(g,f,L,y.left,y.width)}t[p]+=m}},e.prototype.prepareRender=function(d){for(var e=[],t=d.visibleRange.startLineNumber,n=d.visibleRange.endLineNumber,i=t;i<=n;i++)e[i-t]="";for(var o=[],r=0,s=this._selections.length,a;r<s;r++)if(a=this._selections[r],a.isEmpty())o.push(null);else{var p=this._getVisibleRangesWithStyle(a,d,this._previousFrameVisibleRangesWithStyle[r]);o.push(p),this._actualRenderOneSelection(e,t,1<this._selections.length,p)}this._previousFrameVisibleRangesWithStyle=o,this._renderResult=e},e.prototype.render=function(o,e){if(!this._renderResult)return"";var t=e-o;if(0>t||t>=this._renderResult.length)throw new Error("Unexpected render request");return this._renderResult[t]},e.SELECTION_CLASS_NAME="selected-text",e.SELECTION_TOP_LEFT="top-left-radius",e.SELECTION_BOTTOM_LEFT="bottom-left-radius",e.SELECTION_TOP_RIGHT="top-right-radius",e.SELECTION_BOTTOM_RIGHT="bottom-right-radius",e.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background",e.ROUNDED_PIECE_WIDTH=10,e}(n.DynamicViewOverlay);e.SelectionsOverlay=d,t.registerThemingParticipant(function(i,e){var t=i.getColor(g.editorSelectionBackground);t&&e.addRule(".monaco-editor .focused .selected-text { background-color: "+t+"; }");var n=i.getColor(g.editorInactiveSelection);n&&e.addRule(".monaco-editor .selected-text { background-color: "+n+"; }");var o=i.getColor(g.editorSelectionForeground);o&&e.addRule(".monaco-editor .view-line span.inline-selected-text { color: "+o+"; }")})}),define(s[37],n([1,0,340,23,14,32]),function(a,d,e,t,n,o){"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.editorLineHighlight=t.registerColor("editor.lineHighlightBackground",{dark:null,light:null,hc:null},e.localize(0,null)),d.editorLineHighlightBorder=t.registerColor("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hc:"#f38518"},e.localize(1,null)),d.editorRangeHighlight=t.registerColor("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hc:null},e.localize(2,null)),d.editorCursorForeground=t.registerColor("editorCursor.foreground",{dark:"#AEAFAD",light:o.Color.black,hc:o.Color.white},e.localize(3,null)),d.editorCursorBackground=t.registerColor("editorCursor.background",null,e.localize(4,null)),d.editorWhitespaces=t.registerColor("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hc:"#e3e4e229"},e.localize(5,null)),d.editorIndentGuides=t.registerColor("editorIndentGuide.background",{dark:d.editorWhitespaces,light:d.editorWhitespaces,hc:d.editorWhitespaces},e.localize(6,null)),d.editorLineNumbers=t.registerColor("editorLineNumber.foreground",{dark:"#5A5A5A",light:"#2B91AF",hc:o.Color.white},e.localize(7,null)),d.editorRuler=t.registerColor("editorRuler.foreground",{dark:"#5A5A5A",light:o.Color.lightgrey,hc:o.Color.white},e.localize(8,null)),d.editorCodeLensForeground=t.registerColor("editorCodeLens.foreground",{dark:"#999999",light:"#999999",hc:"#999999"},e.localize(9,null)),d.editorBracketMatchBackground=t.registerColor("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hc:"#0064001a"},e.localize(10,null)),d.editorBracketMatchBorder=t.registerColor("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hc:"#fff"},e.localize(11,null)),d.editorOverviewRulerBorder=t.registerColor("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hc:"#7f7f7f4d"},e.localize(12,null)),d.editorGutter=t.registerColor("editorGutter.background",{dark:t.editorBackground,light:t.editorBackground,hc:t.editorBackground},e.localize(13,null)),d.editorErrorForeground=t.registerColor("editorError.foreground",{dark:"#FF0000",light:"#FF0000",hc:null},e.localize(14,null)),d.editorErrorBorder=t.registerColor("editorError.border",{dark:null,light:null,hc:o.Color.fromHex("#E47777").transparent(.8)},e.localize(15,null)),d.editorWarningForeground=t.registerColor("editorWarning.foreground",{dark:"#008000",light:"#008000",hc:null},e.localize(16,null)),d.editorWarningBorder=t.registerColor("editorWarning.border",{dark:null,light:null,hc:o.Color.fromHex("#71B771").transparent(.8)},e.localize(17,null)),n.registerThemingParticipant(function(i,e){var n=i.getColor(t.editorBackground);n&&e.addRule(".monaco-editor, .monaco-editor-background, .monaco-editor .inputarea.ime-input { background-color: "+n+"; }");var o=i.getColor(t.editorForeground);o&&e.addRule(".monaco-editor, .monaco-editor .inputarea.ime-input { color: "+o+"; }");var r=i.getColor(d.editorGutter);r&&e.addRule(".monaco-editor .margin { background-color: "+r+"; }");var s=i.getColor(d.editorRangeHighlight);s&&e.addRule(".monaco-editor .rangeHighlight { background-color: "+s+"; }");var a=i.getColor(t.activeContrastBorder);a&&e.addRule(".monaco-editor .rangeHighlight { border: 1px dotted "+a+"; }; }");var p=i.getColor(d.editorWhitespaces);p&&e.addRule(".vs-whitespace { color: "+p+" !important; }")})}),define(s[497],n([1,0,67,14,37,274]),function(a,e,t,n,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(o){function e(e){var i=o.call(this)||this;return i._context=e,i._lineHeight=i._context.configuration.editor.lineHeight,i._readOnly=i._context.configuration.editor.readOnly,i._renderLineHighlight=i._context.configuration.editor.viewInfo.renderLineHighlight,i._selectionIsEmpty=!0,i._primaryCursorIsInEditableRange=!0,i._primaryCursorLineNumber=1,i._scrollWidth=0,i._contentWidth=i._context.configuration.editor.layoutInfo.contentWidth,i._context.addEventHandler(i),i}return Z(e,o),e.prototype.dispose=function(){this._context.removeEventHandler(this),this._context=null,o.prototype.dispose.call(this)},e.prototype.onConfigurationChanged=function(t){return t.lineHeight&&(this._lineHeight=this._context.configuration.editor.lineHeight),t.readOnly&&(this._readOnly=this._context.configuration.editor.readOnly),t.viewInfo&&(this._renderLineHighlight=this._context.configuration.editor.viewInfo.renderLineHighlight),t.layoutInfo&&(this._contentWidth=this._context.configuration.editor.layoutInfo.contentWidth),!0},e.prototype.onCursorStateChanged=function(o){var e=!1;this._primaryCursorIsInEditableRange!==o.isInEditableRange&&(this._primaryCursorIsInEditableRange=o.isInEditableRange,e=!0);var t=o.selections[0].positionLineNumber;this._primaryCursorLineNumber!==t&&(this._primaryCursorLineNumber=t,e=!0);var n=o.selections[0].isEmpty();return this._selectionIsEmpty===n?e:(this._selectionIsEmpty=n,e=!0,!0)},e.prototype.onFlushed=function(){return!0},e.prototype.onLinesDeleted=function(){return!0},e.prototype.onLinesInserted=function(){return!0},e.prototype.onScrollChanged=function(t){return t.scrollWidthChanged},e.prototype.onZonesChanged=function(){return!0},e.prototype.prepareRender=function(t){this._scrollWidth=t.scrollWidth},e.prototype.render=function(o,e){return e===this._primaryCursorLineNumber&&this._shouldShowCurrentLine()?"<div class=\"current-line\" style=\"width:"+(G(this._scrollWidth,this._contentWidth)+"")+"px; height:"+(this._lineHeight+"")+"px;\"></div>":""},e.prototype._shouldShowCurrentLine=function(){return("line"===this._renderLineHighlight||"all"===this._renderLineHighlight)&&this._selectionIsEmpty&&this._primaryCursorIsInEditableRange},e}(t.DynamicViewOverlay);e.CurrentLineHighlightOverlay=o,n.registerThemingParticipant(function(o,e){var t=o.getColor(s.editorLineHighlight);if(t&&e.addRule(".monaco-editor .view-overlays .current-line { background-color: "+t+"; }"),!t||t.isTransparent()||o.defines(s.editorLineHighlightBorder)){var r=o.getColor(s.editorLineHighlightBorder);r&&(e.addRule(".monaco-editor .view-overlays .current-line { border: 2px solid "+r+"; }"),"hc"===o.type&&e.addRule(".monaco-editor .view-overlays .current-line { border-width: 1px; }"))}})}),define(s[498],n([1,0,67,14,37,277]),function(a,e,t,n,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(o){function e(e){var i=o.call(this)||this;return i._context=e,i._lineHeight=i._context.configuration.editor.lineHeight,i._renderLineHighlight=i._context.configuration.editor.viewInfo.renderLineHighlight,i._primaryCursorIsInEditableRange=!0,i._primaryCursorLineNumber=1,i._contentLeft=i._context.configuration.editor.layoutInfo.contentLeft,i._context.addEventHandler(i),i}return Z(e,o),e.prototype.dispose=function(){this._context.removeEventHandler(this),this._context=null,o.prototype.dispose.call(this)},e.prototype.onConfigurationChanged=function(t){return t.lineHeight&&(this._lineHeight=this._context.configuration.editor.lineHeight),t.viewInfo&&(this._renderLineHighlight=this._context.configuration.editor.viewInfo.renderLineHighlight),t.layoutInfo&&(this._contentLeft=this._context.configuration.editor.layoutInfo.contentLeft),!0},e.prototype.onCursorStateChanged=function(o){var e=!1;this._primaryCursorIsInEditableRange!==o.isInEditableRange&&(this._primaryCursorIsInEditableRange=o.isInEditableRange,e=!0);var t=o.selections[0].positionLineNumber;return this._primaryCursorLineNumber!==t&&(this._primaryCursorLineNumber=t,e=!0),e},e.prototype.onFlushed=function(){return!0},e.prototype.onLinesDeleted=function(){return!0},e.prototype.onLinesInserted=function(){return!0},e.prototype.onZonesChanged=function(){return!0},e.prototype.prepareRender=function(){},e.prototype.render=function(o,e){return e===this._primaryCursorLineNumber&&this._shouldShowCurrentLine()?"<div class=\"current-line-margin\" style=\"width:"+(this._contentLeft+"")+"px; height:"+(this._lineHeight+"")+"px;\"></div>":""},e.prototype._shouldShowCurrentLine=function(){return("gutter"===this._renderLineHighlight||"all"===this._renderLineHighlight)&&this._primaryCursorIsInEditableRange},e}(t.DynamicViewOverlay);e.CurrentLineMarginHighlightOverlay=o,n.registerThemingParticipant(function(o,e){var t=o.getColor(s.editorLineHighlight);if(t)e.addRule(".monaco-editor .margin-view-overlays .current-line-margin { background-color: "+t+"; border: none; }");else{var n=o.getColor(s.editorLineHighlightBorder);n&&e.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border: 2px solid "+n+"; }"),"hc"===o.type&&e.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border-width: 1px; }")}})}),define(s[499],n([1,0,67,14,37,4,12,280]),function(d,e,t,n,i,m,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(o){function e(e){var i=o.call(this)||this;return i._context=e,i._lineHeight=i._context.configuration.editor.lineHeight,i._spaceWidth=i._context.configuration.editor.fontInfo.spaceWidth,i._enabled=i._context.configuration.editor.viewInfo.renderIndentGuides,i._renderResult=null,i._context.addEventHandler(i),i}return Z(e,o),e.prototype.dispose=function(){this._context.removeEventHandler(this),this._context=null,this._renderResult=null,o.prototype.dispose.call(this)},e.prototype.onConfigurationChanged=function(t){return t.lineHeight&&(this._lineHeight=this._context.configuration.editor.lineHeight),t.fontInfo&&(this._spaceWidth=this._context.configuration.editor.fontInfo.spaceWidth),t.viewInfo&&(this._enabled=this._context.configuration.editor.viewInfo.renderIndentGuides),!0},e.prototype.onDecorationsChanged=function(){return!0},e.prototype.onFlushed=function(){return!0},e.prototype.onLinesChanged=function(){return!0},e.prototype.onLinesDeleted=function(){return!0},e.prototype.onLinesInserted=function(){return!0},e.prototype.onScrollChanged=function(t){return t.scrollTopChanged},e.prototype.onZonesChanged=function(){return!0},e.prototype.prepareRender=function(s){if(this._enabled){for(var e=s.visibleRange.startLineNumber,t=s.visibleRange.endLineNumber,n=this._context.model.getTabSize()*this._spaceWidth,i=this._lineHeight,o=m.computeScreenAwareSize(1),a=[],u=e;u<=t;u++){for(var l=u-e,c=this._context.model.getLineIndentGuide(u),d="",h=s.visibleRangeForPosition(new r.Position(u,1)),p=h?h.left:0,_=0;_<c;_++)d+="<div class=\"cigr\" style=\"left:"+p+"px;height:"+i+"px;width:"+o+"px\"></div>",p+=n;a[l]=d}this._renderResult=a}else this._renderResult=null},e.prototype.render=function(o,e){if(!this._renderResult)return"";var t=e-o;if(0>t||t>=this._renderResult.length)throw new Error("Unexpected render request");return this._renderResult[t]},e}(t.DynamicViewOverlay);e.IndentGuidesOverlay=o,n.registerThemingParticipant(function(o,e){var t=o.getColor(i.editorIndentGuides);t&&e.addRule(".monaco-editor .lines-content .cigr { background-color: "+t+"; }")})}),define(s[188],n([1,0,37,14,15,67,12,283]),function(d,e,l,t,p,o,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(o){function d(e){var i=o.call(this)||this;return i._context=e,i._readConfig(),i._lastCursorModelPosition=new r.Position(1,1),i._renderResult=null,i._context.addEventHandler(i),i}return Z(d,o),d.prototype._readConfig=function(){var t=this._context.configuration.editor;this._lineHeight=t.lineHeight,this._renderLineNumbers=t.viewInfo.renderLineNumbers,this._renderCustomLineNumbers=t.viewInfo.renderCustomLineNumbers,this._renderRelativeLineNumbers=t.viewInfo.renderRelativeLineNumbers,this._lineNumbersLeft=t.layoutInfo.lineNumbersLeft,this._lineNumbersWidth=t.layoutInfo.lineNumbersWidth},d.prototype.dispose=function(){this._context.removeEventHandler(this),this._context=null,this._renderResult=null,o.prototype.dispose.call(this)},d.prototype.onConfigurationChanged=function(){return this._readConfig(),!0},d.prototype.onCursorStateChanged=function(o){var e=o.selections[0].getPosition();return this._lastCursorModelPosition=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(e),!!this._renderRelativeLineNumbers},d.prototype.onFlushed=function(){return!0},d.prototype.onLinesChanged=function(){return!0},d.prototype.onLinesDeleted=function(){return!0},d.prototype.onLinesInserted=function(){return!0},d.prototype.onScrollChanged=function(t){return t.scrollTopChanged},d.prototype.onZonesChanged=function(){return!0},d.prototype._getLineRenderLineNumber=function(o){var e=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new r.Position(o,1));if(1!==e.column)return"";var t=e.lineNumber;if(this._renderCustomLineNumbers)return this._renderCustomLineNumbers(t);if(this._renderRelativeLineNumbers){var n=I(this._lastCursorModelPosition.lineNumber-t);return 0===n?"<span class=\"relative-current-line-number\">"+t+"</span>":n+""}return t+""},d.prototype.prepareRender=function(t){if(this._renderLineNumbers){for(var e=p.isLinux?0==this._lineHeight%2?" lh-even":" lh-odd":"",o=t.visibleRange.startLineNumber,n=t.visibleRange.endLineNumber,i="<div class=\""+d.CLASS_NAME+e+"\" style=\"left:"+this._lineNumbersLeft.toString()+"px;width:"+this._lineNumbersWidth.toString()+"px;\">",r=[],a=o;a<=n;a++){var s=a-o,l=this._getLineRenderLineNumber(a);r[s]=l?i+l+"</div>":""}this._renderResult=r}else this._renderResult=null},d.prototype.render=function(o,e){if(!this._renderResult)return"";var t=e-o;if(0>t||t>=this._renderResult.length)throw new Error("Unexpected render request");return this._renderResult[t]},d.CLASS_NAME="line-numbers",d}(o.DynamicViewOverlay);e.LineNumbersOverlay=n,t.registerThemingParticipant(function(o,e){var t=o.getColor(l.editorLineNumbers);t&&e.addRule(".monaco-editor .line-numbers { color: "+t+"; }")})}),define(s[501],n([1,0,15,28,154,151,2,22,12,66,57,27,35,182,188,270]),function(f,e,t,S,i,o,r,s,n,a,u,c,d,l,p){"use strict";function g(i,e){var t=document.createElement("canvas").getContext("2d");t.font=m(e);var n=t.measureText(i);return S.isFirefox?n.width+2:n.width}function m(t){return h("normal",t.fontWeight,t.fontSize,t.lineHeight,t.fontFamily)}function h(r,e,t,n,i){return r+" normal "+e+" "+t+"px / "+n+"px "+i}Object.defineProperty(e,"__esModule",{value:!0});var _=function(){function o(o,i,t){this.top=o,this.left=i,this.width=t}return o.prototype.setWidth=function(e){return new o(this.top,this.left,e)},o}(),y=S.isEdgeOrIE||S.isFirefox,C=function(m){function e(e,a,n){var h=m.call(this,e)||this;h._primaryCursorVisibleRange=null,h._viewController=a,h._viewHelper=n;var l=h._context.configuration.editor;h._pixelRatio=l.pixelRatio,h._accessibilitySupport=l.accessibilitySupport,h._contentLeft=l.layoutInfo.contentLeft,h._contentWidth=l.layoutInfo.contentWidth,h._contentHeight=l.layoutInfo.contentHeight,h._scrollLeft=0,h._scrollTop=0,h._fontInfo=l.fontInfo,h._lineHeight=l.lineHeight,h._emptySelectionClipboard=l.emptySelectionClipboard,h._visibleTextArea=null,h._selections=[new s.Selection(1,1,1,1)],h._lastCopiedValue=null,h._lastCopiedValueIsFromEmptySelection=!1,h.textArea=c.createFastDomNode(document.createElement("textarea")),d.PartFingerprints.write(h.textArea,6),h.textArea.setClassName("inputarea"),h.textArea.setAttribute("wrap","off"),h.textArea.setAttribute("autocorrect","off"),h.textArea.setAttribute("autocapitalize","off"),h.textArea.setAttribute("autocomplete","off"),h.textArea.setAttribute("spellcheck","false"),h.textArea.setAttribute("aria-label",l.viewInfo.ariaLabel),h.textArea.setAttribute("role","textbox"),h.textArea.setAttribute("aria-multiline","true"),h.textArea.setAttribute("aria-haspopup","false"),h.textArea.setAttribute("aria-autocomplete","both"),h.textAreaCover=c.createFastDomNode(document.createElement("div")),h.textAreaCover.setPosition("absolute");var p={getLineCount:function(){return h._context.model.getLineCount()},getLineMaxColumn:function(t){return h._context.model.getLineMaxColumn(t)},getValueInRange:function(o,e){return h._context.model.getValueInRange(o,e)}};return h._textAreaInput=h._register(new i.TextAreaInput({getPlainTextToCopy:function(){var o=h._context.model.getPlainTextToCopy(h._selections,h._emptySelectionClipboard);if(h._emptySelectionClipboard){h._lastCopiedValue=S.isFirefox?o.replace(/\r\n/g,"\n"):o;var e=h._selections;h._lastCopiedValueIsFromEmptySelection=1===e.length&&e[0].isEmpty()}return o},getHTMLToCopy:function(){return h._context.model.getHTMLToCopy(h._selections,h._emptySelectionClipboard)},getScreenReaderContent:function(t){return S.isIPad?o.TextAreaState.EMPTY:1===h._accessibilitySupport?o.TextAreaState.EMPTY:o.PagedScreenReaderStrategy.fromEditorSelection(t,p,h._selections[0])}},h.textArea)),h._register(h._textAreaInput.onKeyDown(function(t){h._viewController.emitKeyDown(t)})),h._register(h._textAreaInput.onKeyUp(function(t){h._viewController.emitKeyUp(t)})),h._register(h._textAreaInput.onPaste(function(o){var e=!1;h._emptySelectionClipboard&&(e=o.text===h._lastCopiedValue&&h._lastCopiedValueIsFromEmptySelection),h._viewController.paste("keyboard",o.text,e)})),h._register(h._textAreaInput.onCut(function(){h._viewController.cut("keyboard")})),h._register(h._textAreaInput.onType(function(t){t.replaceCharCnt?h._viewController.replacePreviousChar("keyboard",t.text,t.replaceCharCnt):h._viewController.type("keyboard",t.text)})),h._register(h._textAreaInput.onCompositionStart(function(){var o=h._selections[0].startLineNumber,e=h._selections[0].startColumn;h._context.privateViewEventBus.emit(new u.ViewRevealRangeRequestEvent(new r.Range(o,e,o,e),0,!0));var t=h._viewHelper.visibleRangeForPositionRelativeToEditor(o,e);t&&(h._visibleTextArea=new _(h._context.viewLayout.getVerticalOffsetForLineNumber(o),t.left,y?0:1),h._render()),h.textArea.setClassName("inputarea ime-input"),h._viewController.compositionStart("keyboard")})),h._register(h._textAreaInput.onCompositionUpdate(function(t){h._visibleTextArea=S.isEdgeOrIE?h._visibleTextArea.setWidth(0):h._visibleTextArea.setWidth(g(t.data,h._fontInfo)),h._render()})),h._register(h._textAreaInput.onCompositionEnd(function(){h._visibleTextArea=null,h._render(),h.textArea.setClassName("inputarea"),h._viewController.compositionEnd("keyboard")})),h._register(h._textAreaInput.onFocus(function(){h._context.privateViewEventBus.emit(new u.ViewFocusChangedEvent(!0))})),h._register(h._textAreaInput.onBlur(function(){h._context.privateViewEventBus.emit(new u.ViewFocusChangedEvent(!1))})),h}return Z(e,m),e.prototype.dispose=function(){m.prototype.dispose.call(this)},e.prototype.onConfigurationChanged=function(o){var e=this._context.configuration.editor;return o.fontInfo&&(this._fontInfo=e.fontInfo),o.viewInfo&&this.textArea.setAttribute("aria-label",e.viewInfo.ariaLabel),o.layoutInfo&&(this._contentLeft=e.layoutInfo.contentLeft,this._contentWidth=e.layoutInfo.contentWidth,this._contentHeight=e.layoutInfo.contentHeight),o.lineHeight&&(this._lineHeight=e.lineHeight),o.pixelRatio&&(this._pixelRatio=e.pixelRatio),o.accessibilitySupport&&(this._accessibilitySupport=e.accessibilitySupport,this._textAreaInput.writeScreenReaderContent("strategy changed")),o.emptySelectionClipboard&&(this._emptySelectionClipboard=e.emptySelectionClipboard),!0},e.prototype.onCursorStateChanged=function(t){return this._selections=t.selections.slice(0),this._textAreaInput.writeScreenReaderContent("selection changed"),!0},e.prototype.onDecorationsChanged=function(){return!0},e.prototype.onFlushed=function(){return!0},e.prototype.onLinesChanged=function(){return!0},e.prototype.onLinesDeleted=function(){return!0},e.prototype.onLinesInserted=function(){return!0},e.prototype.onScrollChanged=function(t){return this._scrollLeft=t.scrollLeft,this._scrollTop=t.scrollTop,!0},e.prototype.onZonesChanged=function(){return!0},e.prototype.isFocused=function(){return this._textAreaInput.isFocused()},e.prototype.focusTextArea=function(){this._textAreaInput.focusTextArea()},e.prototype.setAriaActiveDescendant=function(t){t?(this.textArea.setAttribute("role","combobox"),this.textArea.getAttribute("aria-activedescendant")!==t&&(this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-activedescendant",t))):(this.textArea.setAttribute("role","textbox"),this.textArea.removeAttribute("aria-activedescendant"),this.textArea.removeAttribute("aria-haspopup"))},e.prototype.prepareRender=function(o){if(2===this._accessibilitySupport)this._primaryCursorVisibleRange=null;else{var e=new n.Position(this._selections[0].positionLineNumber,this._selections[0].positionColumn);this._primaryCursorVisibleRange=o.visibleRangeForPosition(e)}},e.prototype.render=function(){this._textAreaInput.writeScreenReaderContent("render"),this._render()},e.prototype._render=function(){if(this._visibleTextArea)this._renderInsideEditor(this._visibleTextArea.top-this._scrollTop,this._contentLeft+this._visibleTextArea.left-this._scrollLeft,this._visibleTextArea.width,this._lineHeight,!0);else if(this._primaryCursorVisibleRange){var o=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(o<this._contentLeft||o>this._contentLeft+this._contentWidth)this._renderAtTopLeft();else{var e=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;0>e||e>this._contentHeight?this._renderAtTopLeft():this._renderInsideEditor(e,o,y?0:1,y?0:1,!1)}}else this._renderAtTopLeft()},e.prototype._renderInsideEditor=function(d,e,t,n,i){var o=this.textArea,r=this.textAreaCover;i?a.Configuration.applyFontInfo(o,this._fontInfo):(o.setFontSize(1),o.setLineHeight(this._fontInfo.lineHeight)),o.setTop(d),o.setLeft(e),o.setWidth(t),o.setHeight(n),r.setTop(0),r.setLeft(0),r.setWidth(0),r.setHeight(0)},e.prototype._renderAtTopLeft=function(){var o=this.textArea,e=this.textAreaCover;return(a.Configuration.applyFontInfo(o,this._fontInfo),o.setTop(0),o.setLeft(0),e.setTop(0),e.setLeft(0),y)?(o.setWidth(0),o.setHeight(0),e.setWidth(0),void e.setHeight(0)):void(o.setWidth(1),o.setHeight(1),e.setWidth(1),e.setHeight(1),this._context.configuration.editor.viewInfo.glyphMargin?e.setClassName("monaco-editor-background textAreaCover "+l.Margin.CLASS_NAME):this._context.configuration.editor.viewInfo.renderLineNumbers?e.setClassName("monaco-editor-background textAreaCover "+p.LineNumbersOverlay.CLASS_NAME):e.setClassName("monaco-editor-background textAreaCover"))},e}(d.ViewPart);e.TextAreaHandler=C}),define(s[502],n([1,0,27,35,14,37,4,299]),function(d,e,l,t,n,o,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(o){function e(e){var n=o.call(this,e)||this;return n.domNode=l.createFastDomNode(document.createElement("div")),n.domNode.setAttribute("role","presentation"),n.domNode.setAttribute("aria-hidden","true"),n.domNode.setClassName("view-rulers"),n._renderedRulers=[],n._rulers=n._context.configuration.editor.viewInfo.rulers,n._height=n._context.configuration.editor.layoutInfo.contentHeight,n._typicalHalfwidthCharacterWidth=n._context.configuration.editor.fontInfo.typicalHalfwidthCharacterWidth,n}return Z(e,o),e.prototype.dispose=function(){o.prototype.dispose.call(this)},e.prototype.onConfigurationChanged=function(t){return!!(t.viewInfo||t.layoutInfo||t.fontInfo)&&(this._rulers=this._context.configuration.editor.viewInfo.rulers,this._height=this._context.configuration.editor.layoutInfo.contentHeight,this._typicalHalfwidthCharacterWidth=this._context.configuration.editor.fontInfo.typicalHalfwidthCharacterWidth,!0)},e.prototype.onScrollChanged=function(t){return t.scrollHeightChanged},e.prototype.prepareRender=function(){},e.prototype._ensureRulersCount=function(){var n=this._renderedRulers.length,e=this._rulers.length;if(n!==e)if(n<e)for(var t=r.computeScreenAwareSize(1),i=e-n;0<i;)(s=l.createFastDomNode(document.createElement("div"))).setClassName("view-ruler"),s.setWidth(t),this.domNode.appendChild(s),this._renderedRulers.push(s),i--;else for(var o=n-e,s;0<o;)s=this._renderedRulers.pop(),this.domNode.removeChild(s),o--},e.prototype.render=function(o){this._ensureRulersCount();for(var e=0,t=this._rulers.length,n;e<t;e++)n=this._renderedRulers[e],n.setHeight(q(o.scrollHeight,1e6)),n.setLeft(this._rulers[e]*this._typicalHalfwidthCharacterWidth)},e}(t.ViewPart);e.Rulers=i,n.registerThemingParticipant(function(i,e){var t=i.getColor(o.editorRuler);t&&e.addRule(".monaco-editor .view-ruler { background-color: "+t+"; }")})}),define(s[503],n([1,0,35,444,27,18,14,37,49,307]),function(d,e,t,p,i,o,n,r,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=function(r){function s(e){var a=r.call(this,e)||this;return a._readOnly=a._context.configuration.editor.readOnly,a._cursorBlinking=a._context.configuration.editor.viewInfo.cursorBlinking,a._cursorStyle=a._context.configuration.editor.viewInfo.cursorStyle,a._selectionIsEmpty=!0,a._primaryCursor=new p.ViewCursor(a._context,!1),a._secondaryCursors=[],a._renderData=[],a._domNode=i.createFastDomNode(document.createElement("div")),a._domNode.setAttribute("role","presentation"),a._domNode.setAttribute("aria-hidden","true"),a._updateDomClassName(),a._domNode.appendChild(a._primaryCursor.getDomNode()),a._startCursorBlinkAnimation=new o.TimeoutTimer,a._cursorFlatBlinkInterval=new o.IntervalTimer,a._blinkingEnabled=!1,a._editorHasFocus=!1,a._updateBlinking(),a}return Z(s,r),s.prototype.dispose=function(){r.prototype.dispose.call(this),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()},s.prototype.getDomNode=function(){return this._domNode},s.prototype.onConfigurationChanged=function(o){o.readOnly&&(this._readOnly=this._context.configuration.editor.readOnly),o.viewInfo&&(this._cursorBlinking=this._context.configuration.editor.viewInfo.cursorBlinking,this._cursorStyle=this._context.configuration.editor.viewInfo.cursorStyle),this._primaryCursor.onConfigurationChanged(o),this._updateBlinking(),o.viewInfo&&this._updateDomClassName();for(var e=0,t=this._secondaryCursors.length;e<t;e++)this._secondaryCursors[e].onConfigurationChanged(o);return!0},s.prototype._onCursorPositionChanged=function(i,e,t){if(this._primaryCursor.onCursorPositionChanged(i,t),this._updateBlinking(),this._secondaryCursors.length<e.length)for(var n=e.length-this._secondaryCursors.length,o=0,r;o<n;o++)r=new p.ViewCursor(this._context,!0),this._domNode.domNode.insertBefore(r.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(r);else if(this._secondaryCursors.length>e.length)for(var s=this._secondaryCursors.length-e.length,o=0;o<s;o++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1);for(o=0;o<e.length;o++)this._secondaryCursors[o].onCursorPositionChanged(e[o],t)},s.prototype.onCursorStateChanged=function(r){for(var e=[],t=0,n=r.selections.length;t<n;t++)e[t]=r.selections[t].getPosition();this._onCursorPositionChanged(e[0],e.slice(1),r.isInEditableRange);var i=r.selections[0].isEmpty();return this._selectionIsEmpty!==i&&(this._selectionIsEmpty=i,this._updateDomClassName()),!0},s.prototype.onDecorationsChanged=function(){return!0},s.prototype.onFlushed=function(){return!0},s.prototype.onFocusChanged=function(t){return this._editorHasFocus=t.isFocused,this._updateBlinking(),!1},s.prototype.onLinesChanged=function(){return!0},s.prototype.onLinesDeleted=function(){return!0},s.prototype.onLinesInserted=function(){return!0},s.prototype.onScrollChanged=function(){return!0},s.prototype.onTokensChanged=function(o){var e=function(e){for(var t=0,n=o.ranges.length;t<n;t++)if(o.ranges[t].fromLineNumber<=e.lineNumber&&e.lineNumber<=o.ranges[t].toLineNumber)return!0;return!1};if(e(this._primaryCursor.getPosition()))return!0;for(var t=0;t<this._secondaryCursors.length;t++)if(e(this._secondaryCursors[t].getPosition()))return!0;return!1},s.prototype.onZonesChanged=function(){return!0},s.prototype.getPosition=function(){return this._primaryCursor.getPosition()},s.prototype._getCursorBlinking=function(){return this._editorHasFocus?this._readOnly||!this._primaryCursor.getIsInEditableRange()?a.TextEditorCursorBlinkingStyle.Solid:this._cursorBlinking:a.TextEditorCursorBlinkingStyle.Hidden},s.prototype._updateBlinking=function(){var t=this;this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();var e=this._getCursorBlinking(),n=e===a.TextEditorCursorBlinkingStyle.Hidden,i=e===a.TextEditorCursorBlinkingStyle.Solid;n?this._hide():this._show(),this._blinkingEnabled=!1,this._updateDomClassName(),n||i||(e===a.TextEditorCursorBlinkingStyle.Blink?this._cursorFlatBlinkInterval.cancelAndSet(function(){t._isVisible?t._hide():t._show()},s.BLINK_INTERVAL):this._startCursorBlinkAnimation.setIfNotSet(function(){t._blinkingEnabled=!0,t._updateDomClassName()},s.BLINK_INTERVAL))},s.prototype._updateDomClassName=function(){this._domNode.setClassName(this._getClassName())},s.prototype._getClassName=function(){var t="cursors-layer";switch(this._selectionIsEmpty||(t+=" has-selection"),this._cursorStyle){case a.TextEditorCursorStyle.Line:t+=" cursor-line-style";break;case a.TextEditorCursorStyle.Block:t+=" cursor-block-style";break;case a.TextEditorCursorStyle.Underline:t+=" cursor-underline-style";break;case a.TextEditorCursorStyle.LineThin:t+=" cursor-line-thin-style";break;case a.TextEditorCursorStyle.BlockOutline:t+=" cursor-block-outline-style";break;case a.TextEditorCursorStyle.UnderlineThin:t+=" cursor-underline-thin-style";break;default:t+=" cursor-line-style";}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case a.TextEditorCursorBlinkingStyle.Blink:t+=" cursor-blink";break;case a.TextEditorCursorBlinkingStyle.Smooth:t+=" cursor-smooth";break;case a.TextEditorCursorBlinkingStyle.Phase:t+=" cursor-phase";break;case a.TextEditorCursorBlinkingStyle.Expand:t+=" cursor-expand";break;case a.TextEditorCursorBlinkingStyle.Solid:t+=" cursor-solid";break;default:t+=" cursor-solid";}else t+=" cursor-solid";return t},s.prototype._show=function(){this._primaryCursor.show();for(var o=0,e=this._secondaryCursors.length;o<e;o++)this._secondaryCursors[o].show();this._isVisible=!0},s.prototype._hide=function(){this._primaryCursor.hide();for(var o=0,e=this._secondaryCursors.length;o<e;o++)this._secondaryCursors[o].hide();this._isVisible=!1},s.prototype.prepareRender=function(o){this._primaryCursor.prepareRender(o);for(var e=0,t=this._secondaryCursors.length;e<t;e++)this._secondaryCursors[e].prepareRender(o)},s.prototype.render=function(o){this._renderData=[],this._renderData.push(this._primaryCursor.render(o));for(var e=0,t=this._secondaryCursors.length;e<t;e++)this._renderData.push(this._secondaryCursors[e].render(o));this._renderData=this._renderData.filter(function(t){return!!t})},s.prototype.getLastRenderData=function(){return this._renderData},s.BLINK_INTERVAL=500,s}(t.ViewPart);e.ViewCursors=s,n.registerThemingParticipant(function(o,e){var t=o.getColor(r.editorCursorForeground);if(t){var n=o.getColor(r.editorCursorBackground);n||(n=t.opposite()),e.addRule(".monaco-editor .cursor { background-color: "+t+"; border-color: "+t+"; color: "+n+"; }"),"hc"===o.type&&e.addRule(".monaco-editor .cursors-layer.has-selection .cursor { border-left: 1px solid "+n+"; border-right: 1px solid "+n+"; }")}})}),define(s[504],n([1,0,303,3,4,27,106,90,66,12,14,23,63,37,75,53,13,19,42,309]),function(f,e,D,t,n,o,r,s,T,a,i,l,d,c,p,u,g,m,h){"use strict";function _(r){for(var e=r.get(h.ICodeEditorService).listDiffEditors(),t=0,n=e.length,i;t<n;t++)if(i=e[t],i.hasWidgetFocus())return i;return null}Object.defineProperty(e,"__esModule",{value:!0});var y;!function(t){t[t.Equal=0]="Equal",t[t.Insert=1]="Insert",t[t.Delete=2]="Delete"}(y||(y={}));var W=function(){function t(o,r,t,n){this.originalLineStart=o,this.originalLineEnd=r,this.modifiedLineStart=t,this.modifiedLineEnd=n}return t.prototype.getType=function(){return 0===this.originalLineStart?1:0===this.modifiedLineStart?2:0},t}(),S=function(){return function(t){this.entries=t}}(),C=function(l){function c(e){var r=l.call(this)||this;return r._width=0,r._diffEditor=e,r._isVisible=!1,r.shadow=o.createFastDomNode(document.createElement("div")),r.shadow.setClassName("diff-review-shadow"),r.actionBarContainer=o.createFastDomNode(document.createElement("div")),r.actionBarContainer.setClassName("diff-review-actions"),r._actionBar=r._register(new p.ActionBar(r.actionBarContainer.domNode)),r._actionBar.push(new u.Action("diffreview.close",D.localize(0,null),"close-diff-review",!0,function(){return r.hide(),null}),{label:!1,icon:!0}),r.domNode=o.createFastDomNode(document.createElement("div")),r.domNode.setClassName("diff-review monaco-editor-background"),r._content=o.createFastDomNode(document.createElement("div")),r._content.setClassName("diff-review-content"),r.scrollbar=r._register(new d.DomScrollableElement(r._content.domNode,{})),r.domNode.domNode.appendChild(r.scrollbar.getDomNode()),r._register(e.onDidUpdateDiff(function(){r._isVisible&&(r._diffs=r._compute(),r._render())})),r._register(e.getModifiedEditor().onDidChangeCursorPosition(function(){r._isVisible&&r._render()})),r._register(e.getOriginalEditor().onDidFocusEditor(function(){r._isVisible&&r.hide()})),r._register(e.getModifiedEditor().onDidFocusEditor(function(){r._isVisible&&r.hide()})),r._register(n.addStandardDisposableListener(r.domNode.domNode,"click",function(o){o.preventDefault();var e=n.findParentWithClass(o.target,"diff-review-row");e&&r._goToRow(e)})),r._register(n.addStandardDisposableListener(r.domNode.domNode,"keydown",function(t){(t.equals(18)||t.equals(2066)||t.equals(530))&&(t.preventDefault(),r._goToRow(r._getNextRow())),(t.equals(16)||t.equals(2064)||t.equals(528))&&(t.preventDefault(),r._goToRow(r._getPrevRow())),(t.equals(9)||t.equals(2057)||t.equals(521)||t.equals(1033))&&(t.preventDefault(),r.hide()),(t.equals(10)||t.equals(3))&&(t.preventDefault(),r.accept())})),r._diffs=[],r._currentDiff=null,r}return Z(c,l),c.prototype.prev=function(){var o=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){for(var e=-1,t=0,n=this._diffs.length;t<n;t++)if(this._diffs[t]===this._currentDiff){e=t;break}o=this._diffs.length+e-1}else o=this._findDiffIndex(this._diffEditor.getPosition());0!==this._diffs.length&&(o%=this._diffs.length,this._diffEditor.setPosition(new a.Position(this._diffs[o].entries[0].modifiedLineStart,1)),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow()))},c.prototype.next=function(){var o=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){for(var e=-1,t=0,n=this._diffs.length;t<n;t++)if(this._diffs[t]===this._currentDiff){e=t;break}o=e+1}else o=this._findDiffIndex(this._diffEditor.getPosition());0!==this._diffs.length&&(o%=this._diffs.length,this._diffEditor.setPosition(new a.Position(this._diffs[o].entries[0].modifiedLineStart,1)),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow()))},c.prototype.accept=function(){var o=-1,e=this._getCurrentFocusedRow();if(e){var t=parseInt(e.getAttribute("data-line"),10);isNaN(t)||(o=t)}this.hide(),-1!==o&&(this._diffEditor.setPosition(new a.Position(o,1)),this._diffEditor.revealPosition(new a.Position(o,1)))},c.prototype.hide=function(){this._isVisible=!1,this._diffEditor.focus(),this._diffEditor.doLayout(),this._render()},c.prototype._getPrevRow=function(){var t=this._getCurrentFocusedRow();return t?t.previousElementSibling?t.previousElementSibling:t:this._getFirstRow()},c.prototype._getNextRow=function(){var t=this._getCurrentFocusedRow();return t?t.nextElementSibling?t.nextElementSibling:t:this._getFirstRow()},c.prototype._getFirstRow=function(){return this.domNode.domNode.querySelector(".diff-review-row")},c.prototype._getCurrentFocusedRow=function(){var t=document.activeElement;return t&&/diff-review-row/.test(t.className)?t:null},c.prototype._goToRow=function(o){var e=this._getCurrentFocusedRow();o.tabIndex=0,o.focus(),e&&e!==o&&(e.tabIndex=-1),this.scrollbar.scanDomNode()},c.prototype.isVisible=function(){return this._isVisible},c.prototype.layout=function(o,e,t){this._width=e,this.shadow.setTop(o-6),this.shadow.setWidth(e),this.shadow.setHeight(this._isVisible?6:0),this.domNode.setTop(o),this.domNode.setWidth(e),this.domNode.setHeight(t),this._content.setHeight(t),this._content.setWidth(e),this._isVisible?(this.actionBarContainer.setAttribute("aria-hidden","false"),this.actionBarContainer.setDisplay("block")):(this.actionBarContainer.setAttribute("aria-hidden","true"),this.actionBarContainer.setDisplay("none"))},c.prototype._compute=function(){var t=this._diffEditor.getLineChanges();if(!t||0===t.length)return[];var o=this._diffEditor.getOriginalEditor().getModel(),n=this._diffEditor.getModifiedEditor().getModel();return o&&n?c._mergeAdjacent(t,o.getLineCount(),n.getLineCount()):[]},c._mergeAdjacent=function(E,F,t){if(!E||0===E.length)return[];for(var n=[],i=0,o=0,r=E.length;o<r;o++){var s=E[o],a=s.originalStartLineNumber,u=s.originalEndLineNumber,l=s.modifiedStartLineNumber,c=s.modifiedEndLineNumber,d=[],h=0,p=0===u?a:a-1,f=0===c?l:l-1,g=1,m=1;if(0<o){var v=E[o-1];g=0===v.originalEndLineNumber?v.originalStartLineNumber+1:v.originalEndLineNumber+1,m=0===v.modifiedEndLineNumber?v.modifiedStartLineNumber+1:v.modifiedEndLineNumber+1}var _=p-3+1,y=f-3+1;_<g&&(_+=T=g-_,y+=T),y<m&&(_+=T=m-y,y+=T),d[h++]=new W(_,p,y,f),0!==u&&(d[h++]=new W(a,u,0,0)),0!==c&&(d[h++]=new W(0,0,l,c));var C=0===u?a+1:u+1,b=0===c?l+1:c+1,w=F,L=t;if(o+1<r){var x=E[o+1];w=0===x.originalEndLineNumber?x.originalStartLineNumber:x.originalStartLineNumber-1,L=0===x.modifiedEndLineNumber?x.modifiedStartLineNumber:x.modifiedStartLineNumber-1}var N=C+3-1,M=b+3-1;if(N>w&&(N+=T=w-N,M+=T),M>L){var T=L-M;N+=T,M+=T}d[h++]=new W(C,N,b,M),n[i++]=new S(d)}for(var k=n[0].entries,I=[],D=0,o=1,r=n.length;o<r;o++){var O=n[o].entries,R=k[k.length-1],P=O[0];0===R.getType()&&0===P.getType()&&P.originalLineStart<=R.originalLineEnd?(k[k.length-1]=new W(R.originalLineStart,P.originalLineEnd,R.modifiedLineStart,P.modifiedLineEnd),k=k.concat(O.slice(1))):(I[D++]=new S(k),k=O)}return I[D++]=new S(k),I},c.prototype._findDiffIndex=function(r){for(var e=r.lineNumber,t=0,n=this._diffs.length,i;t<n;t++)if(i=this._diffs[t].entries,e<=i[i.length-1].modifiedLineEnd)return t;return 0},c.prototype._render=function(){var t=this._diffEditor.getOriginalEditor().getConfiguration(),e=this._diffEditor.getModifiedEditor().getConfiguration(),o=this._diffEditor.getOriginalEditor().getModel(),i=this._diffEditor.getModifiedEditor().getModel(),u=o.getOptions(),a=i.getOptions();if(!this._isVisible||!o||!i)return n.clearNode(this._content.domNode),this._currentDiff=null,void this.scrollbar.scanDomNode();var l=this._diffEditor.getPosition(),I=this._findDiffIndex(l);if(this._diffs[I]!==this._currentDiff){this._currentDiff=this._diffs[I];var d=this._diffs[I].entries,h=document.createElement("div");h.className="diff-review-table",h.setAttribute("role","list"),T.Configuration.applyFontInfoSlow(h,e.fontInfo);for(var p=0,f=0,g=0,m=0,v=0,_=d.length;v<_;v++){var y=(x=d[v]).originalLineStart,C=x.originalLineEnd,b=x.modifiedLineStart,w=x.modifiedLineEnd;0!==y&&(0===p||y<p)&&(p=y),0!==C&&(0===f||C>f)&&(f=C),0!==b&&(0===g||b<g)&&(g=b),0!==w&&(0===m||w>m)&&(m=w)}var S=document.createElement("div");S.className="diff-review-row";var E=document.createElement("div");E.className="diff-review-cell diff-review-summary",E.appendChild(document.createTextNode(I+1+"/"+this._diffs.length+": @@ -"+p+","+(f-p+1)+" +"+g+","+(m-g+1)+" @@")),S.setAttribute("data-line",g+""),S.setAttribute("aria-label",D.localize(1,null,I+1,this._diffs.length,p,f-p+1,g,m-g+1)),S.appendChild(E),S.setAttribute("role","listitem"),h.appendChild(S);for(var L=g,v=0,_=d.length,x;v<_;v++)x=d[v],c._renderSection(h,x,L,this._width,t,o,u,e,i,a),0!==x.modifiedLineStart&&(L=x.modifiedLineEnd);n.clearNode(this._content.domNode),this._content.domNode.appendChild(h),this.scrollbar.scanDomNode()}},c._renderSection=function(n,e,t,i,o,r,s,a,u,l){var c=e.getType(),d="diff-review-row",h="",p="diff-review-spacer";1===c?(d="diff-review-row line-insert",h=" char-insert",p="diff-review-spacer insert-sign"):2===c?(d="diff-review-row line-delete",h=" char-delete",p="diff-review-spacer delete-sign"):void 0;for(var f=e.originalLineStart,g=e.originalLineEnd,m=e.modifiedLineStart,v=e.modifiedLineEnd,_=G(v-m,g-f),y=o.layoutInfo.glyphMarginWidth+o.layoutInfo.lineNumbersWidth,C=10+a.layoutInfo.glyphMarginWidth+a.layoutInfo.lineNumbersWidth,b=0;b<=_;b++){var w=0===f?0:f+b,S=0===m?0:m+b,E=document.createElement("div");E.style.minWidth=i+"px",E.className=d,E.setAttribute("role","listitem"),0!==S&&(t=S),E.setAttribute("data-line",t+"");var L=document.createElement("div");L.className="diff-review-cell",E.appendChild(L);var x=document.createElement("span");x.style.width=y+"px",x.style.minWidth=y+"px",x.className="diff-review-line-number"+h,0===w?x.innerHTML="&nbsp;":x.appendChild(document.createTextNode(w+"")),L.appendChild(x);var N=document.createElement("span");N.style.width=C+"px",N.style.minWidth=C+"px",N.style.paddingRight="10px",N.className="diff-review-line-number"+h,0===S?N.innerHTML="&nbsp;":N.appendChild(document.createTextNode(S+"")),L.appendChild(N);var M=document.createElement("span");M.className=p,M.innerHTML="&nbsp;&nbsp;",L.appendChild(M);var T=void 0;0===S?(L.insertAdjacentHTML("beforeend",this._renderLine(r,o,s.tabSize,w)),T=r.getLineContent(w)):(L.insertAdjacentHTML("beforeend",this._renderLine(u,a,l.tabSize,S)),T=u.getLineContent(S)),0===T.length&&(T=D.localize(2,null));var k=void 0;0===c?k=D.localize(3,null,w,S,T):1===c?k=D.localize(4,null,S,T):2===c?k=D.localize(5,null,w,T):void 0;E.setAttribute("aria-label",k),n.appendChild(E)}},c._renderLine=function(a,e,t,n){var i=a.getLineContent(n);return r.renderViewLine(new r.RenderLineInput(e.fontInfo.isMonospace&&!e.viewInfo.disableMonospaceOptimizations,i,a.mightContainRTL(),0,[new s.ViewLineToken(i.length,16793600)],[],t,e.fontInfo.spaceWidth,e.viewInfo.stopRenderingLineAfter,e.viewInfo.renderWhitespace,e.viewInfo.renderControlCharacters,e.viewInfo.fontLigatures)).html},c}(t.Disposable);e.DiffReview=C,i.registerThemingParticipant(function(o,e){var t=o.getColor(c.editorLineNumbers);t&&e.addRule(".monaco-diff-editor .diff-review-line-number { color: "+t+"; }");var n=o.getColor(l.scrollbarShadow);n&&e.addRule(".monaco-diff-editor .diff-review-shadow { box-shadow: "+n+" 0 -6px 6px -6px inset; }")}),function(o){function e(){return o.call(this,{id:"editor.action.diffReview.next",label:D.localize(6,null),alias:"Go to Next Difference",precondition:m.ContextKeyExpr.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:65}})||this}Z(e,o),e.prototype.run=function(t){var e=_(t);e&&e.diffReviewNext()},e=F([g.editorAction],e)}(g.EditorAction),function(o){function e(){return o.call(this,{id:"editor.action.diffReview.prev",label:D.localize(7,null),alias:"Go to Previous Difference",precondition:m.ContextKeyExpr.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:1089}})||this}Z(e,o),e.prototype.run=function(t){var e=_(t);e&&e.diffReviewPrev()},e=F([g.editorAction],e)}(g.EditorAction)}),define(s[140],n([1,0,14]),function(a,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var d=function(){return function(o,e,t,n){this.from=0|o,this.to=0|e,this.colorId=0|t,this.position=0|n}}();e.ColorZone=d;var n=function(){function o(a,d,t,n,i,o,r){this.startLineNumber=a,this.endLineNumber=d,this.position=t,this.forceHeight=n,this._color=i,this._darkColor=o,this._hcColor=r,this._colorZones=null}return o.prototype.getColor=function(o){return o===t.HIGH_CONTRAST?this._hcColor:o===t.DARK?this._darkColor:this._color},o.prototype.equals=function(t){return this.startLineNumber===t.startLineNumber&&this.endLineNumber===t.endLineNumber&&this.position===t.position&&this.forceHeight===t.forceHeight&&this._color===t._color&&this._darkColor===t._darkColor&&this._hcColor===t._hcColor},o.prototype.compareTo=function(t){return this.startLineNumber===t.startLineNumber?this.endLineNumber===t.endLineNumber?this.forceHeight===t.forceHeight?this.position===t.position?this._darkColor===t._darkColor?this._color===t._color?this._hcColor===t._hcColor?0:this._hcColor<t._hcColor?-1:1:this._color<t._color?-1:1:this._darkColor<t._darkColor?-1:1:this.position-t.position:this.forceHeight-t.forceHeight:this.endLineNumber-t.endLineNumber:this.startLineNumber-t.startLineNumber},o.prototype.setColorZones=function(t){this._colorZones=t},o.prototype.getColorZones=function(){return this._colorZones},o}();e.OverviewRulerZone=n;var o=function(){function o(o){this._getVerticalOffsetForLine=o,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._maximumHeight=0,this._minimumHeight=0,this._themeType=t.LIGHT,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}return o.prototype.getId2Color=function(){return this._id2Color},o.prototype.setZones=function(d){d.sort(function(o,e){return o.compareTo(e)});for(var e=this._zones,t=0,n=this._zones.length,i=0,o=d.length,r=[],s;i<o;)if(s=d[i],t>=n)r.push(s),i++;else{var a=e[t],p=a.compareTo(s);0>p?t++:0<p?(r.push(s),i++):(r.push(a),t++,i++)}this._zones=r},o.prototype.setLineHeight=function(t){return this._lineHeight!==t&&(this._lineHeight=t,this._colorZonesInvalid=!0,!0)},o.prototype.setPixelRatio=function(t){this._pixelRatio=t,this._colorZonesInvalid=!0},o.prototype.getDOMWidth=function(){return this._domWidth},o.prototype.getCanvasWidth=function(){return this._domWidth*this._pixelRatio},o.prototype.setDOMWidth=function(t){return this._domWidth!==t&&(this._domWidth=t,this._colorZonesInvalid=!0,!0)},o.prototype.getDOMHeight=function(){return this._domHeight},o.prototype.getCanvasHeight=function(){return this._domHeight*this._pixelRatio},o.prototype.setDOMHeight=function(t){return this._domHeight!==t&&(this._domHeight=t,this._colorZonesInvalid=!0,!0)},o.prototype.getOuterHeight=function(){return this._outerHeight},o.prototype.setOuterHeight=function(t){return this._outerHeight!==t&&(this._outerHeight=t,this._colorZonesInvalid=!0,!0)},o.prototype.setMaximumHeight=function(t){return this._maximumHeight!==t&&(this._maximumHeight=t,this._colorZonesInvalid=!0,!0)},o.prototype.setMinimumHeight=function(t){return this._minimumHeight!==t&&(this._minimumHeight=t,this._colorZonesInvalid=!0,!0)},o.prototype.setThemeType=function(t){return this._themeType!==t&&(this._themeType=t,this._colorZonesInvalid=!0,!0)},o.prototype.resolveColorZones=function(){for(var C=this._colorZonesInvalid,b=M(this._lineHeight),t=M(this.getCanvasHeight()),n=M(this._maximumHeight*this._pixelRatio),i=M(this._minimumHeight*this._pixelRatio),o=this._themeType,r=t/M(this._outerHeight),s=[],a=0,u=this._zones.length,l;a<u;a++){if(l=this._zones[a],!C){var c=l.getColorZones();if(c){for(var d=0,h=c.length;d<h;d++)s.push(c[d]);continue}}var p=[];if(l.forceHeight){var f=M(l.forceHeight*this._pixelRatio),g=M(this._getVerticalOffsetForLine(l.startLineNumber)),m=(g=M(g*r))+f;p.push(this.createZone(t,g,m,f,f,l.getColor(o),l.position))}else{var g=M(this._getVerticalOffsetForLine(l.startLineNumber)),m=M(this._getVerticalOffsetForLine(l.endLineNumber))+b;g=M(g*r),m=M(m*r);var v=(l.endLineNumber-l.startLineNumber+1)*n;if(m-g>v)for(var _=l.startLineNumber;_<=l.endLineNumber;_++)m=(g=M(this._getVerticalOffsetForLine(_)))+b,g=M(g*r),m=M(m*r),p.push(this.createZone(t,g,m,i,n,l.getColor(o),l.position));else p.push(this.createZone(t,g,m,i,v,l.getColor(o),l.position))}l.setColorZones(p);for(var d=0,h=p.length;d<h;d++)s.push(p[d])}return this._colorZonesInvalid=!1,s.sort(function(o,e){return o.colorId===e.colorId?o.from===e.from?o.to-e.to:o.from-e.from:o.colorId-e.colorId}),s},o.prototype.createZone=function(i,e,t,n,o,r,s){i=M(i),e=M(e),t=M(t),n=M(n),o=M(o);var a=M((e+t)/2),p=t-a;p>o/2&&(p=o/2),p<n/2&&(p=n/2),0>a-p&&(a=p),a+p>i&&(a=i-p);var l=this._color2Id[r];return l||(l=++this._lastAssignedId,this._color2Id[r]=l,this._id2Color[l]=r),new d(a-p,a+p,l,s)},o}();e.OverviewZoneManager=o}),define(s[190],n([1,0,27,20,140,14]),function(a,e,d,p,n,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function t(r,p,t,i,s,a,u,l){this._canvasLeftOffset=r,this._domNode=d.createFastDomNode(document.createElement("canvas")),this._domNode.setClassName(p),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._lanesCount=3,this._background=null,this._zoneManager=new n.OverviewZoneManager(l),this._zoneManager.setMinimumHeight(a),this._zoneManager.setMaximumHeight(u),this._zoneManager.setThemeType(o.LIGHT),this._zoneManager.setDOMWidth(0),this._zoneManager.setDOMHeight(0),this._zoneManager.setOuterHeight(t),this._zoneManager.setLineHeight(i),this._zoneManager.setPixelRatio(s)}return t.prototype.dispose=function(){this._zoneManager=null},t.prototype.setLayout=function(o,e){this._domNode.setTop(o.top),this._domNode.setRight(o.right);var t=!1;t=this._zoneManager.setDOMWidth(o.width)||t,(t=this._zoneManager.setDOMHeight(o.height)||t)&&(this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),e&&this.render(!0))},t.prototype.getLanesCount=function(){return this._lanesCount},t.prototype.setLanesCount=function(o,e){this._lanesCount=o,e&&this.render(!0)},t.prototype.setThemeType=function(o,e){this._zoneManager.setThemeType(o),e&&this.render(!0)},t.prototype.setUseBackground=function(o,e){this._background=o,e&&this.render(!0)},t.prototype.getDomNode=function(){return this._domNode.domNode},t.prototype.getPixelWidth=function(){return this._zoneManager.getCanvasWidth()},t.prototype.getPixelHeight=function(){return this._zoneManager.getCanvasHeight()},t.prototype.setScrollHeight=function(o,e){this._zoneManager.setOuterHeight(o),e&&this.render(!0)},t.prototype.setLineHeight=function(o,e){this._zoneManager.setLineHeight(o),e&&this.render(!0)},t.prototype.setPixelRatio=function(o,e){this._zoneManager.setPixelRatio(o),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),e&&this.render(!0)},t.prototype.setZones=function(o,e){this._zoneManager.setZones(o),e&&this.render(!1)},t.prototype.render=function(){if(0===this._zoneManager.getOuterHeight())return!1;var e=this._zoneManager.getCanvasWidth(),t=this._zoneManager.getCanvasHeight(),n=this._zoneManager.resolveColorZones(),i=this._zoneManager.getId2Color(),o=this._domNode.domNode.getContext("2d");if(null===this._background?o.clearRect(0,0,e,t):(o.fillStyle=this._background.toRGBHex(),o.fillRect(0,0,e,t)),0<n.length){var r=e-this._canvasLeftOffset;3<=this._lanesCount?this._renderThreeLanes(o,n,i,r):2===this._lanesCount?this._renderTwoLanes(o,n,i,r):1===this._lanesCount&&this._renderOneLane(o,n,i,r)}return!0},t.prototype._renderOneLane=function(i,e,t,n){this._renderVerticalPatch(i,e,t,p.OverviewRulerLane.Left|p.OverviewRulerLane.Center|p.OverviewRulerLane.Right,this._canvasLeftOffset,n)},t.prototype._renderTwoLanes=function(i,e,t,n){var o=M(n/2),r=this._canvasLeftOffset,a=this._canvasLeftOffset+o;this._renderVerticalPatch(i,e,t,p.OverviewRulerLane.Left|p.OverviewRulerLane.Center,r,o),this._renderVerticalPatch(i,e,t,p.OverviewRulerLane.Right,a,n-o)},t.prototype._renderThreeLanes=function(i,e,t,n){var o=M(n/3),r=M(n/3),s=n-o-r,a=this._canvasLeftOffset,d=this._canvasLeftOffset+o,l=this._canvasLeftOffset+o+s;this._renderVerticalPatch(i,e,t,p.OverviewRulerLane.Left,a,o),this._renderVerticalPatch(i,e,t,p.OverviewRulerLane.Center,d,s),this._renderVerticalPatch(i,e,t,p.OverviewRulerLane.Right,l,r)},t.prototype._renderVerticalPatch=function(g,e,t,n,i,o){for(var r=0,s=0,a=0,u=0,l=e.length,c;u<l;u++)if(c=e[u],c.position&n){var d=c.colorId,m=c.from,p=c.to;d===r?a>=m?a=G(a,p):(g.fillRect(i,s,o,a-s),s=m,a=p):(g.fillRect(i,s,o,a-s),r=d,g.fillStyle=t[r],s=m,a=p)}g.fillRect(i,s,o,a-s)},t}();e.OverviewRulerImpl=t}),define(s[507],n([1,0,20,35,190,17,140,37,32]),function(d,e,p,t,c,o,g,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(r){function e(t){var n=r.call(this,t)||this;return n._overviewRuler=new c.OverviewRulerImpl(1,"decorationsOverviewRuler",n._context.viewLayout.getScrollHeight(),n._context.configuration.editor.lineHeight,n._context.configuration.editor.pixelRatio,e.MIN_DECORATION_HEIGHT,e.MAX_DECORATION_HEIGHT,function(t){return n._context.viewLayout.getVerticalOffsetForLineNumber(t)}),n._overviewRuler.setLanesCount(n._context.configuration.editor.viewInfo.overviewRulerLanes,!1),n._overviewRuler.setLayout(n._context.configuration.editor.layoutInfo.overviewRuler,!1),n._renderBorder=n._context.configuration.editor.viewInfo.overviewRulerBorder,n._updateColors(),n._updateBackground(!1),n._tokensColorTrackerListener=o.TokenizationRegistry.onDidChange(function(t){t.changedColorMap&&n._updateBackground(!0)}),n._shouldUpdateDecorations=!0,n._zonesFromDecorations=[],n._shouldUpdateCursorPosition=!0,n._hideCursor=n._context.configuration.editor.viewInfo.hideCursorInOverviewRuler,n._zonesFromCursors=[],n._cursorPositions=[],n}return Z(e,r),e.prototype.dispose=function(){r.prototype.dispose.call(this),this._overviewRuler.dispose(),this._tokensColorTrackerListener.dispose()},e.prototype._updateBackground=function(n){var e=this._context.configuration.editor.viewInfo.minimap.enabled;this._overviewRuler.setUseBackground(e?o.TokenizationRegistry.getDefaultBackground():null,n)},e.prototype.onConfigurationChanged=function(o){var e=this._overviewRuler.getLanesCount(),t=this._context.configuration.editor.viewInfo.overviewRulerLanes;return e!==t&&this._overviewRuler.setLanesCount(t,!1),o.lineHeight&&this._overviewRuler.setLineHeight(this._context.configuration.editor.lineHeight,!1),o.pixelRatio&&this._overviewRuler.setPixelRatio(this._context.configuration.editor.pixelRatio,!1),o.viewInfo&&(this._renderBorder=this._context.configuration.editor.viewInfo.overviewRulerBorder,this._hideCursor=this._context.configuration.editor.viewInfo.hideCursorInOverviewRuler,this._shouldUpdateCursorPosition=!0,this._updateBackground(!1)),o.layoutInfo&&this._overviewRuler.setLayout(this._context.configuration.editor.layoutInfo.overviewRuler,!1),!0},e.prototype.onCursorStateChanged=function(o){this._shouldUpdateCursorPosition=!0,this._cursorPositions=[];for(var e=0,t=o.selections.length;e<t;e++)this._cursorPositions[e]=o.selections[e].getPosition();return!0},e.prototype.onDecorationsChanged=function(){return this._shouldUpdateDecorations=!0,!0},e.prototype.onFlushed=function(){return this._shouldUpdateCursorPosition=!0,this._shouldUpdateDecorations=!0,!0},e.prototype.onScrollChanged=function(e){return this._overviewRuler.setScrollHeight(e.scrollHeight,!1),r.prototype.onScrollChanged.call(this,e)||e.scrollHeightChanged},e.prototype.onZonesChanged=function(){return!0},e.prototype.onThemeChanged=function(){return this._updateColors(),this._shouldUpdateDecorations=!0,this._shouldUpdateCursorPosition=!0,!0},e.prototype.getDomNode=function(){return this._overviewRuler.getDomNode()},e.prototype._updateColors=function(){var o=this._context.theme.getColor(n.editorOverviewRulerBorder);this._borderColor=o?o.toString():null;var e=this._context.theme.getColor(n.editorCursorForeground);this._cursorColor=e?e.transparent(.7).toString():null,this._overviewRuler.setThemeType(this._context.theme.type,!1)},e.prototype._createZonesFromDecorations=function(){for(var a=this._context.model.getAllOverviewRulerDecorations(),e=[],t=0,n=a.length;t<n;t++){var i=a[t],o=i.source.options.overviewRuler;e.push(new g.OverviewRulerZone(i.range.startLineNumber,i.range.endLineNumber,o.position,0,this.resolveRulerColor(o.color),this.resolveRulerColor(o.darkColor),this.resolveRulerColor(o.hcColor)))}return e},e.prototype.resolveRulerColor=function(t){return p.isThemeColor(t)?(this._context.theme.getColor(t.id)||i.Color.transparent).toString():t},e.prototype._createZonesFromCursors=function(){for(var n=[],e=0,t=this._cursorPositions.length,i;e<t;e++)i=this._cursorPositions[e],n.push(new g.OverviewRulerZone(i.lineNumber,i.lineNumber,p.OverviewRulerLane.Full,2,this._cursorColor,this._cursorColor,this._cursorColor));return n},e.prototype.prepareRender=function(){},e.prototype.render=function(){if(this._shouldUpdateDecorations||this._shouldUpdateCursorPosition){this._shouldUpdateDecorations&&(this._shouldUpdateDecorations=!1,this._zonesFromDecorations=this._createZonesFromDecorations()),this._shouldUpdateCursorPosition&&(this._shouldUpdateCursorPosition=!1,this._zonesFromCursors=this._hideCursor?[]:this._createZonesFromCursors());var e=[];e=(e=e.concat(this._zonesFromCursors)).concat(this._zonesFromDecorations),this._overviewRuler.setZones(e,!1)}if(this._overviewRuler.render(!1)&&this._renderBorder&&this._borderColor&&0<this._overviewRuler.getLanesCount()&&(0<this._zonesFromDecorations.length||0<this._zonesFromCursors.length)){var t=this._overviewRuler.getDomNode().getContext("2d");t.beginPath(),t.lineWidth=1,t.strokeStyle=this._borderColor,t.moveTo(0,0),t.lineTo(0,this._overviewRuler.getPixelHeight()),t.stroke(),t.moveTo(0,0),t.lineTo(this._overviewRuler.getPixelWidth(),0),t.stroke()}},e.MIN_DECORATION_HEIGHT=6,e.MAX_DECORATION_HEIGHT=60,e}(t.ViewPart);e.DecorationsOverviewRuler=r}),define(s[508],n([1,0,82,190]),function(r,e,t,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(i){function e(e,d,n,o){var r=i.call(this)||this;return r._context=e,r._overviewRuler=new a.OverviewRulerImpl(0,d,r._context.viewLayout.getScrollHeight(),r._context.configuration.editor.lineHeight,r._context.configuration.editor.pixelRatio,n,o,function(t){return r._context.viewLayout.getVerticalOffsetForLineNumber(t)}),r._context.addEventHandler(r),r}return Z(e,i),e.prototype.dispose=function(){this._context.removeEventHandler(this),this._overviewRuler.dispose(),i.prototype.dispose.call(this)},e.prototype.onConfigurationChanged=function(t){return t.lineHeight&&this._overviewRuler.setLineHeight(this._context.configuration.editor.lineHeight,!0),t.pixelRatio&&this._overviewRuler.setPixelRatio(this._context.configuration.editor.pixelRatio,!0),!0},e.prototype.onFlushed=function(){return!0},e.prototype.onScrollChanged=function(e){return this._overviewRuler.setScrollHeight(e.scrollHeight,!0),i.prototype.onScrollChanged.call(this,e)||e.scrollHeightChanged},e.prototype.onZonesChanged=function(){return!0},e.prototype.getDomNode=function(){return this._overviewRuler.getDomNode()},e.prototype.setLayout=function(t){this._overviewRuler.setLayout(t,!0)},e.prototype.setZones=function(t){this._overviewRuler.setZones(t,!0)},e}(t.ViewEventHandler);e.OverviewRuler=n}),define(s[509],n([1,0,10,4,27,2,82,501,490,449,217,443,230,497,498,231,113,188,499,492,182,233,235,236,507,508,502,494,495,503,237,35,216,78,491,221,486,493,57,14]),function(f,e,t,U,q,G,o,Y,a,u,l,c,d,h,p,g,m,v,_,y,C,b,w,S,E,i,L,x,N,T,M,I,k,D,R,P,O,A,r,n){"use strict";function s(o){try{return o()}catch(o){t.onUnexpectedError(o)}}function F(o,e){try{return o(e)}catch(o){t.onUnexpectedError(o)}}Object.defineProperty(e,"__esModule",{value:!0});var W=function(f){function e(e,p,n,i,o,c){var s=f.call(this)||this;s._isDisposed=!1,s._cursor=o,s._renderAnimationFrame=null,s.outgoingEvents=new R.ViewOutgoingEvents(i);var d=new u.ViewController(p,i,c,s.outgoingEvents,e);return s.eventDispatcher=new l.ViewEventDispatcher(function(t){return s._renderOnce(t)}),s.eventDispatcher.addEventHandler(s),s._context=new k.ViewContext(p,n.getTheme(),i,s.eventDispatcher),s._register(n.onThemeChange(function(t){s._context.theme=t,s.eventDispatcher.emit(new r.ViewThemeChangedEvent),s.render(!0,!1)})),s.viewParts=[],s._textAreaHandler=new Y.TextAreaHandler(s._context,d,s.createTextAreaHandlerHelper()),s.viewParts.push(s._textAreaHandler),s.createViewParts(),s._setLayout(),s.pointerHandler=new a.PointerHandler(s._context,d,s.createPointerHandlerHelper()),s._register(i.addEventListener(function(t){s.eventDispatcher.emitMany(t)})),s._register(s._cursor.addEventListener(function(t){s.eventDispatcher.emitMany(t)})),s}return Z(e,f),e.prototype.createViewParts=function(){this.linesContent=q.createFastDomNode(document.createElement("div")),this.linesContent.setClassName("lines-content monaco-editor-background"),this.linesContent.setPosition("absolute"),this.domNode=q.createFastDomNode(document.createElement("div")),this.domNode.setClassName(this.getEditorClassName()),this.overflowGuardContainer=q.createFastDomNode(document.createElement("div")),I.PartFingerprints.write(this.overflowGuardContainer,3),this.overflowGuardContainer.setClassName("overflow-guard"),this._scrollbar=new O.EditorScrollbar(this._context,this.linesContent,this.domNode,this.overflowGuardContainer),this.viewParts.push(this._scrollbar),this.viewLines=new y.ViewLines(this._context,this.linesContent),this.viewZones=new M.ViewZones(this._context),this.viewParts.push(this.viewZones);var o=new E.DecorationsOverviewRuler(this._context);this.viewParts.push(o);var e=new x.ScrollDecorationViewPart(this._context);this.viewParts.push(e);var t=new c.ContentViewOverlays(this._context);this.viewParts.push(t),t.addDynamicOverlay(new h.CurrentLineHighlightOverlay(this._context)),t.addDynamicOverlay(new N.SelectionsOverlay(this._context)),t.addDynamicOverlay(new g.DecorationsOverlay(this._context)),t.addDynamicOverlay(new _.IndentGuidesOverlay(this._context));var n=new c.MarginViewOverlays(this._context);this.viewParts.push(n),n.addDynamicOverlay(new p.CurrentLineMarginHighlightOverlay(this._context)),n.addDynamicOverlay(new m.GlyphMarginOverlay(this._context)),n.addDynamicOverlay(new w.MarginViewLineDecorationsOverlay(this._context)),n.addDynamicOverlay(new b.LinesDecorationsOverlay(this._context)),n.addDynamicOverlay(new v.LineNumbersOverlay(this._context));var i=new C.Margin(this._context);i.getDomNode().appendChild(this.viewZones.marginDomNode),i.getDomNode().appendChild(n.getDomNode()),this.viewParts.push(i),this.contentWidgets=new d.ViewContentWidgets(this._context,this.domNode),this.viewParts.push(this.contentWidgets),this.viewCursors=new T.ViewCursors(this._context),this.viewParts.push(this.viewCursors),this.overlayWidgets=new S.ViewOverlayWidgets(this._context),this.viewParts.push(this.overlayWidgets);var r=new L.Rulers(this._context);this.viewParts.push(r);var s=new A.Minimap(this._context);if(this.viewParts.push(s),o){var a=this._scrollbar.getOverviewRulerLayoutInfo();a.parent.insertBefore(o.getDomNode(),a.insertBefore)}this.linesContent.appendChild(t.getDomNode()),this.linesContent.appendChild(r.domNode),this.linesContent.appendChild(this.viewZones.domNode),this.linesContent.appendChild(this.viewLines.getDomNode()),this.linesContent.appendChild(this.contentWidgets.domNode),this.linesContent.appendChild(this.viewCursors.getDomNode()),this.overflowGuardContainer.appendChild(i.getDomNode()),this.overflowGuardContainer.appendChild(this._scrollbar.getDomNode()),this.overflowGuardContainer.appendChild(e.getDomNode()),this.overflowGuardContainer.appendChild(this._textAreaHandler.textArea),this.overflowGuardContainer.appendChild(this._textAreaHandler.textAreaCover),this.overflowGuardContainer.appendChild(this.overlayWidgets.getDomNode()),this.overflowGuardContainer.appendChild(s.getDomNode()),this.domNode.appendChild(this.overflowGuardContainer),this.domNode.appendChild(this.contentWidgets.overflowingContentWidgetsDomNode)},e.prototype._flushAccumulatedAndRenderNow=function(){this._renderNow()},e.prototype.createPointerHandlerHelper=function(){var o=this;return{viewDomNode:this.domNode.domNode,linesContentDomNode:this.linesContent.domNode,focusTextArea:function(){o.focus()},getLastViewCursorsRenderData:function(){return o.viewCursors.getLastRenderData()||[]},shouldSuppressMouseDownOnViewZone:function(e){return o.viewZones.shouldSuppressMouseDownOnViewZone(e)},shouldSuppressMouseDownOnWidget:function(e){return o.contentWidgets.shouldSuppressMouseDownOnWidget(e)},getPositionFromDOMInfo:function(e,t){return o._flushAccumulatedAndRenderNow(),o.viewLines.getPositionFromDOMInfo(e,t)},visibleRangeForPosition2:function(e,t){o._flushAccumulatedAndRenderNow();var n=o.viewLines.visibleRangesForRange2(new G.Range(e,t,e,t));return n?n[0]:null},getLineWidth:function(e){return o._flushAccumulatedAndRenderNow(),o.viewLines.getLineWidth(e)}}},e.prototype.createTextAreaHandlerHelper=function(){var o=this;return{visibleRangeForPositionRelativeToEditor:function(e,t){o._flushAccumulatedAndRenderNow();var n=o.viewLines.visibleRangesForRange2(new G.Range(e,t,e,t));return n?n[0]:null}}},e.prototype._setLayout=function(){var t=this._context.configuration.editor.layoutInfo;this.domNode.setWidth(t.width),this.domNode.setHeight(t.height),this.overflowGuardContainer.setWidth(t.width),this.overflowGuardContainer.setHeight(t.height),this.linesContent.setWidth(1e6),this.linesContent.setHeight(1e6)},e.prototype.getEditorClassName=function(){return this._context.configuration.editor.editorClassName+" "+n.getThemeTypeSelector(this._context.theme.type)},e.prototype.onConfigurationChanged=function(t){return t.editorClassName&&this.domNode.setClassName(this.getEditorClassName()),t.layoutInfo&&this._setLayout(),!1},e.prototype.onFocusChanged=function(t){return this.domNode.toggleClassName("focused",t.isFocused),t.isFocused?this.outgoingEvents.emitViewFocusGained():this.outgoingEvents.emitViewFocusLost(),!1},e.prototype.onScrollChanged=function(t){return this.outgoingEvents.emitScrollChanged(t),!1},e.prototype.onThemeChanged=function(){return this.domNode.setClassName(this.getEditorClassName()),!1},e.prototype.dispose=function(){this._isDisposed=!0,null!==this._renderAnimationFrame&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this.eventDispatcher.removeEventHandler(this),this.outgoingEvents.dispose(),this.pointerHandler.dispose(),this.viewLines.dispose();for(var e=0,t=this.viewParts.length;e<t;e++)this.viewParts[e].dispose();this.viewParts=[],f.prototype.dispose.call(this)},e.prototype._renderOnce=function(o){var e=s(o);return this._scheduleRender(),e},e.prototype._scheduleRender=function(){null===this._renderAnimationFrame&&(this._renderAnimationFrame=U.runAtThisOrScheduleAtNextAnimationFrame(this._onRenderScheduled.bind(this),100))},e.prototype._onRenderScheduled=function(){this._renderAnimationFrame=null,this._flushAccumulatedAndRenderNow()},e.prototype._renderNow=function(){var t=this;s(function(){return t._actualRender()})},e.prototype._getViewPartsToRender=function(){for(var o=[],e=0,t=this.viewParts.length,n;e<t;e++)n=this.viewParts[e],n.shouldRender()&&o.push(n);return o},e.prototype._actualRender=function(){if(U.isInDOM(this.domNode.domNode)){var i=this._getViewPartsToRender();if(this.viewLines.shouldRender()||0!==i.length){var e=this._context.viewLayout.getLinesViewportData();this._context.model.setViewport(e.startLineNumber,e.endLineNumber,e.centeredLineNumber);var t=new P.ViewportData(this._cursor.getViewSelections(),e,this._context.viewLayout.getWhitespaceViewportData(),this._context.model);this.viewLines.shouldRender()&&(this.viewLines.renderText(t),this.viewLines.onDidRender(),i=this._getViewPartsToRender());for(var n=new D.RenderingContext(this._context.viewLayout,t,this.viewLines),o=0,r=i.length;o<r;o++)(s=i[o]).prepareRender(n);for(var o=0,r=i.length,s;o<r;o++)s=i[o],s.render(n),s.onDidRender()}}},e.prototype.delegateVerticalScrollbarMouseDown=function(t){this._scrollbar.delegateVerticalScrollbarMouseDown(t)},e.prototype.getOffsetForColumn=function(r,a){var s=this._context.model.validateModelPosition({lineNumber:r,column:a}),n=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(s);this._flushAccumulatedAndRenderNow();var i=this.viewLines.visibleRangesForRange2(new G.Range(n.lineNumber,n.column,n.lineNumber,n.column));return i?i[0].left:-1},e.prototype.getTargetAtClientPoint=function(o,e){return this.pointerHandler.getTargetAtClientPoint(o,e)},e.prototype.getInternalEventBus=function(){return this.outgoingEvents},e.prototype.createOverviewRuler=function(o,e,t){return new i.OverviewRuler(this._context,o,e,t)},e.prototype.change=function(o){var a=this,t=!1;return this._renderOnce(function(){var e={addZone:function(o){return t=!0,a.viewZones.addZone(o)},removeZone:function(o){o&&(t=a.viewZones.removeZone(o)||t)},layoutZone:function(o){o&&(t=a.viewZones.layoutZone(o)||t)}};F(o,e),e.addZone=null,e.removeZone=null,t&&(a._context.viewLayout.onHeightMaybeChanged(),a._context.privateViewEventBus.emit(new r.ViewZonesChangedEvent))}),t},e.prototype.render=function(o,e){if(e){this.viewLines.forceShouldRender();for(var t=0,n=this.viewParts.length;t<n;t++)this.viewParts[t].forceShouldRender()}o?this._flushAccumulatedAndRenderNow():this._scheduleRender()},e.prototype.setAriaActiveDescendant=function(t){this._textAreaHandler.setAriaActiveDescendant(t)},e.prototype.focus=function(){this._textAreaHandler.focusTextArea()},e.prototype.isFocused=function(){return this._textAreaHandler.isFocused()},e.prototype.addContentWidget=function(t){this.contentWidgets.addWidget(t.widget),this.layoutContentWidget(t),this._scheduleRender()},e.prototype.layoutContentWidget=function(o){var e=o.position?o.position.position:null,t=o.position?o.position.preference:null;this.contentWidgets.setWidgetPosition(o.widget,e,t),this._scheduleRender()},e.prototype.removeContentWidget=function(t){this.contentWidgets.removeWidget(t.widget),this._scheduleRender()},e.prototype.addOverlayWidget=function(t){this.overlayWidgets.addWidget(t.widget),this.layoutOverlayWidget(t),this._scheduleRender()},e.prototype.layoutOverlayWidget=function(o){var e=o.position?o.position.preference:null;this.overlayWidgets.setWidgetPosition(o.widget,e)&&this._scheduleRender()},e.prototype.removeOverlayWidget=function(t){this.overlayWidgets.removeWidget(t.widget),this._scheduleRender()},e}(o.ViewEventHandler);e.View=W}),define(s[191],n([1,0,10,4,16,31,19,447,2,42,66,509,3,11,149,14,37,310,312]),function(f,e,t,y,n,o,i,r,a,s,l,c,d,L,p,u,g){"use strict";function m(t){return C+encodeURIComponent(t.toString())+b}Object.defineProperty(e,"__esModule",{value:!0});var h=function(g){function e(e,n,i,o,r,s,a){var u=g.call(this,e,n,i,s)||this;u._onMouseUp=u._register(new L.Emitter),u.onMouseUp=u._onMouseUp.event,u._onMouseDown=u._register(new L.Emitter),u.onMouseDown=u._onMouseDown.event,u._onMouseDrag=u._register(new L.Emitter),u.onMouseDrag=u._onMouseDrag.event,u._onMouseDrop=u._register(new L.Emitter),u.onMouseDrop=u._onMouseDrop.event,u._onContextMenu=u._register(new L.Emitter),u.onContextMenu=u._onContextMenu.event,u._onMouseMove=u._register(new L.Emitter),u.onMouseMove=u._onMouseMove.event,u._onMouseLeave=u._register(new L.Emitter),u.onMouseLeave=u._onMouseLeave.event,u._onKeyUp=u._register(new L.Emitter),u.onKeyUp=u._onKeyUp.event,u._onKeyDown=u._register(new L.Emitter),u.onKeyDown=u._onKeyDown.event,u._onDidScrollChange=u._register(new L.Emitter),u.onDidScrollChange=u._onDidScrollChange.event,u._onDidChangeViewZones=u._register(new L.Emitter),u.onDidChangeViewZones=u._onDidChangeViewZones.event,u._codeEditorService=o,u._commandService=r,u._themeService=a,u._focusTracker=new _(e),u._focusTracker.onChange(function(){u._focusTracker.hasFocus()?u._onDidFocusEditor.fire():u._onDidBlurEditor.fire()}),u.contentWidgets={},u.overlayWidgets={};for(var l=u._getContributions(),c=0,d=l.length,h;c<d;c++){h=l[c];try{var f=u._instantiationService.createInstance(h,u);u._contributions[f.getId()]=f}catch(o){t.onUnexpectedError(o)}}return u._getActions().forEach(function(o){var e=new p.InternalEditorAction(o.id,o.label,o.alias,o.precondition,function(){return u._instantiationService.invokeFunction(function(e){return o.runEditorCommand(e,u,null)})},u._contextKeyService);u._actions[e.id]=e}),u._codeEditorService.addCodeEditor(u),u}return Z(e,g),e.prototype._createConfiguration=function(t){return new l.Configuration(t,this.domElement)},e.prototype.dispose=function(){this._codeEditorService.removeCodeEditor(this),this.contentWidgets={},this.overlayWidgets={},this._focusTracker.dispose(),g.prototype.dispose.call(this)},e.prototype.createOverviewRuler=function(o,e,t){return this._view.createOverviewRuler(o,e,t)},e.prototype.getDomNode=function(){return this.hasView?this._view.domNode.domNode:null},e.prototype.getCompletelyVisibleLinesRangeInViewport=function(){if(!this.hasView)return null;var t=this.viewModel.getCompletelyVisibleViewRange();return this.viewModel.coordinatesConverter.convertViewRangeToModelRange(t)},e.prototype.delegateVerticalScrollbarMouseDown=function(t){this.hasView&&this._view.delegateVerticalScrollbarMouseDown(t)},e.prototype.layout=function(t){this._configuration.observeReferenceElement(t),this.render()},e.prototype.focus=function(){this.hasView&&this._view.focus()},e.prototype.isFocused=function(){return this.hasView&&this._view.isFocused()},e.prototype.hasWidgetFocus=function(){return this._focusTracker&&this._focusTracker.hasFocus()},e.prototype.addContentWidget=function(o){var n={widget:o,position:o.getPosition()};this.contentWidgets.hasOwnProperty(o.getId())&&console.warn("Overwriting a content widget with the same id."),this.contentWidgets[o.getId()]=n,this.hasView&&this._view.addContentWidget(n)},e.prototype.layoutContentWidget=function(o){var e=o.getId();if(this.contentWidgets.hasOwnProperty(e)){var t=this.contentWidgets[e];t.position=o.getPosition(),this.hasView&&this._view.layoutContentWidget(t)}},e.prototype.removeContentWidget=function(o){var e=o.getId();if(this.contentWidgets.hasOwnProperty(e)){var t=this.contentWidgets[e];delete this.contentWidgets[e],this.hasView&&this._view.removeContentWidget(t)}},e.prototype.addOverlayWidget=function(o){var n={widget:o,position:o.getPosition()};this.overlayWidgets.hasOwnProperty(o.getId())&&console.warn("Overwriting an overlay widget with the same id."),this.overlayWidgets[o.getId()]=n,this.hasView&&this._view.addOverlayWidget(n)},e.prototype.layoutOverlayWidget=function(o){var e=o.getId();if(this.overlayWidgets.hasOwnProperty(e)){var t=this.overlayWidgets[e];t.position=o.getPosition(),this.hasView&&this._view.layoutOverlayWidget(t)}},e.prototype.removeOverlayWidget=function(o){var e=o.getId();if(this.overlayWidgets.hasOwnProperty(e)){var t=this.overlayWidgets[e];delete this.overlayWidgets[e],this.hasView&&this._view.removeOverlayWidget(t)}},e.prototype.changeViewZones=function(t){this.hasView&&this._view.change(t)&&this._onDidChangeViewZones.fire()},e.prototype.getWhitespaces=function(){return this.hasView?this.viewModel.viewLayout.getWhitespaces():[]},e.prototype._getVerticalOffsetForPosition=function(o,r){var a=this.model.validatePosition({lineNumber:o,column:r}),n=this.viewModel.coordinatesConverter.convertModelPositionToViewPosition(a);return this.viewModel.viewLayout.getVerticalOffsetForLineNumber(n.lineNumber)},e.prototype.getTopForLineNumber=function(t){return this.hasView?this._getVerticalOffsetForPosition(t,1):-1},e.prototype.getTopForPosition=function(o,e){return this.hasView?this._getVerticalOffsetForPosition(o,e):-1},e.prototype.getTargetAtClientPoint=function(o,e){return this.hasView?this._view.getTargetAtClientPoint(o,e):null},e.prototype.getScrolledVisiblePosition=function(o){if(!this.hasView)return null;var e=this.model.validatePosition(o),t=this._configuration.editor.layoutInfo;return{top:this._getVerticalOffsetForPosition(e.lineNumber,e.column)-this.getScrollTop(),left:this._view.getOffsetForColumn(e.lineNumber,e.column)+t.glyphMarginWidth+t.lineNumbersWidth+t.decorationsWidth-this.getScrollLeft(),height:this._configuration.editor.lineHeight}},e.prototype.getOffsetForColumn=function(o,e){return this.hasView?this._view.getOffsetForColumn(o,e):-1},e.prototype.render=function(){this.hasView&&this._view.render(!0,!1)},e.prototype.setHiddenAreas=function(t){this.viewModel&&this.viewModel.setHiddenAreas(t.map(function(t){return a.Range.lift(t)}))},e.prototype.setAriaActiveDescendant=function(t){this.hasView&&this._view.setAriaActiveDescendant(t)},e.prototype.applyFontInfo=function(t){l.Configuration.applyFontInfoSlow(t,this._configuration.editor.fontInfo)},e.prototype._attachModel=function(e){if(this._view=null,g.prototype._attachModel.call(this,e),this._view){this.domElement.appendChild(this._view.domNode.domNode);for(var t=Object.keys(this.contentWidgets),n=0,i=t.length;n<i;n++)o=t[n],this._view.addContentWidget(this.contentWidgets[o]);for(var n=0,i=(t=Object.keys(this.overlayWidgets)).length,o;n<i;n++)o=t[n],this._view.addOverlayWidget(this.overlayWidgets[o]);this._view.render(!1,!0),this.hasView=!0}},e.prototype._createView=function(){var o=this;this._view=new c.View(this._commandService,this._configuration,this._themeService,this.viewModel,this.cursor,function(e,t){o.cursor&&e.runCoreEditorCommand(o.cursor,t)});var e=this._view.getInternalEventBus();this.listenersToRemove.push(e.onDidGainFocus(function(){o._onDidFocusEditorText.fire(),o._onDidFocusEditor.fire()})),this.listenersToRemove.push(e.onDidScroll(function(e){o._onDidScrollChange.fire(e)})),this.listenersToRemove.push(e.onDidLoseFocus(function(){o._onDidBlurEditorText.fire()})),this.listenersToRemove.push(e.onContextMenu(function(e){o._onContextMenu.fire(e)})),this.listenersToRemove.push(e.onMouseDown(function(e){o._onMouseDown.fire(e)})),this.listenersToRemove.push(e.onMouseUp(function(e){o._onMouseUp.fire(e)})),this.listenersToRemove.push(e.onMouseDrag(function(e){o._onMouseDrag.fire(e)})),this.listenersToRemove.push(e.onMouseDrop(function(e){o._onMouseDrop.fire(e)})),this.listenersToRemove.push(e.onKeyUp(function(e){o._onKeyUp.fire(e)})),this.listenersToRemove.push(e.onMouseMove(function(e){o._onMouseMove.fire(e)})),this.listenersToRemove.push(e.onMouseLeave(function(e){o._onMouseLeave.fire(e)})),this.listenersToRemove.push(e.onKeyDown(function(e){o._onKeyDown.fire(e)}))},e.prototype._detachModel=function(){var e=null;this._view&&(this._view.dispose(),e=this._view.domNode.domNode,this._view=null);var t=g.prototype._detachModel.call(this);return e&&this.domElement.removeChild(e),t},e.prototype._registerDecorationType=function(o,e,t){this._codeEditorService.registerDecorationType(o,e,t)},e.prototype._removeDecorationType=function(t){this._codeEditorService.removeDecorationType(t)},e.prototype._resolveDecorationOptions=function(o,e){return this._codeEditorService.resolveDecorationOptions(o,e)},e=F([v(2,n.IInstantiationService),v(3,s.ICodeEditorService),v(4,o.ICommandService),v(5,i.IContextKeyService),v(6,u.IThemeService)],e)}(r.CommonCodeEditor);e.CodeEditorWidget=h;var _=function(o){function e(e){var i=o.call(this)||this;return i._onChange=i._register(new L.Emitter),i.onChange=i._onChange.event,i._hasFocus=!1,i._domFocusTracker=i._register(y.trackFocus(e)),i._domFocusTracker.addFocusListener(function(){i._hasFocus=!0,i._onChange.fire(void 0)}),i._domFocusTracker.addBlurListener(function(){i._hasFocus=!1,i._onChange.fire(void 0)}),i}return Z(e,o),e.prototype.hasFocus=function(){return this._hasFocus},e}(d.Disposable),C=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' height='3' width='6'><g fill='"),b=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");u.registerThemingParticipant(function(a,e){var t=a.getColor(g.editorErrorBorder);t&&e.addRule(".monaco-editor .redsquiggly { border-bottom: 4px double "+t+"; }");var n=a.getColor(g.editorErrorForeground);n&&e.addRule(".monaco-editor .redsquiggly { background: url(\"data:image/svg+xml,"+m(n)+"\") repeat-x bottom left; }");var i=a.getColor(g.editorWarningBorder);i&&e.addRule(".monaco-editor .greensquiggly { border-bottom: 4px double "+i+"; }");var o=a.getColor(g.editorWarningForeground);o&&e.addRule(".monaco-editor .greensquiggly { background: url(\"data:image/svg+xml;utf8,"+m(o)+"\") repeat-x bottom left; }")})}),define(s[141],n([1,0,16,31,19,42,191,13,30,14]),function(d,e,p,n,i,o,t,r,a,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=function(d){function e(e,l,n,i,o,r,s){return d.call(this,e,l,n,i,o,r,s)||this}return Z(e,d),e.prototype._getContributions=function(){return[].concat(a.EditorBrowserRegistry.getEditorContributions()).concat(r.CommonEditorRegistry.getEditorContributions())},e.prototype._getActions=function(){return r.CommonEditorRegistry.getEditorActions()},e=F([v(2,p.IInstantiationService),v(3,o.ICodeEditorService),v(4,n.ICommandService),v(5,i.IContextKeyService),v(6,s.IThemeService)],e)}(t.CodeEditorWidget);e.CodeEditor=l}),define(s[193],n([1,0,302,18,3,26,4,36,27,99,16,19,42,2,20,61,138,106,141,90,66,86,84,11,49,14,23,140,34,504,50,308]),function(f,e,y,X,t,o,i,n,s,r,a,u,d,$,p,l,c,g,m,h,_,C,b,S,E,L,w,x,N,I,k){"use strict";function D(r,e,t,n,i){return{range:new $.Range(r,e,t,n),options:i}}function R(t){return 0<t.modifiedEndLineNumber}function P(t){return 0<t.originalEndLineNumber}function O(){var t=document.createElement("div");return t.className="diagonal-fill",t}Object.defineProperty(e,"__esModule",{value:!0});var A=function(){function t(){this._zones=[],this._zonesMap={},this._decorations=[]}return t.prototype.getForeignViewZones=function(o){var n=this;return o.filter(function(t){return!n._zonesMap[t.id+""]})},t.prototype.clean=function(o){var r=this;0<this._zones.length&&o.changeViewZones(function(t){for(var e=0,o=r._zones.length;e<o;e++)t.removeZone(r._zones[e])}),this._zones=[],this._zonesMap={},0<this._decorations.length&&o.changeDecorations(function(t){t.deltaDecorations(r._decorations,[])}),this._decorations=[]},t.prototype.apply=function(o,e,a){var n=this;o.changeViewZones(function(i){for(var e=0,t=n._zones.length;e<t;e++)i.removeZone(n._zones[e]);n._zones=[],n._zonesMap={};for(var e=0,o=a.zones.length;e<o;e++){a.zones[e].suppressMouseDown=!0;var r=i.addZone(a.zones[e]);n._zones.push(r),n._zonesMap[r+""]=!0}}),this._decorations=o.deltaDecorations(this._decorations,a.decorations),e&&e.setZones(a.overviewZones)},t}(),W=0,B=function(_){function C(e,t,o,n,r,a,d,l){var p=_.call(this)||this;p._onDidDispose=p._register(new S.Emitter),p.onDidDispose=p._onDidDispose.event,p._onDidUpdateDiff=p._register(new S.Emitter),p.onDidUpdateDiff=p._onDidUpdateDiff.event,p._lastOriginalWarning=null,p._lastModifiedWarning=null,p._editorWorkerService=o,p._codeEditorService=a,p._contextKeyService=n.createScoped(e),p._contextKeyService.createKey("isInDiffEditor",!0),p._themeService=d,p._messageService=l,p.id=++W,p._domElement=e,t=t||{},p._renderSideBySide=!0,void 0!==t.renderSideBySide&&(p._renderSideBySide=t.renderSideBySide),p._ignoreTrimWhitespace=!0,void 0!==t.ignoreTrimWhitespace&&(p._ignoreTrimWhitespace=t.ignoreTrimWhitespace),p._renderIndicators=!0,void 0!==t.renderIndicators&&(p._renderIndicators=t.renderIndicators),p._originalIsEditable=!1,void 0!==t.originalEditable&&(p._originalIsEditable=!!t.originalEditable),p._updateDecorationsRunner=p._register(new X.RunOnceScheduler(function(){return p._updateDecorations()},0)),p._containerDomElement=document.createElement("div"),p._containerDomElement.className=C._getClassName(p._themeService.getTheme(),p._renderSideBySide),p._containerDomElement.style.position="relative",p._containerDomElement.style.height="100%",p._domElement.appendChild(p._containerDomElement),p._overviewViewportDomElement=s.createFastDomNode(document.createElement("div")),p._overviewViewportDomElement.setClassName("diffViewport"),p._overviewViewportDomElement.setPosition("absolute"),p._overviewDomElement=document.createElement("div"),p._overviewDomElement.className="diffOverview",p._overviewDomElement.style.position="absolute",p._overviewDomElement.appendChild(p._overviewViewportDomElement.domNode),p._register(i.addStandardDisposableListener(p._overviewDomElement,"mousedown",function(t){p.modifiedEditor.delegateVerticalScrollbarMouseDown(t)})),p._containerDomElement.appendChild(p._overviewDomElement),p._createLeftHandSide(),p._createRightHandSide(),p._beginUpdateDecorationsTimeout=-1,p._currentlyChangingViewZones=!1,p._diffComputationToken=0,p._originalEditorState=new A,p._modifiedEditorState=new A,p._isVisible=!0,p._isHandlingScrollEvent=!1,p._width=0,p._height=0,p._reviewHeight=0,p._lineChanges=null;var c=new b.ServiceCollection;c.set(u.IContextKeyService,p._contextKeyService);var g=r.createChild(c);return p._createLeftHandSideEditor(t,g),p._createRightHandSideEditor(t,g),p._reviewPane=new I.DiffReview(p),p._containerDomElement.appendChild(p._reviewPane.domNode.domNode),p._containerDomElement.appendChild(p._reviewPane.shadow.domNode),p._containerDomElement.appendChild(p._reviewPane.actionBarContainer.domNode),t.automaticLayout&&(p._measureDomElementToken=window.setInterval(function(){return p._measureDomElement(!1)},100)),p._enableSplitViewResizing=!0,void 0!==t.enableSplitViewResizing&&(p._enableSplitViewResizing=t.enableSplitViewResizing),p._renderSideBySide?p._setStrategy(new U(p._createDataSource(),p._enableSplitViewResizing)):p._setStrategy(new J(p._createDataSource(),p._enableSplitViewResizing)),p._codeEditorService.addDiffEditor(p),p._register(d.onThemeChange(function(t){p._strategy&&p._strategy.applyColors(t)&&p._updateDecorationsRunner.schedule(),p._containerDomElement.className=C._getClassName(p._themeService.getTheme(),p._renderSideBySide)})),p}return Z(C,_),Object.defineProperty(C.prototype,"ignoreTrimWhitespace",{get:function(){return this._ignoreTrimWhitespace},enumerable:!0,configurable:!0}),Object.defineProperty(C.prototype,"renderSideBySide",{get:function(){return this._renderSideBySide},enumerable:!0,configurable:!0}),Object.defineProperty(C.prototype,"renderIndicators",{get:function(){return this._renderIndicators},enumerable:!0,configurable:!0}),C.prototype.hasWidgetFocus=function(){return i.isAncestor(document.activeElement,this._domElement)},C.prototype.diffReviewNext=function(){this._reviewPane.next()},C.prototype.diffReviewPrev=function(){this._reviewPane.prev()},C._getClassName=function(o,e){var t="monaco-diff-editor monaco-editor-background ";return e&&(t+="side-by-side "),t+=L.getThemeTypeSelector(o.type)},C.prototype._recreateOverviewRulers=function(){this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._originalOverviewRuler=this.originalEditor.createOverviewRuler("original diffOverviewRuler",4,Number.MAX_VALUE),this._overviewDomElement.appendChild(this._originalOverviewRuler.getDomNode()),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._modifiedOverviewRuler=this.modifiedEditor.createOverviewRuler("modified diffOverviewRuler",4,Number.MAX_VALUE),this._overviewDomElement.appendChild(this._modifiedOverviewRuler.getDomNode()),this._layoutOverviewRulers()},C.prototype._createLeftHandSide=function(){this._originalDomNode=document.createElement("div"),this._originalDomNode.className="editor original",this._originalDomNode.style.position="absolute",this._originalDomNode.style.height="100%",this._containerDomElement.appendChild(this._originalDomNode)},C.prototype._createRightHandSide=function(){this._modifiedDomNode=document.createElement("div"),this._modifiedDomNode.className="editor modified",this._modifiedDomNode.style.position="absolute",this._modifiedDomNode.style.height="100%",this._containerDomElement.appendChild(this._modifiedDomNode)},C.prototype._createLeftHandSideEditor=function(o,e){var t=this;this.originalEditor=this._createInnerEditor(e,this._originalDomNode,this._adjustOptionsForLeftHandSide(o,this._originalIsEditable)),this._register(this.originalEditor.onDidScrollChange(function(o){t._isHandlingScrollEvent||(o.scrollTopChanged||o.scrollLeftChanged||o.scrollHeightChanged)&&(t._isHandlingScrollEvent=!0,t.modifiedEditor.setScrollPosition({scrollLeft:o.scrollLeft,scrollTop:o.scrollTop}),t._isHandlingScrollEvent=!1,t._layoutOverviewViewport())})),this._register(this.originalEditor.onDidChangeViewZones(function(){t._onViewZonesChanged()})),this._register(this.originalEditor.onDidChangeModelContent(function(){t._isVisible&&t._beginUpdateDecorationsSoon()}))},C.prototype._createRightHandSideEditor=function(o,e){var t=this;this.modifiedEditor=this._createInnerEditor(e,this._modifiedDomNode,this._adjustOptionsForRightHandSide(o)),this._register(this.modifiedEditor.onDidScrollChange(function(o){t._isHandlingScrollEvent||(o.scrollTopChanged||o.scrollLeftChanged||o.scrollHeightChanged)&&(t._isHandlingScrollEvent=!0,t.originalEditor.setScrollPosition({scrollLeft:o.scrollLeft,scrollTop:o.scrollTop}),t._isHandlingScrollEvent=!1,t._layoutOverviewViewport())})),this._register(this.modifiedEditor.onDidChangeViewZones(function(){t._onViewZonesChanged()})),this._register(this.modifiedEditor.onDidChangeConfiguration(function(o){o.fontInfo&&t.modifiedEditor.getModel()&&t._onViewZonesChanged()})),this._register(this.modifiedEditor.onDidChangeModelContent(function(){t._isVisible&&t._beginUpdateDecorationsSoon()}))},C.prototype._createInnerEditor=function(o,e,t){return o.createInstance(m.CodeEditor,e,t)},C.prototype.destroy=function(){this.dispose()},C.prototype.dispose=function(){this._codeEditorService.removeDiffEditor(this),window.clearInterval(this._measureDomElementToken),this._cleanViewZonesAndDecorations(),this._originalOverviewRuler.dispose(),this._modifiedOverviewRuler.dispose(),this.originalEditor.dispose(),this.modifiedEditor.dispose(),this._strategy.dispose(),this._reviewPane.dispose(),this._onDidDispose.fire(),_.prototype.dispose.call(this)},C.prototype.getId=function(){return this.getEditorType()+":"+this.id},C.prototype.getEditorType=function(){return p.EditorType.IDiffEditor},C.prototype.getLineChanges=function(){return this._lineChanges},C.prototype.getOriginalEditor=function(){return this.originalEditor},C.prototype.getModifiedEditor=function(){return this.modifiedEditor},C.prototype.updateOptions=function(t){var e=!1;void 0!==t.renderSideBySide&&this._renderSideBySide!==t.renderSideBySide&&(this._renderSideBySide=t.renderSideBySide,e=!0);var o=!1;void 0!==t.ignoreTrimWhitespace&&this._ignoreTrimWhitespace!==t.ignoreTrimWhitespace&&(this._ignoreTrimWhitespace=t.ignoreTrimWhitespace,o=!0),void 0!==t.renderIndicators&&this._renderIndicators!==t.renderIndicators&&(this._renderIndicators=t.renderIndicators,o=!0),o&&this._beginUpdateDecorations(),void 0!==t.originalEditable&&(this._originalIsEditable=!!t.originalEditable),this.modifiedEditor.updateOptions(this._adjustOptionsForRightHandSide(t)),this.originalEditor.updateOptions(this._adjustOptionsForLeftHandSide(t,this._originalIsEditable)),void 0!==t.enableSplitViewResizing&&(this._enableSplitViewResizing=t.enableSplitViewResizing),this._strategy.setEnableSplitViewResizing(this._enableSplitViewResizing),e&&(this._renderSideBySide?this._setStrategy(new U(this._createDataSource(),this._enableSplitViewResizing)):this._setStrategy(new J(this._createDataSource(),this._enableSplitViewResizing)),this._containerDomElement.className=C._getClassName(this._themeService.getTheme(),this._renderSideBySide))},C.prototype.getValue=function(t){return void 0===t&&(t=null),this.modifiedEditor.getValue(t)},C.prototype.getModel=function(){return{original:this.originalEditor.getModel(),modified:this.modifiedEditor.getModel()}},C.prototype.setModel=function(t){if(t&&(!t.original||!t.modified))throw new Error(t.original?"DiffEditorWidget.setModel: Modified model is null":"DiffEditorWidget.setModel: Original model is null");this._cleanViewZonesAndDecorations(),this.originalEditor.setModel(t?t.original:null),this.modifiedEditor.setModel(t?t.modified:null),this._updateDecorationsRunner.cancel(),t&&(this.originalEditor.setScrollTop(0),this.modifiedEditor.setScrollTop(0)),this._lineChanges=null,this._diffComputationToken++,t?(this._recreateOverviewRulers(),this._beginUpdateDecorations()):this._lineChanges=null,this._layoutOverviewViewport()},C.prototype.getDomNode=function(){return this._domElement},C.prototype.getVisibleColumnFromPosition=function(t){return this.modifiedEditor.getVisibleColumnFromPosition(t)},C.prototype.getPosition=function(){return this.modifiedEditor.getPosition()},C.prototype.setPosition=function(o,e,t,n){this.modifiedEditor.setPosition(o,e,t,n)},C.prototype.revealLine=function(t){this.modifiedEditor.revealLine(t)},C.prototype.revealLineInCenter=function(t){this.modifiedEditor.revealLineInCenter(t)},C.prototype.revealLineInCenterIfOutsideViewport=function(t){this.modifiedEditor.revealLineInCenterIfOutsideViewport(t)},C.prototype.revealPosition=function(o,e,t){void 0===e&&(e=!1),void 0===t&&(t=!1),this.modifiedEditor.revealPosition(o,e,t)},C.prototype.revealPositionInCenter=function(t){this.modifiedEditor.revealPositionInCenter(t)},C.prototype.revealPositionInCenterIfOutsideViewport=function(t){this.modifiedEditor.revealPositionInCenterIfOutsideViewport(t)},C.prototype.getSelection=function(){return this.modifiedEditor.getSelection()},C.prototype.getSelections=function(){return this.modifiedEditor.getSelections()},C.prototype.setSelection=function(o,e,t,n){this.modifiedEditor.setSelection(o,e,t,n)},C.prototype.setSelections=function(t){this.modifiedEditor.setSelections(t)},C.prototype.revealLines=function(o,e){this.modifiedEditor.revealLines(o,e)},C.prototype.revealLinesInCenter=function(o,e){this.modifiedEditor.revealLinesInCenter(o,e)},C.prototype.revealLinesInCenterIfOutsideViewport=function(o,e){this.modifiedEditor.revealLinesInCenterIfOutsideViewport(o,e)},C.prototype.revealRange=function(o,e,t){void 0===e&&(e=!1),void 0===t&&(t=!0),this.modifiedEditor.revealRange(o,e,t)},C.prototype.revealRangeInCenter=function(t){this.modifiedEditor.revealRangeInCenter(t)},C.prototype.revealRangeInCenterIfOutsideViewport=function(t){this.modifiedEditor.revealRangeInCenterIfOutsideViewport(t)},C.prototype.revealRangeAtTop=function(t){this.modifiedEditor.revealRangeAtTop(t)},C.prototype.getActions=function(){return this.modifiedEditor.getActions()},C.prototype.getSupportedActions=function(){return this.modifiedEditor.getSupportedActions()},C.prototype.getAction=function(t){return this.modifiedEditor.getAction(t)},C.prototype.saveViewState=function(){return{original:this.originalEditor.saveViewState(),modified:this.modifiedEditor.saveViewState()}},C.prototype.restoreViewState=function(o){if(o.original&&o.original){var e=o;this.originalEditor.restoreViewState(e.original),this.modifiedEditor.restoreViewState(e.modified)}},C.prototype.layout=function(t){this._measureDomElement(!1,t)},C.prototype.focus=function(){this.modifiedEditor.focus()},C.prototype.isFocused=function(){return this.originalEditor.isFocused()||this.modifiedEditor.isFocused()},C.prototype.onVisible=function(){this._isVisible=!0,this.originalEditor.onVisible(),this.modifiedEditor.onVisible(),this._beginUpdateDecorations()},C.prototype.onHide=function(){this._isVisible=!1,this.originalEditor.onHide(),this.modifiedEditor.onHide(),this._cleanViewZonesAndDecorations()},C.prototype.trigger=function(o,e,t){this.modifiedEditor.trigger(o,e,t)},C.prototype.changeDecorations=function(t){return this.modifiedEditor.changeDecorations(t)},C.prototype._measureDomElement=function(o,e){return 0>=(e=e||{width:this._containerDomElement.clientWidth,height:this._containerDomElement.clientHeight}).width?(this._width=0,this._height=0,void(this._reviewHeight=0)):void((o||e.width!==this._width||e.height!==this._height)&&(this._width=e.width,this._height=e.height,this._reviewHeight=this._reviewPane.isVisible()?this._height:0,this._doLayout()))},C.prototype._layoutOverviewRulers=function(){var t=C.ENTIRE_DIFF_OVERVIEW_WIDTH-2*C.ONE_OVERVIEW_WIDTH;this.modifiedEditor.getLayoutInfo()&&(this._originalOverviewRuler.setLayout({top:0,width:C.ONE_OVERVIEW_WIDTH,right:t+C.ONE_OVERVIEW_WIDTH,height:this._height-this._reviewHeight}),this._modifiedOverviewRuler.setLayout({top:0,right:0,width:C.ONE_OVERVIEW_WIDTH,height:this._height-this._reviewHeight}))},C.prototype._onViewZonesChanged=function(){this._currentlyChangingViewZones||this._updateDecorationsRunner.schedule()},C.prototype._beginUpdateDecorationsSoon=function(){var t=this;-1!==this._beginUpdateDecorationsTimeout&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._beginUpdateDecorationsTimeout=window.setTimeout(function(){return t._beginUpdateDecorations()},C.UPDATE_DIFF_DECORATIONS_DELAY)},C._equals=function(o,n){return!o&&!n||o&&n&&o.toString()===n.toString()},C.prototype._beginUpdateDecorations=function(){var a=this;this._beginUpdateDecorationsTimeout=-1;var e=this.originalEditor.getModel(),i=this.modifiedEditor.getModel();if(e&&i){this._diffComputationToken++;var o=this._diffComputationToken;this._editorWorkerService.canComputeDiff(e.uri,i.uri)?this._editorWorkerService.computeDiff(e.uri,i.uri,this._ignoreTrimWhitespace).then(function(n){o===a._diffComputationToken&&e===a.originalEditor.getModel()&&i===a.modifiedEditor.getModel()&&(a._lineChanges=n,a._updateDecorationsRunner.schedule(),a._onDidUpdateDiff.fire())},function(){o===a._diffComputationToken&&e===a.originalEditor.getModel()&&i===a.modifiedEditor.getModel()&&(a._lineChanges=null,a._updateDecorationsRunner.schedule())}):C._equals(e.uri,this._lastOriginalWarning)&&C._equals(i.uri,this._lastModifiedWarning)||(this._lastOriginalWarning=e.uri,this._lastModifiedWarning=i.uri,this._messageService.show(n.default.Warning,y.localize(0,null)))}},C.prototype._cleanViewZonesAndDecorations=function(){this._originalEditorState.clean(this.originalEditor),this._modifiedEditorState.clean(this.modifiedEditor)},C.prototype._updateDecorations=function(){if(this.originalEditor.getModel()&&this.modifiedEditor.getModel()){var o=this._lineChanges||[],e=this._originalEditorState.getForeignViewZones(this.originalEditor.getWhitespaces()),t=this._modifiedEditorState.getForeignViewZones(this.modifiedEditor.getWhitespaces()),n=this._strategy.getEditorsDiffDecorations(o,this._ignoreTrimWhitespace,this._renderIndicators,e,t,this.originalEditor,this.modifiedEditor);try{this._currentlyChangingViewZones=!0,this._originalEditorState.apply(this.originalEditor,this._originalOverviewRuler,n.original),this._modifiedEditorState.apply(this.modifiedEditor,this._modifiedOverviewRuler,n.modified)}finally{this._currentlyChangingViewZones=!1}}},C.prototype._adjustOptionsForSubEditor=function(n){var e=o.clone(n||{});return e.inDiffEditor=!0,e.wordWrap="off",e.wordWrapMinified=!1,e.automaticLayout=!1,e.scrollbar=e.scrollbar||{},e.scrollbar.vertical="visible",e.folding=!1,e.codeLens=!1,e.fixedOverflowWidgets=!0,e.lineDecorationsWidth="2ch",e.minimap||(e.minimap={}),e.minimap.enabled=!1,e},C.prototype._adjustOptionsForLeftHandSide=function(o,e){var i=this._adjustOptionsForSubEditor(o);return i.readOnly=!e,i.overviewRulerLanes=1,i.extraEditorClassName="original-in-monaco-diff-editor",i},C.prototype._adjustOptionsForRightHandSide=function(t){var e=this._adjustOptionsForSubEditor(t);return e.revealHorizontalRightPadding=E.EDITOR_DEFAULTS.viewInfo.revealHorizontalRightPadding+C.ENTIRE_DIFF_OVERVIEW_WIDTH,e.scrollbar.verticalHasArrows=!1,e.extraEditorClassName="modified-in-monaco-diff-editor",e},C.prototype.doLayout=function(){this._measureDomElement(!0)},C.prototype._doLayout=function(){var t=this._strategy.layout();this._originalDomNode.style.width=t+"px",this._originalDomNode.style.left="0px",this._modifiedDomNode.style.width=this._width-t+"px",this._modifiedDomNode.style.left=t+"px",this._overviewDomElement.style.top="0px",this._overviewDomElement.style.height=this._height-this._reviewHeight+"px",this._overviewDomElement.style.width=C.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewDomElement.style.left=this._width-C.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewViewportDomElement.setWidth(C.ENTIRE_DIFF_OVERVIEW_WIDTH),this._overviewViewportDomElement.setHeight(30),this.originalEditor.layout({width:t,height:this._height-this._reviewHeight}),this.modifiedEditor.layout({width:this._width-t-C.ENTIRE_DIFF_OVERVIEW_WIDTH,height:this._height-this._reviewHeight}),(this._originalOverviewRuler||this._modifiedOverviewRuler)&&this._layoutOverviewRulers(),this._reviewPane.layout(this._height-this._reviewHeight,this._width,this._reviewHeight),this._layoutOverviewViewport()},C.prototype._layoutOverviewViewport=function(){var t=this._computeOverviewViewport();t?(this._overviewViewportDomElement.setTop(t.top),this._overviewViewportDomElement.setHeight(t.height)):(this._overviewViewportDomElement.setTop(0),this._overviewViewportDomElement.setHeight(0))},C.prototype._computeOverviewViewport=function(){var a=this.modifiedEditor.getLayoutInfo();if(!a)return null;var s=this.modifiedEditor.getScrollTop(),t=this.modifiedEditor.getScrollHeight(),n=G(0,a.contentHeight),i=G(0,n-0),o=0<t?i/t:0;return{height:G(0,M(a.contentHeight*o)),top:M(s*o)}},C.prototype._createDataSource=function(){var t=this;return{getWidth:function(){return t._width},getHeight:function(){return t._height-t._reviewHeight},getContainerDomNode:function(){return t._containerDomElement},relayoutEditors:function(){t._doLayout()},getOriginalEditor:function(){return t.originalEditor},getModifiedEditor:function(){return t.modifiedEditor}}},C.prototype._setStrategy=function(t){this._strategy&&this._strategy.dispose(),this._strategy=t,t.applyColors(this._themeService.getTheme()),this._lineChanges&&this._updateDecorations(),this._measureDomElement(!0)},C.prototype._getLineChangeAtOrBeforeLineNumber=function(a,e){if(0===this._lineChanges.length||a<e(this._lineChanges[0]))return null;for(var t=0,n=this._lineChanges.length-1;t<n;){var i=M((t+n)/2),o=e(this._lineChanges[i]),r=i+1<=n?e(this._lineChanges[i+1]):T;a<o?n=i-1:a>=r?t=i+1:(t=i,n=i)}return this._lineChanges[t]},C.prototype._getEquivalentLineForOriginalLineNumber=function(a){var e=this._getLineChangeAtOrBeforeLineNumber(a,function(t){return t.originalStartLineNumber});if(!e)return a;var d=e.originalStartLineNumber+(0<e.originalEndLineNumber?-1:0),n=e.modifiedStartLineNumber+(0<e.modifiedEndLineNumber?-1:0),i=0<e.originalEndLineNumber?e.originalEndLineNumber-e.originalStartLineNumber+1:0,o=0<e.modifiedEndLineNumber?e.modifiedEndLineNumber-e.modifiedStartLineNumber+1:0,r=a-d;return r<=i?n+q(r,o):n+o-i+r},C.prototype._getEquivalentLineForModifiedLineNumber=function(a){var e=this._getLineChangeAtOrBeforeLineNumber(a,function(t){return t.modifiedStartLineNumber});if(!e)return a;var d=e.originalStartLineNumber+(0<e.originalEndLineNumber?-1:0),n=e.modifiedStartLineNumber+(0<e.modifiedEndLineNumber?-1:0),i=0<e.originalEndLineNumber?e.originalEndLineNumber-e.originalStartLineNumber+1:0,o=0<e.modifiedEndLineNumber?e.modifiedEndLineNumber-e.modifiedStartLineNumber+1:0,r=a-n;return r<=o?d+q(r,i):d+i-o+r},C.prototype.getDiffLineInformationForOriginal=function(t){return this._lineChanges?{equivalentLineNumber:this._getEquivalentLineForOriginalLineNumber(t)}:null},C.prototype.getDiffLineInformationForModified=function(t){return this._lineChanges?{equivalentLineNumber:this._getEquivalentLineForModifiedLineNumber(t)}:null},C.ONE_OVERVIEW_WIDTH=15,C.ENTIRE_DIFF_OVERVIEW_WIDTH=30,C.UPDATE_DIFF_DECORATIONS_DELAY=200,C=F([v(2,l.IEditorWorkerService),v(3,u.IContextKeyService),v(4,a.IInstantiationService),v(5,d.ICodeEditorService),v(6,L.IThemeService),v(7,k.IMessageService)],C)}(t.Disposable);e.DiffEditorWidget=B;var V=function(o){function e(e){var i=o.call(this)||this;return i._dataSource=e,i}return Z(e,o),e.prototype.applyColors=function(o){var e=(o.getColor(w.diffInserted)||w.defaultInsertColor).transparent(2),t=(o.getColor(w.diffRemoved)||w.defaultRemoveColor).transparent(2),n=!e.equals(this._insertColor)||!t.equals(this._removeColor);return this._insertColor=e,this._removeColor=t,n},e.prototype.getEditorsDiffDecorations=function(d,e,t,n,i,o,r){i=i.sort(function(o,e){return o.afterLineNumber-e.afterLineNumber}),n=n.sort(function(o,e){return o.afterLineNumber-e.afterLineNumber});var s=this._getViewZones(d,n,i,o,r,t),a=this._getOriginalEditorDecorations(d,e,t,o,r),p=this._getModifiedEditorDecorations(d,e,t,o,r);return{original:{decorations:a.decorations,overviewZones:a.overviewZones,zones:s.original},modified:{decorations:p.decorations,overviewZones:p.overviewZones,zones:s.modified}}},e.prototype._getViewZones=function(){return null},e.prototype._getOriginalEditorDecorations=function(){return null},e.prototype._getModifiedEditorDecorations=function(){return null},e}(t.Disposable),H=function(){function t(t){this._source=t,this._index=-1,this.advance()}return t.prototype.advance=function(){this._index++,this.current=this._index<this._source.length?this._source[this._index]:null},t}(),z=function(){function t(o,i,t){this.lineChanges=o,this.originalForeignVZ=i,this.modifiedForeignVZ=t}return t.prototype.getViewZones=function(){for(var L={original:[],modified:[]},e=0,t=0,n=0,i=0,o=0,r=0,s=function(o,e){return o.afterLineNumber-e.afterLineNumber},a=function(o,e){if(null===e.domNode&&0<o.length){var t=o[o.length-1];if(t.afterLineNumber===e.afterLineNumber&&null===t.domNode)return void(t.heightInLines+=e.heightInLines)}o.push(e)},u=new H(this.modifiedForeignVZ),l=new H(this.originalForeignVZ),c=0,d=this.lineChanges.length,h;c<=d;c++){h=c<d?this.lineChanges[c]:null,null===h?(o=n+=1e7+t,r=i+=1e7+e):(n=h.originalStartLineNumber+(0<h.originalEndLineNumber?-1:0),i=h.modifiedStartLineNumber+(0<h.modifiedEndLineNumber?-1:0),t=0<h.originalEndLineNumber?h.originalEndLineNumber-h.originalStartLineNumber+1:0,e=0<h.modifiedEndLineNumber?h.modifiedEndLineNumber-h.modifiedStartLineNumber+1:0,o=G(h.originalStartLineNumber,h.originalEndLineNumber),r=G(h.modifiedStartLineNumber,h.modifiedEndLineNumber));for(var p=[],f=[];u.current&&u.current.afterLineNumber<=r;)g=void 0,g=u.current.afterLineNumber<=i?n-i+u.current.afterLineNumber:o,p.push({afterLineNumber:g,heightInLines:u.current.heightInLines,domNode:null}),u.advance();for(;l.current&&l.current.afterLineNumber<=o;){var g=void 0;g=l.current.afterLineNumber<=n?i-n+l.current.afterLineNumber:r,f.push({afterLineNumber:g,heightInLines:l.current.heightInLines,domNode:null}),l.advance()}if(null!==h&&R(h)&&(x=this._produceOriginalFromDiff(h,t,e))&&p.push(x),null!==h&&P(h)){var x=this._produceModifiedFromDiff(h,t,e);x&&f.push(x)}var v=0,_=0;for(p=p.sort(s),f=f.sort(s);v<p.length&&_<f.length;){var y=p[v],C=f[_],b=y.afterLineNumber-n,w=C.afterLineNumber-i;b<w?(a(L.original,y),v++):w<b?(a(L.modified,C),_++):y.shouldNotShrink?(a(L.original,y),v++):C.shouldNotShrink?(a(L.modified,C),_++):y.heightInLines>=C.heightInLines?(y.heightInLines-=C.heightInLines,_++):(C.heightInLines-=y.heightInLines,v++)}for(;v<p.length;)a(L.original,p[v]),v++;for(;_<f.length;)a(L.modified,f[_]),_++}var S=function(t){t.domNode||(t.domNode=O())};return L.original.forEach(S),L.modified.forEach(S),L},t}(),K={charDelete:N.ModelDecorationOptions.register({className:"char-delete"}),charDeleteWholeLine:N.ModelDecorationOptions.register({className:"char-delete",isWholeLine:!0}),charInsert:N.ModelDecorationOptions.register({className:"char-insert"}),charInsertWholeLine:N.ModelDecorationOptions.register({className:"char-insert",isWholeLine:!0}),lineInsert:N.ModelDecorationOptions.register({className:"line-insert",marginClassName:"line-insert",isWholeLine:!0}),lineInsertWithSign:N.ModelDecorationOptions.register({className:"line-insert",linesDecorationsClassName:"insert-sign",marginClassName:"line-insert",isWholeLine:!0}),lineDelete:N.ModelDecorationOptions.register({className:"line-delete",marginClassName:"line-delete",isWholeLine:!0}),lineDeleteWithSign:N.ModelDecorationOptions.register({className:"line-delete",linesDecorationsClassName:"delete-sign",marginClassName:"line-delete",isWholeLine:!0}),lineDeleteMargin:N.ModelDecorationOptions.register({marginClassName:"line-delete"})},U=function(o){function a(e,a){var n=o.call(this,e)||this;return n._disableSash=!1===a,n._sashRatio=null,n._sashPosition=null,n._sash=n._register(new r.Sash(n._dataSource.getContainerDomNode(),n)),n._disableSash&&n._sash.disable(),n._sash.addListener("start",function(){return n.onSashDragStart()}),n._sash.addListener("change",function(t){return n.onSashDrag(t)}),n._sash.addListener("end",function(){return n.onSashDragEnd()}),n._sash.addListener("reset",function(){return n.onSashReset()}),n}return Z(a,o),a.prototype.dispose=function(){o.prototype.dispose.call(this)},a.prototype.setEnableSplitViewResizing=function(o){var e=!1===o;this._disableSash!==e&&(this._disableSash=e,this._disableSash?this._sash.disable():this._sash.enable())},a.prototype.layout=function(t){void 0===t&&(t=this._sashRatio);var e=this._dataSource.getWidth()-B.ENTIRE_DIFF_OVERVIEW_WIDTH,n=M((t||.5)*e),i=M(.5*e);return n=this._disableSash?i:n||i,e>2*a.MINIMUM_EDITOR_WIDTH?(n<a.MINIMUM_EDITOR_WIDTH&&(n=a.MINIMUM_EDITOR_WIDTH),n>e-a.MINIMUM_EDITOR_WIDTH&&(n=e-a.MINIMUM_EDITOR_WIDTH)):n=i,this._sashPosition!==n&&(this._sashPosition=n,this._sash.layout()),this._sashPosition},a.prototype.onSashDragStart=function(){this._startSashPosition=this._sashPosition},a.prototype.onSashDrag=function(o){var e=this._dataSource.getWidth()-B.ENTIRE_DIFF_OVERVIEW_WIDTH,t=this.layout((this._startSashPosition+(o.currentX-o.startX))/e);this._sashRatio=t/e,this._dataSource.relayoutEditors()},a.prototype.onSashDragEnd=function(){this._sash.layout()},a.prototype.onSashReset=function(){this._sashRatio=.5,this._dataSource.relayoutEditors(),this._sash.layout()},a.prototype.getVerticalSashTop=function(){return 0},a.prototype.getVerticalSashLeft=function(){return this._sashPosition},a.prototype.getVerticalSashHeight=function(){return this._dataSource.getHeight()},a.prototype._getViewZones=function(o,e,t){return new j(o,e,t).getViewZones()},a.prototype._getOriginalEditorDecorations=function(o,e,t,n){for(var i={decorations:[],overviewZones:[]},r=n.getModel(),s=0,a=o.length,u;s<a;s++)if(u=o[s],P(u)){i.decorations.push({range:new $.Range(u.originalStartLineNumber,1,u.originalEndLineNumber,T),options:t?K.lineDeleteWithSign:K.lineDelete}),R(u)&&u.charChanges||i.decorations.push(D(u.originalStartLineNumber,1,u.originalEndLineNumber,Number.MAX_VALUE,K.charDeleteWholeLine));var l=this._removeColor.toString();if(i.overviewZones.push(new x.OverviewRulerZone(u.originalStartLineNumber,u.originalEndLineNumber,p.OverviewRulerLane.Full,0,l,l,l)),u.charChanges)for(var c=0,d=u.charChanges.length,g;c<d;c++)if(g=u.charChanges[c],P(g))if(e)for(var h=g.originalStartLineNumber;h<=g.originalEndLineNumber;h++){var m=void 0,f=void 0;m=h===g.originalStartLineNumber?g.originalStartColumn:r.getLineFirstNonWhitespaceColumn(h),f=h===g.originalEndLineNumber?g.originalEndColumn:r.getLineLastNonWhitespaceColumn(h),i.decorations.push(D(h,m,h,f,K.charDelete))}else i.decorations.push(D(g.originalStartLineNumber,g.originalStartColumn,g.originalEndLineNumber,g.originalEndColumn,K.charDelete))}return i},a.prototype._getModifiedEditorDecorations=function(g,e,t,n,i){for(var o={decorations:[],overviewZones:[]},r=i.getModel(),s=0,a=g.length,u;s<a;s++)if(u=g[s],R(u)){o.decorations.push({range:new $.Range(u.modifiedStartLineNumber,1,u.modifiedEndLineNumber,T),options:t?K.lineInsertWithSign:K.lineInsert}),P(u)&&u.charChanges||o.decorations.push(D(u.modifiedStartLineNumber,1,u.modifiedEndLineNumber,Number.MAX_VALUE,K.charInsertWholeLine));var l=this._insertColor.toString();if(o.overviewZones.push(new x.OverviewRulerZone(u.modifiedStartLineNumber,u.modifiedEndLineNumber,p.OverviewRulerLane.Full,0,l,l,l)),u.charChanges)for(var c=0,d=u.charChanges.length,h;c<d;c++)if(h=u.charChanges[c],R(h))if(e)for(var f=h.modifiedStartLineNumber;f<=h.modifiedEndLineNumber;f++){var m=void 0,y=void 0;m=f===h.modifiedStartLineNumber?h.modifiedStartColumn:r.getLineFirstNonWhitespaceColumn(f),y=f===h.modifiedEndLineNumber?h.modifiedEndColumn:r.getLineLastNonWhitespaceColumn(f),o.decorations.push(D(f,m,f,y,K.charInsert))}else o.decorations.push(D(h.modifiedStartLineNumber,h.modifiedStartColumn,h.modifiedEndLineNumber,h.modifiedEndColumn,K.charInsert))}return o},a.MINIMUM_EDITOR_WIDTH=100,a}(V),j=function(o){function e(e,r,n){return o.call(this,e,r,n)||this}return Z(e,o),e.prototype._produceOriginalFromDiff=function(o,e,t){return t>e?{afterLineNumber:G(o.originalStartLineNumber,o.originalEndLineNumber),heightInLines:t-e,domNode:null}:null},e.prototype._produceModifiedFromDiff=function(o,e,t){return e>t?{afterLineNumber:G(o.modifiedStartLineNumber,o.modifiedEndLineNumber),heightInLines:e-t,domNode:null}:null},e}(z),J=function(o){function e(n){var r=o.call(this,n)||this;return r.decorationsLeft=n.getOriginalEditor().getLayoutInfo().decorationsLeft,r._register(n.getOriginalEditor().onDidLayoutChange(function(t){r.decorationsLeft!==t.decorationsLeft&&(r.decorationsLeft=t.decorationsLeft,n.relayoutEditors())})),r}return Z(e,o),e.prototype.dispose=function(){o.prototype.dispose.call(this)},e.prototype.setEnableSplitViewResizing=function(){},e.prototype._getViewZones=function(a,e,t,n,i,o){return new Q(a,e,t,n,i,o).getViewZones()},e.prototype._getOriginalEditorDecorations=function(t){for(var e={decorations:[],overviewZones:[]},o=0,n=t.length,i;o<n;o++)if(i=t[o],P(i)){e.decorations.push({range:new $.Range(i.originalStartLineNumber,1,i.originalEndLineNumber,T),options:K.lineDeleteMargin});var r=this._removeColor.toString();e.overviewZones.push(new x.OverviewRulerZone(i.originalStartLineNumber,i.originalEndLineNumber,p.OverviewRulerLane.Full,0,r,r,r))}return e},e.prototype._getModifiedEditorDecorations=function(g,e,t,n,i){for(var o={decorations:[],overviewZones:[]},r=i.getModel(),s=0,a=g.length,u;s<a;s++)if(u=g[s],R(u)){o.decorations.push({range:new $.Range(u.modifiedStartLineNumber,1,u.modifiedEndLineNumber,T),options:t?K.lineInsertWithSign:K.lineInsert});var l=this._insertColor.toString();if(o.overviewZones.push(new x.OverviewRulerZone(u.modifiedStartLineNumber,u.modifiedEndLineNumber,p.OverviewRulerLane.Full,0,l,l,l)),u.charChanges){for(var c=0,d=u.charChanges.length,h;c<d;c++)if(h=u.charChanges[c],R(h))if(e)for(var f=h.modifiedStartLineNumber;f<=h.modifiedEndLineNumber;f++){var m=void 0,y=void 0;m=f===h.modifiedStartLineNumber?h.modifiedStartColumn:r.getLineFirstNonWhitespaceColumn(f),y=f===h.modifiedEndLineNumber?h.modifiedEndColumn:r.getLineLastNonWhitespaceColumn(f),o.decorations.push(D(f,m,f,y,K.charInsert))}else o.decorations.push(D(h.modifiedStartLineNumber,h.modifiedStartColumn,h.modifiedEndLineNumber,h.modifiedEndColumn,K.charInsert));}else o.decorations.push(D(u.modifiedStartLineNumber,1,u.modifiedEndLineNumber,Number.MAX_VALUE,K.charInsertWholeLine))}return o},e.prototype.layout=function(){return G(5,this.decorationsLeft)},e}(V),Q=function(d){function e(e,l,n,i,o,r){var s=d.call(this,e,l,n)||this;return s.originalModel=i.getModel(),s.modifiedEditorConfiguration=o.getConfiguration(),s.modifiedEditorTabSize=o.getModel().getOptions().tabSize,s.renderIndicators=r,s}return Z(e,d),e.prototype._produceOriginalFromDiff=function(o,e,t){var r=document.createElement("div");return r.className="inline-added-margin-view-zone",_.Configuration.applyFontInfoSlow(r,this.modifiedEditorConfiguration.fontInfo),{afterLineNumber:G(o.originalStartLineNumber,o.originalEndLineNumber),heightInLines:t,domNode:document.createElement("div"),marginDomNode:r}},e.prototype._produceModifiedFromDiff=function(n,e){var p=[];if(n.charChanges)for(var i=0,o=n.charChanges.length,r;i<o;i++)r=n.charChanges[i],P(r)&&p.push(new C.InlineDecoration(new $.Range(r.originalStartLineNumber,r.originalStartColumn,r.originalEndLineNumber,r.originalEndColumn),"char-delete",!1));for(var s=[],a=[],u=this.modifiedEditorConfiguration.layoutInfo.decorationsWidth,l=this.modifiedEditorConfiguration.lineHeight,c=n.originalStartLineNumber;c<=n.originalEndLineNumber;c++)if(s=s.concat(this.renderOriginalLine(c-n.originalStartLineNumber,this.originalModel,this.modifiedEditorConfiguration,this.modifiedEditorTabSize,c,p)),this.renderIndicators){var d=c-n.originalStartLineNumber;a=a.concat(["<div class=\"delete-sign\" style=\"position:absolute;top:"+d*l+"px;width:"+u+"px;height:"+l+"px;right:0;\"></div>"])}var m=document.createElement("div");m.className="view-lines line-delete",m.innerHTML=s.join(""),_.Configuration.applyFontInfoSlow(m,this.modifiedEditorConfiguration.fontInfo);var h=document.createElement("div");return h.className="inline-deleted-margin-view-zone",h.innerHTML=a.join(""),_.Configuration.applyFontInfoSlow(h,this.modifiedEditorConfiguration.fontInfo),{shouldNotShrink:!0,afterLineNumber:0===n.modifiedEndLineNumber?n.modifiedStartLineNumber:n.modifiedStartLineNumber-1,heightInLines:e,domNode:m,marginDomNode:h}},e.prototype.renderOriginalLine=function(d,e,t,n,i,o){var r=e.getLineContent(i),s=c.LineDecoration.filter(o,i,1,r.length+1),a=g.renderViewLine(new g.RenderLineInput(t.fontInfo.isMonospace&&!t.viewInfo.disableMonospaceOptimizations,r,e.mightContainRTL(),0,[new h.ViewLineToken(r.length,16793600)],s,n,t.fontInfo.spaceWidth,t.viewInfo.stopRenderingLineAfter,t.viewInfo.renderWhitespace,t.viewInfo.renderControlCharacters,t.viewInfo.fontLigatures)),p=[];return p.push("<div class=\"view-line"),0===o.length&&p.push(" char-delete"),p.push("\" style=\"top:"),p.push(d*t.lineHeight+""),p.push("px;width:1000000px;\">"),(p=p.concat(a.html)).push("</div>"),p},e}(z);L.registerThemingParticipant(function(a,e){var t=a.getColor(w.diffInserted);t&&(e.addRule(".monaco-editor .line-insert, .monaco-editor .char-insert { background-color: "+t+"; }"),e.addRule(".monaco-diff-editor .line-insert, .monaco-diff-editor .char-insert { background-color: "+t+"; }"),e.addRule(".monaco-editor .inline-added-margin-view-zone { background-color: "+t+"; }"));var n=a.getColor(w.diffRemoved);n&&(e.addRule(".monaco-editor .line-delete, .monaco-editor .char-delete { background-color: "+n+"; }"),e.addRule(".monaco-diff-editor .line-delete, .monaco-diff-editor .char-delete { background-color: "+n+"; }"),e.addRule(".monaco-editor .inline-deleted-margin-view-zone { background-color: "+n+"; }"));var i=a.getColor(w.diffInsertedOutline);i&&e.addRule(".monaco-editor .line-insert, .monaco-editor .char-insert { border: 1px dashed "+i+"; }");var o=a.getColor(w.diffRemovedOutline);o&&e.addRule(".monaco-editor .line-delete, .monaco-editor .char-delete { border: 1px dashed "+o+"; }");var r=a.getColor(w.scrollbarShadow);r&&e.addRule(".monaco-diff-editor.side-by-side .editor.modified { box-shadow: -6px 0 5px -5px "+r+"; }")})}),define(s[194],n([1,0,26,16,31,19,42,141,14]),function(d,e,p,n,i,o,r,t,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=function(d){function e(e,p,n,i,o,r,s,a){var c=d.call(this,e,n.getRawConfiguration(),i,o,r,s,a)||this;return c._parentEditor=n,c._overwriteOptions=p,d.prototype.updateOptions.call(c,c._overwriteOptions),c._register(n.onDidChangeConfiguration(function(t){return c._onParentConfigurationChanged(t)})),c}return Z(e,d),e.prototype.getParentEditor=function(){return this._parentEditor},e.prototype._onParentConfigurationChanged=function(){d.prototype.updateOptions.call(this,this._parentEditor.getRawConfiguration()),d.prototype.updateOptions.call(this,this._overwriteOptions)},e.prototype.updateOptions=function(e){p.mixin(this._overwriteOptions,e,!0),d.prototype.updateOptions.call(this,this._overwriteOptions)},e=F([v(3,n.IInstantiationService),v(4,r.ICodeEditorService),v(5,i.ICommandService),v(6,o.IContextKeyService),v(7,a.IThemeService)],e)}(t.CodeEditor);e.EmbeddedCodeEditorWidget=s}),define(s[514],n([1,0,341,3,12,18,20,13,21,14,37,34]),function(g,e,t,n,_,o,i,r,a,s,l,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),!function(o){function e(){return o.call(this,{id:"editor.action.jumpToBracket",label:t.localize(0,null),alias:"Go to Bracket",precondition:null,kbOpts:{kbExpr:a.EditorContextKeys.textFocus,primary:3160}})||this}Z(e,o),e.prototype.run=function(o,e){var t=d.get(e);t&&t.jumpToBracket()},e=F([r.editorAction],e)}(r.EditorAction);var u=function(){return function(o,e){this.position=o,this.brackets=e}}(),d=function(a){function e(e){var i=a.call(this)||this;return i._editor=e,i._lastBracketsData=[],i._lastVersionId=0,i._decorations=[],i._updateBracketsSoon=i._register(new o.RunOnceScheduler(function(){return i._updateBrackets()},50)),i._matchBrackets=i._editor.getConfiguration().contribInfo.matchBrackets,i._updateBracketsSoon.schedule(),i._register(e.onDidChangeCursorPosition(function(){i._matchBrackets&&i._updateBracketsSoon.schedule()})),i._register(e.onDidChangeModel(function(){i._decorations=[],i._updateBracketsSoon.schedule()})),i._register(e.onDidChangeConfiguration(function(){i._matchBrackets=i._editor.getConfiguration().contribInfo.matchBrackets,!i._matchBrackets&&0<i._decorations.length&&(i._decorations=i._editor.deltaDecorations(i._decorations,[])),i._updateBracketsSoon.schedule()})),i}return Z(e,a),s=e,e.get=function(t){return t.getContribution(s.ID)},e.prototype.getId=function(){return s.ID},e.prototype.jumpToBracket=function(){var r=this._editor.getModel();if(r){var e=this._editor.getSelection();if(e.isEmpty()){var t=e.getStartPosition(),n=r.matchBracket(t);if(n){var i=null;n[0].containsPosition(t)?i=n[1].getStartPosition():n[1].containsPosition(t)&&(i=n[0].getStartPosition()),i&&(this._editor.setPosition(i),this._editor.revealPosition(i))}}}},e.prototype._updateBrackets=function(){if(this._matchBrackets){this._recomputeBrackets();for(var n=[],e=0,t=0,i=this._lastBracketsData.length,o;t<i;t++)o=this._lastBracketsData[t].brackets,o&&(n[e++]={range:o[0],options:s._DECORATION_OPTIONS},n[e++]={range:o[1],options:s._DECORATION_OPTIONS});this._decorations=this._editor.deltaDecorations(this._decorations,n)}},e.prototype._recomputeBrackets=function(){var o=this._editor.getModel();if(!o)return this._lastBracketsData=[],void(this._lastVersionId=0);var h=o.getVersionId(),t=[];this._lastVersionId===h&&(t=this._lastBracketsData);for(var n=this._editor.getSelections(),i=[],r=0,s=0,a=n.length,y;s<a;s++)y=n[s],y.isEmpty()&&(i[r++]=y.getStartPosition());1<i.length&&i.sort(_.Position.compare);for(var l=[],c=0,d=0,p=t.length,s=0,a=i.length;s<a;s++){for(var f=i[s];d<p&&t[d].position.isBefore(f);)d++;if(d<p&&t[d].position.equals(f))l[c++]=t[d];else{var g=o.matchBracket(f);l[c++]=new u(f,g)}}this._lastBracketsData=l,this._lastVersionId=h},e.ID="editor.contrib.bracketMatchingController",e._DECORATION_OPTIONS=c.ModelDecorationOptions.register({stickiness:i.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:"bracket-match"}),e=s=F([r.commonEditorContribution],e);var s}(n.Disposable);e.BracketMatchingController=d,s.registerThemingParticipant(function(o,e){var t=o.getColor(l.editorBracketMatchBackground);t&&e.addRule(".monaco-editor .bracket-match { background-color: "+t+"; }");var n=o.getColor(l.editorBracketMatchBorder);n&&e.addRule(".monaco-editor .bracket-match { border: 1px solid "+n+"; }")})}),define(s[515],n([1,0,3,36,9,4,2,25,34,37,14,23,315]),function(m,e,t,n,_,i,r,o,a,s,l,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var d=function(){function t(o,n){this.afterLineNumber=o,this._onHeight=n,this.heightInLines=1,this.suppressMouseDown=!0,this.domNode=document.createElement("div")}return t.prototype.onComputedHeight=function(t){void 0===this._lastHeight?this._lastHeight=t:this._lastHeight!==t&&(this._lastHeight=t,this._onHeight())},t}(),u=function(){function r(e,t,d,o){var s=this;this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this._disposables=[],this._commands=Object.create(null),this._id="codeLensWidget"+ ++r._idPool,this._editor=e,this.setSymbolRange(t),this._domNode=document.createElement("span"),this._domNode.innerHTML="&nbsp;",i.addClass(this._domNode,"codelens-decoration"),i.addClass(this._domNode,"invisible-cl"),this._updateHeight(),this._disposables.push(this._editor.onDidChangeConfiguration(function(t){return t.fontInfo&&s._updateHeight()})),this._disposables.push(i.addDisposableListener(this._domNode,"click",function(t){var i=t.target;if("A"===i.tagName&&i.id){var a=s._commands[i.id];a&&(e.focus(),d.executeCommand.apply(d,[a.id].concat(a.arguments)).done(void 0,function(t){o.show(n.default.Error,t)}))}})),this.updateVisibility()}return r.prototype.dispose=function(){t.dispose(this._disposables),this._symbolRange=null},r.prototype._updateHeight=function(){var o=this._editor.getConfiguration(),e=o.fontInfo,t=o.lineHeight;this._domNode.style.height=w(1.1*t)+"px",this._domNode.style.lineHeight=t+"px",this._domNode.style.fontSize=w(.9*e.fontSize)+"px",this._domNode.innerHTML="&nbsp;"},r.prototype.updateVisibility=function(){this.isVisible()&&(i.removeClass(this._domNode,"invisible-cl"),i.addClass(this._domNode,"fadein"))},r.prototype.withCommands=function(o){if(this._commands=Object.create(null),o&&o.length){for(var e=[],t=0;t<o.length;t++){var n=o[t].command,i=_.escape(n.title),r=void 0;n.id?(r=_.format("<a id={0}>{1}</a>",t,i),this._commands[t]=n):r=_.format("<span>{0}</span>",i),e.push(r)}this._domNode.innerHTML=e.join("<span>&nbsp;|&nbsp;</span>"),this._editor.layoutContentWidget(this)}else this._domNode.innerHTML="no commands"},r.prototype.getId=function(){return this._id},r.prototype.getDomNode=function(){return this._domNode},r.prototype.setSymbolRange=function(i){this._symbolRange=i;var e=i.startLineNumber,r=this._editor.getModel().getLineFirstNonWhitespaceColumn(e);this._widgetPosition={position:{lineNumber:e,column:r},preference:[o.ContentWidgetPositionPreference.ABOVE]}},r.prototype.getPosition=function(){return this._widgetPosition},r.prototype.isVisible=function(){return this._domNode.hasAttribute("monaco-visible-content-widget")},r._idPool=0,r}(),p=function(){function t(){this._removeDecorations=[],this._addDecorations=[],this._addDecorationsCallbacks=[]}return t.prototype.addDecoration=function(o,e){this._addDecorations.push(o),this._addDecorationsCallbacks.push(e)},t.prototype.removeDecoration=function(t){this._removeDecorations.push(t)},t.prototype.commit=function(o){for(var e=o.deltaDecorations(this._removeDecorations,this._addDecorations),t=0,n=e.length;t<n;t++)this._addDecorationsCallbacks[t](e[t])},t}();e.CodeLensHelper=p;var h=function(){function t(s,p,g,t,n,o,i){var m=this;this._editor=p,this._data=s,this._decorationIds=Array(this._data.length);var l;this._data.forEach(function(o,n){g.addDecoration({range:o.symbol.range,options:a.ModelDecorationOptions.EMPTY},function(t){return m._decorationIds[n]=t}),l=l?r.Range.plusRange(l,o.symbol.range):r.Range.lift(o.symbol.range)}),this._contentWidget=new u(p,l,n,o),this._viewZone=new d(l.startLineNumber-1,i),this._viewZoneId=t.addZone(this._viewZone),this._editor.addContentWidget(this._contentWidget)}return t.prototype.dispose=function(o,e){for(;this._decorationIds.length;)o.removeDecoration(this._decorationIds.pop());e&&e.removeZone(this._viewZoneId),this._editor.removeContentWidget(this._contentWidget),this._contentWidget.dispose()},t.prototype.isValid=function(){var a=this;return this._decorationIds.some(function(e,t){var n=a._editor.getModel().getDecorationRange(e),i=a._data[t].symbol;return n&&r.Range.isEmpty(i.range)===n.isEmpty()})},t.prototype.updateCodeLensSymbols=function(o,r){for(var t=this;this._decorationIds.length;)r.removeDecoration(this._decorationIds.pop());this._data=o,this._decorationIds=Array(this._data.length),this._data.forEach(function(o,n){r.addDecoration({range:o.symbol.range,options:a.ModelDecorationOptions.EMPTY},function(o){return t._decorationIds[n]=o})})},t.prototype.computeIfNecessary=function(o){if(this._contentWidget.updateVisibility(),!this._contentWidget.isVisible())return null;for(var e=0;e<this._decorationIds.length;e++)this._data[e].symbol.range=o.getDecorationRange(this._decorationIds[e]);return this._data},t.prototype.updateCommands=function(t){this._contentWidget.withCommands(t)},t.prototype.getLineNumber=function(){var t=this._editor.getModel().getDecorationRange(this._decorationIds[0]);return t?t.startLineNumber:-1},t.prototype.update=function(o){if(this.isValid()){var e=this._editor.getModel().getDecorationRange(this._decorationIds[0]);this._viewZone.afterLineNumber=e.startLineNumber-1,o.layoutZone(this._viewZoneId),this._contentWidget.setSymbolRange(e),this._editor.layoutContentWidget(this._contentWidget)}},t}();e.CodeLens=h,l.registerThemingParticipant(function(o,e){var t=o.getColor(s.editorCodeLensForeground);t&&e.addRule(".monaco-editor .codelens-decoration { color: "+t+"; }");var n=o.getColor(c.editorActiveLinkForeground);n&&e.addRule(".monaco-editor .codelens-decoration > a:hover { color: "+n+" !important; }")})}),define(s[516],n([1,0,18,10,3,7,31,50,17,30,453,515]),function(p,e,g,m,t,n,o,i,_,r,a,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function s(o,r,t){var n=this;this._editor=o,this._commandService=r,this._messageService=t,this._isEnabled=this._editor.getConfiguration().contribInfo.codeLens,this._globalToDispose=[],this._localToDispose=[],this._lenses=[],this._currentFindCodeLensSymbolsPromise=null,this._modelChangeCounter=0,this._globalToDispose.push(this._editor.onDidChangeModel(function(){return n._onModelChange()})),this._globalToDispose.push(this._editor.onDidChangeModelLanguage(function(){return n._onModelChange()})),this._globalToDispose.push(this._editor.onDidChangeConfiguration(function(){var e=n._isEnabled;n._isEnabled=n._editor.getConfiguration().contribInfo.codeLens,e!==n._isEnabled&&n._onModelChange()})),this._globalToDispose.push(_.CodeLensProviderRegistry.onDidChange(this._onModelChange,this)),this._onModelChange()}return e=s,s.prototype.dispose=function(){this._localDispose(),this._globalToDispose=t.dispose(this._globalToDispose)},s.prototype._localDispose=function(){this._currentFindCodeLensSymbolsPromise&&(this._currentFindCodeLensSymbolsPromise.cancel(),this._currentFindCodeLensSymbolsPromise=null,this._modelChangeCounter++),this._currentFindOccPromise&&(this._currentFindOccPromise.cancel(),this._currentFindOccPromise=null),this._localToDispose=t.dispose(this._localToDispose)},s.prototype.getId=function(){return e.ID},s.prototype._onModelChange=function(){var d=this;this._localDispose();var e=this._editor.getModel();if(e&&this._isEnabled&&_.CodeLensProviderRegistry.has(e)){for(var t=0,o=_.CodeLensProviderRegistry.all(e),n;t<o.length;t++)if(n=o[t],"function"==typeof n.onDidChange){var i=n.onDidChange(function(){return r.schedule()});this._localToDispose.push(i)}this._detectVisibleLenses=new g.RunOnceScheduler(function(){d._onViewportChanged(e.getLanguageIdentifier().language)},500);var r=new g.RunOnceScheduler(function(){d._currentFindCodeLensSymbolsPromise&&d._currentFindCodeLensSymbolsPromise.cancel(),d._currentFindCodeLensSymbolsPromise=a.getCodeLensData(e);var o=++d._modelChangeCounter;d._currentFindCodeLensSymbolsPromise.then(function(e){o===d._modelChangeCounter&&(d._renderCodeLensSymbols(e),d._detectVisibleLenses.schedule())},m.onUnexpectedError)},250);this._localToDispose.push(r),this._localToDispose.push(this._detectVisibleLenses),this._localToDispose.push(this._editor.onDidChangeModelContent(function(){d._editor.changeDecorations(function(e){d._editor.changeViewZones(function(r){var t=[];d._lenses.forEach(function(o){o.isValid()?o.update(r):t.push(o)});var n=new l.CodeLensHelper;t.forEach(function(e){e.dispose(n,r),d._lenses.splice(d._lenses.indexOf(e),1)}),n.commit(e)})}),d._detectVisibleLenses.schedule(),r.schedule()})),this._localToDispose.push(this._editor.onDidScrollChange(function(e){e.scrollTopChanged&&d._detectVisibleLenses.schedule()})),this._localToDispose.push(this._editor.onDidLayoutChange(function(){d._detectVisibleLenses.schedule()})),this._localToDispose.push({dispose:function(){d._editor.getModel()?d._editor.changeDecorations(function(e){d._editor.changeViewZones(function(t){d._disposeAllLenses(e,t)})}):d._disposeAllLenses(null,null)}}),r.schedule()}},s.prototype._disposeAllLenses=function(o,i){var t=new l.CodeLensHelper;this._lenses.forEach(function(o){return o.dispose(t,i)}),o&&t.commit(o),this._lenses=[]},s.prototype._renderCodeLensSymbols=function(d){var p=this;if(this._editor.getModel()){for(var e=this._editor.getModel().getLineCount(),t=[],o=0,i=d,r;o<i.length;o++){var n=i[o],a=n.symbol.range.startLineNumber;1>a||a>e||(r&&r[r.length-1].symbol.range.startLineNumber===a?r.push(n):(r=[n],t.push(r)))}var s=this._editor.getCenteredRangeInViewport(),u=s&&t.length!==this._lenses.length&&0!==this._editor.getScrollTop();this._editor.changeDecorations(function(o){p._editor.changeViewZones(function(e){for(var n=0,i=0,r=new l.CodeLensHelper;i<t.length&&n<p._lenses.length;){var s=t[i][0].symbol.range.startLineNumber,a=p._lenses[n].getLineNumber();a<s?(p._lenses[n].dispose(r,e),p._lenses.splice(n,1)):a===s?(p._lenses[n].updateCodeLensSymbols(t[i],r),i++,n++):(p._lenses.splice(n,0,new l.CodeLens(t[i],p._editor,r,e,p._commandService,p._messageService,function(){return p._detectVisibleLenses.schedule()})),n++,i++)}for(;n<p._lenses.length;)p._lenses[n].dispose(r,e),p._lenses.splice(n,1);for(;i<t.length;)p._lenses.push(new l.CodeLens(t[i],p._editor,r,e,p._commandService,p._messageService,function(){return p._detectVisibleLenses.schedule()})),i++;r.commit(o)})}),u&&this._editor.revealRangeInCenter(s)}},s.prototype._onViewportChanged=function(){var e=this;this._currentFindOccPromise&&(this._currentFindOccPromise.cancel(),this._currentFindOccPromise=null);var r=this._editor.getModel();if(r){var i=[],d=[];if(this._lenses.forEach(function(o){var e=o.computeIfNecessary(r);e&&(i.push(e),d.push(o))}),0!==i.length){var t=i.map(function(i,e){var s=Array(i.length),t=i.map(function(o,n){return g.asWinJsPromise(function(e){return o.provider.resolveCodeLens(r,o.symbol,e)}).then(function(t){s[n]=t})});return n.TPromise.join(t).then(function(){d[e].updateCommands(s)})});this._currentFindOccPromise=n.TPromise.join(t).then(function(){e._currentFindOccPromise=null})}}},s.ID="css.editor.codeLens",s=e=F([r.editorContribution,v(1,o.ICommandService),v(2,i.IMessageService)],s);var e}();e.CodeLensContribution=s}),define(s[517],n([1,0,30,3,14,23,17,7,248]),function(d,e,p,t,n,o,i,r,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function o(o){var n=this;this.editor=o,this.currentDecorations=[],this.listenersToRemove=[],this.listenersToRemove.push(o.onDidChangeModelContent(function(){return n.onChange()})),this.listenersToRemove.push(o.onDidChangeModel(function(){return n.onModelChanged()})),this.listenersToRemove.push(o.onDidChangeModelLanguage(function(){return n.onModelModeChanged()})),this.listenersToRemove.push(i.ColorProviderRegistry.onDidChange(function(){return n.onModelModeChanged()})),this.timeoutPromise=null,this.computePromise=null,this.beginCompute()}return n=o,o.prototype.getId=function(){return n.ID},o.get=function(t){return t.getContribution(this.ID)},o.prototype.dispose=function(){this.listenersToRemove=t.dispose(this.listenersToRemove),this.stop()},o.prototype.onModelChanged=function(){this.stop(),this.beginCompute()},o.prototype.onModelModeChanged=function(){this.stop(),this.beginCompute()},o.prototype.onChange=function(){var t=this;this.timeoutPromise||(this.timeoutPromise=r.TPromise.timeout(n.RECOMPUTE_TIME),this.timeoutPromise.then(function(){t.timeoutPromise=null,t.beginCompute()}))},o.prototype.beginCompute=function(){var o=this;this.editor.getModel()&&i.ColorProviderRegistry.has(this.editor.getModel())&&(this.computePromise=a.getColors(this.editor.getModel()).then(function(e){o.updateDecorations(e),o.computePromise=null}))},o.prototype.stop=function(){this.timeoutPromise&&(this.timeoutPromise.cancel(),this.timeoutPromise=null),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)},o.prototype.updateDecorations=function(n){var e=this;this.editor.changeDecorations(function(t){for(var d=[],i=0,o=n;i<o.length;i++){var r=o[i],s={startLineNumber:r.range.startLineNumber,startColumn:r.range.startColumn,endLineNumber:r.range.endLineNumber,endColumn:r.range.endColumn},l={__extraOptions:{color:r.color,format:r.format,availableFormats:r.availableFormats}};d.push({range:s,options:l})}e.currentDecorations=t.deltaDecorations(e.currentDecorations,d)})},o.ID="editor.contrib.colorPicker",o.RECOMPUTE_TIME=1e3,o=n=F([p.editorContribution],o);var n}();e.ColorPicker=s,n.registerThemingParticipant(function(r,e){var t=r.getColor(o.editorWidgetBackground);e.addRule(".monaco-editor .colorpicker-widget { background-color: "+t+"; }");var n=r.getColor(o.editorWidgetBorder);e.addRule(".monaco-editor .colorpicker-widget { border: 1px solid "+n+"; }"),e.addRule(".monaco-editor .colorpicker-header { border-bottom: 1px solid "+n+"; }")})}),define(s[518],n([1,0,4,41,25,121,153,18,14,23]),function(d,e,p,t,n,g,r,s,o,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(l){function e(e,n,i,o){var u=l.call(this)||this;u._hideSoon=u._register(new s.RunOnceScheduler(function(){return u._hide()},1e3)),u._isVisible=!1,u._editor=e,u._state=n,u._keybindingService=i,u._domNode=document.createElement("div"),u._domNode.className="findOptionsWidget",u._domNode.style.display="none",u._domNode.style.top="10px",u._domNode.setAttribute("role","presentation"),u._domNode.setAttribute("aria-hidden","true");var c=o.getTheme().getColor(a.inputActiveOptionBorder);return u.caseSensitive=u._register(new r.CaseSensitiveCheckbox({appendTitle:u._keybindingLabelFor(g.FIND_IDS.ToggleCaseSensitiveCommand),isChecked:u._state.matchCase,onChange:function(){u._state.change({matchCase:u.caseSensitive.checked},!1)},inputActiveOptionBorder:c})),u._domNode.appendChild(u.caseSensitive.domNode),u.wholeWords=u._register(new r.WholeWordsCheckbox({appendTitle:u._keybindingLabelFor(g.FIND_IDS.ToggleWholeWordCommand),isChecked:u._state.wholeWord,onChange:function(){u._state.change({wholeWord:u.wholeWords.checked},!1)},inputActiveOptionBorder:c})),u._domNode.appendChild(u.wholeWords.domNode),u.regex=u._register(new r.RegexCheckbox({appendTitle:u._keybindingLabelFor(g.FIND_IDS.ToggleRegexCommand),isChecked:u._state.isRegex,onChange:function(){u._state.change({isRegex:u.regex.checked},!1)},inputActiveOptionBorder:c})),u._domNode.appendChild(u.regex.domNode),u._editor.addOverlayWidget(u),u._register(u._state.addChangeListener(function(o){var e=!1;o.isRegex&&(u.regex.checked=u._state.isRegex,e=!0),o.wholeWord&&(u.wholeWords.checked=u._state.wholeWord,e=!0),o.matchCase&&(u.caseSensitive.checked=u._state.matchCase,e=!0),!u._state.isRevealed&&e&&u._revealTemporarily()})),u._register(p.addDisposableNonBubblingMouseOutListener(u._domNode,function(){return u._onMouseOut()})),u._register(p.addDisposableListener(u._domNode,"mouseover",function(){return u._onMouseOver()})),u._applyTheme(o.getTheme()),u._register(o.onThemeChange(u._applyTheme.bind(u))),u}return Z(e,l),e.prototype._keybindingLabelFor=function(o){var e=this._keybindingService.lookupKeybinding(o);return e?" ("+e.getLabel()+")":""},e.prototype.dispose=function(){this._editor.removeOverlayWidget(this),l.prototype.dispose.call(this)},e.prototype.getId=function(){return e.ID},e.prototype.getDomNode=function(){return this._domNode},e.prototype.getPosition=function(){return{preference:n.OverlayWidgetPositionPreference.TOP_RIGHT_CORNER}},e.prototype.highlightFindOptions=function(){this._revealTemporarily()},e.prototype._revealTemporarily=function(){this._show(),this._hideSoon.schedule()},e.prototype._onMouseOut=function(){this._hideSoon.schedule()},e.prototype._onMouseOver=function(){this._hideSoon.cancel()},e.prototype._show=function(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")},e.prototype._hide=function(){this._isVisible&&(this._isVisible=!1,this._domNode.style.display="none")},e.prototype._applyTheme=function(o){var e={inputActiveOptionBorder:o.getColor(a.inputActiveOptionBorder)};this.caseSensitive.style(e),this.wholeWords.style(e),this.regex.style(e)},e.ID="editor.contrib.findOptionsWidget",e}(t.Widget);e.FindOptionsWidget=i,o.registerThemingParticipant(function(r,e){var t=r.getColor(a.editorWidgetBackground);t&&e.addRule(".monaco-editor .findOptionsWidget { background-color: "+t+"; }");var n=r.getColor(a.widgetShadow);n&&e.addRule(".monaco-editor .findOptionsWidget { box-shadow: 0 2px 8px "+n+"; }");var i=r.getColor(a.contrastBorder);i&&e.addRule(".monaco-editor .findOptionsWidget { border: 2px solid "+i+"; }")})}),define(s[519],n([1,0,347,10,15,9,4,289,115,41,99,25,121,2,176,14,23,327]),function(f,e,t,n,i,o,V,r,a,s,l,c,d,u,p,g,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var h=t.localize(0,null),v=t.localize(1,null),H=t.localize(2,null),C=t.localize(3,null),b=t.localize(4,null),w=t.localize(5,null),S=t.localize(6,null),z=t.localize(7,null),K=t.localize(8,null),x=t.localize(9,null),N=t.localize(10,null),U=t.localize(11,null),T=t.localize(12,null),k=t.localize(13,null),I=411,D=69,O=17+(D+3+1)+92+2,R=34,P=function(){return function(t){this.afterLineNumber=t,this.heightInPx=R,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"}}();e.FindWidgetViewZone=P;var A=function(s){function e(e,d,n,i,o,r,a){var g=s.call(this)||this;g._codeEditor=e,g._controller=d,g._state=n,g._contextViewProvider=i,g._keybindingService=o,g._isVisible=!1,g._isReplaceVisible=!1,g._register(g._state.addChangeListener(function(t){return g._onStateChanged(t)})),g._buildDomNode(),g._updateButtons();var l=function(){var a=g._codeEditor.getConfiguration().layoutInfo.width,e=g._codeEditor.getConfiguration().layoutInfo.minimapWidth,t=!1,n=!1,i=!1;if(V.getTotalWidth(g._domNode)>I)return g._domNode.style.maxWidth=a-28-e-15+"px",void(g._replaceInputBox.inputElement.style.width=V.getTotalWidth(g._findInput.inputBox.inputElement)+"px");I+28+e>=a&&(n=!0),I+28+e-D>=a&&(i=!0),I+28+e-D>=a+50&&(t=!0),V.toggleClass(g._domNode,"collapsed-find-widget",t),V.toggleClass(g._domNode,"narrow-find-widget",i),V.toggleClass(g._domNode,"reduced-find-widget",n),i||t||(g._domNode.style.maxWidth=a-28-e-15+"px");var o=V.getTotalWidth(g._findInput.inputBox.inputElement);0<o&&(g._replaceInputBox.inputElement.style.width=o+"px")};return l(),g._register(g._codeEditor.onDidChangeConfiguration(function(t){t.readOnly&&(g._codeEditor.getConfiguration().readOnly&&g._state.change({isReplaceRevealed:!1},!1),g._updateButtons()),t.layoutInfo&&l()})),g._register(g._codeEditor.onDidChangeCursorSelection(function(){g._isVisible&&g._updateToggleSelectionFindButton()})),g._findInputFocussed=p.CONTEXT_FIND_INPUT_FOCUSSED.bindTo(r),g._focusTracker=g._register(V.trackFocus(g._findInput.inputBox.inputElement)),g._focusTracker.addFocusListener(function(){if(g._findInputFocussed.set(!0),g._toggleSelectionFind.checked){var o=g._codeEditor.getSelection();1===o.endColumn&&o.endLineNumber>o.startLineNumber&&(o=o.setEndPosition(o.endLineNumber-1,1));var n=g._state.currentMatch;o.startLineNumber!==o.endLineNumber&&(u.Range.equalsRange(o,n)||g._state.change({searchScope:o},!0))}}),g._focusTracker.addBlurListener(function(){g._findInputFocussed.set(!1)}),g._codeEditor.addOverlayWidget(g),g._viewZone=new P(0),g._applyTheme(a.getTheme()),g._register(a.onThemeChange(g._applyTheme.bind(g))),g._register(g._codeEditor.onDidChangeModel(function(){g._isVisible&&void 0!==g._viewZoneId&&g._codeEditor.changeViewZones(function(t){t.removeZone(g._viewZoneId),g._viewZoneId=void 0})})),g._register(g._codeEditor.onDidScrollChange(function(t){t.scrollTopChanged?g._layoutViewZone():setTimeout(function(){g._layoutViewZone()},0)})),g}return Z(e,s),e.prototype.getId=function(){return e.ID},e.prototype.getDomNode=function(){return this._domNode},e.prototype.getPosition=function(){return this._isVisible?{preference:c.OverlayWidgetPositionPreference.TOP_RIGHT_CORNER}:null},e.prototype._onStateChanged=function(o){if(o.searchString&&(this._findInput.setValue(this._state.searchString),this._updateButtons()),o.replaceString&&(this._replaceInputBox.value=this._state.replaceString),o.isRevealed&&(this._state.isRevealed?this._reveal(!0):this._hide(!0)),o.isReplaceRevealed&&(this._state.isReplaceRevealed?this._codeEditor.getConfiguration().readOnly||this._isReplaceVisible||(this._isReplaceVisible=!0,this._updateButtons()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),o.isRegex&&this._findInput.setRegex(this._state.isRegex),o.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),o.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),o.searchScope&&(this._toggleSelectionFind.checked=!!this._state.searchScope,this._updateToggleSelectionFindButton()),o.searchString||o.matchesCount||o.matchesPosition){var e=0<this._state.searchString.length&&0===this._state.matchesCount;V.toggleClass(this._domNode,"no-results",e),this._updateMatchesCount()}(o.searchString||o.currentMatch)&&this._layoutViewZone()},e.prototype._updateMatchesCount=function(){this._matchesCount.style.minWidth=D+"px",this._matchesCount.title=this._state.matchesCount>=d.MATCHES_LIMIT?U:"",this._matchesCount.firstChild&&this._matchesCount.removeChild(this._matchesCount.firstChild);var i;if(0<this._state.matchesCount){var e=this._state.matchesCount+"";this._state.matchesCount>=d.MATCHES_LIMIT&&(e+="+");var t=this._state.matchesPosition+"";"0"===t&&(t="?"),i=o.format(T,t,e)}else i=k;this._matchesCount.appendChild(document.createTextNode(i)),D=G(D,this._matchesCount.clientWidth)},e.prototype._updateToggleSelectionFindButton=function(){var o=this._codeEditor.getSelection(),i=!!o&&(o.startLineNumber!==o.endLineNumber||o.startColumn!==o.endColumn),t=this._toggleSelectionFind.checked;this._toggleSelectionFind.setEnabled(this._isVisible&&(t||i))},e.prototype._updateButtons=function(){this._findInput.setEnabled(this._isVisible),this._replaceInputBox.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);var o=0<this._state.searchString.length;this._prevBtn.setEnabled(this._isVisible&&o),this._nextBtn.setEnabled(this._isVisible&&o),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&o),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&o),V.toggleClass(this._domNode,"replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.toggleClass("collapse",!this._isReplaceVisible),this._toggleReplaceBtn.toggleClass("expand",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);var e=!this._codeEditor.getConfiguration().readOnly;this._toggleReplaceBtn.setEnabled(this._isVisible&&e)},e.prototype._reveal=function(s){var e=this;if(!this._isVisible){this._isVisible=!0;var t=this._codeEditor.getSelection();this._toggleSelectionFind.checked=!!t&&(t.startLineNumber!==t.endLineNumber||t.startColumn!==t.endColumn)&&this._codeEditor.getConfiguration().contribInfo.find.autoFindInSelection,this._updateButtons(),setTimeout(function(){V.addClass(e._domNode,"visible"),e._domNode.setAttribute("aria-hidden","false"),s||(V.addClass(e._domNode,"noanimation"),setTimeout(function(){V.removeClass(e._domNode,"noanimation")},200))},0),this._codeEditor.layoutOverlayWidget(this);var d=!0;if(this._codeEditor.getConfiguration().contribInfo.find.seedSearchStringFromSelection&&t){var i=V.getDomNodePagePosition(this._codeEditor.getDomNode()),o=this._codeEditor.getScrolledVisiblePosition(t.getStartPosition()),r=i.left+o.left;if(o.top<this._viewZone.heightInPx){t.endLineNumber>t.startLineNumber&&(d=!1);var a=V.getTopLeftOffset(this._domNode).left;r>a&&(d=!1);var p=this._codeEditor.getScrolledVisiblePosition(t.getEndPosition());i.left+p.left>a&&(d=!1)}}this._showViewZone(d)}},e.prototype._hide=function(o){var n=this;this._isVisible&&(this._isVisible=!1,this._updateButtons(),V.removeClass(this._domNode,"visible"),this._domNode.setAttribute("aria-hidden","true"),o&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._codeEditor.changeViewZones(function(t){void 0!==n._viewZoneId&&(t.removeZone(n._viewZoneId),n._viewZoneId=void 0,n._codeEditor.setScrollTop(n._codeEditor.getScrollTop()-n._viewZone.heightInPx))}))},e.prototype._layoutViewZone=function(){var o=this;this._isVisible&&void 0===this._viewZoneId&&this._codeEditor.changeViewZones(function(e){o._viewZone.heightInPx=o._state.isReplaceRevealed?64:R,o._viewZoneId=e.addZone(o._viewZone),o._codeEditor.setScrollTop(o._codeEditor.getScrollTop()+o._viewZone.heightInPx)})},e.prototype._showViewZone=function(o){var e=this;void 0===o&&(o=!0),this._isVisible&&this._codeEditor.changeViewZones(function(t){var n=R;void 0===e._viewZoneId?e._viewZone.heightInPx=R:(e._state.isReplaceRevealed?(e._viewZone.heightInPx=64,n=64-R):(e._viewZone.heightInPx=R,n=R-64),t.removeZone(e._viewZoneId)),e._viewZoneId=t.addZone(e._viewZone),o&&e._codeEditor.setScrollTop(e._codeEditor.getScrollTop()+n)})},e.prototype._applyTheme=function(o){var e={inputActiveOptionBorder:o.getColor(m.inputActiveOptionBorder),inputBackground:o.getColor(m.inputBackground),inputForeground:o.getColor(m.inputForeground),inputBorder:o.getColor(m.inputBorder),inputValidationInfoBackground:o.getColor(m.inputValidationInfoBackground),inputValidationInfoBorder:o.getColor(m.inputValidationInfoBorder),inputValidationWarningBackground:o.getColor(m.inputValidationWarningBackground),inputValidationWarningBorder:o.getColor(m.inputValidationWarningBorder),inputValidationErrorBackground:o.getColor(m.inputValidationErrorBackground),inputValidationErrorBorder:o.getColor(m.inputValidationErrorBorder)};this._findInput.style(e),this._replaceInputBox.style(e)},e.prototype.focusFindInput=function(){this._findInput.select(),this._findInput.focus()},e.prototype.focusReplaceInput=function(){this._replaceInputBox.select(),this._replaceInputBox.focus()},e.prototype.highlightFindOptions=function(){this._findInput.highlightFindOptions()},e.prototype._onFindInputMouseDown=function(t){t.middleButton&&t.stopPropagation()},e.prototype._onFindInputKeyDown=function(t){return t.equals(3)?(this._codeEditor.getAction(d.FIND_IDS.NextMatchFindAction).run().done(null,n.onUnexpectedError),void t.preventDefault()):t.equals(1027)?(this._codeEditor.getAction(d.FIND_IDS.PreviousMatchFindAction).run().done(null,n.onUnexpectedError),void t.preventDefault()):t.equals(2)?(this._isReplaceVisible?this._replaceInputBox.focus():this._findInput.focusOnCaseSensitive(),void t.preventDefault()):t.equals(2066)?(this._codeEditor.focus(),void t.preventDefault()):void 0},e.prototype._onReplaceInputKeyDown=function(t){return t.equals(3)?(this._controller.replace(),void t.preventDefault()):t.equals(2051)?(this._controller.replaceAll(),void t.preventDefault()):t.equals(2)?(this._findInput.focusOnCaseSensitive(),void t.preventDefault()):t.equals(1026)?(this._findInput.focus(),void t.preventDefault()):t.equals(2066)?(this._codeEditor.focus(),void t.preventDefault()):void 0},e.prototype.getHorizontalSashTop=function(){return 0},e.prototype.getHorizontalSashLeft=function(){return 0},e.prototype.getHorizontalSashWidth=function(){return 500},e.prototype._keybindingLabelFor=function(o){var e=this._keybindingService.lookupKeybinding(o);return e?" ("+e.getLabel()+")":""},e.prototype._buildFindPart=function(){var o=this;this._findInput=this._register(new r.FindInput(null,this._contextViewProvider,{width:221,label:h,placeholder:v,appendCaseSensitiveLabel:this._keybindingLabelFor(d.FIND_IDS.ToggleCaseSensitiveCommand),appendWholeWordsLabel:this._keybindingLabelFor(d.FIND_IDS.ToggleWholeWordCommand),appendRegexLabel:this._keybindingLabelFor(d.FIND_IDS.ToggleRegexCommand),validation:function(e){if(0===e.length)return null;if(!o._findInput.getRegex())return null;try{return new RegExp(e),null}catch(t){return{content:t.message}}}})),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown(function(e){return o._onFindInputKeyDown(e)})),this._register(this._findInput.onInput(function(){o._state.change({searchString:o._findInput.getValue()},!0)})),this._register(this._findInput.onDidOptionChange(function(){o._state.change({isRegex:o._findInput.getRegex(),wholeWord:o._findInput.getWholeWords(),matchCase:o._findInput.getCaseSensitive()},!0)})),this._register(this._findInput.onCaseSensitiveKeyDown(function(e){e.equals(1026)&&o._isReplaceVisible&&(o._replaceInputBox.focus(),e.preventDefault())})),i.isLinux&&this._register(this._findInput.onMouseDown(function(e){return o._onFindInputMouseDown(e)})),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount(),this._prevBtn=this._register(new W({label:H+this._keybindingLabelFor(d.FIND_IDS.PreviousMatchFindAction),className:"previous",onTrigger:function(){o._codeEditor.getAction(d.FIND_IDS.PreviousMatchFindAction).run().done(null,n.onUnexpectedError)},onKeyDown:function(){}})),this._nextBtn=this._register(new W({label:C+this._keybindingLabelFor(d.FIND_IDS.NextMatchFindAction),className:"next",onTrigger:function(){o._codeEditor.getAction(d.FIND_IDS.NextMatchFindAction).run().done(null,n.onUnexpectedError)},onKeyDown:function(){}}));var e=document.createElement("div");return e.className="find-part",e.appendChild(this._findInput.domNode),e.appendChild(this._matchesCount),e.appendChild(this._prevBtn.domNode),e.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new F({parent:e,title:b+this._keybindingLabelFor(d.FIND_IDS.ToggleSearchScopeCommand),onChange:function(){if(o._toggleSelectionFind.checked){var e=o._codeEditor.getSelection();1===e.endColumn&&e.endLineNumber>e.startLineNumber&&(e=e.setEndPosition(e.endLineNumber-1,1)),e.isEmpty()||o._state.change({searchScope:e},!0)}else o._state.change({searchScope:null},!0)}})),this._closeBtn=this._register(new W({label:w+this._keybindingLabelFor(d.FIND_IDS.CloseFindWidgetCommand),className:"close-fw",onTrigger:function(){o._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:function(e){e.equals(2)&&o._isReplaceVisible&&(o._replaceBtn.isEnabled()?o._replaceBtn.focus():o._codeEditor.focus(),e.preventDefault())}})),e.appendChild(this._closeBtn.domNode),e},e.prototype._buildReplacePart=function(){var o=this,e=document.createElement("div");e.className="replace-input",e.style.width="221px",this._replaceInputBox=this._register(new a.InputBox(e,null,{ariaLabel:S,placeholder:z})),this._register(V.addStandardDisposableListener(this._replaceInputBox.inputElement,"keydown",function(e){return o._onReplaceInputKeyDown(e)})),this._register(V.addStandardDisposableListener(this._replaceInputBox.inputElement,"input",function(){o._state.change({replaceString:o._replaceInputBox.value},!1)})),this._replaceBtn=this._register(new W({label:K+this._keybindingLabelFor(d.FIND_IDS.ReplaceOneAction),className:"replace",onTrigger:function(){o._controller.replace()},onKeyDown:function(e){e.equals(1026)&&(o._closeBtn.focus(),e.preventDefault())}})),this._replaceAllBtn=this._register(new W({label:x+this._keybindingLabelFor(d.FIND_IDS.ReplaceAllAction),className:"replace-all",onTrigger:function(){o._controller.replaceAll()},onKeyDown:function(){}}));var t=document.createElement("div");return t.className="replace-part",t.appendChild(e),t.appendChild(this._replaceBtn.domNode),t.appendChild(this._replaceAllBtn.domNode),t},e.prototype._buildDomNode=function(){var o=this,e=this._buildFindPart(),t=this._buildReplacePart();this._toggleReplaceBtn=this._register(new W({label:N,className:"toggle left",onTrigger:function(){o._state.change({isReplaceRevealed:!o._isReplaceVisible},!1),o._isReplaceVisible&&(o._replaceInputBox.width=o._findInput.inputBox.width),o._showViewZone()},onKeyDown:function(){}})),this._toggleReplaceBtn.toggleClass("expand",this._isReplaceVisible),this._toggleReplaceBtn.toggleClass("collapse",!this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.style.width=I+"px",this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(e),this._domNode.appendChild(t),this._buildSash()},e.prototype._buildSash=function(){var o=this;this._resizeSash=new l.Sash(this._domNode,this,{orientation:l.Orientation.VERTICAL});var e=I;this._register(this._resizeSash.addListener("start",function(){e=V.getTotalWidth(o._domNode)})),this._register(this._resizeSash.addListener("change",function(t){var n=e+t.startX-t.currentX;if(!(n<I)){n>(parseFloat(V.getComputedStyle(o._domNode).maxWidth)||0)||(o._domNode.style.width=n+"px",o._isReplaceVisible&&(o._replaceInputBox.width=n-O))}}))},e.ID="editor.contrib.findWidget",e}(s.Widget);e.FindWidget=A;var F=function(o){function e(t){var n=o.call(this)||this;return n._opts=t,n._domNode=document.createElement("div"),n._domNode.className="monaco-checkbox",n._domNode.title=n._opts.title,n._domNode.tabIndex=0,n._checkbox=document.createElement("input"),n._checkbox.type="checkbox",n._checkbox.className="checkbox",n._checkbox.id="checkbox-"+e._COUNTER++,n._checkbox.tabIndex=-1,n._label=document.createElement("label"),n._label.className="label",n._label.htmlFor=n._checkbox.id,n._label.tabIndex=-1,n._domNode.appendChild(n._checkbox),n._domNode.appendChild(n._label),n._opts.parent.appendChild(n._domNode),n.onchange(n._checkbox,function(){n._opts.onChange()}),n}return Z(e,o),Object.defineProperty(e.prototype,"domNode",{get:function(){return this._domNode},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"checked",{get:function(){return this._checkbox.checked},set:function(t){this._checkbox.checked=t},enumerable:!0,configurable:!0}),e.prototype.focus=function(){this._checkbox.focus()},e.prototype.enable=function(){this._checkbox.removeAttribute("disabled")},e.prototype.disable=function(){this._checkbox.disabled=!0},e.prototype.setEnabled=function(t){t?(this.enable(),this.domNode.tabIndex=0):(this.disable(),this.domNode.tabIndex=-1)},e._COUNTER=0,e}(s.Widget),W=function(o){function e(e){var i=o.call(this)||this;return i._opts=e,i._domNode=document.createElement("div"),i._domNode.title=i._opts.label,i._domNode.tabIndex=0,i._domNode.className="button "+i._opts.className,i._domNode.setAttribute("role","button"),i._domNode.setAttribute("aria-label",i._opts.label),i.onclick(i._domNode,function(t){i._opts.onTrigger(),t.preventDefault()}),i.onkeydown(i._domNode,function(t){return t.equals(10)||t.equals(3)?(i._opts.onTrigger(),void t.preventDefault()):void i._opts.onKeyDown(t)}),i}return Z(e,o),Object.defineProperty(e.prototype,"domNode",{get:function(){return this._domNode},enumerable:!0,configurable:!0}),e.prototype.isEnabled=function(){return 0<=this._domNode.tabIndex},e.prototype.focus=function(){this._domNode.focus()},e.prototype.setEnabled=function(t){V.toggleClass(this._domNode,"disabled",!t),this._domNode.setAttribute("aria-disabled",!t+""),this._domNode.tabIndex=t?0:-1},e.prototype.setExpanded=function(t){this._domNode.setAttribute("aria-expanded",!!t+"")},e.prototype.toggleClass=function(o,e){V.toggleClass(this._domNode,o,e)},e}(s.Widget);e.SimpleButton=W,g.registerThemingParticipant(function(d,l){function e(t,e){e&&l.addRule(".monaco-editor "+t+" { background-color: "+e+"; }")}e(".findMatch",d.getColor(m.editorFindMatchHighlight)),e(".currentFindMatch",d.getColor(m.editorFindMatch)),e(".findScope",d.getColor(m.editorFindRangeHighlight)),e(".find-widget",d.getColor(m.editorWidgetBackground));var t=d.getColor(m.widgetShadow);t&&l.addRule(".monaco-editor .find-widget { box-shadow: 0 2px 8px "+t+"; }");var n=d.getColor(m.activeContrastBorder);n&&(l.addRule(".monaco-editor .findScope { border: 1px dashed "+n.transparent(.4)+"; }"),l.addRule(".monaco-editor .currentFindMatch { border: 2px solid "+n+"; padding: 1px; -moz-box-sizing: border-box; box-sizing: border-box; }"),l.addRule(".monaco-editor .findMatch { border: 1px dotted "+n+"; -moz-box-sizing: border-box; box-sizing: border-box; }"));var o=d.getColor(m.contrastBorder);o&&l.addRule(".monaco-editor .find-widget { border: 2px solid "+o+"; }");var i=d.getColor(m.errorForeground);i&&l.addRule(".monaco-editor .find-widget.no-results .matchesCount { color: "+i+"; }");var r=d.getColor("panel.border");r&&l.addRule(".monaco-editor .find-widget .monaco-sash { background-color: "+r+"; width: 3px !important; margin-left: -4px;}")})}),define(s[520],n([1,0,69,46,19,30,519,518,176,14,76]),function(p,e,g,n,i,o,m,s,t,r,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=function(d){function e(e,a,n,i,o,r){var p=d.call(this,e,n,r)||this;return p._widget=p._register(new m.FindWidget(e,p,p._state,a,i,n,o)),p._findOptionsWidget=p._register(new s.FindOptionsWidget(e,p._state,i,o)),p}return Z(e,d),e.prototype._start=function(e){d.prototype._start.call(this,e),2===e.shouldFocus?this._widget.focusReplaceInput():1===e.shouldFocus&&this._widget.focusFindInput()},e.prototype.highlightFindOptions=function(){this._state.isRevealed?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()},e=F([o.editorContribution,v(1,g.IContextViewService),v(2,i.IContextKeyService),v(3,n.IKeybindingService),v(4,r.IThemeService),v(5,a.IStorageService)],e)}(t.CommonFindController);e.FindController=l}),define(s[521],n([1,0,18,3,51,2,13,25,19,14,23,335]),function(g,e,m,n,i,o,r,t,a,s,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var c=function(){function s(t,o){this._messageListeners=[],this._editor=t,this._visible=d.CONTEXT_SNIPPET_MODE.bindTo(o)}return d=s,s.get=function(t){return t.getContribution(d._id)},s.prototype.getId=function(){return d._id},s.prototype.dispose=function(){this._visible.reset()},s.prototype.showMessage=function(r,d){var t=this;i.alert(r),this._visible.set(!0),n.dispose(this._messageWidget),this._messageListeners=n.dispose(this._messageListeners),this._messageWidget=new u(this._editor,d,r),this._messageListeners.push(this._editor.onDidBlurEditorText(function(){return t.closeMessage()})),this._messageListeners.push(this._editor.onDidChangeCursorPosition(function(){return t.closeMessage()})),this._messageListeners.push(this._editor.onDidDispose(function(){return t.closeMessage()})),this._messageListeners.push(this._editor.onDidChangeModel(function(){return t.closeMessage()})),this._messageListeners.push(m.setDisposableTimeout(function(){return t.closeMessage()},3e3));var s;this._messageListeners.push(this._editor.onMouseMove(function(n){n.target.position&&(s?s.containsPosition(n.target.position)||t.closeMessage():s=new o.Range(d.lineNumber-3,1,n.target.position.lineNumber+3,1))}))},s.prototype.closeMessage=function(){this._visible.reset(),this._messageListeners=n.dispose(this._messageListeners),this._messageListeners.push(u.fadeOut(this._messageWidget))},s._id="editor.contrib.messageController",s.CONTEXT_SNIPPET_MODE=new a.RawContextKey("messageVisible",!1),s=d=F([r.commonEditorContribution,v(1,a.IContextKeyService)],s);var d}();e.MessageController=c;var d=r.EditorCommand.bindToContribution(c.get);r.CommonEditorRegistry.registerEditorCommand(new d({id:"leaveEditorMessage",precondition:c.CONTEXT_SNIPPET_MODE,handler:function(t){return t.closeMessage()},kbOpts:{weight:r.CommonEditorRegistry.commandWeight(30),primary:9}}));var u=function(){function o(a,d,t){var n=d.lineNumber,l=d.column;this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._editor=a,this._editor.revealLinesInCenterIfOutsideViewport(n,n),this._position={lineNumber:n,column:1},this._domNode=document.createElement("div"),this._domNode.style.paddingLeft=a.getOffsetForColumn(n,l)-6+"px",this._domNode.classList.add("monaco-editor-overlaymessage");var o=document.createElement("div");o.classList.add("message"),o.textContent=t,this._domNode.appendChild(o);var r=document.createElement("div");r.classList.add("anchor"),this._domNode.appendChild(r),this._editor.addContentWidget(this),this._domNode.classList.add("fadeIn")}return o.fadeOut=function(o){var e=function(){o.dispose(),clearTimeout(i),o.getDomNode().removeEventListener("animationend",e)},i;return i=setTimeout(e,110),o.getDomNode().addEventListener("animationend",e),o.getDomNode().classList.add("fadeOut"),{dispose:e}},o.prototype.dispose=function(){this._editor.removeContentWidget(this)},o.prototype.getId=function(){return"messageoverlay"},o.prototype.getDomNode=function(){return this._domNode},o.prototype.getPosition=function(){return{position:this._position,preference:[t.ContentWidgetPositionPreference.ABOVE]}},o}();s.registerThemingParticipant(function(r,e){var t=r.getColor(l.inputValidationInfoBorder);if(t){var n=r.type===s.HIGH_CONTRAST?2:1;e.addRule(".monaco-editor .monaco-editor-overlaymessage .anchor { border-top-color: "+t+"; }"),e.addRule(".monaco-editor .monaco-editor-overlaymessage .message { border: "+n+"px solid "+t+"; }")}var i=r.getColor(l.inputValidationInfoBackground);i&&e.addRule(".monaco-editor .monaco-editor-overlaymessage .message { background-color: "+i+"; }")})}),define(s[522],n([1,0,353,11,3,36,4,19,103,58,12,2,13,30,183,23,14,32,21,37,366]),function(_,f,y,R,t,P,o,n,i,r,a,s,d,l,e,p,c,u,g,m){"use strict";Object.defineProperty(f,"__esModule",{value:!0});var C=function(){function o(o,i){var t=this;this._editor=o,this._markers=null,this._nextIdx=-1,this._toUnbind=[],this._ignoreSelectionChange=!1,this._onCurrentMarkerChanged=new R.Emitter,this._onMarkerSetChanged=new R.Emitter,this.setMarkers(i),this._toUnbind.push(this._editor.onDidDispose(function(){return t.dispose()})),this._toUnbind.push(this._editor.onDidChangeCursorPosition(function(){t._ignoreSelectionChange||(t._nextIdx=-1)}))}return Object.defineProperty(o.prototype,"onCurrentMarkerChanged",{get:function(){return this._onCurrentMarkerChanged.event},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"onMarkerSetChanged",{get:function(){return this._onMarkerSetChanged.event},enumerable:!0,configurable:!0}),o.prototype.setMarkers=function(t){this._markers=t||[],this._markers.sort(function(o,e){return P.default.compare(o.severity,e.severity)||s.Range.compareRangesUsingStarts(o,e)}),this._nextIdx=-1,this._onMarkerSetChanged.fire(this)},o.prototype.withoutWatchingEditorPosition=function(t){this._ignoreSelectionChange=!0;try{t()}finally{this._ignoreSelectionChange=!1}},o.prototype._initIdx=function(a){for(var e=!1,t=this._editor.getPosition(),n=0,i;n<this._markers.length;n++){if(i=s.Range.lift(this._markers[n]),i.isEmpty()){var o=this._editor.getModel().getWordAtPosition(i.getStartPosition());o&&(i=new s.Range(i.startLineNumber,o.startColumn,i.startLineNumber,o.endColumn))}if(i.containsPosition(t)||t.isBeforeOrEqual(i.getStartPosition())){this._nextIdx=n+(a?0:-1),e=!0;break}}e||(this._nextIdx=a?0:this._markers.length-1),0>this._nextIdx&&(this._nextIdx=this._markers.length-1)},o.prototype.move=function(o){if(this.canNavigate()){-1===this._nextIdx?this._initIdx(o):o?(this._nextIdx+=1,this._nextIdx>=this._markers.length&&(this._nextIdx=0)):(this._nextIdx-=1,0>this._nextIdx&&(this._nextIdx=this._markers.length-1));var e=this._markers[this._nextIdx];this._onCurrentMarkerChanged.fire(e)}else this._onCurrentMarkerChanged.fire(void 0)},o.prototype.canNavigate=function(){return 0<this._markers.length},o.prototype.next=function(){this.move(!0)},o.prototype.previous=function(){this.move(!1)},o.prototype.findMarkerAtPosition=function(o){for(var e=0,t=this._markers,n;e<t.length;e++)if(n=t[e],s.Range.containsPosition(n,o))return n},Object.defineProperty(o.prototype,"total",{get:function(){return this._markers.length},enumerable:!0,configurable:!0}),o.prototype.indexOf=function(t){return 1+this._markers.indexOf(t)},o.prototype.reveal=function(){var o=this;-1!==this._nextIdx&&this.withoutWatchingEditorPosition(function(){var e=new a.Position(o._markers[o._nextIdx].startLineNumber,o._markers[o._nextIdx].startColumn);o._editor.setPosition(e),o._editor.revealPositionInCenter(e)})},o.prototype.dispose=function(){this._toUnbind=t.dispose(this._toUnbind)},o}(),b=function(){function t(t){this.lines=0,this.domNode=document.createElement("div"),this.domNode.className="block descriptioncontainer",this.domNode.setAttribute("aria-live","assertive"),this.domNode.setAttribute("role","alert"),t.appendChild(this.domNode)}return t.prototype.update=function(r){var e=this,t=r.source,n=r.message;if(this.lines=1,t){var i=Array(t.length+3+1).join(" ");n="["+t+"] "+n.replace(/\r\n|\r|\n/g,function(){return e.lines+=1,"\n"+i})}this.domNode.innerText=n},t}(),S=function(r){function e(e,t,n){var a=r.call(this,e,{showArrow:!0,showFrame:!0,isAccessible:!0})||this;return a._model=t,a._themeService=n,a._callOnDispose=[],a._severity=P.default.Warning,a._backgroundColor=u.Color.white,a._applyTheme(n.getTheme()),a._callOnDispose.push(n.onThemeChange(a._applyTheme.bind(a))),a.create(),a._wireModelAndView(),a}return Z(e,r),e.prototype._applyTheme=function(t){this._backgroundColor=t.getColor(f.editorMarkerNavigationBackground);var e=t.getColor(this._severity===P.default.Error?f.editorMarkerNavigationError:f.editorMarkerNavigationWarning);this.style({arrowColor:e,frameColor:e})},e.prototype._applyStyles=function(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor.toString()),r.prototype._applyStyles.call(this)},e.prototype.dispose=function(){this._callOnDispose=t.dispose(this._callOnDispose),r.prototype.dispose.call(this)},e.prototype.focus=function(){this._parentContainer.focus()},e.prototype._fillContainer=function(t){this._parentContainer=t,o.addClass(t,"marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),t.appendChild(this._container),this._title=document.createElement("div"),this._title.className="block title",this._container.appendChild(this._title),this._message=new b(this._container),this.editor.applyFontInfo(this._message.domNode)},e.prototype.show=function(e,t){r.prototype.show.call(this,e,t),1!==this.editor.getConfiguration().accessibilitySupport&&this.focus()},e.prototype._wireModelAndView=function(){this._model.onCurrentMarkerChanged(this.showAtMarker,this,this._callOnDispose),this._model.onMarkerSetChanged(this._onMarkersChanged,this,this._callOnDispose)},e.prototype.showAtMarker=function(o){var e=this;o&&(this._container.classList.remove("stale"),this._title.innerHTML=y.localize(0,null,this._model.indexOf(o),this._model.total),this._message.update(o),this._model.withoutWatchingEditorPosition(function(){e._severity=o.severity,e._applyTheme(e._themeService.getTheme()),e.show(new a.Position(o.startLineNumber,o.startColumn),e.computeRequiredHeight())}))},e.prototype._onMarkersChanged=function(){var t=this._model.findMarkerAtPosition(this.position);t?(this._container.classList.remove("stale"),this._message.update(t)):this._container.classList.add("stale"),this._relayout()},e.prototype._relayout=function(){r.prototype._relayout.call(this,this.computeRequiredHeight())},e.prototype.computeRequiredHeight=function(){return 1+this._message.lines},e}(e.ZoneWidget),E=function(o){function e(e,r){var n=o.call(this,r)||this;return n._isNext=e,n}return Z(e,o),e.prototype.run=function(a,e){var t=a.get(r.ITelemetryService),n=L.get(e);if(n){var i=n.getOrCreateModel();t.publicLog("zoneWidgetShown",h({mode:"go to error"},e.getTelemetryData())),i&&(this._isNext?i.next():i.previous(),i.reveal())}},e}(d.EditorAction),L=function(){function o(o,r,t,n){this._markerService=r,this._contextKeyService=t,this._themeService=n,this._callOnClose=[],this._editor=o,this._markersNavigationVisible=w.bindTo(this._contextKeyService)}return r=o,o.get=function(t){return t.getContribution(r.ID)},o.prototype.getId=function(){return r.ID},o.prototype.dispose=function(){this._cleanUp()},o.prototype._cleanUp=function(){this._markersNavigationVisible.reset(),this._callOnClose=t.dispose(this._callOnClose),this._zone=null,this._model=null},o.prototype.getOrCreateModel=function(){var o=this;if(this._model)return this._model;var e=this._getMarkers();return this._model=new C(this._editor,e),this._zone=new S(this._editor,this._model,this._themeService),this._markersNavigationVisible.set(!0),this._callOnClose.push(this._model),this._callOnClose.push(this._zone),this._callOnClose.push(this._editor.onDidChangeModel(function(){return o._cleanUp()})),this._model.onCurrentMarkerChanged(function(e){return!e&&o._cleanUp()},void 0,this._callOnClose),this._markerService.onMarkerChanged(this._onMarkerChanged,this,this._callOnClose),this._model},o.prototype.closeMarkersNavigation=function(){this._cleanUp(),this._editor.focus()},o.prototype._onMarkerChanged=function(o){var n=this;o.some(function(t){return n._editor.getModel().uri.toString()===t.toString()})&&this._model.setMarkers(this._getMarkers())},o.prototype._getMarkers=function(){return this._markerService.read({resource:this._editor.getModel().uri})},o.ID="editor.contrib.markerController",o=r=F([l.editorContribution,v(1,i.IMarkerService),v(2,n.IContextKeyService),v(3,c.IThemeService)],o);var r}(),w=(function(o){function e(){return o.call(this,!0,{id:"editor.action.marker.next",label:y.localize(1,null),alias:"Go to Next Error or Warning",precondition:g.EditorContextKeys.writable,kbOpts:{kbExpr:g.EditorContextKeys.focus,primary:66}})||this}Z(e,o),e=F([d.editorAction],e)}(E),function(o){function e(){return o.call(this,!1,{id:"editor.action.marker.prev",label:y.localize(2,null),alias:"Go to Previous Error or Warning",precondition:g.EditorContextKeys.writable,kbOpts:{kbExpr:g.EditorContextKeys.focus,primary:1090}})||this}Z(e,o),e=F([d.editorAction],e)}(E),new n.RawContextKey("markersNavigationVisible",!1)),x=d.EditorCommand.bindToContribution(L.get);d.CommonEditorRegistry.registerEditorCommand(new x({id:"closeMarkersNavigation",precondition:w,handler:function(t){return t.closeMarkersNavigation()},kbOpts:{weight:d.CommonEditorRegistry.commandWeight(50),kbExpr:g.EditorContextKeys.focus,primary:9,secondary:[1033]}}));var N=p.oneOf(m.editorErrorForeground,m.editorErrorBorder),M=p.oneOf(m.editorWarningForeground,m.editorWarningBorder);f.editorMarkerNavigationError=p.registerColor("editorMarkerNavigationError.background",{dark:N,light:N,hc:N},y.localize(3,null)),f.editorMarkerNavigationWarning=p.registerColor("editorMarkerNavigationWarning.background",{dark:M,light:M,hc:M},y.localize(4,null)),f.editorMarkerNavigationBackground=p.registerColor("editorMarkerNavigation.background",{dark:"#2D2D30",light:u.Color.white,hc:"#0C141F"},y.localize(5,null))}),define(s[523],n([1,0,354,40,15,71,88,2,13,25,30,463,425,3,14,23,21,388]),function(f,e,t,n,i,o,r,s,a,u,l,c,d,h,p,g,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var _=function(){function n(o,r,t){var n=this;this._editor=o,this._toUnhook=[],this._isMouseDown=!1,o.getConfiguration().contribInfo.hover&&(this._toUnhook.push(this._editor.onMouseDown(function(t){return n._onEditorMouseDown(t)})),this._toUnhook.push(this._editor.onMouseUp(function(t){return n._onEditorMouseUp(t)})),this._toUnhook.push(this._editor.onMouseMove(function(t){return n._onEditorMouseMove(t)})),this._toUnhook.push(this._editor.onMouseLeave(function(){return n._hideWidgets()})),this._toUnhook.push(this._editor.onKeyDown(function(t){return n._onKeyDown(t)})),this._toUnhook.push(this._editor.onDidChangeModel(function(){return n._hideWidgets()})),this._toUnhook.push(this._editor.onDidChangeModelDecorations(function(){return n._onModelDecorationsChanged()})),this._toUnhook.push(this._editor.onDidScrollChange(function(t){(t.scrollTopChanged||t.scrollLeftChanged)&&n._hideWidgets()})),this._contentWidget=new c.ModesContentHoverWidget(o,r,t),this._glyphWidget=new d.ModesGlyphHoverWidget(o,r,t))}return a=n,n.get=function(t){return t.getContribution(a.ID)},n.prototype._onModelDecorationsChanged=function(){this._contentWidget.onModelDecorationsChanged(),this._glyphWidget.onModelDecorationsChanged()},n.prototype._onEditorMouseDown=function(o){this._isMouseDown=!0;var e=o.target.type;e!==u.MouseTargetType.CONTENT_WIDGET||o.target.detail!==c.ModesContentHoverWidget.ID?e===u.MouseTargetType.OVERLAY_WIDGET&&o.target.detail===d.ModesGlyphHoverWidget.ID||(e!==u.MouseTargetType.OVERLAY_WIDGET&&o.target.detail!==d.ModesGlyphHoverWidget.ID&&(this._hoverClicked=!1),this._hideWidgets()):this._hoverClicked=!0},n.prototype._onEditorMouseUp=function(){this._isMouseDown=!1},n.prototype._onEditorMouseMove=function(o){var e=o.target.type,t=i.isMacintosh?"metaKey":"ctrlKey";this._isMouseDown&&this._hoverClicked&&this._contentWidget.isColorPickerVisible()||(e!==u.MouseTargetType.CONTENT_WIDGET||o.target.detail!==c.ModesContentHoverWidget.ID||o.event[t])&&(e!==u.MouseTargetType.OVERLAY_WIDGET||o.target.detail!==d.ModesGlyphHoverWidget.ID||o.event[t])&&(this._editor.getConfiguration().contribInfo.hover&&e===u.MouseTargetType.CONTENT_TEXT?(this._glyphWidget.hide(),this._contentWidget.startShowingAt(o.target.range,!1)):e===u.MouseTargetType.GUTTER_GLYPH_MARGIN?(this._contentWidget.hide(),this._glyphWidget.startShowingAt(o.target.position.lineNumber)):this._hideWidgets())},n.prototype._onKeyDown=function(t){5!==t.keyCode&&6!==t.keyCode&&57!==t.keyCode&&this._hideWidgets()},n.prototype._hideWidgets=function(){this._isMouseDown&&this._hoverClicked&&this._contentWidget.isColorPickerVisible()||(this._glyphWidget.hide(),this._contentWidget.hide())},n.prototype.showContentHover=function(o,e){this._contentWidget.startShowingAt(o,e)},n.prototype.getId=function(){return a.ID},n.prototype.dispose=function(){this._toUnhook=h.dispose(this._toUnhook),this._glyphWidget&&(this._glyphWidget.dispose(),this._glyphWidget=null),this._contentWidget&&(this._contentWidget.dispose(),this._contentWidget=null)},n.ID="editor.contrib.hover",n=a=F([l.editorContribution,v(1,o.IOpenerService),v(2,r.IModeService)],n);var a}();e.ModesHoverController=_,!function(o){function e(){return o.call(this,{id:"editor.action.showHover",label:t.localize(0,null),alias:"Show Hover",precondition:null,kbOpts:{kbExpr:m.EditorContextKeys.textFocus,primary:n.KeyChord(2089,2087)}})||this}Z(e,o),e.prototype.run=function(r,e){var t=_.get(e);if(t){var n=e.getPosition(),i=new s.Range(n.lineNumber,n.column,n.lineNumber,n.column);t.showContentHover(i,!0)}},e=F([a.editorAction],e)}(a.EditorAction),p.registerThemingParticipant(function(a,e){var t=a.getColor(g.editorHoverHighlight);t&&e.addRule(".monaco-editor .hoverHighlight { background-color: "+t+"; }");var n=a.getColor(g.editorHoverBackground);n&&e.addRule(".monaco-editor .monaco-editor-hover { background-color: "+n+"; }");var i=a.getColor(g.editorHoverBorder);i&&(e.addRule(".monaco-editor .monaco-editor-hover { border: 1px solid "+i+"; }"),e.addRule(".monaco-editor .monaco-editor-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid "+i.transparent(.5)+"; }"));var o=a.getColor(g.textLinkForeground);o&&e.addRule(".monaco-editor .monaco-editor-hover a { color: "+o+"; }");var r=a.getColor(g.textCodeBlockBackground);r&&e.addRule(".monaco-editor .monaco-editor-hover code { background-color: "+r+"; }")})}),define(s[524],n([1,0,356,7,2,22,21,13,61,262,131,14,37,34]),function(m,e,t,_,i,o,n,r,a,f,l,s,d,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var p=function(){function n(o,n){this.editor=o,this.editorWorkerService=n,this.requestIdPool=0,this.currentRequest=_.TPromise.as(null),this.decorationRemover=_.TPromise.as(null),this.decorationIds=[]}return d=n,n.get=function(t){return t.getContribution(d.ID)},n.prototype.dispose=function(){},n.prototype.getId=function(){return d.ID},n.prototype.run=function(t,e){var r=this;this.currentRequest.cancel();var s=this.editor.getSelection(),n=this.editor.getModel().uri;if(s.startLineNumber!==s.endLineNumber)return null;var a=new l.EditorState(this.editor,5);return this.editorWorkerService.canNavigateValueSet(n)?(this.currentRequest=this.editorWorkerService.navigateValueSet(n,s,e),this.currentRequest=this.currentRequest.then(function(t){return t&&t.range&&t.value?t:null})):this.currentRequest=_.TPromise.as(null),this.currentRequest.then(function(e){if(e&&e.range&&e.value&&a.validate(r.editor)){var n=i.Range.lift(e.range),l=e.range,u=e.value.length-(s.endColumn-s.startColumn);l={startLineNumber:l.startLineNumber,startColumn:l.startColumn,endLineNumber:l.endLineNumber,endColumn:l.startColumn+e.value.length},1<u&&(s=new o.Selection(s.startLineNumber,s.startColumn,s.endLineNumber,s.endColumn+u-1));var g=new f.InPlaceReplaceCommand(n,s,e.value);r.editor.pushUndoStop(),r.editor.executeCommand(t,g),r.editor.pushUndoStop(),r.decorationIds=r.editor.deltaDecorations(r.decorationIds,[{range:l,options:d.DECORATION}]),r.decorationRemover.cancel(),r.decorationRemover=_.TPromise.timeout(350),r.decorationRemover.then(function(){r.editor.changeDecorations(function(t){r.decorationIds=t.deltaDecorations(r.decorationIds,[])})})}})},n.ID="editor.contrib.inPlaceReplaceController",n.DECORATION=c.ModelDecorationOptions.register({className:"valueSetReplacement"}),n=d=F([r.commonEditorContribution,v(1,a.IEditorWorkerService)],n);var d}();(function(o){function e(){return o.call(this,{id:"editor.action.inPlaceReplace.up",label:t.localize(0,null),alias:"Replace with Previous Value",precondition:n.EditorContextKeys.writable,kbOpts:{kbExpr:n.EditorContextKeys.textFocus,primary:3154}})||this}Z(e,o),e.prototype.run=function(o,e){var t=p.get(e);if(t)return t.run(this.id,!0)},e=F([r.editorAction],e)})(r.EditorAction),function(o){function e(){return o.call(this,{id:"editor.action.inPlaceReplace.down",label:t.localize(1,null),alias:"Replace with Next Value",precondition:n.EditorContextKeys.writable,kbOpts:{kbExpr:n.EditorContextKeys.textFocus,primary:3156}})||this}Z(e,o),e.prototype.run=function(o,e){var t=p.get(e);if(t)return t.run(this.id,!1)},e=F([r.editorAction],e)}(r.EditorAction),s.registerThemingParticipant(function(o,e){var t=o.getColor(d.editorBracketMatchBorder);t&&e.addRule(".monaco-editor.vs .valueSetReplacement { outline: solid 2px "+t+"; }")})}),define(s[525],n([1,0,358,10,15,36,7,50,71,20,13,17,61,25,401,3,30,14,23,34,192,389]),function(f,e,t,n,i,y,o,r,a,s,l,c,d,u,p,g,m,h,_,C,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var S=i.isMacintosh?t.localize(0,null):t.localize(1,null),w=i.isMacintosh?t.localize(2,null):t.localize(3,null),I=t.localize(4,null),D=t.localize(5,null),R={meta:C.ModelDecorationOptions.register({stickiness:s.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,inlineClassName:"detected-link",hoverMessage:S}),metaActive:C.ModelDecorationOptions.register({stickiness:s.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,inlineClassName:"detected-link-active",hoverMessage:S}),alt:C.ModelDecorationOptions.register({stickiness:s.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,inlineClassName:"detected-link",hoverMessage:I}),altActive:C.ModelDecorationOptions.register({stickiness:s.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,inlineClassName:"detected-link-active",hoverMessage:I}),altCommand:C.ModelDecorationOptions.register({stickiness:s.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,inlineClassName:"detected-link",hoverMessage:D}),altCommandActive:C.ModelDecorationOptions.register({stickiness:s.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,inlineClassName:"detected-link-active",hoverMessage:D}),metaCommand:C.ModelDecorationOptions.register({stickiness:s.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,inlineClassName:"detected-link",hoverMessage:w}),metaCommandActive:C.ModelDecorationOptions.register({stickiness:s.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,inlineClassName:"detected-link-active",hoverMessage:w})},M=function(){function o(o,n){this.link=o,this.decorationId=n}return o.decoration=function(e,t){return{range:e.range,options:o._getOptions(e,t,!1)}},o._getOptions=function(o,e,t){return /^command:/i.test(o.url)?e?t?R.metaCommandActive:R.metaCommand:t?R.altCommandActive:R.altCommand:e?t?R.metaActive:R.meta:t?R.altActive:R.alt},o.prototype.activate=function(e,t){e.changeDecorationOptions(this.decorationId,o._getOptions(this.link,t,!0))},o.prototype.deactivate=function(e,t){e.changeDecorationOptions(this.decorationId,o._getOptions(this.link,t,!1))},o}(),T=function(){function i(a,s,t,n){var i=this;this.editor=a,this.openerService=s,this.messageService=t,this.editorWorkerService=n,this.listenersToRemove=[];var o=new b.ClickLinkGesture(a);this.listenersToRemove.push(o),this.listenersToRemove.push(o.onMouseMoveOrRelevantKeyDown(function(o){var e=o[0],t=o[1];i._onEditorMouseMove(e,t)})),this.listenersToRemove.push(o.onExecute(function(t){i.onEditorMouseUp(t)})),this.listenersToRemove.push(o.onCancel(function(){i.cleanUpActiveLinkDecoration()})),this.enabled=a.getConfiguration().contribInfo.links,this.listenersToRemove.push(a.onDidChangeConfiguration(function(){var e=a.getConfiguration().contribInfo.links;i.enabled!==e&&(i.enabled=e,i.updateDecorations([]),i.stop(),i.beginCompute())})),this.listenersToRemove.push(a.onDidChangeModelContent(function(){return i.onChange()})),this.listenersToRemove.push(a.onDidChangeModel(function(){return i.onModelChanged()})),this.listenersToRemove.push(a.onDidChangeModelLanguage(function(){return i.onModelModeChanged()})),this.listenersToRemove.push(c.LinkProviderRegistry.onDidChange(function(){return i.onModelModeChanged()})),this.timeoutPromise=null,this.computePromise=null,this.currentOccurrences={},this.activeLinkDecorationId=null,this.beginCompute()}return s=i,i.get=function(t){return t.getContribution(s.ID)},i.prototype.getId=function(){return s.ID},i.prototype.isComputing=function(){return o.TPromise.is(this.computePromise)},i.prototype.onModelChanged=function(){this.currentOccurrences={},this.activeLinkDecorationId=null,this.stop(),this.beginCompute()},i.prototype.onModelModeChanged=function(){this.stop(),this.beginCompute()},i.prototype.onChange=function(){var t=this;this.timeoutPromise||(this.timeoutPromise=o.TPromise.timeout(s.RECOMPUTE_TIME),this.timeoutPromise.then(function(){t.timeoutPromise=null,t.beginCompute()}))},i.prototype.beginCompute=function(){var o=this;this.editor.getModel()&&this.enabled&&c.LinkProviderRegistry.has(this.editor.getModel())&&(this.computePromise=p.getLinks(this.editor.getModel()).then(function(e){o.updateDecorations(e),o.computePromise=null}))},i.prototype.updateDecorations=function(g){var e=this,t="altKey"===this.editor.getConfiguration().multiCursorModifier;this.editor.changeDecorations(function(n){for(var i=[],o=Object.keys(e.currentOccurrences),r=0,s=o.length;r<s;r++){var a=o[r],u=e.currentOccurrences[a];i.push(u.decorationId)}var l=[];if(g)for(var c=0;c<g.length;c++)l.push(M.decoration(g[c],t));var d=n.deltaDecorations(i,l);e.currentOccurrences={},e.activeLinkDecorationId=null;for(var m=0,s=d.length,p;m<s;m++)p=new M(g[m],d[m]),e.currentOccurrences[p.decorationId]=p})},i.prototype._onEditorMouseMove=function(r,e){var t=this,n="altKey"===this.editor.getConfiguration().multiCursorModifier;if(this.isEnabled(r,e)){this.cleanUpActiveLinkDecoration();var i=this.getLinkOccurrence(r.target.position);i&&this.editor.changeDecorations(function(o){i.activate(o,n),t.activeLinkDecorationId=i.decorationId})}else this.cleanUpActiveLinkDecoration()},i.prototype.cleanUpActiveLinkDecoration=function(){var o="altKey"===this.editor.getConfiguration().multiCursorModifier;if(this.activeLinkDecorationId){var e=this.currentOccurrences[this.activeLinkDecorationId];e&&this.editor.changeDecorations(function(t){e.deactivate(t,o)}),this.activeLinkDecorationId=null}},i.prototype.onEditorMouseUp=function(o){if(this.isEnabled(o)){var e=this.getLinkOccurrence(o.target.position);e&&this.openLinkOccurrence(e,o.hasSideBySideModifier)}},i.prototype.openLinkOccurrence=function(i,r){var a=this;if(this.openerService){var o=i.link;o.resolve().then(function(o){return a.openerService.open(o,{openToSide:r})},function(i){"invalid"===i?a.messageService.show(y.default.Warning,t.localize(6,null,o.url)):"missing"===i?a.messageService.show(y.default.Warning,t.localize(7,null)):n.onUnexpectedError(i)}).done(null,n.onUnexpectedError)}},i.prototype.getLinkOccurrence=function(r){for(var e=this.editor.getModel().getDecorationsInRange({startLineNumber:r.lineNumber,startColumn:r.column,endLineNumber:r.lineNumber,endColumn:r.column},0,!0),t=0;t<e.length;t++){var n=e[t],i=this.currentOccurrences[n.id];if(i)return i}return null},i.prototype.isEnabled=function(o,e){return o.target.type===u.MouseTargetType.CONTENT_TEXT&&(o.hasTriggerModifier||e&&e.keyCodeIsTriggerKey)},i.prototype.stop=function(){this.timeoutPromise&&(this.timeoutPromise.cancel(),this.timeoutPromise=null),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)},i.prototype.dispose=function(){this.listenersToRemove=g.dispose(this.listenersToRemove),this.stop()},i.ID="editor.linkDetector",i.RECOMPUTE_TIME=1e3,i=s=F([m.editorContribution,v(1,a.IOpenerService),v(2,r.IMessageService),v(3,d.IEditorWorkerService)],i);var s}();!function(o){function e(){return o.call(this,{id:"editor.action.openLink",label:t.localize(8,null),alias:"Open Link",precondition:null})||this}Z(e,o),e.prototype.run=function(o,e){var t=T.get(e);if(t){var n=t.getLinkOccurrence(e.getPosition());n&&t.openLinkOccurrence(n,!1)}},e=F([l.editorAction],e)}(l.EditorAction),h.registerThemingParticipant(function(o,e){var t=o.getColor(_.editorActiveLinkForeground);t&&e.addRule(".monaco-editor .detected-link-active { color: "+t+" !important; }")})}),define(s[526],n([1,0,361,3,7,4,51,17,25,18,10,11,124,19,178,63,89,14,23,390]),function(f,e,t,y,n,L,o,x,i,r,a,c,d,s,p,g,m,l,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var h=L.$,_=function(o){function s(e){var t=o.call(this)||this;return t._onHint=t._register(new c.Emitter),t.onHint=t._onHint.event,t._onCancel=t._register(new c.Emitter),t.onCancel=t._onCancel.event,t.editor=e,t.enabled=!1,t.triggerCharactersListeners=[],t.throttledDelayer=new r.RunOnceScheduler(function(){return t.doTrigger()},s.DELAY),t.active=!1,t._register(t.editor.onDidChangeConfiguration(function(){return t.onEditorConfigurationChange()})),t._register(t.editor.onDidChangeModel(function(){return t.onModelChanged()})),t._register(t.editor.onDidChangeModelLanguage(function(){return t.onModelChanged()})),t._register(t.editor.onDidChangeCursorSelection(function(o){return t.onCursorChange(o)})),t._register(x.SignatureHelpProviderRegistry.onDidChange(t.onModelChanged,t)),t.onEditorConfigurationChange(),t.onModelChanged(),t}return Z(s,o),s.prototype.cancel=function(t){void 0===t&&(t=!1),this.active=!1,this.throttledDelayer.cancel(),t||this._onCancel.fire(void 0)},s.prototype.trigger=function(t){if(void 0===t&&(t=s.DELAY),x.SignatureHelpProviderRegistry.has(this.editor.getModel()))return this.cancel(!0),this.throttledDelayer.schedule(t)},s.prototype.doTrigger=function(){var o=this;p.provideSignatureHelp(this.editor.getModel(),this.editor.getPosition()).then(null,a.onUnexpectedError).then(function(e){if(!e||!e.signatures||0===e.signatures.length)return o.cancel(),o._onCancel.fire(void 0),!1;o.active=!0;return o._onHint.fire({hints:e}),!0})},s.prototype.isTriggered=function(){return this.active||this.throttledDelayer.isScheduled()},s.prototype.onModelChanged=function(){var i=this;this.active&&this.cancel(),this.triggerCharactersListeners=y.dispose(this.triggerCharactersListeners);var e=this.editor.getModel();if(e){for(var a=new m.CharacterSet,t=0,o=x.SignatureHelpProviderRegistry.ordered(e),n;t<o.length;t++)if(n=o[t],Array.isArray(n.signatureHelpTriggerCharacters))for(var r=0,s=n.signatureHelpTriggerCharacters,d;r<s.length;r++)d=s[r],a.add(d.charCodeAt(0));this.triggerCharactersListeners.push(this.editor.onDidType(function(e){i.enabled&&a.has(e.charCodeAt(e.length-1))&&i.trigger()}))}},s.prototype.onCursorChange=function(t){"mouse"===t.source?this.cancel():this.isTriggered()&&this.trigger()},s.prototype.onEditorConfigurationChange=function(){this.enabled=this.editor.getConfiguration().contribInfo.parameterHints,this.enabled||this.cancel()},s.prototype.dispose=function(){this.cancel(!0),this.triggerCharactersListeners=y.dispose(this.triggerCharactersListeners),o.prototype.dispose.call(this)},s.DELAY=120,s}(y.Disposable);e.ParameterHintsModel=_;var C=function(){function r(r,m){var t=this;this.editor=r,this.allowEditorOverflow=!0,this.model=new _(r),this.keyVisible=p.Context.Visible.bindTo(m),this.keyMultipleSignatures=p.Context.MultipleSignatures.bindTo(m),this.visible=!1,this.disposables=[],this.disposables.push(this.model.onHint(function(o){t.show(),t.hints=o.hints,t.currentSignature=o.hints.activeSignature,t.render()})),this.disposables.push(this.model.onCancel(function(){t.hide()})),this.element=h(".editor-widget.parameter-hints-widget");var n=L.append(this.element,h(".wrapper"));d.stop(d.domEvent(this.element,"click"))(this.next,this,this.disposables);var i=L.append(n,h(".buttons")),o=L.append(i,h(".button.previous")),s=L.append(i,h(".button.next"));d.stop(d.domEvent(o,"click"))(this.previous,this,this.disposables),d.stop(d.domEvent(s,"click"))(this.next,this,this.disposables),this.overloads=L.append(n,h(".overloads"));var a=h(".body");this.scrollbar=new g.DomScrollableElement(a,{}),this.disposables.push(this.scrollbar),n.appendChild(this.scrollbar.getDomNode()),this.signature=L.append(a,h(".signature")),this.docs=L.append(a,h(".docs")),this.currentSignature=0,this.editor.addContentWidget(this),this.hide(),this.disposables.push(this.editor.onDidChangeCursorSelection(function(){t.visible&&t.editor.layoutContentWidget(t)}));var u=function(){var o=t.editor.getConfiguration().fontInfo;t.element.style.fontSize=o.fontSize+"px"};u(),c.chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter(function(t){return t.fontInfo}).on(u,null,this.disposables),this.disposables.push(this.editor.onDidLayoutChange(function(){return t.updateMaxHeight()})),this.updateMaxHeight()}return r.prototype.show=function(){var t=this;this.model&&!this.visible&&(this.keyVisible.set(!0),this.visible=!0,n.TPromise.timeout(100).done(function(){return L.addClass(t.element,"visible")}),this.editor.layoutContentWidget(this))},r.prototype.hide=function(){this.model&&this.visible&&(this.keyVisible.reset(),this.visible=!1,this.hints=null,this.announcedLabel=null,L.removeClass(this.element,"visible"),this.editor.layoutContentWidget(this))},r.prototype.getPosition=function(){return this.visible?{position:this.editor.getPosition(),preference:[i.ContentWidgetPositionPreference.ABOVE,i.ContentWidgetPositionPreference.BELOW]}:null},r.prototype.render=function(){var n=1<this.hints.signatures.length;L.toggleClass(this.element,"multiple",n),this.keyMultipleSignatures.set(n),this.signature.innerHTML="",this.docs.innerHTML="";var e=this.hints.signatures[this.currentSignature];if(e){var r=L.append(this.signature,h(".code")),i=0<e.parameters.length,s=this.editor.getConfiguration().fontInfo;r.style.fontSize=s.fontSize+"px",r.style.fontFamily=s.fontFamily,i?this.renderParameters(r,e,this.hints.activeParameter):L.append(r,h("span")).textContent=e.label;var a=e.parameters[this.hints.activeParameter];if(a&&a.documentation){var p=h("span.documentation");p.textContent=a.documentation,L.append(this.docs,h("p",null,p))}L.toggleClass(this.signature,"has-docs",!!e.documentation),e.documentation&&L.append(this.docs,h("p",null,e.documentation));var l=this.currentSignature+1+"";if(10>this.hints.signatures.length&&(l+="/"+this.hints.signatures.length),this.overloads.textContent=l,a){var c=a.label;this.announcedLabel!==c&&(o.alert(t.localize(0,null,c)),this.announcedLabel=c)}this.editor.layoutContentWidget(this),this.scrollbar.scanDomNode()}},r.prototype.renderParameters=function(r,e,t){for(var n=e.label.length,o=0,s=e.parameters.length-1,a;0<=s;s--){var i=e.parameters[s],d=0,l=0;0<=(o=e.label.lastIndexOf(i.label,n-1))&&(d=o,l=o+i.label.length),(a=document.createElement("span")).textContent=e.label.substring(l,n),L.prepend(r,a),(a=document.createElement("span")).className="parameter "+(s===t?"active":""),a.textContent=e.label.substring(d,l),L.prepend(r,a),n=d}(a=document.createElement("span")).textContent=e.label.substring(0,n),L.prepend(r,a)},r.prototype.next=function(){var t=this.hints.signatures.length;return 2>t?(this.cancel(),!1):(this.currentSignature=(this.currentSignature+1)%t,this.render(),!0)},r.prototype.previous=function(){var t=this.hints.signatures.length;return 2>t?(this.cancel(),!1):(this.currentSignature=(this.currentSignature-1+t)%t,this.render(),!0)},r.prototype.cancel=function(){this.model.cancel()},r.prototype.getDomNode=function(){return this.element},r.prototype.getId=function(){return r.ID},r.prototype.trigger=function(){this.model.trigger(0)},r.prototype.updateMaxHeight=function(){var t=G(this.editor.getLayoutInfo().height/4,250);this.element.style.maxHeight=t+"px"},r.prototype.dispose=function(){this.disposables=y.dispose(this.disposables),this.model=null},r.ID="editor.widget.parameterHintsWidget",r=F([v(1,s.IContextKeyService)],r)}();e.ParameterHintsWidget=C,l.registerThemingParticipant(function(r,e){var t=r.getColor(u.editorHoverBorder);if(t){var n=r.type===l.HIGH_CONTRAST?2:1;e.addRule(".monaco-editor .parameter-hints-widget { border: "+n+"px solid "+t+"; }"),e.addRule(".monaco-editor .parameter-hints-widget.multiple .body { border-left: 1px solid "+t.transparent(.5)+"; }"),e.addRule(".monaco-editor .parameter-hints-widget .signature.has-docs { border-bottom: 1px solid "+t.transparent(.5)+"; }")}var i=r.getColor(u.editorHoverBackground);i&&e.addRule(".monaco-editor .parameter-hints-widget { background-color: "+i+"; }")})}),define(s[527],n([1,0,360,3,16,21,19,13,30,526,178]),function(m,e,t,n,i,o,r,s,a,u,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var c=function(){function o(o,n){this.editor=o,this.widget=n.createInstance(u.ParameterHintsWidget,this.editor)}return r=o,o.get=function(t){return t.getContribution(r.ID)},o.prototype.getId=function(){return r.ID},o.prototype.cancel=function(){this.widget.cancel()},o.prototype.previous=function(){this.widget.previous()},o.prototype.next=function(){this.widget.next()},o.prototype.trigger=function(){this.widget.trigger()},o.prototype.dispose=function(){this.widget=n.dispose(this.widget)},o.ID="editor.controller.parameterHints",o=r=F([a.editorContribution,v(1,i.IInstantiationService)],o);var r}(),d=function(n){function e(){return n.call(this,{id:"editor.action.triggerParameterHints",label:t.localize(0,null),alias:"Trigger Parameter Hints",precondition:o.EditorContextKeys.hasSignatureHelpProvider,kbOpts:{kbExpr:o.EditorContextKeys.textFocus,primary:3082}})||this}return Z(e,n),e.prototype.run=function(o,e){var t=c.get(e);t&&t.trigger()},e=F([s.editorAction],e)}(s.EditorAction);e.TriggerParameterHintsAction=d;var h=s.CommonEditorRegistry.commandWeight(75),_=s.EditorCommand.bindToContribution(c.get);s.CommonEditorRegistry.registerEditorCommand(new _({id:"closeParameterHints",precondition:l.Context.Visible,handler:function(t){return t.cancel()},kbOpts:{weight:h,kbExpr:o.EditorContextKeys.textFocus,primary:9,secondary:[1033]}})),s.CommonEditorRegistry.registerEditorCommand(new _({id:"showPrevParameterHint",precondition:r.ContextKeyExpr.and(l.Context.Visible,l.Context.MultipleSignatures),handler:function(t){return t.previous()},kbOpts:{weight:h,kbExpr:o.EditorContextKeys.textFocus,primary:16,secondary:[528],mac:{primary:16,secondary:[528,302]}}})),s.CommonEditorRegistry.registerEditorCommand(new _({id:"showNextParameterHint",precondition:r.ContextKeyExpr.and(l.Context.Visible,l.Context.MultipleSignatures),handler:function(t){return t.next()},kbOpts:{weight:h,kbExpr:o.EditorContextKeys.textFocus,primary:18,secondary:[530],mac:{primary:18,secondary:[530,300]}}}))}),define(s[528],n([1,0,369,10,3,7,2,25,14,23,12,393]),function(p,e,t,n,i,o,r,s,a,u,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function d(o,i){var t=this;this.themeService=i,this._disposables=[],this.allowEditorOverflow=!0,this._currentAcceptInput=null,this._currentCancelInput=null,this._editor=o,this._editor.addContentWidget(this),this._disposables.push(o.onDidChangeConfiguration(function(o){o.fontInfo&&t.updateFont()})),this._disposables.push(i.onThemeChange(function(o){return t.onThemeChange(o)}))}return d.prototype.onThemeChange=function(t){this.updateStyles(t)},d.prototype.dispose=function(){this._disposables=i.dispose(this._disposables),this._editor.removeContentWidget(this)},d.prototype.getId=function(){return"__renameInputWidget"},d.prototype.getDomNode=function(){return this._domNode||(this._inputField=document.createElement("input"),this._inputField.className="rename-input",this._inputField.type="text",this._inputField.setAttribute("aria-label",t.localize(0,null)),this._domNode=document.createElement("div"),this._domNode.style.height=this._editor.getConfiguration().lineHeight+"px",this._domNode.className="monaco-editor rename-box",this._domNode.appendChild(this._inputField),this.updateFont(),this.updateStyles(this.themeService.getTheme())),this._domNode},d.prototype.updateStyles=function(r){if(this._inputField){var e=r.getColor(u.inputBackground),t=r.getColor(u.inputForeground),n=r.getColor(u.widgetShadow),i=r.getColor(u.inputBorder);this._inputField.style.backgroundColor=e?e.toString():null,this._inputField.style.color=t?t.toString():null,this._inputField.style.borderWidth=i?"1px":"0px",this._inputField.style.borderStyle=i?"solid":"none",this._inputField.style.borderColor=i?i.toString():"none",this._domNode.style.boxShadow=n?" 0 2px 8px "+n:null}},d.prototype.updateFont=function(){if(this._inputField){var t=this._editor.getConfiguration().fontInfo;this._inputField.style.fontFamily=t.fontFamily,this._inputField.style.fontWeight=t.fontWeight,this._inputField.style.fontSize=t.fontSize+"px"}},d.prototype.getPosition=function(){return this._visible?{position:this._position,preference:[s.ContentWidgetPositionPreference.BELOW,s.ContentWidgetPositionPreference.ABOVE]}:null},d.prototype.acceptInput=function(){this._currentAcceptInput&&this._currentAcceptInput()},d.prototype.cancelInput=function(){this._currentCancelInput&&this._currentCancelInput()},d.prototype.getInput=function(s,e,t,p){var a=this;this._position=new g.Position(s.startLineNumber,s.startColumn),this._inputField.value=e,this._inputField.setAttribute("selectionStart",t.toString()),this._inputField.setAttribute("selectionEnd",p.toString()),this._inputField.size=G(1.1*(s.endColumn-s.startColumn),20);var c=[],d;return d=function(){i.dispose(c),a._hide()},new o.TPromise(function(t,i){a._currentCancelInput=function(){return a._currentAcceptInput=null,a._currentCancelInput=null,i(n.canceled()),!0},a._currentAcceptInput=function(){0!==a._inputField.value.trim().length&&a._inputField.value!==e?(a._currentAcceptInput=null,a._currentCancelInput=null,t(a._inputField.value)):a.cancelInput()},c.push(a._editor.onDidChangeCursorSelection(function(){r.Range.containsPosition(s,a._editor.getPosition())||a.cancelInput()})),c.push(a._editor.onDidBlurEditor(function(){return a.cancelInput()})),a._show()},this._currentCancelInput).then(function(t){return d(),t},function(t){return d(),o.TPromise.wrapError(t)})},d.prototype._show=function(){var t=this;this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber),this._visible=!0,this._editor.layoutContentWidget(this),setTimeout(function(){t._inputField.focus(),t._inputField.setSelectionRange(parseInt(t._inputField.getAttribute("selectionStart")),parseInt(t._inputField.getAttribute("selectionEnd")))},25)},d.prototype._hide=function(){this._visible=!1,this._editor.layoutContentWidget(this)},d=F([v(1,a.IThemeService)],d)}();e.default=l}),define(s[529],n([1,0,368,10,36,7,411,19,50,163,13,30,21,338,528,87,16,14,18,17,51,2]),function(f,e,y,I,n,o,i,r,a,s,l,c,t,d,p,u,g,m,h,_,C,b){"use strict";function S(r,e,t){var n=[],i=!1,s=_.RenameProviderRegistry.ordered(r).map(function(s){return function(){if(!i)return h.asWinJsPromise(function(o){return s.provideRenameEdits(r,e,t,o)}).then(function(t){if(t){if(!t.rejectReason)return i=!0,t;n.push(t.rejectReason)}else;},function(t){return I.onUnexpectedExternalError(t),o.TPromise.wrapError(new Error("provider failed"))})}});return h.sequence(s).then(function(o){var e=o[0];return 0<n.length?{edits:void 0,rejectReason:n.join("\n")}:e||{edits:void 0,rejectReason:y.localize(0,null)}})}Object.defineProperty(e,"__esModule",{value:!0}),e.rename=S;var E=new r.RawContextKey("renameInputVisible",!1),L=function(){function l(a,d,t,n,i,o,r){this.editor=a,this._messageService=d,this._textModelResolverService=t,this._progressService=n,this._fileService=r,this._renameInputField=new p.default(a,o),this._renameInputVisible=E.bindTo(i)}return h=l,l.get=function(t){return t.getContribution(h.ID)},l.prototype.dispose=function(){this._renameInputField.dispose()},l.prototype.getId=function(){return h.ID},l.prototype.run=function(){var r=this,e=this.editor.getSelection(),d=this.editor.getModel().getWordAtPosition(e.getStartPosition());if(d){var t=e.startLineNumber,i=0,s=d.word.length,l;return l=new b.Range(t,d.startColumn,t,d.endColumn),e.isEmpty()||e.startLineNumber!==e.endLineNumber||(i=G(0,e.startColumn-d.startColumn),s=q(d.endColumn,e.endColumn)-d.startColumn),this._renameInputVisible.set(!0),this._renameInputField.getInput(l,d.word,i,s).then(function(e){r._renameInputVisible.reset(),r.editor.focus();var t=r._prepareRename(e).then(function(t){return t.finish().then(function(n){n&&r.editor.setSelection(n),C.alert(y.localize(1,null,d.word,e,t.ariaMessage()))})},function(e){return"string"==typeof e?void r._messageService.show(n.default.Info,e):(r._messageService.show(n.default.Error,y.localize(2,null)),o.TPromise.wrapError(e))});return r._progressService.showWhile(t,250),t},function(e){if(r._renameInputVisible.reset(),r.editor.focus(),!I.isPromiseCanceledError(e))return o.TPromise.wrapError(e)})}},l.prototype.acceptRenameInput=function(){this._renameInputField.acceptInput()},l.prototype.cancelRenameInput=function(){this._renameInputField.cancelInput()},l.prototype._prepareRename=function(n){var i=d.createBulkEdit(this._textModelResolverService,this.editor,this._fileService);return S(this.editor.getModel(),this.editor.getPosition(),n).then(function(t){return t.rejectReason?o.TPromise.wrapError(new Error(t.rejectReason)):(i.add(t.edits),i)})},l.ID="editor.contrib.renameController",l=h=F([c.editorContribution,v(1,a.IMessageService),v(2,u.ITextModelService),v(3,s.IProgressService),v(4,r.IContextKeyService),v(5,m.IThemeService),v(6,g.optional(i.IFileService))],l);var h}(),w=function(o){function e(){return o.call(this,{id:"editor.action.rename",label:y.localize(3,null),alias:"Rename Symbol",precondition:r.ContextKeyExpr.and(t.EditorContextKeys.writable,t.EditorContextKeys.hasRenameProvider),kbOpts:{kbExpr:t.EditorContextKeys.textFocus,primary:60},menuOpts:{group:"1_modification",order:1.1}})||this}return Z(e,o),e.prototype.run=function(o,e){var t=L.get(e);if(t)return t.run()},e=F([l.editorAction],e)}(l.EditorAction);e.RenameAction=w;var N=l.EditorCommand.bindToContribution(L.get);l.CommonEditorRegistry.registerEditorCommand(new N({id:"acceptRenameInput",precondition:E,handler:function(t){return t.acceptRenameInput()},kbOpts:{weight:l.CommonEditorRegistry.commandWeight(99),kbExpr:t.EditorContextKeys.focus,primary:3}})),l.CommonEditorRegistry.registerEditorCommand(new N({id:"cancelRenameInput",precondition:E,handler:function(t){return t.cancelRenameInput()},kbOpts:{weight:l.CommonEditorRegistry.commandWeight(99),kbExpr:t.EditorContextKeys.focus,primary:9,secondary:[1033]}})),l.CommonEditorRegistry.registerDefaultLanguageCommand("_executeDocumentRenameProvider",function(i,e,t){var n=t.newName;if("string"!=typeof n)throw I.illegalArgument("newName");return S(i,e,n)})}),define(s[530],n([1,0,372,81,9,11,7,10,3,4,110,234,63,46,19,25,109,51,58,137,14,23,76,395]),function(_,y,M,n,i,R,t,o,r,P,l,A,a,s,d,e,g,p,c,m,u,f,C){"use strict";function b(t){return t&&t.match(E)?t:null}function S(o){if(!o)return!1;var n=o.suggestion;return!!n.documentation||n.detail&&n.detail!==n.label}Object.defineProperty(y,"__esModule",{value:!0});y.editorSuggestWidgetBackground=f.registerColor("editorSuggestWidget.background",{dark:f.editorWidgetBackground,light:f.editorWidgetBackground,hc:f.editorWidgetBackground},M.localize(0,null)),y.editorSuggestWidgetBorder=f.registerColor("editorSuggestWidget.border",{dark:f.editorWidgetBorder,light:f.editorWidgetBorder,hc:f.editorWidgetBorder},M.localize(1,null)),y.editorSuggestWidgetForeground=f.registerColor("editorSuggestWidget.foreground",{dark:f.editorForeground,light:f.editorForeground,hc:f.editorForeground},M.localize(2,null)),y.editorSuggestWidgetSelectedBackground=f.registerColor("editorSuggestWidget.selectedBackground",{dark:f.listFocusBackground,light:f.listFocusBackground,hc:f.listFocusBackground},M.localize(3,null)),y.editorSuggestWidgetHighlightForeground=f.registerColor("editorSuggestWidget.highlightForeground",{dark:f.listHighlightForeground,light:f.listHighlightForeground,hc:f.listHighlightForeground},M.localize(4,null));var E=/^(#([\da-f]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))$/i,L=function(){function t(o,i,t){this.widget=o,this.editor=i,this.triggerKeybindingLabel=t}return Object.defineProperty(t.prototype,"templateId",{get:function(){return"suggestion"},enumerable:!0,configurable:!0}),t.prototype.renderTemplate=function(n){var d=this,t=Object.create(null);t.disposables=[],t.root=n,t.icon=P.append(n,P.$(".icon")),t.colorspan=P.append(t.icon,P.$("span.colorspan"));var e=P.append(n,P.$(".contents")),i=P.append(e,P.$(".main"));t.highlightedLabel=new l.HighlightedLabel(i),t.disposables.push(t.highlightedLabel),t.typeLabel=P.append(i,P.$("span.type-label")),t.readMore=P.append(i,P.$("span.readMore")),t.readMore.title=M.localize(5,null,this.triggerKeybindingLabel);var o=function(){var a=d.editor.getConfiguration(),e=a.fontInfo.fontFamily,n=(a.contribInfo.suggestFontSize||a.fontInfo.fontSize)+"px",o=(a.contribInfo.suggestLineHeight||a.fontInfo.lineHeight)+"px";t.root.style.fontSize=n,i.style.fontFamily=e,i.style.lineHeight=o,t.icon.style.height=o,t.icon.style.width=o,t.readMore.style.height=o,t.readMore.style.width=o};return o(),R.chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter(function(t){return t.fontInfo||t.contribInfo}).on(o,null,t.disposables),t},t.prototype.renderElement=function(i,e,t){var o=this,r=t,s=i.suggestion;if(S(i)?r.root.setAttribute("aria-label",M.localize(6,null,s.label)):r.root.setAttribute("aria-label",M.localize(7,null,s.label)),r.icon.className="icon "+s.type,r.colorspan.style.backgroundColor="","color"===s.type){var a=b(s.label)||b(s.documentation);a&&(r.icon.className="icon customcolor",r.colorspan.style.backgroundColor=a)}r.highlightedLabel.set(s.label,n.createMatches(i.matches)),r.typeLabel.textContent=(s.detail||"").replace(/\n.*$/m,""),S(i)?(P.show(r.readMore),r.readMore.onmousedown=function(t){t.stopPropagation(),t.preventDefault()},r.readMore.onclick=function(t){t.stopPropagation(),t.preventDefault(),o.widget.toggleDetails()}):(P.hide(r.readMore),r.readMore.onmousedown=null,r.readMore.onclick=null)},t.prototype.disposeTemplate=function(t){t.highlightedLabel.dispose(),t.disposables=r.dispose(t.disposables)},t}(),w;!function(t){t[t.Hidden=0]="Hidden",t[t.Loading=1]="Loading",t[t.Empty=2]="Empty",t[t.Open=3]="Open",t[t.Frozen=4]="Frozen",t[t.Details=5]="Details"}(w||(w={}));var x=function(){function t(n,d,t,i){var o=this;this.widget=d,this.editor=t,this.triggerKeybindingLabel=i,this.borderWidth=1,this.disposables=[],this.el=P.append(n,P.$(".details")),this.disposables.push(r.toDisposable(function(){return n.removeChild(o.el)})),this.body=P.$(".body"),this.scrollbar=new a.DomScrollableElement(this.body,{}),P.append(this.el,this.scrollbar.getDomNode()),this.disposables.push(this.scrollbar),this.header=P.append(this.body,P.$(".header")),this.close=P.append(this.header,P.$("span.close")),this.close.title=M.localize(8,null,i),this.type=P.append(this.header,P.$("p.type")),this.docs=P.append(this.body,P.$("p.docs")),this.ariaLabel=null,this.configureFont(),R.chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter(function(t){return t.fontInfo}).on(this.configureFont,this,this.disposables)}return Object.defineProperty(t.prototype,"element",{get:function(){return this.el},enumerable:!0,configurable:!0}),t.prototype.render=function(o){var n=this;return o&&S(o)?void(P.removeClass(this.el,"no-docs"),this.docs.textContent=o.suggestion.documentation,o.suggestion.detail?(this.type.innerText=o.suggestion.detail,P.show(this.type)):(this.type.innerText="",P.hide(this.type)),this.el.style.height=this.header.offsetHeight+this.docs.offsetHeight+2*this.borderWidth+"px",this.close.onmousedown=function(t){t.preventDefault(),t.stopPropagation()},this.close.onclick=function(t){t.preventDefault(),t.stopPropagation(),n.widget.toggleDetails()},this.body.scrollTop=0,this.scrollbar.scanDomNode(),this.ariaLabel=i.format("{0}\n{1}\n{2}",o.suggestion.label||"",o.suggestion.detail||"",o.suggestion.documentation||"")):(this.type.textContent="",this.docs.textContent="",P.addClass(this.el,"no-docs"),void(this.ariaLabel=null))},t.prototype.getAriaLabel=function(){return this.ariaLabel},t.prototype.scrollDown=function(t){void 0===t&&(t=8),this.body.scrollTop+=t},t.prototype.scrollUp=function(t){void 0===t&&(t=8),this.body.scrollTop-=t},t.prototype.scrollTop=function(){this.body.scrollTop=0},t.prototype.scrollBottom=function(){this.body.scrollTop=this.body.scrollHeight},t.prototype.pageDown=function(){this.scrollDown(80)},t.prototype.pageUp=function(){this.scrollUp(80)},t.prototype.setBorderWidth=function(t){this.borderWidth=t},t.prototype.configureFont=function(){var o=this.editor.getConfiguration(),e=o.fontInfo.fontFamily,t=(o.contribInfo.suggestFontSize||o.fontInfo.fontSize)+"px",n=(o.contribInfo.suggestLineHeight||o.fontInfo.lineHeight)+"px";this.el.style.fontSize=t,this.type.style.fontFamily=e,this.close.style.height=n,this.close.style.width=n},t.prototype.dispose=function(){this.disposables=r.dispose(this.disposables)},t}(),N=function(){function i(t,r,n,i,o,s){var a=this;this.editor=t,this.telemetryService=r,this.allowEditorOverflow=!0,this.ignoreFocusEvents=!1,this.onDidSelectEmitter=new R.Emitter,this.onDidFocusEmitter=new R.Emitter,this.onDidHideEmitter=new R.Emitter,this.onDidShowEmitter=new R.Emitter,this.onDidSelect=this.onDidSelectEmitter.event,this.onDidFocus=this.onDidFocusEmitter.event,this.onDidHide=this.onDidHideEmitter.event,this.onDidShow=this.onDidShowEmitter.event,this.maxWidgetWidth=660,this.listWidth=330,this.storageServiceAvailable=!0,this.expandSuggestionDocs=!1;var d=s.lookupKeybinding("editor.action.triggerSuggest"),l=d?" ("+d.getLabel()+")":"";this.isAuto=!1,this.focusedItem=null,this.storageService=o,void 0===this.expandDocsSettingFromStorage()&&(this.storageService.store("expandSuggestionDocs",!1,C.StorageScope.GLOBAL),void 0===this.expandDocsSettingFromStorage()&&(this.storageServiceAvailable=!1)),this.element=P.$(".editor-widget.suggest-widget"),this.editor.getConfiguration().contribInfo.iconsInSuggestions||P.addClass(this.element,"no-icons"),this.messageElement=P.append(this.element,P.$(".message")),this.listElement=P.append(this.element,P.$(".tree")),this.details=new x(this.element,this,this.editor,l);var c=new L(this,this.editor,l);this.list=new A.List(this.listElement,this,[c],{useShadows:!1,selectOnMouseDown:!0}),this.toDispose=[m.attachListStyler(this.list,i,{listInactiveFocusBackground:y.editorSuggestWidgetSelectedBackground,listInactiveFocusOutline:f.activeContrastBorder}),i.onThemeChange(function(t){return a.onThemeChange(t)}),t.onDidBlurEditorText(function(){return a.onEditorBlur()}),t.onDidLayoutChange(function(){return a.onEditorLayoutChange()}),this.list.onSelectionChange(function(t){return a.onListSelection(t)}),this.list.onFocusChange(function(t){return a.onListFocus(t)}),this.editor.onDidChangeCursorSelection(function(){return a.onCursorSelectionChanged()})],this.suggestWidgetVisible=g.Context.Visible.bindTo(n),this.suggestWidgetMultipleSuggestions=g.Context.MultipleSuggestions.bindTo(n),this.suggestionSupportsAutoAccept=g.Context.AcceptOnKey.bindTo(n),this.editor.addContentWidget(this),this.setState(0),this.onThemeChange(i.getTheme())}return i.prototype.onCursorSelectionChanged=function(){0!==this.state&&this.editor.layoutContentWidget(this)},i.prototype.onEditorBlur=function(){var o=this;this.editorBlurTimeout=t.TPromise.timeout(150).then(function(){o.editor.isFocused()||o.setState(0)})},i.prototype.onEditorLayoutChange=function(){(3===this.state||5===this.state)&&this.expandDocsSettingFromStorage()&&this.expandSideOrBelow()},i.prototype.onListSelection=function(o){if(o.elements.length){var e=o.elements[0];this.onDidSelectEmitter.fire(e),p.alert(M.localize(11,null,e.suggestion.label)),this.editor.focus()}},i.prototype._getSuggestionAriaAlertLabel=function(t){return S(t)?M.localize(12,null,t.suggestion.label):M.localize(13,null,t.suggestion.label)},i.prototype._ariaAlert=function(t){this._lastAriaAlertLabel!==t&&(this._lastAriaAlertLabel=t,this._lastAriaAlertLabel&&p.alert(this._lastAriaAlertLabel))},i.prototype.onThemeChange=function(t){var e=t.getColor(y.editorSuggestWidgetBackground);e&&(this.listElement.style.backgroundColor=e.toString(),this.details.element.style.backgroundColor=e.toString(),this.messageElement.style.backgroundColor=e.toString());var n=t.getColor(y.editorSuggestWidgetBorder);n&&(this.listElement.style.borderColor=n.toString(),this.details.element.style.borderColor=n.toString(),this.messageElement.style.borderColor=n.toString(),this.detailsBorderColor=n.toString());var i=t.getColor(f.focusBorder);i&&(this.detailsFocusBorderColor=i.toString()),this.details.setBorderWidth("hc"===t.type?2:1)},i.prototype.onListFocus=function(a){var e=this;if(!this.ignoreFocusEvents){if(!a.elements.length)return this.currentSuggestionDetails&&(this.currentSuggestionDetails.cancel(),this.currentSuggestionDetails=null,this.focusedItem=null),void this._ariaAlert(null);var t=a.elements[0];if(this._ariaAlert(this._getSuggestionAriaAlertLabel(t)),t!==this.focusedItem){this.currentSuggestionDetails&&(this.currentSuggestionDetails.cancel(),this.currentSuggestionDetails=null);var n=a.indexes[0];this.suggestionSupportsAutoAccept.set(!t.suggestion.noAutoAccept);var i=this.focusedItem,s=this.focusedItemIndex;this.focusedItemIndex=n,this.focusedItem=t,i&&(this.ignoreFocusEvents=!0,this.list.splice(s,1,[i]),this.ignoreFocusEvents=!1),this.updateListHeight(),this.list.reveal(n),this.currentSuggestionDetails=t.resolve().then(function(){e.ignoreFocusEvents=!0,e.list.splice(n,1,[t]),e.ignoreFocusEvents=!1,e.list.setFocus([n]),e.list.reveal(n),e.expandDocsSettingFromStorage()?e.showDetails():P.removeClass(e.element,"docs-side")}).then(null,function(t){return!o.isPromiseCanceledError(t)&&o.onUnexpectedError(t)}).then(function(){return e.currentSuggestionDetails=null}),this.onDidFocusEmitter.fire(t)}}},i.prototype.setState=function(e){if(this.element){var t=this.state!==e;switch(this.state=e,P.toggleClass(this.element,"frozen",4===e),e){case 0:P.hide(this.messageElement,this.details.element),P.show(this.listElement),this.hide(),t&&this.list.splice(0,this.list.length);break;case 1:this.messageElement.textContent=i.LOADING_MESSAGE,P.hide(this.listElement,this.details.element),P.show(this.messageElement),P.removeClass(this.element,"docs-side"),this.show();break;case 2:this.messageElement.textContent=i.NO_SUGGESTIONS_MESSAGE,P.hide(this.listElement,this.details.element),P.show(this.messageElement),P.removeClass(this.element,"docs-side"),this.show();break;case 3:P.hide(this.messageElement),P.show(this.listElement),this.expandDocsSettingFromStorage()&&S(this.list.getFocusedElements()[0])?(P.show(this.details.element),this.expandSideOrBelow()):P.hide(this.details.element),this.show();break;case 4:P.hide(this.messageElement,this.details.element),P.show(this.listElement),this.show();break;case 5:P.hide(this.messageElement),P.show(this.details.element,this.listElement),this.show(),this._ariaAlert(this.details.getAriaLabel());}t&&this.editor.layoutContentWidget(this)}},i.prototype.showTriggered=function(o){var n=this;0===this.state&&(this.isAuto=!!o,this.isAuto||(this.loadingTimeout=setTimeout(function(){n.loadingTimeout=null,n.setState(1)},50)))},i.prototype.showSuggestions=function(o,e,t){if(this.loadingTimeout&&(clearTimeout(this.loadingTimeout),this.loadingTimeout=null),this.completionModel=o,e&&2!==this.state&&0!==this.state)this.setState(4);else{var a=this.completionModel.items.length;if(this.suggestWidgetMultipleSuggestions.set(1<a),0===a)t?this.setState(0):this.setState(2),this.completionModel=null;else{var i=this.completionModel.stats;i.wasAutomaticallyTriggered=!!t,this.telemetryService.publicLog("suggestWidget",h({},i,this.editor.getTelemetryData())),this.focusedItem=null,this.focusedItemIndex=null,this.list.splice(0,this.list.length,this.completionModel.items),this.list.setFocus([0]),this.list.reveal(0,0),e?this.setState(4):this.setState(3),this.detailsBorderColor&&(this.details.element.style.borderColor=this.detailsBorderColor)}}},i.prototype.selectNextPage=function(){switch(this.state){case 0:return!1;case 5:return this.details.pageDown(),!0;case 1:return!this.isAuto;default:return this.list.focusNextPage(),!0;}},i.prototype.selectNext=function(){switch(this.state){case 0:return!1;case 1:return!this.isAuto;default:return this.list.focusNext(1,!0),!0;}},i.prototype.selectLast=function(){switch(this.state){case 0:return!1;case 5:return this.details.scrollBottom(),!0;case 1:return!this.isAuto;default:return this.list.focusLast(),!0;}},i.prototype.selectPreviousPage=function(){switch(this.state){case 0:return!1;case 5:return this.details.pageUp(),!0;case 1:return!this.isAuto;default:return this.list.focusPreviousPage(),!0;}},i.prototype.selectPrevious=function(){switch(this.state){case 0:return!1;case 1:return!this.isAuto;default:return this.list.focusPrevious(1,!0),!1;}},i.prototype.selectFirst=function(){switch(this.state){case 0:return!1;case 5:return this.details.scrollTop(),!0;case 1:return!this.isAuto;default:return this.list.focusFirst(),!0;}},i.prototype.getFocusedItem=function(){if(0!==this.state&&2!==this.state&&1!==this.state)return this.list.getFocusedElements()[0]},i.prototype.toggleDetailsFocus=function(){5===this.state?(this.setState(3),this.detailsBorderColor&&(this.details.element.style.borderColor=this.detailsBorderColor)):3===this.state&&this.expandDocsSettingFromStorage()&&(this.setState(5),this.detailsFocusBorderColor&&(this.details.element.style.borderColor=this.detailsFocusBorderColor)),this.telemetryService.publicLog("suggestWidget:toggleDetailsFocus",this.editor.getTelemetryData())},i.prototype.toggleDetails=function(){if(S(this.list.getFocusedElements()[0]))if(this.expandDocsSettingFromStorage())this.updateExpandDocsSetting(!1),P.hide(this.details.element),P.removeClass(this.element,"docs-side"),P.removeClass(this.element,"docs-below"),this.editor.layoutContentWidget(this),this.telemetryService.publicLog("suggestWidget:collapseDetails",this.editor.getTelemetryData());else{if(3!==this.state&&5!==this.state)return;this.updateExpandDocsSetting(!0),this.showDetails(),this.telemetryService.publicLog("suggestWidget:expandDetails",this.editor.getTelemetryData())}},i.prototype.showDetails=function(){this.expandSideOrBelow(),P.show(this.details.element),this.details.render(this.list.getFocusedElements()[0]),this.details.element.style.maxHeight=this.maxWidgetHeight+"px",this.listElement.style.marginTop="0px",this.editor.layoutContentWidget(this),this.adjustDocsPosition(),this.editor.focus(),this._ariaAlert(this.details.getAriaLabel())},i.prototype.show=function(){var o=this;this.updateListHeight(),this.suggestWidgetVisible.set(!0),this.showTimeout=t.TPromise.timeout(100).then(function(){P.addClass(o.element,"visible"),o.onDidShowEmitter.fire(o)})},i.prototype.hide=function(){this.suggestWidgetVisible.reset(),this.suggestWidgetMultipleSuggestions.reset(),P.removeClass(this.element,"visible")},i.prototype.hideWidget=function(){clearTimeout(this.loadingTimeout),this.setState(0),this.onDidHideEmitter.fire(this)},i.prototype.getPosition=function(){return 0===this.state?null:{position:this.editor.getPosition(),preference:[e.ContentWidgetPositionPreference.BELOW,e.ContentWidgetPositionPreference.ABOVE]}},i.prototype.getDomNode=function(){return this.element},i.prototype.getId=function(){return i.ID},i.prototype.updateListHeight=function(){var o=0;if(2===this.state||1===this.state)o=this.unfocusedHeight;else{var e=this.list.contentHeight/this.unfocusedHeight;o=q(e,12)*this.unfocusedHeight}return this.element.style.lineHeight=this.unfocusedHeight+"px",this.listElement.style.height=o+"px",this.list.layout(o),this.editor.layoutContentWidget(this),o},i.prototype.adjustDocsPosition=function(){var d=this.editor.getConfiguration().fontInfo.lineHeight,e=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),t=P.getDomNodePagePosition(this.editor.getDomNode()),n=t.left+e.left,i=t.top+e.top+e.height,o=P.getDomNodePagePosition(this.element),r=o.left,s=o.top;r<n-this.listWidth?P.addClass(this.element,"list-right"):P.removeClass(this.element,"list-right"),P.hasClass(this.element,"docs-side")&&i-d>s&&this.details.element.offsetHeight>this.listElement.offsetHeight&&(this.listElement.style.marginTop=this.details.element.offsetHeight-this.listElement.offsetHeight+"px")},i.prototype.expandSideOrBelow=function(){var t=this.element.style.maxWidth.match(/(\d+)px/);!t||+t[1]<this.maxWidgetWidth?(P.addClass(this.element,"docs-below"),P.removeClass(this.element,"docs-side")):(P.addClass(this.element,"docs-side"),P.removeClass(this.element,"docs-below"))},Object.defineProperty(i.prototype,"maxWidgetHeight",{get:function(){return 12*this.unfocusedHeight},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"unfocusedHeight",{get:function(){var t=this.editor.getConfiguration();return t.contribInfo.suggestLineHeight||t.fontInfo.lineHeight},enumerable:!0,configurable:!0}),i.prototype.getHeight=function(){return this.unfocusedHeight},i.prototype.getTemplateId=function(){return"suggestion"},i.prototype.expandDocsSettingFromStorage=function(){return this.storageServiceAvailable?this.storageService.getBoolean("expandSuggestionDocs",C.StorageScope.GLOBAL):this.expandSuggestionDocs},i.prototype.updateExpandDocsSetting=function(t){this.storageServiceAvailable?this.storageService.store("expandSuggestionDocs",t,C.StorageScope.GLOBAL):this.expandSuggestionDocs=t},i.prototype.dispose=function(){this.state=null,this.suggestionSupportsAutoAccept=null,this.currentSuggestionDetails=null,this.focusedItem=null,this.element=null,this.messageElement=null,this.listElement=null,this.details.dispose(),this.details=null,this.list.dispose(),this.list=null,this.toDispose=r.dispose(this.toDispose),this.loadingTimeout&&(clearTimeout(this.loadingTimeout),this.loadingTimeout=null),this.editorBlurTimeout&&(this.editorBlurTimeout.cancel(),this.editorBlurTimeout=null),this.showTimeout&&(this.showTimeout.cancel(),this.showTimeout=null)},i.ID="editor.widget.suggestWidget",i.LOADING_MESSAGE=M.localize(9,null),i.NO_SUGGESTIONS_MESSAGE=M.localize(10,null),i=F([v(1,c.ITelemetryService),v(2,d.IContextKeyService),v(3,u.IThemeService),v(4,C.IStorageService),v(5,s.IKeybindingService)],i)}();y.SuggestWidget=N,u.registerThemingParticipant(function(t,e){var n=t.getColor(y.editorSuggestWidgetHighlightForeground);n&&e.addRule(".monaco-editor .suggest-widget:not(.frozen) .monaco-highlighted-label .highlight { color: "+n+"; }");var i=t.getColor(y.editorSuggestWidgetForeground);i&&e.addRule(".monaco-editor .suggest-widget { color: "+i+"; }")})}),define(s[531],n([1,0,371,10,33,3,16,58,19,31,21,13,51,30,59,2,142,180,109,474,530]),function(_,e,f,y,I,t,o,n,i,r,a,s,d,l,p,c,u,g,m,C,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var S=function(){function o(r,o,a){var n=this;this._disposables=[],this._activeAcceptCharacters=new Set,this._disposables.push(o.onDidShow(function(){return n._onItem(o.getFocusedItem())})),this._disposables.push(o.onDidFocus(this._onItem,this)),this._disposables.push(o.onDidHide(this.reset,this)),this._disposables.push(r.onWillType(function(e){if(n._activeItem){var t=e[e.length-1];n._activeAcceptCharacters.has(t)&&r.getConfiguration().contribInfo.acceptSuggestionOnCommitCharacter&&a(n._activeItem)}}))}return o.prototype._onItem=function(o){if(o&&!I.isFalsyOrEmpty(o.suggestion.commitCharacters)){this._activeItem=o,this._activeAcceptCharacters.clear();for(var e=0,t=o.suggestion.commitCharacters,n;e<t.length;e++)n=t[e],0<n.length&&this._activeAcceptCharacters.add(n[0])}else this.reset()},o.prototype.reset=function(){this._activeItem=void 0},o.prototype.dispose=function(){t.dispose(this._disposables)},o}(),E=function(){function a(d,p,t,n,i){var c=this;this._editor=d,this._commandService=p,this._telemetryService=t,this._toDispose=[],this._model=new C.SuggestModel(this._editor),this._toDispose.push(this._model.onDidTrigger(function(t){return c._widget.showTriggered(t.auto)})),this._toDispose.push(this._model.onDidSuggest(function(t){return c._widget.showSuggestions(t.completionModel,t.isFrozen,t.auto)})),this._toDispose.push(this._model.onDidCancel(function(t){return!t.retrigger&&c._widget.hideWidget()}));var o=m.Context.AcceptSuggestionsOnEnter.bindTo(n),r=function(){var t=c._editor.getConfiguration().contribInfo.acceptSuggestionOnEnter;o.set("on"===t||"smart"===t||!0===t)};this._toDispose.push(this._editor.onDidChangeConfiguration(function(){return r()})),r(),this._widget=i.createInstance(b.SuggestWidget,this._editor),this._toDispose.push(this._widget.onDidSelect(this._onDidSelectItem,this));var a=new S(d,this._widget,function(t){return c._onDidSelectItem(t)});this._toDispose.push(a,this._model.onDidSuggest(function(t){0===t.completionModel.items.length&&a.reset()}));var s=m.Context.MakesTextEdit.bindTo(n);this._toDispose.push(this._widget.onDidFocus(function(r){var e=c._editor.getPosition(),t=r.position.column-r.suggestion.overwriteBefore,a=e.column,d=!0;"smart"!==c._editor.getConfiguration().contribInfo.acceptSuggestionOnEnter||2!==c._model.state||r.suggestion.command||r.suggestion.additionalTextEdits||"textmate"===r.suggestion.snippetType||a-t!==r.suggestion.insertText.length||(d=c._editor.getModel().getValueInRange({startLineNumber:e.lineNumber,startColumn:t,endLineNumber:e.lineNumber,endColumn:a})!==r.suggestion.insertText),s.set(d)})),this._toDispose.push({dispose:function(){s.reset()}})}return s=a,a.get=function(t){return t.getContribution(s.ID)},a.prototype.getId=function(){return s.ID},a.prototype.dispose=function(){this._toDispose=t.dispose(this._toDispose),this._widget&&(this._widget.dispose(),this._widget=null),this._model&&(this._model.dispose(),this._model=null)},a.prototype._onDidSelectItem=function(i){if(i){var e=i.suggestion,t=i.position,n=this._editor.getPosition().column-t.column;Array.isArray(e.additionalTextEdits)&&(this._editor.pushUndoStop(),this._editor.executeEdits("suggestController.additionalTextEdits",e.additionalTextEdits.map(function(t){return p.EditOperation.replace(c.Range.lift(t.range),t.text)})),this._editor.pushUndoStop());var o=e.insertText;"textmate"!==e.snippetType&&(o=u.SnippetParser.escape(o)),g.SnippetController2.get(this._editor).insert(o,e.overwriteBefore+n,e.overwriteAfter),e.command&&(r=this._commandService).executeCommand.apply(r,[e.command.id].concat(e.command.arguments)).done(void 0,y.onUnexpectedError),this._alertCompletionItem(i),this._telemetryService.publicLog("suggestSnippetInsert",h({},this._editor.getTelemetryData(),{suggestionType:e.type}))}this._model.cancel();var r},a.prototype._alertCompletionItem=function(o){var e=o.suggestion,t=f.localize(0,null,e.label,e.insertText);d.alert(t)},a.prototype.triggerSuggest=function(t){this._model.trigger(!1,!1,t),this._editor.revealLine(this._editor.getPosition().lineNumber),this._editor.focus()},a.prototype.acceptSelectedSuggestion=function(){if(this._widget){var t=this._widget.getFocusedItem();this._onDidSelectItem(t)}},a.prototype.cancelSuggestWidget=function(){this._widget&&(this._model.cancel(),this._widget.hideWidget())},a.prototype.selectNextSuggestion=function(){this._widget&&this._widget.selectNext()},a.prototype.selectNextPageSuggestion=function(){this._widget&&this._widget.selectNextPage()},a.prototype.selectLastSuggestion=function(){this._widget&&this._widget.selectLast()},a.prototype.selectPrevSuggestion=function(){this._widget&&this._widget.selectPrevious()},a.prototype.selectPrevPageSuggestion=function(){this._widget&&this._widget.selectPreviousPage()},a.prototype.selectFirstSuggestion=function(){this._widget&&this._widget.selectFirst()},a.prototype.toggleSuggestionDetails=function(){this._widget&&this._widget.toggleDetails()},a.prototype.toggleSuggestionFocus=function(){this._widget&&this._widget.toggleDetailsFocus()},a.ID="editor.contrib.suggestController",a=s=F([l.editorContribution,v(1,r.ICommandService),v(2,n.ITelemetryService),v(3,i.IContextKeyService),v(4,o.IInstantiationService)],a);var s}();e.SuggestController=E;var L=function(o){function e(){return o.call(this,{id:"editor.action.triggerSuggest",label:f.localize(1,null),alias:"Trigger Suggest",precondition:i.ContextKeyExpr.and(a.EditorContextKeys.writable,a.EditorContextKeys.hasCompletionItemProvider),kbOpts:{kbExpr:a.EditorContextKeys.textFocus,primary:2058,mac:{primary:266}}})||this}return Z(e,o),e.prototype.run=function(o,e){var t=E.get(e);t&&t.triggerSuggest()},e=F([s.editorAction],e)}(s.EditorAction);e.TriggerSuggestAction=L;var w=s.CommonEditorRegistry.commandWeight(90),x=s.EditorCommand.bindToContribution(E.get);s.CommonEditorRegistry.registerEditorCommand(new x({id:"acceptSelectedSuggestion",precondition:m.Context.Visible,handler:function(t){return t.acceptSelectedSuggestion()},kbOpts:{weight:w,kbExpr:a.EditorContextKeys.textFocus,primary:2}})),s.CommonEditorRegistry.registerEditorCommand(new x({id:"acceptSelectedSuggestionOnEnter",precondition:m.Context.Visible,handler:function(t){return t.acceptSelectedSuggestion()},kbOpts:{weight:w,kbExpr:i.ContextKeyExpr.and(a.EditorContextKeys.textFocus,m.Context.AcceptSuggestionsOnEnter,m.Context.MakesTextEdit),primary:3}})),s.CommonEditorRegistry.registerEditorCommand(new x({id:"hideSuggestWidget",precondition:m.Context.Visible,handler:function(t){return t.cancelSuggestWidget()},kbOpts:{weight:w,kbExpr:a.EditorContextKeys.textFocus,primary:9,secondary:[1033]}})),s.CommonEditorRegistry.registerEditorCommand(new x({id:"selectNextSuggestion",precondition:i.ContextKeyExpr.and(m.Context.Visible,m.Context.MultipleSuggestions),handler:function(t){return t.selectNextSuggestion()},kbOpts:{weight:w,kbExpr:a.EditorContextKeys.textFocus,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}})),s.CommonEditorRegistry.registerEditorCommand(new x({id:"selectNextPageSuggestion",precondition:i.ContextKeyExpr.and(m.Context.Visible,m.Context.MultipleSuggestions),handler:function(t){return t.selectNextPageSuggestion()},kbOpts:{weight:w,kbExpr:a.EditorContextKeys.textFocus,primary:12,secondary:[2060]}})),s.CommonEditorRegistry.registerEditorCommand(new x({id:"selectLastSuggestion",precondition:i.ContextKeyExpr.and(m.Context.Visible,m.Context.MultipleSuggestions),handler:function(t){return t.selectLastSuggestion()}})),s.CommonEditorRegistry.registerEditorCommand(new x({id:"selectPrevSuggestion",precondition:i.ContextKeyExpr.and(m.Context.Visible,m.Context.MultipleSuggestions),handler:function(t){return t.selectPrevSuggestion()},kbOpts:{weight:w,kbExpr:a.EditorContextKeys.textFocus,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}})),s.CommonEditorRegistry.registerEditorCommand(new x({id:"selectPrevPageSuggestion",precondition:i.ContextKeyExpr.and(m.Context.Visible,m.Context.MultipleSuggestions),handler:function(t){return t.selectPrevPageSuggestion()},kbOpts:{weight:w,kbExpr:a.EditorContextKeys.textFocus,primary:11,secondary:[2059]}})),s.CommonEditorRegistry.registerEditorCommand(new x({id:"selectFirstSuggestion",precondition:i.ContextKeyExpr.and(m.Context.Visible,m.Context.MultipleSuggestions),handler:function(t){return t.selectFirstSuggestion()}})),s.CommonEditorRegistry.registerEditorCommand(new x({id:"toggleSuggestionDetails",precondition:m.Context.Visible,handler:function(t){return t.toggleSuggestionDetails()},kbOpts:{weight:w,kbExpr:a.EditorContextKeys.textFocus,primary:2058,mac:{primary:266}}})),s.CommonEditorRegistry.registerEditorCommand(new x({id:"toggleSuggestionFocus",precondition:m.Context.Visible,handler:function(t){return t.toggleSuggestionFocus()},kbOpts:{weight:w,kbExpr:a.EditorContextKeys.textFocus,primary:2570,mac:{primary:778}}}))}),define(s[532],n([1,0,374,18,10,2,20,13,17,3,23,14,54,34]),function(m,_,e,y,t,n,o,i,C,r,a,s,u,d){"use strict";function l(o,e){var i=C.DocumentHighlightProviderRegistry.ordered(o),a=!1;return y.sequence(i.map(function(s){return function(){if(!a)return y.asWinJsPromise(function(t){return s.provideDocumentHighlights(o,e,t)}).then(function(t){if(Array.isArray(t)&&0<t.length)return a=!0,t},function(o){t.onUnexpectedExternalError(o)})}})).then(function(t){return t[0]})}Object.defineProperty(_,"__esModule",{value:!0}),_.editorWordHighlight=a.registerColor("editor.wordHighlightBackground",{dark:"#575757B8",light:"#57575740",hc:null},e.localize(0,null)),_.editorWordHighlightStrong=a.registerColor("editor.wordHighlightStrongBackground",{dark:"#004972B8",light:"#0e639c40",hc:null},e.localize(1,null)),_.getOccurrencesAtPosition=l,i.CommonEditorRegistry.registerDefaultLanguageCommand("_executeDocumentHighlights",l);var p=function(){function a(o){var i=this;this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.workerRequestValue=[],this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.editor=o,this.occurrencesHighlight=this.editor.getConfiguration().contribInfo.occurrencesHighlight,this.model=this.editor.getModel(),this.toUnhook=[],this.toUnhook.push(o.onDidChangeCursorPosition(function(t){i.occurrencesHighlight&&i._onPositionChanged(t)})),this.toUnhook.push(o.onDidChangeModel(function(){i._stopAll(),i.model=i.editor.getModel()})),this.toUnhook.push(o.onDidChangeModelContent(function(){i._stopAll()})),this.toUnhook.push(o.onDidChangeConfiguration(function(){var e=i.editor.getConfiguration().contribInfo.occurrencesHighlight;i.occurrencesHighlight!==e&&(i.occurrencesHighlight=e,i._stopAll())})),this._lastWordRange=null,this._decorationIds=[],this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1}return a.prototype._removeDecorations=function(){0<this._decorationIds.length&&(this._decorationIds=this.editor.deltaDecorations(this._decorationIds,[]))},a.prototype._stopAll=function(){this._lastWordRange=null,this._removeDecorations(),-1!==this.renderDecorationsTimer&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),null!==this.workerRequest&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)},a.prototype._onPositionChanged=function(r){var h=this;if(!this.occurrencesHighlight)this._stopAll();else if(!(r.reason===u.CursorChangeReason.Explicit))this._stopAll();else if(C.DocumentHighlightProviderRegistry.has(this.model)){var e=this.editor.getSelection();if(e.startLineNumber===e.endLineNumber){var t=e.startLineNumber,_=e.startColumn,f=e.endColumn,s=this.model.getWordAtPosition({lineNumber:t,column:_});if(!s||s.startColumn>_||s.endColumn<f)this._stopAll();else{for(var y=new n.Range(t,s.startColumn,t,s.endColumn),b=this._lastWordRange&&this._lastWordRange.equalsRange(y),v=0,d=this._decorationIds.length,p;!b&&v<d;v++)p=this.model.getDecorationRange(this._decorationIds[v]),p&&p.startLineNumber===t&&p.startColumn<=_&&p.endColumn>=f&&(b=!0);if(this.lastCursorPositionChangeTime=new Date().getTime(),b)this.workerRequestCompleted&&-1!==this.renderDecorationsTimer&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1,this._beginRenderDecorations());else{this._stopAll();var g=++this.workerRequestTokenId;this.workerRequestCompleted=!1,this.workerRequest=l(this.model,this.editor.getPosition()),this.workerRequest.then(function(t){g===h.workerRequestTokenId&&(h.workerRequestCompleted=!0,h.workerRequestValue=t||[],h._beginRenderDecorations())}).done()}this._lastWordRange=y}}else this._stopAll()}else this._stopAll()},a.prototype._beginRenderDecorations=function(){var o=this,e=new Date().getTime(),t=this.lastCursorPositionChangeTime+250;e>=t?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=setTimeout(function(){o.renderDecorations()},t-e)},a.prototype.renderDecorations=function(){this.renderDecorationsTimer=-1;for(var e=[],t=0,n=this.workerRequestValue.length,i;t<n;t++)i=this.workerRequestValue[t],e.push({range:i.range,options:a._getDecorationOptions(i.kind)});this._decorationIds=this.editor.deltaDecorations(this._decorationIds,e)},a._getDecorationOptions=function(t){return t===C.DocumentHighlightKind.Write?this._WRITE_OPTIONS:t===C.DocumentHighlightKind.Text?this._TEXT_OPTIONS:this._REGULAR_OPTIONS},a.prototype.dispose=function(){this._stopAll(),this.toUnhook=r.dispose(this.toUnhook)},a._WRITE_OPTIONS=d.ModelDecorationOptions.register({stickiness:o.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:"wordHighlightStrong",overviewRuler:{color:"#A0A0A0",darkColor:"#A0A0A0",position:o.OverviewRulerLane.Center}}),a._TEXT_OPTIONS=d.ModelDecorationOptions.register({stickiness:o.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:"selectionHighlight",overviewRuler:{color:"#A0A0A0",darkColor:"#A0A0A0",position:o.OverviewRulerLane.Center}}),a._REGULAR_OPTIONS=d.ModelDecorationOptions.register({stickiness:o.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:"wordHighlight",overviewRuler:{color:"#A0A0A0",darkColor:"#A0A0A0",position:o.OverviewRulerLane.Center}}),a}();!function(){function o(t){this.wordHighligher=new p(t)}return e=o,o.prototype.getId=function(){return e.ID},o.prototype.dispose=function(){this.wordHighligher.dispose()},o.ID="editor.contrib.wordHighlighter",o=e=F([i.commonEditorContribution],o);var e}(),s.registerThemingParticipant(function(t,e){var n=t.getColor(a.editorSelectionHighlight);n&&(e.addRule(".monaco-editor .focused .selectionHighlight { background-color: "+n+"; }"),e.addRule(".monaco-editor .selectionHighlight { background-color: "+n.transparent(.5)+"; }"));var i=t.getColor(_.editorWordHighlight);i&&e.addRule(".monaco-editor .wordHighlight { background-color: "+i+"; }");var o=t.getColor(_.editorWordHighlightStrong);o&&e.addRule(".monaco-editor .wordHighlightStrong { background-color: "+o+"; }");var r=t.getColor(a.activeContrastBorder);r&&(e.addRule(".monaco-editor .selectionHighlight { border: 1px dotted "+r+"; box-sizing: border-box; }"),e.addRule(".monaco-editor .wordHighlight { border: 1px dashed "+r+"; box-sizing: border-box; }"),e.addRule(".monaco-editor .wordHighlightStrong { border: 1px dashed "+r+"; box-sizing: border-box; }"))})}),define(s[92],n([1,0,375,53,9,26,52,11,4,75,16,42,183,194,19,32,396]),function(f,e,y,n,t,o,i,r,a,s,u,c,d,h,p,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IPeekViewService=u.createDecorator("peekViewService"),!function(t){t.inPeekEditor=new p.RawContextKey("inReferenceSearchEditor",!0),t.notInPeekEditor=t.inPeekEditor.toNegated()}(e.PeekContext||(e.PeekContext={})),e.NOT_INNER_EDITOR_CONTEXT_KEY=new p.RawContextKey("inReferenceSearchEditor",!0),e.getOuterEditor=function(o){var e=o.get(c.ICodeEditorService).getFocusedCodeEditor();return e instanceof h.EmbeddedCodeEditorWidget?e.getParentEditor():e};var m={headerBackgroundColor:g.Color.white,primaryHeadingColor:g.Color.fromHex("#333333"),secondaryHeadingColor:g.Color.fromHex("#6c6c6cb3")},C=function(d){function e(e,a){void 0===a&&(a={});var n=d.call(this,e,a)||this;return n._onDidClose=new r.Emitter,n._isActive=!1,o.mixin(n.options,m,!1),n}return Z(e,d),e.prototype.dispose=function(){this._isActive=!1,d.prototype.dispose.call(this),this._onDidClose.fire(this)},Object.defineProperty(e.prototype,"onDidClose",{get:function(){return this._onDidClose.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isActive",{get:function(){return this._isActive},enumerable:!0,configurable:!0}),e.prototype.show=function(e,t){this._isActive=!0,d.prototype.show.call(this,e,t)},e.prototype.style=function(e){var t=this.options;e.headerBackgroundColor&&(t.headerBackgroundColor=e.headerBackgroundColor),e.primaryHeadingColor&&(t.primaryHeadingColor=e.primaryHeadingColor),e.secondaryHeadingColor&&(t.secondaryHeadingColor=e.secondaryHeadingColor),d.prototype.style.call(this,e)},e.prototype._applyStyles=function(){d.prototype._applyStyles.call(this);var e=this.options;this._headElement&&(this._headElement.style.backgroundColor=e.headerBackgroundColor.toString()),this._primaryHeading&&(this._primaryHeading.style.color=e.primaryHeadingColor.toString()),this._secondaryHeading&&(this._secondaryHeading.style.color=e.secondaryHeadingColor.toString()),this._bodyElement&&(this._bodyElement.style.borderColor=e.frameColor.toString())},e.prototype._fillContainer=function(t){this.setCssClass("peekview-widget"),this._headElement=i.$(".head").getHTMLElement(),this._bodyElement=i.$(".body").getHTMLElement(),this._fillHead(this._headElement),this._fillBody(this._bodyElement),t.appendChild(this._headElement),t.appendChild(this._bodyElement)},e.prototype._fillHead=function(){var r=this,e=i.$(".peekview-title").on(a.EventType.CLICK,function(t){return r._onTitleClick(t)}).appendTo(this._headElement).getHTMLElement();this._primaryHeading=i.$("span.filename").appendTo(e).getHTMLElement(),this._secondaryHeading=i.$("span.dirname").appendTo(e).getHTMLElement(),this._metaHeading=i.$("span.meta").appendTo(e).getHTMLElement(),this._actionbarWidget=new s.ActionBar(i.$(".peekview-actions").appendTo(this._headElement)),this._actionbarWidget.push(new n.Action("peekview.close",y.localize(0,null),"close-peekview-action",!0,function(){return r.dispose(),null}),{label:!1,icon:!0})},e.prototype._onTitleClick=function(){},e.prototype.setTitle=function(o,e){i.$(this._primaryHeading).safeInnerHtml(o),this._primaryHeading.setAttribute("aria-label",o),e?i.$(this._secondaryHeading).safeInnerHtml(e):a.clearNode(this._secondaryHeading)},e.prototype.setMetaTitle=function(t){t?i.$(this._metaHeading).safeInnerHtml(t):a.clearNode(this._metaHeading)},e.prototype._fillBody=function(){},e.prototype._doLayout=function(o,e){if(!this._isShowing&&0>o)return this.dispose(),void this._onDidClose.fire(this);var t=l(1.2*this.editor.getConfiguration().lineHeight);this._doLayoutHead(t,e),this._doLayoutBody(o-(t+2),e)},e.prototype._doLayoutHead=function(o){this._headElement.style.height=t.format("{0}px",o),this._headElement.style.lineHeight=this._headElement.style.height},e.prototype._doLayoutBody=function(o){this._bodyElement.style.height=t.format("{0}px",o)},e}(d.ZoneWidget);e.PeekViewWidget=C}),define(s[534],n([1,0,6,3,9,4,102,27,41,16,46,19,21,13,30,181,14,23,15,51,71,24,28,400]),function(f,e,y,t,A,n,W,r,o,i,a,s,d,l,p,g,c,u,m,h,_,C,b){"use strict";function S(o,e){return o&&0!==o.length?1===o.length?e?A.format(T,o[0].positionLineNumber,o[0].positionColumn,e):A.format(M,o[0].positionLineNumber,o[0].positionColumn):e?A.format(I,o.length,e):0<o.length?A.format(k,o.length):null:x}Object.defineProperty(e,"__esModule",{value:!0});var E=new s.RawContextKey("accessibilityHelpWidgetVisible",!1),L=function(o){function e(e,r){var n=o.call(this)||this;return n._editor=e,n._widget=n._register(r.createInstance(D,n._editor)),n}return Z(e,o),t=e,e.get=function(o){return o.getContribution(t.ID)},e.prototype.getId=function(){return t.ID},e.prototype.show=function(){this._widget.show()},e.prototype.hide=function(){this._widget.hide()},e.ID="editor.contrib.accessibilityHelpController",e=t=F([p.editorContribution,v(1,i.IInstantiationService)],e);var t}(t.Disposable),x=y.localize("noSelection","No selection"),T=y.localize("singleSelectionRange","Line {0}, Column {1} ({2} selected)"),M=y.localize("singleSelection","Line {0}, Column {1}"),I=y.localize("multiSelectionRange","{0} selections ({1} characters selected)"),k=y.localize("multiSelection","{0} selections"),D=function(d){function l(e,a,i,o){var s=d.call(this)||this;return s._contextKeyService=a,s._keybindingService=i,s._openerService=o,s._editor=e,s._isVisibleKey=E.bindTo(s._contextKeyService),s._domNode=r.createFastDomNode(document.createElement("div")),s._domNode.setClassName("accessibilityHelpWidget"),s._domNode.setDisplay("none"),s._domNode.setAttribute("role","dialog"),s._domNode.setAttribute("aria-hidden","true"),s._contentDomNode=r.createFastDomNode(document.createElement("div")),s._contentDomNode.setAttribute("role","document"),s._domNode.appendChild(s._contentDomNode),s._isVisible=!1,s._register(s._editor.onDidLayoutChange(function(){s._isVisible&&s._layout()})),s._register(n.addStandardDisposableListener(s._contentDomNode.domNode,"keydown",function(o){if(s._isVisible&&(o.equals(2083)&&(h.alert(y.localize("emergencyConfOn","Now changing the setting `accessibilitySupport` to 'on'.")),s._editor.updateOptions({accessibilitySupport:"on"}),n.clearNode(s._contentDomNode.domNode),s._buildContent(),s._contentDomNode.domNode.focus(),o.preventDefault(),o.stopPropagation()),o.equals(2086))){h.alert(y.localize("openingDocs","Now opening the Editor Accessibility documentation page."));var e=s._editor.getRawConfiguration().accessibilityHelpUrl;void 0===e&&(e="https://go.microsoft.com/fwlink/?linkid=852450"),s._openerService.open(C.default.parse(e)),o.preventDefault(),o.stopPropagation()}})),s.onblur(s._contentDomNode.domNode,function(){s.hide()}),s._editor.addOverlayWidget(s),s}return Z(l,d),l.prototype.dispose=function(){this._editor.removeOverlayWidget(this),d.prototype.dispose.call(this)},l.prototype.getId=function(){return l.ID},l.prototype.getDomNode=function(){return this._domNode.domNode},l.prototype.getPosition=function(){return{preference:null}},l.prototype.show=function(){this._isVisible||(this._isVisible=!0,this._isVisibleKey.set(!0),this._layout(),this._domNode.setDisplay("block"),this._domNode.setAttribute("aria-hidden","false"),this._contentDomNode.domNode.tabIndex=0,this._buildContent(),this._contentDomNode.domNode.focus())},l.prototype._descriptionForCommand=function(o,e,t){var n=this._keybindingService.lookupKeybinding(o);return n?A.format(e,n.getAriaLabel()):A.format(t,o)},l.prototype._buildContent=function(){var n=this._editor.getConfiguration(),e=this._editor.getSelections(),t=0;if(e){var i=this._editor.getModel();i&&e.forEach(function(o){t+=i.getValueLengthInRange(o)})}var o=S(e,t);switch(o+=n.wrappingInfo.inDiffEditor?n.readOnly?y.localize("readonlyDiffEditor"," in a read-only pane of a diff editor."):y.localize("editableDiffEditor"," in a pane of a diff editor."):n.readOnly?y.localize("readonlyEditor"," in a read-only code editor"):y.localize("editableEditor"," in a code editor"),n.accessibilitySupport){case 0:var r=m.isMacintosh?y.localize("changeConfigToOnMac","To configure the editor to be optimized for usage with a Screen Reader press Command+E now."):y.localize("changeConfigToOnWinLinux","To configure the editor to be optimized for usage with a Screen Reader press Control+E now.");o+="\n\n - "+r;break;case 2:o+="\n\n - "+y.localize("auto_on","The editor is configured to be optimized for usage with a Screen Reader.");break;case 1:o+="\n\n - "+y.localize("auto_off","The editor is configured to never be optimized for usage with a Screen Reader, which is not the case at this time."),o+=" "+r;}var a=y.localize("tabFocusModeOnMsg","Pressing Tab in the current editor will move focus to the next focusable element. Toggle this behavior by pressing {0}."),s=y.localize("tabFocusModeOnMsgNoKb","Pressing Tab in the current editor will move focus to the next focusable element. The command {0} is currently not triggerable by a keybinding."),l=y.localize("tabFocusModeOffMsg","Pressing Tab in the current editor will insert the tab character. Toggle this behavior by pressing {0}."),p=y.localize("tabFocusModeOffMsgNoKb","Pressing Tab in the current editor will insert the tab character. The command {0} is currently not triggerable by a keybinding.");o+=n.tabFocusMode?"\n\n - "+this._descriptionForCommand(g.ToggleTabFocusModeAction.ID,a,s):"\n\n - "+this._descriptionForCommand(g.ToggleTabFocusModeAction.ID,l,p),o+="\n\n - "+(m.isMacintosh?y.localize("openDocMac","Press Command+H now to open a browser window with more information related to editor accessibility."):y.localize("openDocWinLinux","Press Control+H now to open a browser window with more information related to editor accessibility.")),o+="\n\n"+y.localize("outroMsg","You can dismiss this tooltip and return to the editor by pressing Escape or Shift+Escape."),this._contentDomNode.domNode.appendChild(W.renderFormattedText(o)),this._contentDomNode.domNode.setAttribute("aria-label",o)},l.prototype.hide=function(){this._isVisible&&(this._isVisible=!1,this._isVisibleKey.reset(),this._domNode.setDisplay("none"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode.domNode.tabIndex=-1,n.clearNode(this._contentDomNode.domNode),this._editor.focus())},l.prototype._layout=function(){var t=this._editor.getLayoutInfo(),e=G(5,q(l.WIDTH,t.width-40)),n=G(5,q(l.HEIGHT,t.height-40));this._domNode.setWidth(e),this._domNode.setHeight(n);var i=w((t.height-n)/2);this._domNode.setTop(i);var o=w((t.width-e)/2);this._domNode.setLeft(o)},l.ID="editor.contrib.accessibilityHelpWidget",l.WIDTH=500,l.HEIGHT=300,l=F([v(1,s.IContextKeyService),v(2,a.IKeybindingService),v(3,_.IOpenerService)],l)}(o.Widget),R=(function(o){function e(){return o.call(this,{id:"editor.action.showAccessibilityHelp",label:y.localize("ShowAccessibilityHelpAction","Show Accessibility Help"),alias:"Show Accessibility Help",precondition:null,kbOpts:{kbExpr:d.EditorContextKeys.focus,primary:b.isIE?2107:571}})||this}Z(e,o),e.prototype.run=function(o,e){var t=L.get(e);t&&t.show()},e=F([l.editorAction],e)}(l.EditorAction),l.EditorCommand.bindToContribution(L.get));l.CommonEditorRegistry.registerEditorCommand(new R({id:"closeAccessibilityHelp",precondition:E,handler:function(t){return t.hide()},kbOpts:{weight:l.CommonEditorRegistry.commandWeight(100),kbExpr:d.EditorContextKeys.focus,primary:9,secondary:[1033]}})),c.registerThemingParticipant(function(r,e){var t=r.getColor(u.editorWidgetBackground);t&&e.addRule(".monaco-editor .accessibilityHelpWidget { background-color: "+t+"; }");var n=r.getColor(u.widgetShadow);n&&e.addRule(".monaco-editor .accessibilityHelpWidget { box-shadow: 0 2px 8px "+n+"; }");var i=r.getColor(u.contrastBorder);i&&e.addRule(".monaco-editor .accessibilityHelpWidget { border: 2px solid "+i+"; }")})}),define(s[535],n([1,0,376,3,9,13,25,30,88,116,17,77,68,14,23,403]),function(f,e,t,n,y,o,i,r,a,u,l,s,d,c,p){"use strict";function g(r){for(var e="",t=0,n=r.length,i;t<n;t++)i=r.charCodeAt(t),e+=9===i?"&rarr;":32===i?"&middot;":60===i?"&lt;":62===i?"&gt;":38===i?"&amp;":k(i);return e}function m(o){var e=l.TokenizationRegistry.get(o.language);return e||{getInitialState:function(){return d.NULL_STATE},tokenize:function(e,t,n){return d.nullTokenize(o.language,e,t,n)},tokenize2:function(e,t,n){return d.nullTokenize2(o.id,e,t,n)}}}Object.defineProperty(e,"__esModule",{value:!0});var h=function(d){function e(e,r,n){var i=d.call(this)||this;return i._editor=e,i._standaloneThemeService=r,i._modeService=n,i._widget=null,i._register(i._editor.onDidChangeModel(function(){return i.stop()})),i._register(i._editor.onDidChangeModelLanguage(function(){return i.stop()})),i._register(l.TokenizationRegistry.onDidChange(function(){return i.stop()})),i}return Z(e,d),t=e,e.get=function(o){return o.getContribution(t.ID)},e.prototype.getId=function(){return t.ID},e.prototype.dispose=function(){this.stop(),d.prototype.dispose.call(this)},e.prototype.launch=function(){this._widget||this._editor.getModel()&&(this._widget=new _(this._editor,this._standaloneThemeService,this._modeService))},e.prototype.stop=function(){this._widget&&(this._widget.dispose(),this._widget=null)},e.ID="editor.contrib.inspectTokens",e=t=F([r.editorContribution,v(1,s.IStandaloneThemeService),v(2,a.IModeService)],e);var t}(n.Disposable),_=(function(n){function e(){return n.call(this,{id:"editor.action.inspectTokens",label:t.localize(0,null),alias:"Developer: Inspect Tokens",precondition:null})||this}Z(e,n),e.prototype.run=function(o,e){var t=h.get(e);t&&t.launch()},e=F([o.editorAction],e)}(o.EditorAction),function(r){function e(e,a,n){var i=r.call(this)||this;return i.allowEditorOverflow=!0,i._editor=e,i._standaloneThemeService=a,i._modeService=n,i._model=i._editor.getModel(),i._domNode=document.createElement("div"),i._domNode.className="tokens-inspect-widget",i._tokenizationSupport=m(i._model.getLanguageIdentifier()),i._compute(i._editor.getPosition()),i._register(i._editor.onDidChangeCursorPosition(function(){return i._compute(i._editor.getPosition())})),i._editor.addContentWidget(i),i}return Z(e,r),e.prototype.dispose=function(){this._editor.removeContentWidget(this),r.prototype.dispose.call(this)},e.prototype.getId=function(){return e._ID},e.prototype._compute=function(o){for(var e=this._getTokensAtLine(o.lineNumber),t=0,n=e.tokens1.length-1,i;0<=n;n--)if(i=e.tokens1[n],o.column-1>=i.offset){t=n;break}for(var r=0,n=e.tokens2.length>>>1;0<=n;n--)if(o.column-1>=e.tokens2[n<<1]){r=n;break}var s="",a=this._model.getLineContent(o.lineNumber),p="";if(t<e.tokens1.length){var l=e.tokens1[t].offset,c=t+1<e.tokens1.length?e.tokens1[t+1].offset:a.length;p=a.substring(l,c)}s+="<h2 class=\"tm-token\">"+g(p)+"<span class=\"tm-token-length\">("+p.length+" "+(1===p.length?"char":"chars")+")</span></h2>",s+="<hr class=\"tokens-inspect-separator\" style=\"clear:both\"/>";var d=this._decodeMetadata(e.tokens2[1+(r<<1)]);s+="<table class=\"tm-metadata-table\"><tbody>",s+="<tr><td class=\"tm-metadata-key\">language</td><td class=\"tm-metadata-value\">"+y.escape(d.languageIdentifier.language)+"</td>",s+="<tr><td class=\"tm-metadata-key\">token type</td><td class=\"tm-metadata-value\">"+this._tokenTypeToString(d.tokenType)+"</td>",s+="<tr><td class=\"tm-metadata-key\">font style</td><td class=\"tm-metadata-value\">"+this._fontStyleToString(d.fontStyle)+"</td>",s+="<tr><td class=\"tm-metadata-key\">foreground</td><td class=\"tm-metadata-value\">"+d.foreground.toRGBHex()+"</td>",s+="<tr><td class=\"tm-metadata-key\">background</td><td class=\"tm-metadata-value\">"+d.background.toRGBHex()+"</td>",s+="</tbody></table>",s+="<hr class=\"tokens-inspect-separator\"/>",t<e.tokens1.length&&(s+="<span class=\"tm-token-type\">"+y.escape(e.tokens1[t].type)+"</span>"),this._domNode.innerHTML=s,this._editor.layoutContentWidget(this)},e.prototype._decodeMetadata=function(a){var e=l.TokenizationRegistry.getColorMap(),t=u.TokenMetadata.getLanguageId(a),n=u.TokenMetadata.getTokenType(a),d=u.TokenMetadata.getFontStyle(a),p=u.TokenMetadata.getForeground(a),r=u.TokenMetadata.getBackground(a);return{languageIdentifier:this._modeService.getLanguageIdentifier(t),tokenType:n,fontStyle:d,foreground:e[p],background:e[r]}},e.prototype._tokenTypeToString=function(t){return 0===t?"Other":1===t?"Comment":2===t?"String":4===t?"RegEx":"??"},e.prototype._fontStyleToString=function(o){var e="";return 1&o&&(e+="italic "),2&o&&(e+="bold "),4&o&&(e+="underline "),0===e.length&&(e="---"),e},e.prototype._getTokensAtLine=function(o){var e=this._getStateBeforeLine(o),r=this._tokenizationSupport.tokenize(this._model.getLineContent(o),e,0),n=this._tokenizationSupport.tokenize2(this._model.getLineContent(o),e,0);return{startState:e,tokens1:r.tokens,tokens2:n.tokens,endState:r.endState}},e.prototype._getStateBeforeLine=function(o){for(var e=this._tokenizationSupport.getInitialState(),t=1;t<o;t++)e=this._tokenizationSupport.tokenize(this._model.getLineContent(t),e,0).endState;return e},e.prototype.getDomNode=function(){return this._domNode},e.prototype.getPosition=function(){return{position:this._editor.getPosition(),preference:[i.ContentWidgetPositionPreference.BELOW,i.ContentWidgetPositionPreference.ABOVE]}},e._ID="editor.contrib.inspectTokensWidget",e}(n.Disposable));c.registerThemingParticipant(function(r,e){var t=r.getColor(p.editorHoverBorder);if(t){var n=r.type===c.HIGH_CONTRAST?2:1;e.addRule(".monaco-editor .tokens-inspect-widget { border: "+n+"px solid "+t+"; }"),e.addRule(".monaco-editor .tokens-inspect-widget .tokens-inspect-separator { background-color: "+t+"; }")}var i=r.getColor(p.editorHoverBackground);i&&e.addRule(".monaco-editor .tokens-inspect-widget { background-color: "+i+"; }")})}),define(s[143],n([1,0,30,483,13,14,34]),function(d,e,l,p,t,o,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function i(o,n){this.themeService=n,this.editor=o}return a=i,i.get=function(t){return t.getContribution(a.ID)},i.prototype.getId=function(){return a.ID},i.prototype.dispose=function(){this.widget&&(this.widget.destroy(),this.widget=null)},i.prototype.run=function(o){var i=this;this.widget&&(this.widget.destroy(),this.widget=null);var e=function(t){i.clearDecorations(),t&&i.lastKnownEditorSelection&&(i.editor.setSelection(i.lastKnownEditorSelection),i.editor.revealRangeInCenterIfOutsideViewport(i.lastKnownEditorSelection)),i.lastKnownEditorSelection=null,i.editor.focus()};this.widget=new p.QuickOpenEditorWidget(this.editor,function(){return e(!1)},function(){return e(!0)},function(e){i.widget.setInput(o.getModel(e),o.getAutoFocus(e))},{inputAriaLabel:o.inputAriaLabel},this.themeService),this.lastKnownEditorSelection||(this.lastKnownEditorSelection=this.editor.getSelection()),this.widget.show("")},i.prototype.decorateLine=function(t,o){var d=this;o.changeDecorations(function(i){var n=[];d.rangeHighlightDecorationId&&(n.push(d.rangeHighlightDecorationId),d.rangeHighlightDecorationId=null);var o=[{range:t,options:a._RANGE_HIGHLIGHT_DECORATION}],r=i.deltaDecorations(n,o);d.rangeHighlightDecorationId=r[0]})},i.prototype.clearDecorations=function(){var o=this;this.rangeHighlightDecorationId&&this.editor.changeDecorations(function(e){e.deltaDecorations([o.rangeHighlightDecorationId],[]),o.rangeHighlightDecorationId=null})},i.ID="editor.controller.quickOpenController",i._RANGE_HIGHLIGHT_DECORATION=n.ModelDecorationOptions.register({className:"rangeHighlight",isWholeLine:!0}),i=a=F([l.editorContribution,v(1,o.IThemeService)],i);var a}();e.QuickOpenController=i;var r=function(o){function e(e,r){var n=o.call(this,r)||this;return n._inputAriaLabel=e,n}return Z(e,o),e.prototype.getController=function(t){return i.get(t)},e.prototype._show=function(o,n){o.run({inputAriaLabel:this._inputAriaLabel,getModel:function(t){return n.getModel(t)},getAutoFocus:function(t){return n.getAutoFocus(t)}})},e}(t.EditorAction);e.BaseEditorQuickOpenAction=r}),define(s[537],n([1,0,377,120,100,20,21,143,13,12,2,404]),function(p,e,g,m,t,n,o,i,r,u,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=function(r){function e(e,a,n){var i=r.call(this)||this;return i.editor=a,i.decorator=n,i._parseResult=i._parseInput(e),i}return Z(e,r),e.prototype._parseInput=function(r){var e=r.split(",").map(function(t){return parseInt(t,10)}).filter(function(t){return!isNaN(t)}),i;i=0===e.length?new u.Position(-1,-1):1===e.length?new u.Position(e[0],1):new u.Position(e[0],e[1]);var d=(l=n.isCommonCodeEditor(this.editor)?this.editor.getModel():this.editor.getModel().modified).validatePosition(i).equals(i),l,o;return o=d?i.column&&1<i.column?g.localize(0,null,i.lineNumber,i.column):g.localize(1,null,i.lineNumber,i.column):1>i.lineNumber||i.lineNumber>l.getLineCount()?g.localize(2,null,l.getLineCount()):g.localize(3,null,l.getLineMaxColumn(i.lineNumber)),{position:i,isValid:d,label:o}},e.prototype.getLabel=function(){return this._parseResult.label},e.prototype.getAriaLabel=function(){return g.localize(4,null,this._parseResult.label)},e.prototype.run=function(o){return o===t.Mode.OPEN?this.runOpen():this.runPreview()},e.prototype.runOpen=function(){if(!this._parseResult.isValid)return!1;var t=this.toSelection();return this.editor.setSelection(t),this.editor.revealRangeInCenter(t),this.editor.focus(),!0},e.prototype.runPreview=function(){if(!this._parseResult.isValid)return this.decorator.clearDecorations(),!1;var t=this.toSelection();return this.editor.revealRangeInCenter(t),this.decorator.decorateLine(t,this.editor),!1},e.prototype.toSelection=function(){return new a.Range(this._parseResult.position.lineNumber,this._parseResult.position.column,this._parseResult.position.lineNumber,this._parseResult.position.column)},e}(m.QuickOpenEntry);e.GotoLineEntry=s;var d=function(n){function e(){return n.call(this,g.localize(5,null),{id:"editor.action.gotoLine",label:g.localize(6,null),alias:"Go to Line...",precondition:null,kbOpts:{kbExpr:o.EditorContextKeys.focus,primary:2085,mac:{primary:293}}})||this}return Z(e,n),e.prototype.run=function(o,i){var t=this;this._show(this.getController(i),{getModel:function(o){return new m.QuickOpenModel([new s(o,i,t.getController(i))])},getAutoFocus:function(t){return{autoFocusFirstEntry:0<t.length}}})},e=F([r.editorAction],e)}(i.BaseEditorQuickOpenAction);e.GotoLineAction=d}),define(s[538],n([1,0,378,10,81,7,120,100,46,21,143,13,28]),function(m,e,t,_,i,o,r,s,a,n,l,c,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var h=function(a){function e(e,s,n,i){var o=a.call(this)||this;return o.key=e,o.setHighlights(s),o.action=n,o.editor=i,o}return Z(e,a),e.prototype.getLabel=function(){return this.action.label},e.prototype.getAriaLabel=function(){return t.localize(0,null,this.getLabel())},e.prototype.getGroupLabel=function(){return this.key},e.prototype.run=function(t){var e=this;return t===s.Mode.OPEN&&(o.TPromise.timeout(50).done(function(){e.editor.focus();try{(e.action.run()||o.TPromise.as(null)).done(null,_.onUnexpectedError)}catch(t){_.onUnexpectedError(t)}},_.onUnexpectedError),!0)},e}(r.QuickOpenEntryGroup);e.EditorActionCommandEntry=h;var p=function(o){function e(){return o.call(this,t.localize(1,null),{id:"editor.action.quickCommand",label:t.localize(2,null),alias:"Command Palette",precondition:null,kbOpts:{kbExpr:n.EditorContextKeys.focus,primary:d.isIE?571:59},menuOpts:{}})||this}return Z(e,o),e.prototype.run=function(o,s){var t=this,n=o.get(a.IKeybindingService);this._show(this.getController(s),{getModel:function(o){return new r.QuickOpenModel(t._editorActionsToEntries(n,s,o))},getAutoFocus:function(t){return{autoFocusFirstEntry:!0,autoFocusPrefixMatch:t}}})},e.prototype._sort=function(o,e){var t=o.getLabel().toLowerCase(),n=e.getLabel().toLowerCase();return t.localeCompare(n)},e.prototype._editorActionsToEntries=function(o,e,t){for(var n=e.getSupportedActions(),d=[],r=0;r<n.length;r++){var s=n[r],a=o.lookupKeybinding(s.id);if(s.label){var p=i.matchesFuzzy(t,s.label);p&&d.push(new h(a?a.getLabel():"",p,s,e))}}return d=d.sort(this._sort)},e=F([c.editorAction],e)}(l.BaseEditorQuickOpenAction);e.QuickCommandAction=p}),define(s[539],n([1,0,379,81,9,120,100,21,17,143,470,13,2,405]),function(m,e,b,n,i,o,r,t,_,a,s,l,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var h=function(d){function e(e,l,n,i,o,r,s){var a=d.call(this)||this;return a.name=e,a.type=l,a.description=n,a.range=i,a.setHighlights(o),a.editor=r,a.decorator=s,a}return Z(e,d),e.prototype.getLabel=function(){return this.name},e.prototype.getAriaLabel=function(){return b.localize(0,null,this.name)},e.prototype.getIcon=function(){return this.type},e.prototype.getDescription=function(){return this.description},e.prototype.getType=function(){return this.type},e.prototype.getRange=function(){return this.range},e.prototype.run=function(o,e){return o===r.Mode.OPEN?this.runOpen(e):this.runPreview()},e.prototype.runOpen=function(){var e=this.toSelection();return this.editor.setSelection(e),this.editor.revealRangeInCenter(e),this.editor.focus(),!0},e.prototype.runPreview=function(){var t=this.toSelection();return this.editor.revealRangeInCenter(t),this.decorator.decorateLine(this.range,this.editor),!1},e.prototype.toSelection=function(){return new u.Range(this.range.startLineNumber,this.range.startColumn||1,this.range.startLineNumber,this.range.startColumn||1)},e}(o.QuickOpenEntryGroup),d=function(r){function e(){return r.call(this,b.localize(1,null),{id:"editor.action.quickOutline",label:b.localize(2,null),alias:"Go to Symbol...",precondition:t.EditorContextKeys.hasDocumentSymbolProvider,kbOpts:{kbExpr:t.EditorContextKeys.focus,primary:3117},menuOpts:{group:"navigation",order:3}})||this}return Z(e,r),e.prototype.run=function(o,r){var t=this,e=r.getModel();return _.DocumentSymbolProviderRegistry.has(e)?s.getDocumentSymbols(e).then(function(o){0!==o.entries.length&&t._run(r,o.entries)}):null},e.prototype._run=function(r,e){var t=this;this._show(this.getController(r),{getModel:function(n){return new o.QuickOpenModel(t.toQuickOpenEntries(r,e,n))},getAutoFocus:function(t){return 0===t.indexOf(":")&&(t=t.substr(1)),{autoFocusPrefixMatch:t,autoFocusFirstEntry:!!t}}})},e.prototype.toQuickOpenEntries=function(o,e,t){var r=this.getController(o),s=[],a=t;for(0===t.indexOf(":")&&(a=a.substr(1)),v=0;v<e.length;v++){var l=e[v],p=i.trim(l.name),d=n.matchesFuzzy(a,p);if(d){var c=null;l.containerName&&(c=l.containerName),s.push(new h(p,_.symbolKindToCssClass(l.kind),c,u.Range.lift(l.location.range),d,o,r))}}if(t&&(s=0===t.indexOf(":")?s.sort(this.sortScoped.bind(this,t.toLowerCase())):s.sort(this.sortNormal.bind(this,t.toLowerCase()))),0<s.length&&0===t.indexOf(":")){for(var g=null,m=null,f=0,v=0,y;v<s.length;v++)y=s[v],g===y.getType()?f++:(m&&m.setGroupLabel(this.typeToLabel(g,f)),g=y.getType(),m=y,f=1,y.setShowBorder(0<v));m&&m.setGroupLabel(this.typeToLabel(g,f))}else 0<s.length&&s[0].setGroupLabel(b.localize(3,null,s.length));return s},e.prototype.typeToLabel=function(o,e){return"module"===o?b.localize(4,null,e):"class"===o?b.localize(5,null,e):"interface"===o?b.localize(6,null,e):"method"===o?b.localize(7,null,e):"function"===o?b.localize(8,null,e):"property"===o?b.localize(9,null,e):"variable"===o?b.localize(10,null,e):"var"===o?b.localize(11,null,e):"constructor"===o?b.localize(12,null,e):"call"===o?b.localize(13,null,e):o},e.prototype.sortNormal=function(d,e,t){var n=e.getLabel().toLowerCase(),i=t.getLabel().toLowerCase(),o=n.localeCompare(i);if(0!==o)return o;var r=e.getRange(),s=t.getRange();return r.startLineNumber-s.startLineNumber},e.prototype.sortScoped=function(d,e,t){d=d.substr(1);var n=e.getType(),i=t.getType(),o=n.localeCompare(i);if(0!==o)return o;if(d){var r=e.getLabel().toLowerCase(),s=t.getLabel().toLowerCase(),a=r.localeCompare(s);if(0!==a)return a}var p=e.getRange(),l=t.getRange();return p.startLineNumber-l.startLineNumber},e=F([l.editorAction],e)}(a.BaseEditorQuickOpenAction);e.QuickOutlineAction=d}),define(s[540],n([1,0,3,7,69,16,31,46,19,42,61,129,141,193,77,149,85,14,51,50,380,28]),function(f,e,I,y,n,o,i,r,s,a,l,D,t,d,p,u,c,g,m,h,_,C){"use strict";function b(){E||(E=!0,m.setARIAContainer(document.body))}Object.defineProperty(e,"__esModule",{value:!0});var S=0,E=!1,L=function(d){function e(e,p,n,i,o,r,s,a){var c=this;return p=p||{},p.ariaLabel=p.ariaLabel||_.localize(0,null),p.ariaLabel=p.ariaLabel+";"+(C.isIE?_.localize(1,null):_.localize(2,null)),c=d.call(this,e,p,n,i,o,r,a)||this,s instanceof D.StandaloneKeybindingService&&(c._standaloneKeybindingService=s),b(),c}return Z(e,d),e.prototype.addCommand=function(r,e,t){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;var n="DYNAMIC_"+ ++S,i=s.ContextKeyExpr.deserialize(t);return this._standaloneKeybindingService.addDynamicKeybinding(n,r,e,i),n},e.prototype.createContextKey=function(o,e){return this._contextKeyService.createKey(o,e)},e.prototype.addAction=function(m){var _=this;if("string"!=typeof m.id||"string"!=typeof m.label||"function"!=typeof m.run)throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),I.empty;var e=m.id,t=m.label,o=s.ContextKeyExpr.and(s.ContextKeyExpr.equals("editorId",this.getId()),s.ContextKeyExpr.deserialize(m.precondition)),n=m.keybindings,l=s.ContextKeyExpr.and(o,s.ContextKeyExpr.deserialize(m.keybindingContext)),C=m.contextMenuGroupId||null,b=m.contextMenuOrder||0,v=function(){var e=m.run(_);return e||y.TPromise.as(void 0)},p=[],f=this.getId()+":"+e;if(p.push(i.CommandsRegistry.registerCommand(f,v)),C){p.push(c.MenuRegistry.appendMenuItem(c.MenuId.EditorContext,{command:{id:f,title:t},when:o,group:C,order:b}))}Array.isArray(n)&&(p=p.concat(n.map(function(t){return _._standaloneKeybindingService.addDynamicKeybinding(f,t,v,l)})));var S=new u.InternalEditorAction(f,t,t,o,v,this._contextKeyService);return this._actions[e]=S,p.push({dispose:function(){delete _._actions[e]}}),I.combinedDisposable(p)},e=F([v(2,o.IInstantiationService),v(3,a.ICodeEditorService),v(4,i.ICommandService),v(5,s.IContextKeyService),v(6,r.IKeybindingService),v(7,g.IThemeService)],e)}(t.CodeEditor);e.StandaloneCodeEditor=L;var w=function(g){function e(e,m,n,i,o,r,s,a,u,l){var c=this;"string"==typeof(m=m||{}).theme&&l.setTheme(m.theme);var d=m.model;if(delete m.model,c=g.call(this,e,m,i,o,r,s,a,l)||this,c._contextViewService=u,c._register(n),void 0===d?(d=self.monaco.editor.createModel(m.value||"",m.language||"text/plain"),c._ownsModel=!0):c._ownsModel=!1,c._attachModel(d),d){var h={oldModelUrl:null,newModelUrl:d.uri};c._onDidChangeModel.fire(h)}return c}return Z(e,g),e.prototype.dispose=function(){g.prototype.dispose.call(this)},e.prototype.destroy=function(){this.dispose()},e.prototype._attachModel=function(e){g.prototype._attachModel.call(this,e),this._view&&this._contextViewService.setContainer(this._view.domNode.domNode)},e.prototype._postDetachModelCleanup=function(e){g.prototype._postDetachModelCleanup.call(this,e),e&&this._ownsModel&&(e.dispose(),this._ownsModel=!1)},e=F([v(3,o.IInstantiationService),v(4,a.ICodeEditorService),v(5,i.ICommandService),v(6,s.IContextKeyService),v(7,r.IKeybindingService),v(8,n.IContextViewService),v(9,p.IStandaloneThemeService)],e)}(L);e.StandaloneEditor=w;var x=function(d){function e(e,g,n,i,o,r,s,a,u,l,c){var m=this;return"string"==typeof(g=g||{}).theme&&(g.theme=l.setTheme(g.theme)),m=d.call(this,e,g,a,o,i,u,l,c)||this,r instanceof D.StandaloneKeybindingService&&(m._standaloneKeybindingService=r),m._contextViewService=s,m._register(n),m._contextViewService.setContainer(m._containerDomElement),m}return Z(e,d),e.prototype.dispose=function(){d.prototype.dispose.call(this)},e.prototype.destroy=function(){this.dispose()},e.prototype._createInnerEditor=function(o,e,t){return o.createInstance(L,e,t)},e.prototype.getOriginalEditor=function(){return d.prototype.getOriginalEditor.call(this)},e.prototype.getModifiedEditor=function(){return d.prototype.getModifiedEditor.call(this)},e.prototype.addCommand=function(o,e,t){return this.getModifiedEditor().addCommand(o,e,t)},e.prototype.createContextKey=function(o,e){return this.getModifiedEditor().createContextKey(o,e)},e.prototype.addAction=function(t){return this.getModifiedEditor().addAction(t)},e=F([v(3,o.IInstantiationService),v(4,s.IContextKeyService),v(5,r.IKeybindingService),v(6,n.IContextViewService),v(7,l.IEditorWorkerService),v(8,a.ICodeEditorService),v(9,p.IStandaloneThemeService),v(10,h.IMessageService)],e)}(d.DiffEditorWidget);e.StandaloneDiffEditor=x}),define(s[541],n([1,0,23,37]),function(a,e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.vs={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"09885A"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.jade",foreground:"4F76AC"},{token:"tag.class.jade",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"09885A"},{token:"attribute.value.unit",foreground:"09885A"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"FF00FF"}],colors:(i={},i[t.editorBackground]="#FFFFFE",i[t.editorForeground]="#000000",i[t.editorInactiveSelection]="#E5EBF1",i[n.editorIndentGuides]="#D3D3D3",i[t.editorSelectionHighlight]="#ADD6FF4D",i)},e.vs_dark={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.jade",foreground:"4F76AC"},{token:"tag.class.jade",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:(o={},o[t.editorBackground]="#1E1E1E",o[t.editorForeground]="#D4D4D4",o[t.editorInactiveSelection]="#3A3D41",o[n.editorIndentGuides]="#404040",o[t.editorSelectionHighlight]="#ADD6FF26",o)},e.hc_black={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.jade",foreground:"4F76AC"},{token:"tag.class.jade",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:(r={},r[t.editorBackground]="#000000",r[t.editorForeground]="#FFFFFF",r[n.editorIndentGuides]="#FFFFFF",r)};var i,o,r}),define(s[542],n([1,0,202,541,4,17,32,23,14,44,11]),function(b,e,S,t,n,E,r,o,i,a,s){"use strict";function l(t){return t===p||t===u||t===g}function d(o){return o===p?t.vs:o===u?t.vs_dark:o===g?t.hc_black:void 0}function c(o){var e=d(o);return new _(o,"",e.colors,e.rules)}Object.defineProperty(e,"__esModule",{value:!0});var p="vs",u="vs-dark",g="hc-black",m=a.Registry.as(o.Extensions.ColorContribution),h=a.Registry.as(i.Extensions.ThemingContribution),_=function(){function t(a,s,t,n){for(var i in 0<s.length?(this.id=a+" "+s,this.themeName=s):(this.id=a,this.themeName=a),this.base=a,this.rules=n,this.colors={},t)this.colors[i]=r.Color.fromHex(t[i]);this.defaultColors={}}return t.prototype.getColor=function(o,e){return this.colors.hasOwnProperty(o)?this.colors[o]:!1===e?null:this.getDefault(o)},t.prototype.getDefault=function(o){if(this.defaultColors.hasOwnProperty(o))return this.defaultColors[o];var e=m.resolveDefaultColor(o,this);return this.defaultColors[o]=e,e},t.prototype.defines=function(t){return this.colors.hasOwnProperty(t)},Object.defineProperty(t.prototype,"type",{get:function(){switch(this.base){case p:return"light";case g:return"hc";default:return"dark";}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tokenTheme",{get:function(){return this._tokenTheme||(this._tokenTheme=S.TokenTheme.createFromRawTokenTheme(this.rules)),this._tokenTheme},enumerable:!0,configurable:!0}),t}(),f=function(){function t(){this._onThemeChange=new s.Emitter,this._knownThemes=new Map,this._knownThemes.set(p,c(p)),this._knownThemes.set(u,c(u)),this._knownThemes.set(g,c(g)),this._styleElement=n.createStyleSheet(),this._styleElement.className="monaco-colors",this.setTheme(p)}return Object.defineProperty(t.prototype,"onThemeChange",{get:function(){return this._onThemeChange.event},enumerable:!0,configurable:!0}),t.prototype.defineTheme=function(a,e){if(!/^[a-z0-9\-]+$/i.test(a)||l(a))throw new Error("Illegal theme name!");if(!l(e.base))throw new Error("Illegal theme base!");var t=[],n={};if(e.inherit){var i=d(e.base);for(var o in t=t.concat(i.rules),i.colors)n[o]=i.colors[o]}for(var o in t=t.concat(e.rules),e.colors)n[o]=e.colors[o];this._knownThemes.set(a,new _(e.base,a,n,t))},t.prototype.getTheme=function(){return this._theme},t.prototype.setTheme=function(n){var r;r=this._knownThemes.has(n)?this._knownThemes.get(n):this._knownThemes.get(p),this._theme=r;var t=[],i={},o={addRule:function(o){i[o]||(t.push(o),i[o]=!0)}};h.getThemingParticipants().forEach(function(t){return t(r,o)});var e=r.tokenTheme.getColorMap();return o.addRule(S.generateTokensCSSForColorMap(e)),this._styleElement.innerHTML=t.join("\n"),E.TokenizationRegistry.setColorMap(e),this._onThemeChange.fire(r),r.id},t}();e.StandaloneThemeServiceImpl=f}),define(s[144],n([1,0,24,16,45,80]),function(d,e,l,t,n,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IWorkspaceContextService=t.createDecorator("contextService");var i=function(){function t(o,i){this._resource=o,this._ctime=i,this._name=n.basename(this._resource.fsPath)||this._resource.fsPath}return Object.defineProperty(t.prototype,"resource",{get:function(){return this._resource},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ctime",{get:function(){return this._ctime},enumerable:!0,configurable:!0}),t.prototype.toResource=function(o,i){return"string"==typeof o?l.default.file(n.join(i?i.fsPath:this._resource.fsPath,o)):null},t}();e.LegacyWorkspace=i;var r=function(){function t(r,a,t,n){void 0===n&&(n=null),this.id=r,this._name=a,this._roots=t,this._configuration=n,this._rootsMap=new o.TrieMap(o.TrieMap.PathSplitter),this.updateRootsMap()}return Object.defineProperty(t.prototype,"roots",{get:function(){return this._roots},set:function(t){this._roots=t,this.updateRootsMap()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},set:function(t){this._name=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"configuration",{get:function(){return this._configuration},set:function(t){this._configuration=t},enumerable:!0,configurable:!0}),t.prototype.getRoot=function(t){return t?this._rootsMap.findSubstr(t.fsPath):null},t.prototype.updateRootsMap=function(){this._rootsMap=new o.TrieMap(o.TrieMap.PathSplitter);for(var i=0,e=this.roots,t;i<e.length;i++)t=e[i],this._rootsMap.insert(t.fsPath,t)},t.prototype.toJSON=function(){return{id:this.id,roots:this.roots,name:this.name}},t}();e.Workspace=r}),define(s[544],n([1,0,367,10,174,11,3,70,9,7,32,52,4,99,204,162,128,161,16,84,144,2,20,175,194,92,125,87,23,14,137,156,34,24,392]),function(f,y,q,n,i,G,Y,o,r,a,t,s,d,l,p,c,e,u,g,m,h,_,C,b,S,E,L,w,x,N,T,I,M,k){"use strict";Object.defineProperty(y,"__esModule",{value:!0});var D=function(){function i(o,i){var t=this;this._editor=o,this._model=i,this._decorations=new Map,this._decorationIgnoreSet=new Set,this._callOnDispose=[],this._callOnModelChange=[],this._callOnDispose.push(this._editor.onDidChangeModel(function(){return t._onModelChanged()})),this._onModelChanged()}return i.prototype.dispose=function(){this._callOnModelChange=Y.dispose(this._callOnModelChange),this._callOnDispose=Y.dispose(this._callOnDispose),this.removeDecorations()},i.prototype._onModelChanged=function(){this._callOnModelChange=Y.dispose(this._callOnModelChange);var o=this._editor.getModel();if(o)for(var e=0,t=this._model.groups,n;e<t.length;e++)if(n=t[e],n.uri.toString()===o.uri.toString())return void this._addDecorations(n)},i.prototype._addDecorations=function(e){var t=this;this._callOnModelChange.push(this._editor.getModel().onDidChangeDecorations(function(o){return t._onDecorationChanged(o)})),this._editor.changeDecorations(function(n){for(var d=[],o=[],r=0,s=e.children.length,a;r<s;r++)a=e.children[r],t._decorationIgnoreSet.has(a.id)||(d.push({range:a.range,options:i.DecorationOptions}),o.push(r));for(var p=n.deltaDecorations([],d),r=0;r<p.length;r++)t._decorations.set(p[r],e.children[o[r]])})},i.prototype._onDecorationChanged=function(d){for(var e=this,t=d.changedDecorations,l=[],n=0,o=t.length,i;n<o;n++)if(i=this._decorations.get(t[n]),i){var r=this._editor.getModel().getDecorationRange(t[n]),a=!1;_.Range.equalsRange(r,i.range)||(_.Range.spansMultipleLines(r)?a=!0:i.range.endColumn-i.range.startColumn!==r.endColumn-r.startColumn&&(a=!0),a?(this._decorationIgnoreSet.add(i.id),l.push(t[n])):i.range=r)}this._editor.changeDecorations(function(t){for(var i=0,n=l.length;i<n;i++)e._decorations.delete(l[i]);t.deltaDecorations(l,[])})},i.prototype.removeDecorations=function(){var o=this;this._editor.changeDecorations(function(i){o._decorations.forEach(function(t,e){i.removeDecoration(e)}),o._decorations.clear()})},i.DecorationOptions=M.ModelDecorationOptions.register({stickiness:C.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:"reference-decoration"}),i}(),R=function(){function t(t){this._textModelResolverService=t}return t.prototype.getId=function(o,e){return e instanceof L.ReferencesModel?"root":e instanceof L.FileReferences?e.id:e instanceof L.OneReference?e.id:void 0},t.prototype.hasChildren=function(o,e){return e instanceof L.ReferencesModel||e instanceof L.FileReferences&&!e.failure},t.prototype.getChildren=function(o,e){return e instanceof L.ReferencesModel?a.TPromise.as(e.groups):e instanceof L.FileReferences?e.resolve(this._textModelResolverService).then(function(t){return e.failure?o.refresh(e).then(function(){return t.children}):t.children}):a.TPromise.as([])},t.prototype.getParent=function(o,e){var t=null;return e instanceof L.FileReferences?t=e.parent:e instanceof L.OneReference&&(t=e.parent),a.TPromise.as(t)},t=F([v(0,w.ITextModelService)],t)}(),P=function(a){function s(){return null!==a&&a.apply(this,arguments)||this}return Z(s,a),s.prototype.onTap=function(e,t,n){if(t instanceof L.FileReferences)return n.preventDefault(),n.stopPropagation(),this._expandCollapse(e,t);var o=a.prototype.onTap.call(this,e,t,n);return e.emit(s.Events.FOCUSED,t),o},s.prototype.onMouseDown=function(e,t,n){if(n.leftButton){if(t instanceof L.FileReferences)return n.preventDefault(),n.stopPropagation(),this._expandCollapse(e,t);var o=a.prototype.onClick.call(this,e,t,n);return n.ctrlKey||n.metaKey?e.emit(s.Events.OPEN_TO_SIDE,t):2===n.detail?e.emit(s.Events.SELECTED,t):e.emit(s.Events.FOCUSED,t),o}return!1},s.prototype.onClick=function(e,t,o){return!o.leftButton&&a.prototype.onClick.call(this,e,t,o)},s.prototype._expandCollapse=function(o,e){return o.isExpanded(e)?o.collapse(e).done(null,n.onUnexpectedError):o.expand(e).done(null,n.onUnexpectedError),!0},s.prototype.onEscape=function(){return!1},s.prototype.onEnter=function(e,t){var n=e.getFocus();if(n instanceof L.FileReferences)return this._expandCollapse(e,n);var o=a.prototype.onEnter.call(this,e,t);return t.ctrlKey||t.metaKey?e.emit(s.Events.OPEN_TO_SIDE,n):e.emit(s.Events.SELECTED,n),o},s.prototype.onUp=function(e,t){return a.prototype.onUp.call(this,e,t),this._fakeFocus(e,t),!0},s.prototype.onPageUp=function(e,t){return a.prototype.onPageUp.call(this,e,t),this._fakeFocus(e,t),!0},s.prototype.onLeft=function(e,t){return a.prototype.onLeft.call(this,e,t),this._fakeFocus(e,t),!0},s.prototype.onDown=function(e,t){return a.prototype.onDown.call(this,e,t),this._fakeFocus(e,t),!0},s.prototype.onPageDown=function(e,t){return a.prototype.onPageDown.call(this,e,t),this._fakeFocus(e,t),!0},s.prototype.onRight=function(e,t){return a.prototype.onRight.call(this,e,t),this._fakeFocus(e,t),!0},s.prototype._fakeFocus=function(t){var e=t.getFocus();t.setSelection([e]),t.emit(s.Events.FOCUSED,e)},s.Events={FOCUSED:"events/custom/focused",SELECTED:"events/custom/selected",OPEN_TO_SIDE:"events/custom/opentoside"},s}(e.DefaultController),O=function(){function t(a,s,t,n){this._contextService=s,this._environmentService=t;var i=document.createElement("div");d.addClass(i,"reference-file"),a.appendChild(i),this.file=new c.FileLabel(i,k.default.parse("no:file"),this._contextService,this._environmentService),this.badge=new p.CountBadge(i);var o=T.attachBadgeStyler(this.badge,n);this.dispose=function(){return o.dispose()}}return t.prototype.set=function(o){this.file.setFile(o.uri,this._contextService,this._environmentService);var e=o.children.length;this.badge.setCount(e),o.failure?this.badge.setTitleFormat(q.localize(0,null)):1<e?this.badge.setTitleFormat(q.localize(1,null,e)):this.badge.setTitleFormat(q.localize(2,null,e))},t=F([v(1,h.IWorkspaceContextService),v(2,g.optional(I.IEnvironmentService)),v(3,N.IThemeService)],t)}(),A=function(){function t(o){var n=document.createElement("div");this.before=document.createElement("span"),this.inside=document.createElement("span"),this.after=document.createElement("span"),d.addClass(this.inside,"referenceMatch"),d.addClass(n,"reference"),n.appendChild(this.before),n.appendChild(this.inside),n.appendChild(this.after),o.appendChild(n)}return t.prototype.set=function(a){var e=a.parent.preview.preview(a.range),t=e.before,n=e.inside,i=e.after;this.before.innerHTML=r.escape(t),this.inside.innerHTML=r.escape(n),this.after.innerHTML=r.escape(i)},t}(),W=function(){function o(o,i,t){this._contextService=o,this._themeService=i,this._environmentService=t}return o.prototype.getHeight=function(){return 22},o.prototype.getTemplateId=function(e,t){if(t instanceof L.FileReferences)return o._ids.FileReferences;if(t instanceof L.OneReference)return o._ids.OneReference;throw t},o.prototype.renderTemplate=function(e,t,n){if(t===o._ids.FileReferences)return new O(n,this._contextService,this._environmentService,this._themeService);if(t===o._ids.OneReference)return new A(n);throw t},o.prototype.renderElement=function(o,e,t,n){if(e instanceof L.FileReferences)n.set(e);else{if(!(e instanceof L.OneReference))throw t;n.set(e)}},o.prototype.disposeTemplate=function(o,e,t){t instanceof O&&t.dispose()},o._ids={FileReferences:"FileReferences",OneReference:"OneReference"},o=F([v(0,h.IWorkspaceContextService),v(1,N.IThemeService),v(2,g.optional(I.IEnvironmentService))],o)}(),B=function(){function t(){}return t.prototype.getAriaLabel=function(o,e){return e instanceof L.FileReferences?e.getAriaMessage():e instanceof L.OneReference?e.getAriaMessage():void 0},t}(),V=function(){function t(o,r){var a=this;this._disposables=[],this._onDidChangePercentages=new G.Emitter,this._ratio=r,this._sash=new l.Sash(o,{getVerticalSashLeft:function(){return a._width*a._ratio},getVerticalSashHeight:function(){return a._height}});var n;this._disposables.push(this._sash.addListener("start",function(t){n=t.startX-a._width*a.ratio})),this._disposables.push(this._sash.addListener("change",function(o){var e=o.currentX-n;20<e&&e+20<a._width&&(a._ratio=e/a._width,a._sash.layout(),a._onDidChangePercentages.fire(a))}))}return t.prototype.dispose=function(){this._sash.dispose(),this._onDidChangePercentages.dispose(),Y.dispose(this._disposables)},Object.defineProperty(t.prototype,"onDidChangePercentages",{get:function(){return this._onDidChangePercentages.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{set:function(t){this._width=t,this._sash.layout()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{set:function(t){this._height=t,this._sash.layout()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"percentages",{get:function(){var t=100*this._ratio;return[t+"%",100-t+"%"]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ratio",{get:function(){return this._ratio},enumerable:!0,configurable:!0}),t}(),H=function(p){function e(e,t,n,i,o,r,a){var s=p.call(this,e,{showFrame:!1,showArrow:!0,isResizeable:!0,isAccessible:!0})||this;return s.layoutData=t,s._textModelResolverService=n,s._contextService=i,s._themeService=o,s._instantiationService=r,s._environmentService=a,s._disposeOnNewModel=[],s._callOnDispose=[],s._onDidSelectReference=new G.Emitter,s._applyTheme(o.getTheme()),s._callOnDispose.push(o.onThemeChange(s._applyTheme.bind(s))),s._instantiationService=s._instantiationService.createChild(new m.ServiceCollection([E.IPeekViewService,s])),s.create(),s}return Z(e,p),e.prototype._applyTheme=function(o){var e=o.getColor(y.peekViewBorder)||t.Color.transparent;this.style({arrowColor:e,frameColor:e,headerBackgroundColor:o.getColor(y.peekViewTitleBackground)||t.Color.transparent,primaryHeadingColor:o.getColor(y.peekViewTitleForeground),secondaryHeadingColor:o.getColor(y.peekViewTitleInfoForeground)})},e.prototype.dispose=function(){this.setModel(null),this._callOnDispose=Y.dispose(this._callOnDispose),Y.dispose(this._preview,this._previewNotAvailableMessage,this._tree,this._sash,this._previewModelReference),p.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"onDidSelectReference",{get:function(){return this._onDidSelectReference.event},enumerable:!0,configurable:!0}),e.prototype.show=function(e){this.editor.revealRangeInCenterIfOutsideViewport(e),p.prototype.show.call(this,e,this.layoutData.heightInLines||18)},e.prototype.focus=function(){this._tree.DOMFocus()},e.prototype._onTitleClick=function(t){this._preview&&this._preview.getModel()&&this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:t.ctrlKey||t.metaKey?"side":"open",source:"title"})},e.prototype._fillBody=function(o){var r=this,e=s.$(o);this.setCssClass("reference-zone-widget"),e.div({class:"messages"},function(t){r._messageContainer=t.hide()}),e.div({class:"preview inline"},function(t){r._preview=r._instantiationService.createInstance(S.EmbeddedCodeEditorWidget,t.getHTMLElement(),{scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1}},r.editor),r._previewContainer=t.hide(),r._previewNotAvailableMessage=b.Model.createFromString(q.localize(3,null))}),this._sash=new V(o,this.layoutData.ratio||.8),this._sash.onDidChangePercentages(function(){var t=r._sash.percentages,e=t[0],o=t[1];r._previewContainer.style({width:e}),r._treeContainer.style({width:o}),r._preview.layout(),r._tree.layout(),r.layoutData.ratio=r._sash.ratio}),e.div({class:"ref-tree inline"},function(t){var e={dataSource:r._instantiationService.createInstance(R),renderer:r._instantiationService.createInstance(W),controller:new P,accessibilityProvider:new B},n={allowHorizontalScroll:!1,twistiePixels:20,ariaLabel:q.localize(4,null)};r._tree=new u.Tree(t.getHTMLElement(),e,n),r._callOnDispose.push(T.attachListStyler(r._tree,r._themeService)),r._treeContainer=t.hide()})},e.prototype._doLayoutBody=function(e,t){p.prototype._doLayoutBody.call(this,e,t);var n=e+"px";this._sash.height=e,this._sash.width=t;var a=this._sash.percentages,o=a[0],d=a[1];this._previewContainer.style({height:n,width:o}),this._treeContainer.style({height:n,width:d}),this._tree.layout(e),this._preview.layout(),this.layoutData={heightInLines:this._viewZone.heightInLines,ratio:this._sash.ratio}},e.prototype._onWidth=function(t){this._sash.width=t,this._preview.layout()},e.prototype.setSelection=function(t){return this._revealReference(t)},e.prototype.setModel=function(t){if(this._disposeOnNewModel=Y.dispose(this._disposeOnNewModel),this._model=t,this._model)return this._onNewModel()},e.prototype._onNewModel=function(){var o=this;if(this._model.empty)return this.setTitle(""),this._messageContainer.innerHtml(q.localize(5,null)).show(),a.TPromise.as(void 0);this._messageContainer.hide(),this._decorationsManager=new D(this._preview,this._model),this._disposeOnNewModel.push(this._decorationsManager),this._disposeOnNewModel.push(this._model.onDidChangeReferenceRange(function(e){return o._tree.refresh(e)})),this._disposeOnNewModel.push(this._tree.addListener(P.Events.FOCUSED,function(e){e instanceof L.OneReference&&(o._revealReference(e),o._onDidSelectReference.fire({element:e,kind:"show",source:"tree"}))})),this._disposeOnNewModel.push(this._tree.addListener(P.Events.SELECTED,function(e){e instanceof L.OneReference&&o._onDidSelectReference.fire({element:e,kind:"goto",source:"tree"})})),this._disposeOnNewModel.push(this._tree.addListener(P.Events.OPEN_TO_SIDE,function(e){e instanceof L.OneReference&&o._onDidSelectReference.fire({element:e,kind:"side",source:"tree"})})),this._disposeOnNewModel.push(this._preview.onMouseDown(function(e){2===e.event.detail&&o._onDidSelectReference.fire({element:o._getFocusedReference(),kind:e.event.ctrlKey||e.event.metaKey?"side":"open",source:"editor"})})),d.addClass(this.container,"results-loaded"),this._treeContainer.show(),this._previewContainer.show(),this._preview.layout(),this._tree.layout(),this.focus();var e=1===this._model.groups.length?this._model.groups[0]:this._model;return this._tree.setInput(e)},e.prototype._getFocusedReference=function(){var t=this._tree.getFocus();return t instanceof L.OneReference?t:t instanceof L.FileReferences&&0<t.children.length?t.children[0]:void 0},e.prototype._revealReference=function(s){var e=this;s.uri.scheme===o.Schemas.inMemory?this.setTitle(q.localize(6,null)):this.setTitle(s.name,i.getPathLabel(s.directory,this._contextService,this._environmentService));var t=this._textModelResolverService.createModelReference(s.uri);return a.TPromise.join([t,this._tree.reveal(s)]).then(function(t){var n=t[0];if(e._model){Y.dispose(e._previewModelReference);var i=n.object;if(i){e._previewModelReference=n,e._preview.setModel(i.textEditorModel);var o=_.Range.lift(s.range).collapseToStart();e._preview.setSelection(o),e._preview.revealRangeInCenter(o)}else e._preview.setModel(e._previewNotAvailableMessage),n.dispose();e._tree.setSelection([s]),e._tree.setFocus(s)}else n.dispose()},n.onUnexpectedError)},e}(E.PeekViewWidget);y.ReferenceWidget=H,y.peekViewTitleBackground=x.registerColor("peekViewTitle.background",{dark:"#1E1E1E",light:"#FFFFFF",hc:"#0C141F"},q.localize(7,null)),y.peekViewTitleForeground=x.registerColor("peekViewTitleLabel.foreground",{dark:"#FFFFFF",light:"#333333",hc:"#FFFFFF"},q.localize(8,null)),y.peekViewTitleInfoForeground=x.registerColor("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#6c6c6cb3",hc:"#FFFFFF99"},q.localize(9,null)),y.peekViewBorder=x.registerColor("peekView.border",{dark:"#007acc",light:"#007acc",hc:x.contrastBorder},q.localize(10,null)),y.peekViewResultsBackground=x.registerColor("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hc:t.Color.black},q.localize(11,null)),y.peekViewResultsMatchForeground=x.registerColor("peekViewResult.lineForeground",{dark:"#bbbbbb",light:"#646465",hc:t.Color.white},q.localize(12,null)),y.peekViewResultsFileForeground=x.registerColor("peekViewResult.fileForeground",{dark:t.Color.white,light:"#1E1E1E",hc:t.Color.white},q.localize(13,null)),y.peekViewResultsSelectionBackground=x.registerColor("peekViewResult.selectionBackground",{dark:"#3399ff33",light:"#3399ff33",hc:null},q.localize(14,null)),y.peekViewResultsSelectionForeground=x.registerColor("peekViewResult.selectionForeground",{dark:t.Color.white,light:"#6C6C6C",hc:t.Color.white},q.localize(15,null)),y.peekViewEditorBackground=x.registerColor("peekViewEditor.background",{dark:"#001F33",light:"#F2F8FC",hc:t.Color.black},q.localize(16,null)),y.peekViewEditorGutterBackground=x.registerColor("peekViewEditorGutter.background",{dark:y.peekViewEditorBackground,light:y.peekViewEditorBackground,hc:y.peekViewEditorBackground},q.localize(17,null)),y.peekViewResultsMatchHighlight=x.registerColor("peekViewResult.matchHighlightBackground",{dark:"#ea5c004d",light:"#ea5c004d",hc:null},q.localize(18,null)),y.peekViewEditorMatchHighlight=x.registerColor("peekViewEditor.matchHighlightBackground",{dark:"#ff8f0099",light:"#f5d802de",hc:null},q.localize(19,null)),N.registerThemingParticipant(function(t,e){var n=t.getColor(y.peekViewResultsMatchHighlight);n&&e.addRule(".monaco-editor .reference-zone-widget .ref-tree .referenceMatch { background-color: "+n+"; }");var i=t.getColor(y.peekViewEditorMatchHighlight);i&&e.addRule(".monaco-editor .reference-zone-widget .preview .reference-decoration { background-color: "+i+"; }");var o=t.getColor(x.activeContrastBorder);o&&(e.addRule(".monaco-editor .reference-zone-widget .ref-tree .referenceMatch { border: 1px dotted "+o+"; box-sizing: border-box; }"),e.addRule(".monaco-editor .reference-zone-widget .preview .reference-decoration { border: 2px solid "+o+"; box-sizing: border-box; }"));var r=t.getColor(y.peekViewResultsBackground);r&&e.addRule(".monaco-editor .reference-zone-widget .ref-tree { background-color: "+r+"; }");var s=t.getColor(y.peekViewResultsMatchForeground);s&&e.addRule(".monaco-editor .reference-zone-widget .ref-tree { color: "+s+"; }");var a=t.getColor(y.peekViewResultsFileForeground);a&&e.addRule(".monaco-editor .reference-zone-widget .ref-tree .reference-file { color: "+a+"; }");var p=t.getColor(y.peekViewResultsSelectionBackground);p&&e.addRule(".monaco-editor .reference-zone-widget .ref-tree .monaco-tree.focused .monaco-tree-rows > .monaco-tree-row.selected:not(.highlighted) { background-color: "+p+"; }");var l=t.getColor(y.peekViewResultsSelectionForeground);l&&e.addRule(".monaco-editor .reference-zone-widget .ref-tree .monaco-tree.focused .monaco-tree-rows > .monaco-tree-row.selected:not(.highlighted) { color: "+l+" !important; }");var c=t.getColor(y.peekViewEditorBackground);c&&e.addRule(".monaco-editor .reference-zone-widget .preview .monaco-editor .monaco-editor-background,.monaco-editor .reference-zone-widget .preview .monaco-editor .inputarea.ime-input {\tbackground-color: "+c+";}");var d=t.getColor(y.peekViewEditorGutterBackground);d&&e.addRule(".monaco-editor .reference-zone-widget .preview .monaco-editor .margin {\tbackground-color: "+d+";}")})}),define(s[198],n([1,0,364,10,3,36,64,11,16,19,50,58,62,144,76,30,92,544,87,14,12,156]),function(y,L,x,n,e,t,o,r,i,a,s,l,d,c,p,u,g,m,h,_,f,C){"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.ctxReferenceSearchVisible=new a.RawContextKey("referenceSearchVisible",!1);var b=function(){function y(t,g,n,i,o,r,s,a,u,l,c,d,m){this._editorService=n,this._textModelResolverService=i,this._telemetryService=o,this._messageService=r,this._instantiationService=s,this._contextService=a,this._storageService=u,this._themeService=l,this._configurationService=c,this._peekViewService=d,this._environmentService=m,this._requestIdPool=0,this._disposables=[],this._ignoreModelChangeEvent=!1,this._editor=t,this._referenceSearchVisible=L.ctxReferenceSearchVisible.bindTo(g)}return b=y,y.get=function(t){return t.getContribution(b.ID)},y.prototype.getId=function(){return b.ID},y.prototype.dispose=function(){this._widget&&(this._widget.dispose(),this._widget=null),this._editor=null},y.prototype.toggleWidget=function(a,e,p){var i=this,n;if(this._widget&&(n=this._widget.position),this.closeWidget(),n&&a.containsPosition(n))return null;this._referenceSearchVisible.set(!0),this._disposables.push(this._editor.onDidChangeModelLanguage(function(){i.closeWidget()})),this._disposables.push(this._editor.onDidChangeModel(function(){i._ignoreModelChangeEvent||i.closeWidget()}));var o=JSON.parse(this._storageService.get("peekViewLayout",void 0,"{}"));this._widget=new m.ReferenceWidget(this._editor,o,this._textModelResolverService,this._contextService,this._themeService,this._instantiationService,this._environmentService),this._widget.setTitle(x.localize(0,null)),this._widget.show(a),this._disposables.push(this._widget.onDidClose(function(){e.cancel(),i._storageService.store("peekViewLayout",JSON.stringify(i._widget.layoutData)),i._widget=null,i.closeWidget()})),this._disposables.push(this._widget.onDidSelectReference(function(o){var e=o.element,t=o.kind;switch(t){case"open":if("editor"===o.source&&i._configurationService.lookup("editor.stablePeek").value)break;case"side":i._openReference(e,"side"===t);break;case"goto":p.onGoto?p.onGoto(e):i._gotoReference(e);}}));var s=++this._requestIdPool,l=e.then(function(e){if(s===i._requestIdPool&&i._widget){i._model&&i._model.dispose(),i._model=e;var t=Date.now();return i._disposables.push({dispose:function(){i._telemetryService.publicLog("zoneWidgetShown",{mode:"reference search",elapsedTime:Date.now()-t})}}),i._widget.setModel(i._model).then(function(){i._widget.setMetaTitle(p.getMetaTitle(i._model));var e=i._editor.getModel().uri,t=new f.Position(a.startLineNumber,a.startColumn),n=i._model.nearestReference(e,t);if(n)return i._widget.setSelection(n)})}},function(o){i._messageService.show(t.default.Error,o)}),c=r.stopwatch(r.fromPromise(l)),d=this._editor.getModel().getLanguageIdentifier().language;c(function(t){return i._telemetryService.publicLog("findReferences",{duration:t,mode:d})})},y.prototype.closeWidget=function(){this._widget&&(this._widget.dispose(),this._widget=null),this._referenceSearchVisible.reset(),this._disposables=e.dispose(this._disposables),this._model&&(this._model.dispose(),this._model=null),this._editor.focus(),this._requestIdPool+=1},y.prototype._gotoReference=function(i){var r=this;this._widget.hide(),this._ignoreModelChangeEvent=!0;var e=i.uri,t=i.range;this._editorService.openEditor({resource:e,options:{selection:t}}).done(function(o){r._ignoreModelChangeEvent=!1,o&&o.getControl()===r._editor?(r._widget.show(t),r._widget.focus()):r.closeWidget()},function(t){r._ignoreModelChangeEvent=!1,n.onUnexpectedError(t)})},y.prototype._openReference=function(o,e){var t=o.uri,r=o.range;this._editorService.openEditor({resource:t,options:{selection:r}},e),e||this.closeWidget()},y.ID="editor.contrib.referencesController",y=b=F([u.editorContribution,v(1,a.IContextKeyService),v(2,o.IEditorService),v(3,h.ITextModelService),v(4,l.ITelemetryService),v(5,s.IMessageService),v(6,i.IInstantiationService),v(7,c.IWorkspaceContextService),v(8,p.IStorageService),v(9,_.IThemeService),v(10,d.IConfigurationService),v(11,i.optional(g.IPeekViewService)),v(12,i.optional(C.IEnvironmentService))],y);var b}();L.ReferencesController=b}),define(s[199],n([1,0,351,51,40,15,36,7,64,50,2,13,177,198,125,92,19,521,21]),function(f,e,t,v,n,o,r,s,R,u,P,a,i,d,c,l,p,g,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var h=function(){return function(o,e,t,n){void 0===o&&(o=!1),void 0===e&&(e=!1),void 0===t&&(t=!0),void 0===n&&(n=!0),this.openToSide=o,this.openInPeek=e,this.filterCurrent=t,this.showMessage=n}}();e.DefinitionActionConfig=h;var _=function(o){function e(e,r){var n=o.call(this,r)||this;return n._configuration=e,n}return Z(e,o),e.prototype.run=function(s,_){var t=this,n=s.get(u.IMessageService),y=s.get(R.IEditorService),o=_.getModel(),e=_.getPosition();return this._getDeclarationsAtPosition(o,e).then(function(n){if(!o.isDisposed()&&_.getModel()===o){for(var r=-1,i=[],a=0,s;a<n.length;a++)if(s=n[a],s&&s.range){var l=s.uri,u=s.range,C=i.push({uri:l,range:u});t._configuration.filterCurrent&&l.toString()===o.uri.toString()&&P.Range.containsPosition(u,e)&&-1===r&&(r=C-1)}if(0===i.length){if(t._configuration.showMessage){var p=o.getWordAtPosition(e);g.MessageController.get(_).showMessage(t._getNoResultFoundMessage(p),e)}}else if(1===i.length&&-1!==r){var f=i[0];t._openReference(y,f,!1)}else t._onResult(y,_,new c.ReferencesModel(i))}},function(t){return n.show(r.default.Error,t),!1})},e.prototype._getDeclarationsAtPosition=function(o,e){return i.getDefinitionsAtPosition(o,e)},e.prototype._getNoResultFoundMessage=function(o){return o&&o.word?t.localize(0,null,o.word):t.localize(1,null)},e.prototype._getMetaTitle=function(o){return 1<o.references.length&&t.localize(2,null,o.references.length)},e.prototype._onResult=function(i,e,a){var n=this,t=a.getAriaMessage();if(v.alert(t),this._configuration.openInPeek)this._openInPeek(i,e,a);else{var o=a.nearestReference(e.getModel().uri,e.getPosition());this._openReference(i,o,this._configuration.openToSide).then(function(e){e&&1<a.references.length?n._openInPeek(i,e,a):a.dispose()})}},e.prototype._openReference=function(r,e,t){var a=e.uri,s=e.range;return r.openEditor({resource:a,options:{selection:P.Range.collapseToStart(s),revealIfVisible:!t}},t).then(function(t){return t&&t.getControl()})},e.prototype._openInPeek=function(r,e,t){var n=this,i=d.ReferencesController.get(e);i?i.toggleWidget(e.getSelection(),s.TPromise.as(t),{getMetaTitle:function(t){return n._getMetaTitle(t)},onGoto:function(e){return i.closeWidget(),n._openReference(r,e,!1)}}):t.dispose()},e}(a.EditorAction);e.DefinitionAction=_;var y=o.isWeb?2118:70,C=function(o){function e(){return o.call(this,new h,{id:n.ID,label:t.localize(3,null),alias:"Go to Definition",precondition:p.ContextKeyExpr.and(m.EditorContextKeys.hasDefinitionProvider,m.EditorContextKeys.isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:m.EditorContextKeys.textFocus,primary:y},menuOpts:{group:"navigation",order:1.1}})||this}return Z(e,o),n=e,e.ID="editor.action.goToDeclaration",e=n=F([a.editorAction],e);var n}(_);e.GoToDefinitionAction=C;var b=function(o){function e(){return o.call(this,new h(!0),{id:r.ID,label:t.localize(4,null),alias:"Open Definition to the Side",precondition:p.ContextKeyExpr.and(m.EditorContextKeys.hasDefinitionProvider,m.EditorContextKeys.isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:m.EditorContextKeys.textFocus,primary:n.KeyChord(2089,y)}})||this}return Z(e,o),r=e,e.ID="editor.action.openDeclarationToTheSide",e=r=F([a.editorAction],e);var r}(_);e.OpenDefinitionToSideAction=b;var E=function(o){function e(){return o.call(this,new h(void 0,!0,!1),{id:"editor.action.previewDeclaration",label:t.localize(5,null),alias:"Peek Definition",precondition:p.ContextKeyExpr.and(m.EditorContextKeys.hasDefinitionProvider,l.PeekContext.notInPeekEditor,m.EditorContextKeys.isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:m.EditorContextKeys.textFocus,primary:582,linux:{primary:3140}},menuOpts:{group:"navigation",order:1.2}})||this}return Z(e,o),e=F([a.editorAction],e)}(_);e.PeekDefinitionAction=E;var L=function(o){function e(){return null!==o&&o.apply(this,arguments)||this}return Z(e,o),e.prototype._getDeclarationsAtPosition=function(o,e){return i.getImplementationsAtPosition(o,e)},e.prototype._getNoResultFoundMessage=function(o){return o&&o.word?t.localize(6,null,o.word):t.localize(7,null)},e.prototype._getMetaTitle=function(o){return 1<o.references.length&&t.localize(8,null,o.references.length)},e}(_);e.ImplementationAction=L;var w=function(o){function e(){return o.call(this,new h,{id:n.ID,label:t.localize(9,null),alias:"Go to Implementation",precondition:p.ContextKeyExpr.and(m.EditorContextKeys.hasImplementationProvider,m.EditorContextKeys.isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:m.EditorContextKeys.textFocus,primary:2118}})||this}return Z(e,o),n=e,e.ID="editor.action.goToImplementation",e=n=F([a.editorAction],e);var n}(L);e.GoToImplementationAction=w;var x=function(o){function e(){return o.call(this,new h(!1,!0,!1),{id:n.ID,label:t.localize(10,null),alias:"Peek Implementation",precondition:p.ContextKeyExpr.and(m.EditorContextKeys.hasImplementationProvider,m.EditorContextKeys.isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:m.EditorContextKeys.textFocus,primary:3142}})||this}return Z(e,o),n=e,e.ID="editor.action.peekImplementation",e=n=F([a.editorAction],e);var n}(L);e.PeekImplementationAction=x;var N=function(o){function e(){return null!==o&&o.apply(this,arguments)||this}return Z(e,o),e.prototype._getDeclarationsAtPosition=function(o,e){return i.getTypeDefinitionsAtPosition(o,e)},e.prototype._getNoResultFoundMessage=function(o){return o&&o.word?t.localize(11,null,o.word):t.localize(12,null)},e.prototype._getMetaTitle=function(o){return 1<o.references.length&&t.localize(13,null,o.references.length)},e}(_);e.TypeDefinitionAction=N;var T=function(o){function e(){return o.call(this,new h,{id:n.ID,label:t.localize(14,null),alias:"Go to Type Definition",precondition:p.ContextKeyExpr.and(m.EditorContextKeys.hasTypeDefinitionProvider,m.EditorContextKeys.isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:m.EditorContextKeys.textFocus,primary:0},menuOpts:{group:"navigation",order:1.4}})||this}return Z(e,o),n=e,e.ID="editor.action.goToTypeDefinition",e=n=F([a.editorAction],e);var n}(N);e.GoToTypeDefintionAction=T;var I=function(o){function e(){return o.call(this,new h(!1,!0,!1),{id:n.ID,label:t.localize(15,null),alias:"Peek Type Definition",precondition:p.ContextKeyExpr.and(m.EditorContextKeys.hasTypeDefinitionProvider,m.EditorContextKeys.isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:m.EditorContextKeys.textFocus,primary:0}})||this}return Z(e,o),n=e,e.ID="editor.action.peekTypeDefinition",e=n=F([a.editorAction],e);var n}(N);e.PeekTypeDefinitionAction=I}),define(s[547],n([1,0,352,18,10,7,88,2,17,25,30,177,3,87,14,23,131,199,192,171]),function(y,e,b,S,n,t,o,E,i,r,a,s,d,l,p,c,g,u,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),!function(){function p(o,i,t){var a=this;this.textModelResolverService=i,this.modeService=t,this.toUnhook=[],this.decorations=[],this.editor=o,this.throttler=new S.Throttler;var r=new m.ClickLinkGesture(o);this.toUnhook.push(r),this.toUnhook.push(r.onMouseMoveOrRelevantKeyDown(function(o){var e=o[0],t=o[1];a.startFindDefinition(e,t)})),this.toUnhook.push(r.onExecute(function(t){a.isEnabled(t)&&a.gotoDefinition(t.target,t.hasSideBySideModifier).done(function(){a.removeDecorations()},function(t){a.removeDecorations(),n.onUnexpectedError(t)})})),this.toUnhook.push(r.onCancel(function(){a.removeDecorations(),a.currentWordUnderMouse=null}))}return e=p,p.prototype.startFindDefinition=function(o,r){var a=this;if(!this.isEnabled(o,r))return this.currentWordUnderMouse=null,void this.removeDecorations();var s=o.target.position,u=s?this.editor.getModel().getWordAtPosition(s):null;if(!u)return this.currentWordUnderMouse=null,void this.removeDecorations();if(!this.currentWordUnderMouse||this.currentWordUnderMouse.startColumn!==u.startColumn||this.currentWordUnderMouse.endColumn!==u.endColumn||this.currentWordUnderMouse.word!==u.word){this.currentWordUnderMouse=u;var d=new g.EditorState(this.editor,15);this.throttler.queue(function(){return d.validate(a.editor)?a.findDefinition(o.target):t.TPromise.as(null)}).then(function(t){if(!(t&&t.length&&d.validate(a.editor)))a.removeDecorations();else if(1<t.length)a.addDecoration(new E.Range(s.lineNumber,u.startColumn,s.lineNumber,u.endColumn),b.localize(0,null,t.length));else{var l=t[0];if(!l.uri)return;a.textModelResolverService.createModelReference(l.uri).then(function(t){if(t.object&&t.object.textEditorModel){var i=t.object.textEditorModel,n=l.range.startLineNumber;if(0!==i.getLineMaxColumn(n)){for(var o=i.getLineFirstNonWhitespaceColumn(n),r=q(i.getLineCount(),n+e.MAX_SOURCE_PREVIEW_LINES),c=n+1,d=o,m;c<r&&(m=i.getLineFirstNonWhitespaceColumn(c),d=q(d,m),o!==m);c++);var p=new E.Range(n,1,c+1,1),h=i.getValueInRange(p).replace(new RegExp("^\\s{"+(d-1)+"}","gm"),"").trim();a.addDecoration(new E.Range(s.lineNumber,u.startColumn,s.lineNumber,u.endColumn),{language:a.modeService.getModeIdByFilenameOrFirstLine(i.uri.fsPath),value:h}),t.dispose()}else t.dispose()}else t.dispose()})}}).done(void 0,n.onUnexpectedError)}},p.prototype.addDecoration=function(o,n){this.decorations=this.editor.deltaDecorations(this.decorations,[{range:o,options:{inlineClassName:"goto-definition-link",hoverMessage:n}}])},p.prototype.removeDecorations=function(){0<this.decorations.length&&(this.decorations=this.editor.deltaDecorations(this.decorations,[]))},p.prototype.isEnabled=function(o,e){return this.editor.getModel()&&o.isNoneOrSingleMouseDown&&o.target.type===r.MouseTargetType.CONTENT_TEXT&&(o.hasTriggerModifier||e&&e.keyCodeIsTriggerKey)&&i.DefinitionProviderRegistry.has(this.editor.getModel())},p.prototype.findDefinition=function(o){return this.editor.getModel()?s.getDefinitionsAtPosition(this.editor.getModel(),o.position):t.TPromise.as(null)},p.prototype.gotoDefinition=function(o,e){var t=this;this.editor.setPosition(o.position);var n=new u.DefinitionAction(new u.DefinitionActionConfig(e,!1,!0,!1),{alias:void 0,label:void 0,id:void 0,precondition:void 0});return this.editor.invokeWithinContext(function(o){return n.run(o,t.editor)})},p.prototype.getId=function(){return e.ID},p.prototype.dispose=function(){this.toUnhook=d.dispose(this.toUnhook)},p.ID="editor.contrib.gotodefinitionwithmouse",p.MAX_SOURCE_PREVIEW_LINES=8,p=e=F([a.editorContribution,v(1,l.ITextModelService),v(2,o.IModeService)],p);var e}(),p.registerThemingParticipant(function(o,e){var t=o.getColor(c.editorActiveLinkForeground);t&&e.addRule(".monaco-editor .goto-definition-link { color: "+t+" !important; }")})}),define(s[548],n([1,0,363,24,7,64,16,31,19,105,12,2,20,13,17,92,198,125,18,10,21]),function(f,e,t,y,T,o,n,i,r,a,l,c,d,s,p,u,g,m,h,_,C){"use strict";function b(t){var e=u.getOuterEditor(t);if(e){var o=g.ReferencesController.get(e);o&&o.closeWidget()}}function S(o,e){var t=p.ReferenceProviderRegistry.ordered(o).map(function(t){return h.asWinJsPromise(function(n){return t.provideReferences(o,e,{includeDeclaration:!0},n)}).then(function(t){if(Array.isArray(t))return t},function(t){_.onUnexpectedExternalError(t)})});return T.TPromise.join(t).then(function(r){for(var e=[],t=0,n=r,i;t<n.length;t++)i=n[t],i&&e.push.apply(e,i);return e})}Object.defineProperty(e,"__esModule",{value:!0});var L={getMetaTitle:function(o){return 1<o.references.length&&t.localize(0,null,o.references.length)}},w=function(){function o(o,i,t){t&&u.PeekContext.inPeekEditor.bindTo(i)}return e=o,o.prototype.dispose=function(){},o.prototype.getId=function(){return e.ID},o.ID="editor.contrib.referenceController",o=e=F([s.commonEditorContribution,v(1,r.IContextKeyService),v(2,n.optional(u.IPeekViewService))],o);var e}();e.ReferenceController=w;var x=function(o){function e(){return o.call(this,{id:"editor.action.referenceSearch.trigger",label:t.localize(1,null),alias:"Find All References",precondition:r.ContextKeyExpr.and(C.EditorContextKeys.hasReferenceProvider,u.PeekContext.notInPeekEditor,C.EditorContextKeys.isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:C.EditorContextKeys.textFocus,primary:1094},menuOpts:{group:"navigation",order:1.5}})||this}return Z(e,o),e.prototype.run=function(r,e){var t=g.ReferencesController.get(e);if(t){var n=e.getSelection(),i=S(e.getModel(),n.getStartPosition()).then(function(t){return new m.ReferencesModel(t)});t.toggleWidget(n,i,L)}},e=F([s.editorAction],e)}(s.EditorAction);e.ReferenceAction=x,i.CommandsRegistry.registerCommand("editor.action.findReferences",function(i,e,a){if(!(e instanceof y.default))throw new Error("illegal argument, uri");if(!a)throw new Error("illegal argument, position");return i.get(o.IEditorService).openEditor({resource:e}).then(function(o){var e=o.getControl();if(d.isCommonCodeEditor(e)){var t=g.ReferencesController.get(e);if(t){var n=S(e.getModel(),l.Position.lift(a)).then(function(t){return new m.ReferencesModel(t)}),i=new c.Range(a.lineNumber,a.column,a.lineNumber,a.column);return T.TPromise.as(t.toggleWidget(i,n,L))}}})}),i.CommandsRegistry.registerCommand("editor.action.showReferences",{handler:function(i,e,r,n){if(!(e instanceof y.default))throw new Error("illegal argument, uri expected");return i.get(o.IEditorService).openEditor({resource:e}).then(function(o){var e=o.getControl();if(d.isCommonCodeEditor(e)){var t=g.ReferencesController.get(e);if(t)return T.TPromise.as(t.toggleWidget(new c.Range(r.lineNumber,r.column,r.lineNumber,r.column),T.TPromise.as(new m.ReferencesModel(n)),L)).then(function(){return!0})}})},description:{description:"Show references at a position in a file",args:[{name:"uri",description:"The text document in which to show references",constraint:y.default},{name:"position",description:"The position at which to show",constraint:l.Position.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array}]}}),a.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"closeReferenceSearch",weight:s.CommonEditorRegistry.commandWeight(50),primary:9,secondary:[1033],when:r.ContextKeyExpr.and(g.ctxReferenceSearchVisible,r.ContextKeyExpr.not("config.editor.stablePeek")),handler:b}),a.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"closeReferenceSearchEditor",weight:s.CommonEditorRegistry.commandWeight(-101),primary:9,secondary:[1033],when:r.ContextKeyExpr.and(u.PeekContext.inPeekEditor,r.ContextKeyExpr.not("config.editor.stablePeek")),handler:b}),e.provideReferences=S,s.CommonEditorRegistry.registerDefaultLanguageCommand("_executeReferenceProvider",S)}),define(s[549],n([1,0,134,191,193,164,514,313,450,451,452,516,454,455,456,431,520,458,460,199,547,522,523,524,464,525,465,527,469,548,529,471,180,531,181,532,476,517]),function(o,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),define(s[200],n([1,0,3,62,387,69,478,16,413,84,31,46,19,421,103,50,163,76,58,144,42,61,147,146,88,437,56,430,485,129,417,85,77,542]),function(f,e,t,F,n,o,i,W,a,u,r,s,d,l,p,c,g,m,h,_,y,C,b,v,S,E,L,w,x,N,T,I,M,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var D;!function(i){function e(i,e){var r=new d(i,e);return o.push(r),r}var t=new u.ServiceCollection,d=function(){function o(o,n){this._serviceId=o,this._factory=n,this._value=null}return Object.defineProperty(o.prototype,"id",{get:function(){return this._serviceId},enumerable:!0,configurable:!0}),o.prototype.get=function(o){if(!this._value){if(o&&(this._value=o[this._serviceId.toString()]),this._value||(this._value=this._factory(o)),!this._value)throw new Error("Service "+this._serviceId+" is missing!");t.set(this._serviceId,this._value)}return this._value},o}();i.LazyStaticService=d;var o=[];i.init=function(r){var e=new u.ServiceCollection;for(var t in r)r.hasOwnProperty(t)&&e.set(W.createDecorator(t),r[t]);o.forEach(function(t){return e.set(t.id,t.get(r))});var n=new a.InstantiationService(e,!0);return e.set(W.IInstantiationService,n),[e,n]},i.instantiationService=e(W.IInstantiationService,function(){return new a.InstantiationService(t,!0)});var n=new N.SimpleConfigurationService;i.configurationService=e(F.IConfigurationService,function(){return n}),i.resourceConfigurationService=e(v.ITextResourceConfigurationService,function(){return new N.SimpleResourceConfigurationService(n)}),i.contextService=e(_.IWorkspaceContextService,function(){return new N.SimpleWorkspaceContextService}),i.telemetryService=e(h.ITelemetryService,function(){return new N.StandaloneTelemetryService}),i.messageService=e(c.IMessageService,function(){return new N.SimpleMessageService}),i.markerService=e(p.IMarkerService,function(){return new l.MarkerService}),i.modeService=e(S.IModeService,function(){return new E.ModeServiceImpl}),i.modelService=e(L.IModelService,function(e){return new w.ModelServiceImpl(i.markerService.get(e),i.configurationService.get(e))}),i.editorWorkerService=e(C.IEditorWorkerService,function(e){return new b.EditorWorkerServiceImpl(i.modelService.get(e),i.resourceConfigurationService.get(e),i.modeService.get(e))}),i.standaloneThemeService=e(M.IStandaloneThemeService,function(){return new k.StandaloneThemeServiceImpl}),i.codeEditorService=e(y.ICodeEditorService,function(e){return new x.CodeEditorServiceImpl(i.standaloneThemeService.get(e))}),i.progressService=e(g.IProgressService,function(){return new N.SimpleProgressService}),i.storageService=e(m.IStorageService,function(){return m.NullStorageService})}(D=e.StaticServices||(e.StaticServices={}));var R=function(m){function e(e,y){var S=m.call(this)||this,a=D.init(y),u=a[0],l=a[1];S._serviceCollection=u,S._instantiationService=l;var p=S.get(F.IConfigurationService),f=S.get(c.IMessageService),g=S.get(h.ITelemetryService),v=function(o,e){var t=null;return y&&(t=y[o.toString()]),t||(t=e()),S._serviceCollection.set(o,t),t},_=v(d.IContextKeyService,function(){return S._register(new T.ContextKeyService(p))}),C=v(r.ICommandService,function(){return new N.StandaloneCommandService(S._instantiationService)});v(s.IKeybindingService,function(){return S._register(new N.StandaloneKeybindingService(_,C,f,e))});var b=v(o.IContextViewService,function(){return S._register(new i.ContextViewService(e,g,f))});return v(o.IContextMenuService,function(){return S._register(new n.ContextMenuService(e,g,f,b))}),v(I.IMenuService,function(){return new N.SimpleMenuService(C)}),S}return Z(e,m),e.prototype.get=function(o){var e=this._serviceCollection.get(o);if(!e)throw new Error("Missing service "+o);return e},e.prototype.set=function(o,e){this._serviceCollection.set(o,e)},e.prototype.has=function(t){return this._serviceCollection.has(t)},e}(t.Disposable);e.DynamicStandaloneServices=R}),define(s[422],n([1,0,20,25,540,48,200,480,71,273,129,17,397,164,64,31,69,16,46,19,42,61,87,68,77,132,49,54,50,408]),function(J,e,t,n,i,o,Q,s,a,r,u,l,d,c,p,h,g,m,f,_,y,C,b,v,S,E,L,w,x){"use strict";function N(d,e,t){var n=new Q.DynamicStandaloneServices(d,e),i=null;n.has(p.IEditorService)||(i=new u.SimpleEditorService,n.set(p.IEditorService,i));var o=null;n.has(b.ITextModelService)||(o=new u.SimpleEditorModelResolverService,n.set(b.ITextModelService,o)),n.has(a.IOpenerService)||n.set(a.IOpenerService,new s.OpenerService(n.get(p.IEditorService),n.get(h.ICommandService)));var r=t(n);return i&&i.setEditor(r),o&&o.setEditor(r),r}function T(o,e,t){return N(o,t,function(t){return new i.StandaloneEditor(o,e,t,t.get(m.IInstantiationService),t.get(y.ICodeEditorService),t.get(h.ICommandService),t.get(_.IContextKeyService),t.get(f.IKeybindingService),t.get(g.IContextViewService),t.get(S.IStandaloneThemeService))})}function M(o){return Q.StaticServices.codeEditorService.get().onCodeEditorAdd(function(e){o(e)})}function ee(o,e,t){return N(o,t,function(t){return new i.StandaloneDiffEditor(o,e,t,t.get(m.IInstantiationService),t.get(_.IContextKeyService),t.get(f.IKeybindingService),t.get(g.IContextViewService),t.get(C.IEditorWorkerService),t.get(y.ICodeEditorService),t.get(S.IStandaloneThemeService),t.get(x.IMessageService))})}function te(o,e){return new c.DiffNavigator(o,e)}function oe(o,e,t){return Q.StaticServices.modelService.get().createModel(o,e,t)}function R(a,e,s){if(a=a||"",!e){var n=s?s.path:null,i=a.indexOf("\n"),o=a;return-1!==i&&(o=a.substring(0,i)),oe(a,Q.StaticServices.modeService.get().getOrCreateModeByFilenameOrFirstLine(n,o),s)}return oe(a,Q.StaticServices.modeService.get().getOrCreateMode(e),s)}function ne(o,e){Q.StaticServices.modelService.get().setMode(o,Q.StaticServices.modeService.get().getOrCreateMode(e))}function ie(o,e,t){o&&Q.StaticServices.markerService.get().changeOne(e,o.uri,t)}function re(t){return Q.StaticServices.markerService.get().read(t)}function ae(t){return Q.StaticServices.modelService.get().getModel(t)}function se(){return Q.StaticServices.modelService.get().getModels()}function de(t){return Q.StaticServices.modelService.get().onModelAdded(t)}function le(t){return Q.StaticServices.modelService.get().onModelRemoved(t)}function pe(o){return Q.StaticServices.modelService.get().onModelModeChanged(function(e){o({model:e.model,oldLanguage:e.oldModeId})})}function ce(t){return d.createWebWorker(Q.StaticServices.modelService.get(),t)}function ue(o,e){return r.Colorizer.colorizeElement(Q.StaticServices.standaloneThemeService.get(),Q.StaticServices.modeService.get(),o,e)}function ge(o,e,t){return r.Colorizer.colorize(Q.StaticServices.modeService.get(),o,e,t)}function me(o,e,t){return void 0===t&&(t=4),r.Colorizer.colorizeModelLine(o,e,t)}function he(o){var e=l.TokenizationRegistry.get(o);return e||{getInitialState:function(){return v.NULL_STATE},tokenize:function(e,t,n){return v.nullTokenize(o,e,t,n)},tokenize2:void 0}}function Y(s,e){Q.StaticServices.modeService.get().getOrCreateMode(e);for(var t=he(e),n=s.split(/\r\n|\r|\n/),i=[],o=t.getInitialState(),r=0,a=n.length;r<a;r++){var d=n[r],l=t.tokenize(d,o,0);i[r]=l.tokens,o=l.endState}return i}function _e(o,e){Q.StaticServices.standaloneThemeService.get().defineTheme(o,e)}function fe(t){Q.StaticServices.standaloneThemeService.get().setTheme(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.setupServices=function(t){return Q.StaticServices.init(t)},e.create=T,e.onDidCreateEditor=M,e.createDiffEditor=ee,e.createDiffNavigator=te,e.createModel=R,e.setModelLanguage=ne,e.setModelMarkers=ie,e.getModelMarkers=re,e.getModel=ae,e.getModels=se,e.onDidCreateModel=de,e.onWillDisposeModel=le,e.onDidChangeModelLanguage=pe,e.createWebWorker=ce,e.colorizeElement=ue,e.colorize=ge,e.colorizeModelLine=me,e.tokenize=Y,e.defineTheme=_e,e.setTheme=fe,e.createMonacoEditorAPI=function(){return{create:T,onDidCreateEditor:M,createDiffEditor:ee,createDiffNavigator:te,createModel:R,setModelLanguage:ne,setModelMarkers:ie,getModelMarkers:re,getModels:se,getModel:ae,onDidCreateModel:de,onWillDisposeModel:le,onDidChangeModelLanguage:pe,createWebWorker:ce,colorizeElement:ue,colorize:ge,colorizeModelLine:me,tokenize:Y,defineTheme:_e,setTheme:fe,ScrollbarVisibility:o.ScrollbarVisibility,WrappingIndent:L.WrappingIndent,OverviewRulerLane:t.OverviewRulerLane,EndOfLinePreference:t.EndOfLinePreference,DefaultEndOfLine:t.DefaultEndOfLine,EndOfLineSequence:t.EndOfLineSequence,TrackedRangeStickiness:t.TrackedRangeStickiness,CursorChangeReason:w.CursorChangeReason,MouseTargetType:n.MouseTargetType,TextEditorCursorStyle:L.TextEditorCursorStyle,TextEditorCursorBlinkingStyle:L.TextEditorCursorBlinkingStyle,ContentWidgetPositionPreference:n.ContentWidgetPositionPreference,OverlayWidgetPositionPreference:n.OverlayWidgetPositionPreference,RenderMinimap:L.RenderMinimap,InternalEditorOptions:L.InternalEditorOptions,BareFontInfo:E.BareFontInfo,FontInfo:E.FontInfo,TextModelResolvedOptions:t.TextModelResolvedOptions,FindMatch:t.FindMatch,EditorType:t.EditorType}}}),define(s[227],n([1,0,7,126,200,17,60,12,2,18,275,276,43,97]),function(V,e,H,t,z,o,n,K,i,a,r,s,d,l){"use strict";function p(o){t.ModesRegistry.registerLanguage(o)}function c(){var o=[];return o=o.concat(t.ModesRegistry.getLanguages())}function u(o,e){var t=z.StaticServices.modeService.get().onDidCreateMode(function(n){n.getId()===o&&(t.dispose(),e())});return t}function h(o,e){var t=z.StaticServices.modeService.get().getLanguageIdentifier(o);if(!t)throw new Error("Cannot set configuration for unknown language "+o);return d.LanguageConfigurationRegistry.register(t,e)}function U(r,e){var t=z.StaticServices.modeService.get().getLanguageIdentifier(r);if(!t)throw new Error("Cannot set tokens provider for unknown language "+r);var a=new A(z.StaticServices.standaloneThemeService.get(),t,e);return o.TokenizationRegistry.register(r,a)}function q(a,e){var t=r.compile(a,e),n=s.createTokenizationSupport(z.StaticServices.modeService.get(),z.StaticServices.standaloneThemeService.get(),a,t);return o.TokenizationRegistry.register(a,n)}function G(n,e){return o.ReferenceProviderRegistry.register(n,e)}function Y(n,e){return o.RenameProviderRegistry.register(n,e)}function j(n,e){return o.SignatureHelpProviderRegistry.register(n,e)}function Z(n,r){return o.HoverProviderRegistry.register(n,{provideHover:function(t,s,e){var n=t.getWordAtPosition(s);return a.toThenable(r.provideHover(t,s,e)).then(function(t){if(t)return!t.range&&n&&(t.range=new i.Range(s.lineNumber,n.startColumn,s.lineNumber,n.endColumn)),t.range||(t.range=new i.Range(s.lineNumber,s.column,s.lineNumber,s.column)),t})}})}function X(n,e){return o.DocumentSymbolProviderRegistry.register(n,e)}function $(n,e){return o.DocumentHighlightProviderRegistry.register(n,e)}function J(n,e){return o.DefinitionProviderRegistry.register(n,e)}function Q(n,e){return o.ImplementationProviderRegistry.register(n,e)}function ee(n,e){return o.TypeDefinitionProviderRegistry.register(n,e)}function te(n,e){return o.CodeLensProviderRegistry.register(n,e)}function oe(n,a){return o.CodeActionProviderRegistry.register(n,{provideCodeActions:function(t,o,e){var n=z.StaticServices.markerService.get().read({resource:t.uri}).filter(function(t){return i.Range.areIntersectingOrTouching(t,o)});return a.provideCodeActions(t,o,{markers:n},e)}})}function ne(n,e){return o.DocumentFormattingEditProviderRegistry.register(n,e)}function ie(n,e){return o.DocumentRangeFormattingEditProviderRegistry.register(n,e)}function re(n,e){return o.OnTypeFormattingEditProviderRegistry.register(n,e)}function ae(n,e){return o.LinkProviderRegistry.register(n,e)}function se(i,e){var r=new le(e);return o.SuggestRegistry.register(i,{triggerCharacters:e.triggerCharacters,provideCompletionItems:function(o,e,t){return r.provideCompletionItems(o,e,t)},resolveCompletionItem:function(n,e,t,i){return r.resolveCompletionItem(n,e,t,i)}})}function de(t){return t===F.Method?"method":t===F.Function?"function":t===F.Constructor?"constructor":t===F.Field?"field":t===F.Variable?"variable":t===F.Class?"class":t===F.Interface?"interface":t===F.Module?"module":t===F.Property?"property":t===F.Unit?"unit":t===F.Value?"value":t===F.Enum?"enum":t===F.Keyword?"keyword":t===F.Snippet?"snippet":t===F.Text?"text":t===F.Color?"color":t===F.File?"file":t===F.Reference?"reference":t===F.Folder?"folder":"property"}Object.defineProperty(e,"__esModule",{value:!0}),e.register=p,e.getLanguages=c,e.onLanguage=u,e.setLanguageConfiguration=h;var A=function(){function t(o,i,t){this._standaloneThemeService=o,this._languageIdentifier=i,this._actual=t}return t.prototype.getInitialState=function(){return this._actual.getInitialState()},t.prototype._toClassicTokens=function(d,e,t){for(var n=[],i=0,o=0,r=d.length;o<r;o++){var s=d[o],a=s.startIndex;0===o?a=0:a<i&&(a=i),n[o]=new l.Token(a+t,s.scopes,e),i=a}return n},t.prototype.tokenize=function(a,e,t){var n=this._actual.tokenize(a,e),o=this._toClassicTokens(n.tokens,this._languageIdentifier.language,t),r;return r=n.endState.equals(e)?e:n.endState,new l.TokenizationResult(o,r)},t.prototype._toBinaryTokens=function(p,e){for(var t=this._languageIdentifier.id,n=this._standaloneThemeService.getTheme().tokenTheme,i=[],o=0,r=0,s=0,a=p.length;s<a;s++){var u=p[s],l=n.match(t,u.scopes);if(!(0<o&&i[o-1]===l)){var c=u.startIndex;0===s?c=0:c<r&&(c=r),i[o++]=c+e,i[o++]=l,r=c}}for(var d=new Uint32Array(o),s=0;s<o;s++)d[s]=i[s];return d},t.prototype.tokenize2=function(a,e,t){var n=this._actual.tokenize(a,e),o=this._toBinaryTokens(n.tokens,t),r;return r=n.endState.equals(e)?e:n.endState,new l.TokenizationResult2(o,r)},t}();e.TokenizationSupport2Adapter=A,e.setTokensProvider=U,e.setMonarchTokensProvider=q,e.registerReferenceProvider=G,e.registerRenameProvider=Y,e.registerSignatureHelpProvider=j,e.registerHoverProvider=Z,e.registerDocumentSymbolProvider=X,e.registerDocumentHighlightProvider=$,e.registerDefinitionProvider=J,e.registerImplementationProvider=Q,e.registerTypeDefinitionProvider=ee,e.registerCodeLensProvider=te,e.registerCodeActionProvider=oe,e.registerDocumentFormattingEditProvider=ne,e.registerDocumentRangeFormattingEditProvider=ie,e.registerOnTypeFormattingEditProvider=re,e.registerLinkProvider=ae,e.registerCompletionItemProvider=se;var F;!function(t){t[t.Text=0]="Text",t[t.Method=1]="Method",t[t.Function=2]="Function",t[t.Constructor=3]="Constructor",t[t.Field=4]="Field",t[t.Variable=5]="Variable",t[t.Class=6]="Class",t[t.Interface=7]="Interface",t[t.Module=8]="Module",t[t.Property=9]="Property",t[t.Unit=10]="Unit",t[t.Value=11]="Value",t[t.Enum=12]="Enum",t[t.Keyword=13]="Keyword",t[t.Snippet=14]="Snippet",t[t.Color=15]="Color",t[t.File=16]="File",t[t.Reference=17]="Reference",t[t.Folder=18]="Folder"}(F=e.CompletionItemKind||(e.CompletionItemKind={}));var le=function(){function s(t){this._provider=t}return s.from=function(r,a,t){var n={_actual:r,label:r.label,insertText:r.label,type:de(r.kind),detail:r.detail,documentation:r.documentation,sortText:r.sortText,filterText:r.filterText,snippetType:"internal"},i=r.textEdit?r.textEdit.range:r.range;if(i){if(i.startLineNumber!==i.endLineNumber||i.startLineNumber!==a.lineNumber)return console.warn("INVALID range, must be single line and on the same line"),null;n.overwriteBefore=a.column-i.startColumn,n.overwriteAfter=i.endColumn-a.column}else n.overwriteBefore=a.column-t.column,n.overwriteAfter=0;return r.textEdit?n.insertText=r.textEdit.text:"object"==typeof r.insertText&&"string"==typeof r.insertText.value?(n.insertText=r.insertText.value,n.snippetType="textmate"):"string"==typeof r.insertText&&(n.insertText=r.insertText),n},s.prototype.provideCompletionItems=function(e,t,o){return a.toThenable(this._provider.provideCompletionItems(e,t,o)).then(function(n){var a={suggestions:[]},o=t,r=e.getWordUntilPosition(t);r&&(o=new K.Position(o.lineNumber,r.startColumn));var p;if(Array.isArray(n))p={items:n,isIncomplete:!1};else if("object"==typeof n&&Array.isArray(n.items))p=n,a.incomplete=p.isIncomplete;else{if(!n)return;console.warn("INVALID result from completion provider. expected CompletionItem-array or CompletionList but got:",n)}for(var u=0;u<p.items.length;u++){var l=p.items[u],c=s.from(l,t,o);c&&a.suggestions.push(c)}return a})},s.prototype.resolveCompletionItem=function(e,t,n,o){if("function"!=typeof this._provider.resolveCompletionItem)return H.TPromise.as(n);var i=n._actual;return i?a.toThenable(this._provider.resolveCompletionItem(i,o)).then(function(i){var n=t,o=e.getWordUntilPosition(t);return o&&(n=new K.Position(n.lineNumber,o.startColumn)),s.from(i,t,n)}):H.TPromise.as(n)},s}();e.createMonacoLanguagesAPI=function(){return{register:p,getLanguages:c,onLanguage:u,setLanguageConfiguration:h,setTokensProvider:U,setMonarchTokensProvider:q,registerReferenceProvider:G,registerRenameProvider:Y,registerCompletionItemProvider:se,registerSignatureHelpProvider:j,registerHoverProvider:Z,registerDocumentSymbolProvider:X,registerDocumentHighlightProvider:$,registerDefinitionProvider:J,registerImplementationProvider:Q,registerTypeDefinitionProvider:ee,registerCodeLensProvider:te,registerCodeActionProvider:oe,registerDocumentFormattingEditProvider:ne,registerDocumentRangeFormattingEditProvider:ie,registerOnTypeFormattingEditProvider:re,registerLinkProvider:ae,DocumentHighlightKind:o.DocumentHighlightKind,CompletionItemKind:F,SymbolKind:o.SymbolKind,IndentAction:n.IndentAction}}}),define(s[553],n([1,0,152,422,227,49,549,534,535,432,539,537,538,477]),function(d,e,t,n,i,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),o.EDITOR_DEFAULTS.wrappingIndent=o.WrappingIndent.None,o.EDITOR_DEFAULTS.contribInfo.folding=!1,o.EDITOR_DEFAULTS.viewInfo.glyphMargin=!1,o.EDITOR_DEFAULTS.autoIndent=!1;var r=t.createMonacoBaseAPI();for(var s in r)r.hasOwnProperty(s)&&(e[s]=r[s]);e.editor=n.createMonacoEditorAPI(),e.languages=i.createMonacoLanguagesAPI();var a=self;a.monaco=e,void 0!==a.require&&"function"==typeof a.require.config&&a.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index"]})})}).call(this),define("vs/language/typescript/src/monaco.contribution",["require","exports","vs/editor/edcore.main"],function(o,e){"use strict";function t(){return new monaco.Promise(function(o,e){_(function(t){t.getTypeScriptWorker().then(o,e)})})}function h(){return new monaco.Promise(function(o,e){_(function(t){t.getJavaScriptWorker().then(o,e)})})}function _(e){o(["vs/language/typescript/src/mode"],e)}Object.defineProperty(e,"__esModule",{value:!0});var r=monaco.Emitter,a=function(){function t(o,n){this._onDidChange=new r,this._extraLibs=Object.create(null),this._workerMaxIdleTime=12e4,this.setCompilerOptions(o),this.setDiagnosticsOptions(n)}return Object.defineProperty(t.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!0,configurable:!0}),t.prototype.getExtraLibs=function(){var o=Object.create(null);for(var e in this._extraLibs)o[e]=this._extraLibs[e];return Object.freeze(o)},t.prototype.addExtraLib=function(o,e){var i=this;if("undefined"==typeof e&&(e="ts:extralib-"+Date.now()),this._extraLibs[e])throw new Error(e+" already a extra lib");return this._extraLibs[e]=o,this._onDidChange.fire(this),{dispose:function(){delete i._extraLibs[e]&&i._onDidChange.fire(i)}}},t.prototype.getCompilerOptions=function(){return this._compilerOptions},t.prototype.setCompilerOptions=function(t){this._compilerOptions=t||Object.create(null),this._onDidChange.fire(this)},t.prototype.getDiagnosticsOptions=function(){return this._diagnosticsOptions},t.prototype.setDiagnosticsOptions=function(t){this._diagnosticsOptions=t||Object.create(null),this._onDidChange.fire(this)},t.prototype.setMaximunWorkerIdleTime=function(t){this._workerMaxIdleTime=t},t.prototype.getWorkerMaxIdleTime=function(){return this._workerMaxIdleTime},t.prototype.setEagerModelSync=function(t){this._eagerModelSync=t},t.prototype.getEagerModelSync=function(){return this._eagerModelSync},t}();e.LanguageServiceDefaultsImpl=a;var s;!function(t){t[t.None=0]="None",t[t.CommonJS=1]="CommonJS",t[t.AMD=2]="AMD",t[t.UMD=3]="UMD",t[t.System=4]="System",t[t.ES2015=5]="ES2015"}(s||(s={}));var y;!function(t){t[t.None=0]="None",t[t.Preserve=1]="Preserve",t[t.React=2]="React"}(y||(y={}));var C;!function(t){t[t.CarriageReturnLineFeed=0]="CarriageReturnLineFeed",t[t.LineFeed=1]="LineFeed"}(C||(C={}));var b;!function(t){t[t.Unknown=0]="Unknown",t[t.JS=1]="JS",t[t.JSX=2]="JSX",t[t.TS=3]="TS",t[t.TSX=4]="TSX"}(b||(b={}));var l;!function(t){t[t.ES3=0]="ES3",t[t.ES5=1]="ES5",t[t.ES2015=2]="ES2015",t[t.ES2016=3]="ES2016",t[t.ES2017=4]="ES2017",t[t.ESNext=5]="ESNext",t[t.Latest=5]="Latest"}(l||(l={}));var v;!function(t){t[t.Standard=0]="Standard",t[t.JSX=1]="JSX"}(v||(v={}));var f;!function(t){t[t.Classic=1]="Classic",t[t.NodeJs=2]="NodeJs"}(f||(f={}));var E=new a({allowNonTsExtensions:!0,target:l.Latest},{noSemanticValidation:!1,noSyntaxValidation:!1}),L=new a({allowNonTsExtensions:!0,allowJs:!0,target:l.Latest},{noSemanticValidation:!0,noSyntaxValidation:!1});monaco.languages.typescript=function(){return{ModuleKind:s,JsxEmit:y,NewLineKind:C,ScriptTarget:l,ModuleResolutionKind:f,typescriptDefaults:E,javascriptDefaults:L,getTypeScriptWorker:t,getJavaScriptWorker:h}}(),monaco.languages.register({id:"typescript",extensions:[".ts",".tsx"],aliases:["TypeScript","ts","typescript"],mimetypes:["text/typescript"]}),monaco.languages.onLanguage("typescript",function(){_(function(t){return t.setupTypeScript(E)})}),monaco.languages.register({id:"javascript",extensions:[".js",".es6",".jsx"],firstLine:"^#!.*\\bnode",filenames:["jakefile"],aliases:["JavaScript","javascript","js"],mimetypes:["text/javascript"]}),monaco.languages.onLanguage("javascript",function(){_(function(t){return t.setupJavaScript(L)})})}),!function(t){if("object"==typeof module&&"object"==typeof module.exports){var e=t(require,exports);void 0!==e&&(module.exports=e)}else"function"==typeof define&&define.amd&&define("vs/language/css/monaco.contribution",["require","exports","vs/editor/edcore.main"],t)}(function(o,e){function n(e){o(["vs/language/css/cssMode"],e)}Object.defineProperty(e,"__esModule",{value:!0});var t=monaco.Emitter,i=function(){function o(o,i){this._onDidChange=new t,this._languageId=o,this.setDiagnosticsOptions(i)}return Object.defineProperty(o.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"languageId",{get:function(){return this._languageId},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"diagnosticsOptions",{get:function(){return this._diagnosticsOptions},enumerable:!0,configurable:!0}),o.prototype.setDiagnosticsOptions=function(t){this._diagnosticsOptions=t||Object.create(null),this._onDidChange.fire(this)},o}();e.LanguageServiceDefaultsImpl=i;var r={validate:!0,lint:{compatibleVendorPrefixes:"ignore",vendorPrefix:"warning",duplicateProperties:"warning",emptyRules:"warning",importStatement:"ignore",boxModel:"ignore",universalSelector:"ignore",zeroUnits:"ignore",fontFaceProperties:"warning",hexColorLength:"error",argumentsInColorFunction:"error",unknownProperties:"warning",ieHack:"ignore",unknownVendorSpecificProperties:"ignore",propertyIgnoredDueToDisplay:"warning",important:"ignore",float:"ignore",idSelector:"ignore"}},s=new i("css",r),d=new i("scss",r),l=new i("less",r);monaco.languages.css=function(){return{cssDefaults:s,lessDefaults:l,scssDefaults:d}}(),monaco.languages.onLanguage("less",function(){n(function(t){return t.setupMode(l)})}),monaco.languages.onLanguage("scss",function(){n(function(t){return t.setupMode(d)})}),monaco.languages.onLanguage("css",function(){n(function(t){return t.setupMode(s)})})}),!function(t){if("object"==typeof module&&"object"==typeof module.exports){var e=t(require,exports);void 0!==e&&(module.exports=e)}else"function"==typeof define&&define.amd&&define("vs/language/json/monaco.contribution",["require","exports","vs/editor/edcore.main"],t)}(function(o,e){function n(e){o(["vs/language/json/jsonMode"],e)}Object.defineProperty(e,"__esModule",{value:!0});var t=monaco.Emitter,i=function(){function o(o,i){this._onDidChange=new t,this._languageId=o,this.setDiagnosticsOptions(i)}return Object.defineProperty(o.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"languageId",{get:function(){return this._languageId},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"diagnosticsOptions",{get:function(){return this._diagnosticsOptions},enumerable:!0,configurable:!0}),o.prototype.setDiagnosticsOptions=function(t){this._diagnosticsOptions=t||Object.create(null),this._onDidChange.fire(this)},o}();e.LanguageServiceDefaultsImpl=i;var a=new i("json",{validate:!0,allowComments:!0,schemas:[]});monaco.languages.json=function(){return{jsonDefaults:a}}(),monaco.languages.register({id:"json",extensions:[".json",".bowerrc",".jshintrc",".jscsrc",".eslintrc",".babelrc"],aliases:["JSON","json"],mimetypes:["application/json"]}),monaco.languages.onLanguage("json",function(){n(function(t){return t.setupMode(a)})})}),!function(o){if("object"==typeof module&&"object"==typeof module.exports){var e=o(require,exports);void 0!==e&&(module.exports=e)}else"function"==typeof define&&define.amd&&define("vs/language/html/monaco.contribution",["require","exports","vs/editor/edcore.main"],o)}(function(n,e){function t(e){n(["vs/language/html/htmlMode"],e)}Object.defineProperty(e,"__esModule",{value:!0});var o=monaco.Emitter,i=function(){function t(n,i){this._onDidChange=new o,this._languageId=n,this.setOptions(i)}return Object.defineProperty(t.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"languageId",{get:function(){return this._languageId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this._options},enumerable:!0,configurable:!0}),t.prototype.setOptions=function(t){this._options=t||Object.create(null),this._onDidChange.fire(this)},t}();e.LanguageServiceDefaultsImpl=i;var r={tabSize:4,insertSpaces:!1,wrapLineLength:120,unformatted:"default\": \"a, abbr, acronym, b, bdo, big, br, button, cite, code, dfn, em, i, img, input, kbd, label, map, object, q, samp, select, small, span, strong, sub, sup, textarea, tt, var",contentUnformatted:"pre",indentInnerHtml:!1,preserveNewLines:!0,maxPreserveNewLines:null,indentHandlebars:!1,endWithNewline:!1,extraLiners:"head, body, /html",wrapAttributes:"auto"},a="html",s="handlebars",l="razor",c=new i(a,{format:r,suggest:{html5:!0,angular1:!0,ionic:!0}}),g=new i(s,{format:r,suggest:{html5:!0}}),h=new i(l,{format:r,suggest:{html5:!0,razor:!0}});monaco.languages.html=function(){return{htmlDefaults:c,razorDefaults:h,handlebarDefaults:g}}(),monaco.languages.onLanguage(a,function(){t(function(t){return t.setupMode(c)})}),monaco.languages.onLanguage(s,function(){t(function(t){return t.setupMode(g)})}),monaco.languages.onLanguage(l,function(){t(function(t){return t.setupMode(h)})})}),define("vs/basic-languages/src/monaco.contribution",["require","exports","vs/editor/edcore.main"],function(r,s){"use strict";function e(o){var e=d[o].module;return new t.Promise(function(n,i){r([e],function(e){t.languages.setMonarchTokensProvider(o,e.language),t.languages.setLanguageConfiguration(o,e.conf),n(void 0)},i)})}function i(t){return o[t]||(o[t]=e(t)),o[t]}function a(o){var n=o.id;d[n]=o,t.languages.register(o),t.languages.onLanguage(n,function(){i(n)})}Object.defineProperty(s,"__esModule",{value:!0});var t="undefined"==typeof monaco?self.monaco:monaco,d={},o={};s.loadLanguage=i,a({id:"bat",extensions:[".bat",".cmd"],aliases:["Batch","bat"],module:"./bat"}),a({id:"coffeescript",extensions:[".coffee"],aliases:["CoffeeScript","coffeescript","coffee"],mimetypes:["text/x-coffeescript","text/coffeescript"],module:"./coffee"}),a({id:"c",extensions:[".c",".h"],aliases:["C","c"],module:"./cpp"}),a({id:"cpp",extensions:[".cpp",".cc",".cxx",".hpp",".hh",".hxx"],aliases:["C++","Cpp","cpp"],module:"./cpp"}),a({id:"csharp",extensions:[".cs",".csx"],aliases:["C#","csharp"],module:"./csharp"}),a({id:"dockerfile",extensions:[".dockerfile"],filenames:["Dockerfile"],aliases:["Dockerfile"],module:"./dockerfile"}),a({id:"fsharp",extensions:[".fs",".fsi",".ml",".mli",".fsx",".fsscript"],aliases:["F#","FSharp","fsharp"],module:"./fsharp"}),a({id:"go",extensions:[".go"],aliases:["Go"],module:"./go"}),a({id:"handlebars",extensions:[".handlebars",".hbs"],aliases:["Handlebars","handlebars"],mimetypes:["text/x-handlebars-template"],module:"./handlebars"}),a({id:"html",extensions:[".html",".htm",".shtml",".xhtml",".mdoc",".jsp",".asp",".aspx",".jshtm"],aliases:["HTML","htm","html","xhtml"],mimetypes:["text/html","text/x-jshtm","text/template","text/ng-template"],module:"./html"}),a({id:"ini",extensions:[".ini",".properties",".gitconfig"],filenames:["config",".gitattributes",".gitconfig",".editorconfig"],aliases:["Ini","ini"],module:"./ini"}),a({id:"pug",extensions:[".jade",".pug"],aliases:["Pug","Jade","jade"],module:"./pug"}),a({id:"java",extensions:[".java",".jav"],aliases:["Java","java"],mimetypes:["text/x-java-source","text/x-java"],module:"./java"}),a({id:"lua",extensions:[".lua"],aliases:["Lua","lua"],module:"./lua"}),a({id:"markdown",extensions:[".md",".markdown",".mdown",".mkdn",".mkd",".mdwn",".mdtxt",".mdtext"],aliases:["Markdown","markdown"],module:"./markdown"}),a({id:"msdax",extensions:[".dax",".msdax"],aliases:["DAX","MSDAX"],module:"./msdax"}),a({id:"objective-c",extensions:[".m"],aliases:["Objective-C"],module:"./objective-c"}),a({id:"postiats",extensions:[".dats",".sats",".hats"],aliases:["ATS","ATS/Postiats"],module:"./postiats"}),a({id:"php",extensions:[".php",".php4",".php5",".phtml",".ctp"],aliases:["PHP","php"],mimetypes:["application/x-php"],module:"./php"}),a({id:"powershell",extensions:[".ps1",".psm1",".psd1"],aliases:["PowerShell","powershell","ps","ps1"],module:"./powershell"}),a({id:"python",extensions:[".py",".rpy",".pyw",".cpy",".gyp",".gypi"],aliases:["Python","py"],firstLine:"^#!/.*\\bpython[0-9.-]*\\b",module:"./python"}),a({id:"r",extensions:[".r",".rhistory",".rprofile",".rt"],aliases:["R","r"],module:"./r"}),a({id:"razor",extensions:[".cshtml"],aliases:["Razor","razor"],mimetypes:["text/x-cshtml"],module:"./razor"}),a({id:"ruby",extensions:[".rb",".rbx",".rjs",".gemspec",".pp"],filenames:["rakefile"],aliases:["Ruby","rb"],module:"./ruby"}),a({id:"swift",aliases:["Swift","swift"],extensions:[".swift"],mimetypes:["text/swift"],module:"./swift"}),a({id:"sql",extensions:[".sql"],aliases:["SQL"],module:"./sql"}),a({id:"vb",extensions:[".vb"],aliases:["Visual Basic","vb"],module:"./vb"}),a({id:"xml",extensions:[".xml",".dtd",".ascx",".csproj",".config",".wxi",".wxl",".wxs",".xaml",".svg",".svgz"],firstLine:"(\\<\\?xml.*)|(\\<svg)|(\\<\\!doctype\\s+svg)",aliases:["XML","xml"],mimetypes:["text/xml","application/xml","application/xaml+xml","application/xml-dtd"],module:"./xml"}),a({id:"less",extensions:[".less"],aliases:["Less","less"],mimetypes:["text/x-less","text/less"],module:"./less"}),a({id:"scss",extensions:[".scss"],aliases:["Sass","sass","scss"],mimetypes:["text/x-scss","text/scss"],module:"./scss"}),a({id:"css",extensions:[".css"],aliases:["CSS","css"],mimetypes:["text/css"],module:"./css"}),a({id:"yaml",extensions:[".yaml",".yml"],aliases:["YAML","yaml","YML","yml"],mimetypes:["application/x-yaml"],module:"./yaml"}),a({id:"sol",extensions:[".sol"],aliases:["sol","solidity","Solidity"],module:"./solidity"}),a({id:"sb",extensions:[".sb"],aliases:["Small Basic","sb"],module:"./sb"})}),define("vs/editor/editor.main",["vs/editor/edcore.main","vs/language/typescript/src/monaco.contribution","vs/language/css/monaco.contribution","vs/language/json/monaco.contribution","vs/language/html/monaco.contribution","vs/basic-languages/src/monaco.contribution"],function(){});