<html><head><link rel="import" href="../polymer/polymer-element.html"><script src="monaco-schema-vega.js"></script><script src="monaco-schema-vega-lite.js"></script><script src="monaco-schemas.js"></script></head><body><dom-module id="monaco-schemas"><script>var MonacoSchemas=function(a){function b(){return babelHelpers.classCallCheck(this,b),babelHelpers.possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return babelHelpers.inherits(b,a),babelHelpers.createClass(b,[{key:'_dataChanged',value:function(a){this.set('_data',Object.assign({},this._data,a))}},{key:'_computeValue',value:function(a,b){var c=this;if(a&&b){var d=a.split(/\s+/).map(function(a){return b[a.trim()]}).filter(function(a){return a}).map(function(a){return a.schema?Promise.resolve(a):c._loadFromUri(a.uri).then(function(b){return a.schema=b,a})});Promise.all(d).then(function(a){a&&c._setSchemas(a.filter(function(a){return a.schema}))})}}},{key:'_loadFromUri',value:function(a){return new Promise(function(b){var c=new XMLHttpRequest;return c?void(c.onreadystatechange=function(){if(c.readyState===XMLHttpRequest.DONE&&200===c.status){var d=c.responseText;try{return d=JSON.parse(c.responseText),b(d)}catch(c){console.warn('failed to load schema from '+a),b({})}}},c.open('GET',a),c.send()):(console.warn('cannot create a XMLHttpRequest instance!'),!1)})}}],[{key:'is',get:function(){return'monaco-schemas'}},{key:'properties',get:function(){return{schemas:{type:Array,notify:!0,readOnly:!0},keys:{type:String},data:{type:Object,observer:'_dataChanged'},_data:{type:Object,value:PolymerVis.monaco.schemas}}}},{key:'observers',get:function(){return['_computeValue(keys, _data)']}}]),b}(Polymer.Element);window.customElements.define(MonacoSchemas.is,MonacoSchemas);</script></dom-module></body></html>