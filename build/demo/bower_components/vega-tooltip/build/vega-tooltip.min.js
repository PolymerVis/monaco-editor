!function(a){"object"==("undefined"===typeof exports?"undefined":babelHelpers.typeof(exports))&&"undefined"!=typeof module?module.exports=a():"function"==typeof define&&define.amd?define([],a):("undefined"==typeof window?"undefined"==typeof global?"undefined"==typeof self?this:self:global:window).vegaTooltip=a()}(function(){var b=Math.min,d=Math.floor;return function b(d,e,f){function a(h,i){if(!e[h]){if(!d[h]){var j="function"==typeof require&&require;if(!i&&j)return j(h,!0);if(g)return g(h,!0);var c=new Error("Cannot find module '"+h+"'");throw c.code="MODULE_NOT_FOUND",c}var k=e[h]={exports:{}};d[h][0].call(k.exports,function(b){var c=d[h][1][b];return a(c||b)},k,k.exports,b,d,e,f)}return e[h].exports}for(var g="function"==typeof require&&require,c=0;c<f.length;c++)a(f[c]);return a}({1:[function(a,c,e){!function(a,b){b("object"==("undefined"===typeof e?"undefined":babelHelpers.typeof(e))&&void 0!==c?e:a.d3=a.d3||{})}(this,function(g){"use strict";function j(a){return new e(a)}function e(b){if(!(d=l.exec(b)))throw new Error("invalid format: "+b);var d,e=d[1]||" ",f=d[2]||">",g=d[3]||"-",i=d[4]||"",j=!!d[5],k=d[6]&&+d[6],a=!!d[7],c=d[8]&&+d[8].slice(1),m=d[9]||"";"n"===m?(a=!0,m="g"):A[m]||(m=""),(j||"0"===e&&"="===f)&&(j=!0,e="0",f="="),this.fill=e,this.align=f,this.sign=g,this.symbol=i,this.zero=j,this.width=k,this.comma=a,this.precision=c,this.type=m}function k(a){return f=m(a),g.format=f.format,g.formatPrefix=f.formatPrefix,f}var q,i=Math.round,z=Math.max,r=Math.abs,v=function(a,b){if(0>(c=(a=b?a.toExponential(b-1):a.toExponential()).indexOf("e")))return null;var c,d=a.slice(0,c);return[1<d.length?d[0]+d.slice(2):d,+a.slice(c+1)]},w=function(a){return a=v(r(a)),a?a[1]:NaN},u=function(b,d){return function(e,f){for(var g=e.length,h=[],i=0,j=b[0],a=0;0<g&&0<j&&(a+j+1>f&&(j=z(1,f-a)),h.push(e.substring(g-=j,g+j)),!((a+=j+1)>f));)j=b[i=(i+1)%b.length];return h.reverse().join(d)}},a=function(a){return function(b){return b.replace(/[0-9]/g,function(b){return a[+b]})}},c=function(a,b){var c=v(a,b);if(!c)return a+"";var d=c[0],e=c[1];return 0>e?"0."+Array(-e).join("0")+d:d.length>e+1?d.slice(0,e+1)+"."+d.slice(e+1):d+Array(e-d.length+2).join("0")},A={"":function(a,b){t:for(var c,d=(a=a.toPrecision(b)).length,e=1,f=-1;e<d;++e)switch(a[e]){case".":f=c=e;break;case"0":0===f&&(f=e),c=e;break;case"e":break t;default:0<f&&(f=0);}return 0<f?a.slice(0,f)+a.slice(c+1):a},"%":function(a,b){return(100*a).toFixed(b)},b:function(a){return i(a).toString(2)},c:function(a){return a+""},d:function(a){return i(a).toString(10)},e:function(a,b){return a.toExponential(b)},f:function(a,b){return a.toFixed(b)},g:function(a,b){return a.toPrecision(b)},o:function(a){return i(a).toString(8)},p:function(a,b){return c(100*a,b)},r:c,s:function(f,g){var e=v(f,g);if(!e)return f+"";var h=e[0],i=e[1],j=i-(q=3*z(-8,b(8,d(i/3))))+1,a=h.length;return j===a?h:j>a?h+Array(j-a+1).join("0"):0<j?h.slice(0,j)+"."+h.slice(j):"0."+Array(1-j).join("0")+v(f,z(0,g+j-1))[0]},X:function(a){return i(a).toString(16).toUpperCase()},x:function(a){return i(a).toString(16)}},l=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;j.prototype=e.prototype,e.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":z(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+z(0,0|this.precision))+this.type};var f,x=function(a){return a},h=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"],m=function(c){function e(e){function o(a){var b,e,j,c=G,k=w;if("c"===y)k=H(a)+k,a="";else{var l=0>(a=+a);if(a=H(r(a),g),l&&0==+a&&(l=!1),c=(l?"("===u?u:"-":"-"===u||"("===u?"":u)+c,k=k+("s"===y?h[8+q/3]:"")+(l&&"("===u?")":""),D)for(b=-1,e=a.length;++b<e;)if(48>(j=a.charCodeAt(b))||57<j){k=(46===j?m+a.slice(b+1):a.slice(b))+k,a=a.slice(0,b);break}}v&&!C&&(a=i(a,1/0));var o=c.length+a.length+k.length,s=o<E?Array(E-o+1).join(B):"";switch(v&&C&&(a=i(s+a,s.length?E-k.length:1/0),s=""),p){case"<":a=c+a+k+s;break;case"=":a=c+s+a+k;break;case"^":a=s.slice(0,o=s.length>>1)+c+a+k+s.slice(o);break;default:a=s+c+a+k;}return f(a)}var B=(e=j(e)).fill,p=e.align,u=e.sign,a=e.symbol,C=e.zero,E=e.width,v=e.comma,g=e.precision,y=e.type,G="$"===a?k[0]:"#"===a&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",w="$"===a?k[1]:/[%p]/.test(y)?l:"",H=A[y],D=!y||/[defgprs%]/.test(y);return g=null==g?y?6:12:/[gprs]/.test(y)?z(1,b(21,g)):z(0,b(20,g)),o.toString=function(){return e+""},o}function g(f,g){var k=e((f=j(f),f.type="f",f)),i=3*z(-8,b(8,d(w(g)/3))),l=Math.pow(10,-i),a=h[8+i/3];return function(b){return k(l*b)+a}}var i=c.grouping&&c.thousands?u(c.grouping,c.thousands):x,k=c.currency,m=c.decimal,f=c.numerals?a(c.numerals):x,l=c.percent||"%";return{format:e,formatPrefix:g}};k({decimal:".",thousands:",",grouping:[3],currency:["$",""]});g.formatDefaultLocale=k,g.formatLocale=m,g.formatSpecifier=j,g.precisionFixed=function(a){return z(0,-w(r(a)))},g.precisionPrefix=function(a,c){return z(0,3*z(-8,b(8,d(w(c)/3)))-w(r(a)))},g.precisionRound=function(a,b){return a=r(a),b=r(b)-a,z(0,w(b)-w(a))+1},Object.defineProperty(g,"__esModule",{value:!0})})},{}],2:[function(a,c,d){!function(a,b){b("object"==("undefined"===typeof d?"undefined":babelHelpers.typeof(d))&&void 0!==c?d:a.d3=a.d3||{})}(this,function(l){"use strict";function aa(a){return function(){var b=this.ownerDocument,c=this.namespaceURI;return c===Q&&b.documentElement.namespaceURI===Q?b.createElement(a):b.createElementNS(c,a)}}function e(a){return function(){return this.ownerDocument.createElementNS(a.space,a.local)}}function n(){return new r}function r(){this._="@"+(++ha).toString(36)}function ba(a,b,c){return a=o(a,b,c),function(b){var c=b.relatedTarget;c&&(c===this||8&c.compareDocumentPosition(this))||a.call(this,b)}}function o(a,b,c){return function(d){var e=l.event;l.event=d;try{a.call(this,this.__data__,b,c)}finally{l.event=e}}}function ca(a){return a.trim().split(/^|\s+/).map(function(a){var b="",c=a.indexOf(".");return 0<=c&&(b=a.slice(c+1),a=a.slice(0,c)),{type:a,name:b}})}function a(a){return function(){var b=this.__on;if(b){for(var c,d=0,e=-1,f=b.length;d<f;++d)c=b[d],a.type&&c.type!==a.type||c.name!==a.name?b[++e]=c:this.removeEventListener(c.type,c.listener,c.capture);++e?b.length=e:delete this.__on}}}function c(b,d,g){var h=ma.hasOwnProperty(b.type)?ba:o;return function(j,i,k){var m,a=this.__on,c=h(d,i,k);if(a)for(var o=0,l=a.length;o<l;++o)if((m=a[o]).type===b.type&&m.name===b.name)return this.removeEventListener(m.type,m.listener,m.capture),this.addEventListener(m.type,m.listener=c,m.capture=g),void(m.value=d);this.addEventListener(b.type,c,g),m={type:b.type,name:b.name,value:d,listener:c,capture:g},a?a.push(m):this.__on=[m]}}function s(){}function f(){return[]}function da(a,b){this.ownerDocument=a.ownerDocument,this.namespaceURI=a.namespaceURI,this._next=null,this._parent=a,this.__data__=b}function ea(b,d,e,f,g,h){for(var i,j=0,a=d.length,c=h.length;j<c;++j)(i=d[j])?(i.__data__=h[j],f[j]=i):e[j]=new da(b,h[j]);for(;j<a;++j)(i=d[j])&&(g[j]=i)}function m(b,d,e,g,j,i,k){var n,a,c,o={},l=d.length,f=i.length,h=Array(l);for(n=0;n<l;++n)(a=d[n])&&(h[n]=c=ta+k.call(a,a.__data__,n,d),c in o?j[n]=a:o[c]=a);for(n=0;n<f;++n)(a=o[c=ta+k.call(b,i[n],n,i)])?(g[n]=a,a.__data__=i[n],o[c]=null):e[n]=new da(b,i[n]);for(n=0;n<l;++n)(a=d[n])&&o[h[n]]===a&&(j[n]=a)}function h(a,b){return a<b?-1:a>b?1:a>=b?0:NaN}function p(a){return function(){this.removeAttribute(a)}}function g(a){return function(){this.removeAttributeNS(a.space,a.local)}}function u(a,b){return function(){this.setAttribute(a,b)}}function v(a,b){return function(){this.setAttributeNS(a.space,a.local,b)}}function w(a,b){return function(){var c=b.apply(this,arguments);null==c?this.removeAttribute(a):this.setAttribute(a,c)}}function y(a,b){return function(){var c=b.apply(this,arguments);null==c?this.removeAttributeNS(a.space,a.local):this.setAttributeNS(a.space,a.local,c)}}function M(a){return function(){this.style.removeProperty(a)}}function x(a,b,c){return function(){this.style.setProperty(a,b,c)}}function D(a,b,c){return function(){var d=b.apply(this,arguments);null==d?this.style.removeProperty(a):this.style.setProperty(a,d,c)}}function F(a,b){return a.style.getPropertyValue(b)||ua(a).getComputedStyle(a,null).getPropertyValue(b)}function A(a){return function(){delete this[a]}}function C(a,b){return function(){this[a]=b}}function T(a,b){return function(){var c=b.apply(this,arguments);null==c?delete this[a]:this[a]=c}}function S(a){return a.trim().split(/^|\s+/)}function U(a){return a.classList||new L(a)}function L(a){this._node=a,this._names=S(a.getAttribute("class")||"")}function E(a,b){for(var c=U(a),d=-1,e=b.length;++d<e;)c.add(b[d])}function O(a,b){for(var c=U(a),d=-1,e=b.length;++d<e;)c.remove(b[d])}function Y(a){return function(){E(this,a)}}function P(a){return function(){O(this,a)}}function H(a,b){return function(){(b.apply(this,arguments)?E:O)(this,a)}}function N(){this.textContent=""}function I(a){return function(){this.textContent=a}}function j(a){return function(){var b=a.apply(this,arguments);this.textContent=null==b?"":b}}function k(){this.innerHTML=""}function R(a){return function(){this.innerHTML=a}}function W(a){return function(){var b=a.apply(this,arguments);this.innerHTML=null==b?"":b}}function q(){this.nextSibling&&this.parentNode.appendChild(this)}function t(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function z(){return null}function B(){var a=this.parentNode;a&&a.removeChild(this)}function V(a,b,c){var d=ua(a),e=d.CustomEvent;"function"==typeof e?e=new e(b,c):(e=d.document.createEvent("Event"),c?(e.initEvent(b,c.bubbles,c.cancelable),e.detail=c.detail):e.initEvent(b,!1,!1)),a.dispatchEvent(e)}function X(a,b){return function(){return V(this,a,b)}}function Z(a,b){return function(){return V(this,a,b.apply(this,arguments))}}function J(a,b){this._groups=a,this._parents=b}function $(){return new J([[document.documentElement]],va)}var Q="http://www.w3.org/1999/xhtml",_={svg:"http://www.w3.org/2000/svg",xhtml:Q,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},fa=function(a){var b=a+="",c=b.indexOf(":");return 0<=c&&"xmlns"!==(b=a.slice(0,c))&&(a=a.slice(c+1)),_.hasOwnProperty(b)?{space:_[b],local:a}:a},ga=function(a){var b=fa(a);return(b.local?e:aa)(b)},ha=0;r.prototype=n.prototype={constructor:r,get:function(a){for(var b=this._;!(b in a);)if(!(a=a.parentNode))return;return a[b]},set:function(a,b){return a[this._]=b},remove:function(a){return this._ in a&&delete a[this._]},toString:function(){return this._}};var ia=function(a){return function(){return this.matches(a)}};if("undefined"!=typeof document){var ja=document.documentElement;if(!ja.matches){var ka=ja.webkitMatchesSelector||ja.msMatchesSelector||ja.mozMatchesSelector||ja.oMatchesSelector;ia=function(a){return function(){return ka.call(this,a)}}}}var la=ia,ma={};l.event=null,"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(ma={mouseenter:"mouseover",mouseleave:"mouseout"}));var na=function(){for(var a,b=l.event;a=b.sourceEvent;)b=a;return b},oa=function(a,b){var c=a.ownerSVGElement||a;if(c.createSVGPoint){var d=c.createSVGPoint();return d.x=b.clientX,d.y=b.clientY,d=d.matrixTransform(a.getScreenCTM().inverse()),[d.x,d.y]}var e=a.getBoundingClientRect();return[b.clientX-e.left-a.clientLeft,b.clientY-e.top-a.clientTop]},pa=function(a){return null==a?s:function(){return this.querySelector(a)}},qa=function(a){return null==a?f:function(){return this.querySelectorAll(a)}},ra=function(a){return Array(a.length)};da.prototype={constructor:da,appendChild:function(a){return this._parent.insertBefore(a,this._next)},insertBefore:function(a,b){return this._parent.insertBefore(a,b)},querySelector:function(a){return this._parent.querySelector(a)},querySelectorAll:function(a){return this._parent.querySelectorAll(a)}};var sa=function(a){return function(){return a}},ta="$",ua=function(a){return a.ownerDocument&&a.ownerDocument.defaultView||a.document&&a||a.defaultView};L.prototype={add:function(a){0>this._names.indexOf(a)&&(this._names.push(a),this._node.setAttribute("class",this._names.join(" ")))},remove:function(a){var b=this._names.indexOf(a);0<=b&&(this._names.splice(b,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(a){return 0<=this._names.indexOf(a)}};var va=[null];J.prototype=$.prototype={constructor:J,select:function(b){"function"!=typeof b&&(b=pa(b));for(var d=this._groups,e=d.length,f=Array(e),g=0;g<e;++g)for(var h,i,j=d[g],a=j.length,c=f[g]=Array(a),k=0;k<a;++k)(h=j[k])&&(i=b.call(h,h.__data__,k,j))&&("__data__"in h&&(i.__data__=h.__data__),c[k]=i);return new J(f,this._parents)},selectAll:function(b){"function"!=typeof b&&(b=qa(b));for(var d=this._groups,e=d.length,f=[],g=[],h=0;h<e;++h)for(var i,j=d[h],a=j.length,c=0;c<a;++c)(i=j[c])&&(f.push(b.call(i,i.__data__,c,j)),g.push(i));return new J(f,g)},filter:function(b){"function"!=typeof b&&(b=la(b));for(var d=this._groups,e=d.length,f=Array(e),g=0;g<e;++g)for(var h,i=d[g],j=i.length,a=f[g]=[],c=0;c<j;++c)(h=i[c])&&b.call(h,h.__data__,c,i)&&a.push(h);return new J(f,this._parents)},data:function(b,j){if(!b)return h=Array(this.size()),c=-1,this.each(function(a){h[++c]=a}),h;var e=j?m:ea,k=this._parents,n=this._groups;"function"!=typeof b&&(b=sa(b));for(var i=n.length,o=Array(i),p=Array(i),a=Array(i),c=0;c<i;++c){var q=k[c],l=n[c],f=l.length,h=b.call(q,q&&q.__data__,c,k),d=h.length,r=p[c]=Array(d),g=o[c]=Array(d);e(q,l,r,g,a[c]=Array(f),h,j);for(var s,u,v=0,w=0;v<d;++v)if(s=r[v]){for(v>=w&&(w=v+1);!(u=g[w])&&++w<d;);s._next=u||null}}return o=new J(o,k),o._enter=p,o._exit=a,o},enter:function(){return new J(this._enter||this._groups.map(ra),this._parents)},exit:function(){return new J(this._exit||this._groups.map(ra),this._parents)},merge:function(g){for(var j=this._groups,e=g._groups,k=j.length,m=e.length,i=b(k,m),n=Array(k),o=0;o<i;++o)for(var a,c=j[o],p=e[o],l=c.length,f=n[o]=Array(l),h=0;h<l;++h)(a=c[h]||p[h])&&(f[h]=a);for(;o<k;++o)n[o]=j[o];return new J(n,this._parents)},order:function(){for(var a=this._groups,b=-1,c=a.length;++b<c;)for(var d,e=a[b],f=e.length-1,g=e[f];0<=--f;)(d=e[f])&&(g&&g!==d.nextSibling&&g.parentNode.insertBefore(d,g),g=d);return this},sort:function(b){function d(a,c){return a&&c?b(a.__data__,c.__data__):!a-!c}b||(b=h);for(var e=this._groups,f=e.length,g=Array(f),i=0;i<f;++i){for(var j,k=e[i],a=k.length,c=g[i]=Array(a),m=0;m<a;++m)(j=k[m])&&(c[m]=j);c.sort(d)}return new J(g,this._parents).order()},call:function(){var a=arguments[0];return arguments[0]=this,a.apply(null,arguments),this},nodes:function(){var a=Array(this.size()),b=-1;return this.each(function(){a[++b]=this}),a},node:function(){for(var a=this._groups,b=0,c=a.length;b<c;++b)for(var d,e=a[b],f=0,g=e.length;f<g;++f)if(d=e[f],d)return d;return null},size:function(){var a=0;return this.each(function(){++a}),a},empty:function(){return!this.node()},each:function(b){for(var c=this._groups,d=0,e=c.length;d<e;++d)for(var f,g=c[d],h=0,i=g.length;h<i;++h)(f=g[h])&&b.call(f,f.__data__,h,g);return this},attr:function(a,b){var c=fa(a);if(2>arguments.length){var d=this.node();return c.local?d.getAttributeNS(c.space,c.local):d.getAttribute(c)}return this.each((null==b?c.local?g:p:"function"==typeof b?c.local?y:w:c.local?v:u)(c,b))},style:function(a,b,c){return 1<arguments.length?this.each((null==b?M:"function"==typeof b?D:x)(a,b,null==c?"":c)):F(this.node(),a)},property:function(a,b){return 1<arguments.length?this.each((null==b?A:"function"==typeof b?T:C)(a,b)):this.node()[a]},classed:function(a,b){var c=S(a+"");if(2>arguments.length){for(var d=U(this.node()),f=-1,g=c.length;++f<g;)if(!d.contains(c[f]))return!1;return!0}return this.each(("function"==typeof b?H:b?Y:P)(c,b))},text:function(a){return arguments.length?this.each(null==a?N:("function"==typeof a?j:I)(a)):this.node().textContent},html:function(a){return arguments.length?this.each(null==a?k:("function"==typeof a?W:R)(a)):this.node().innerHTML},raise:function(){return this.each(q)},lower:function(){return this.each(t)},append:function(a){var b="function"==typeof a?a:ga(a);return this.select(function(){return this.appendChild(b.apply(this,arguments))})},insert:function(a,b){var c="function"==typeof a?a:ga(a),d=null==b?z:"function"==typeof b?b:pa(b);return this.select(function(){return this.insertBefore(c.apply(this,arguments),d.apply(this,arguments)||null)})},remove:function(){return this.each(B)},datum:function(a){return arguments.length?this.property("__data__",a):this.node().__data__},on:function(b,g,e){var j,k,i=ca(b+""),m=i.length;{if(!(2>arguments.length)){for(n=g?c:a,null==e&&(e=!1),j=0;j<m;++j)this.each(n(i[j],g,e));return this}var n=this.node().__on;if(n)for(var l,f=0,h=n.length;f<h;++f)for(j=0,l=n[f];j<m;++j)if((k=i[j]).type===l.type&&k.name===l.name)return l.value}},dispatch:function(a,b){return this.each(("function"==typeof b?Z:X)(a,b))}};l.creator=ga,l.local=n,l.matcher=la,l.mouse=function(a){var b=na();return b.changedTouches&&(b=b.changedTouches[0]),oa(a,b)},l.namespace=fa,l.namespaces=_,l.select=function(a){return"string"==typeof a?new J([[document.querySelector(a)]],[document.documentElement]):new J([[a]],va)},l.selectAll=function(a){return"string"==typeof a?new J([document.querySelectorAll(a)],[document.documentElement]):new J([null==a?[]:a],va)},l.selection=$,l.selector=pa,l.selectorAll=qa,l.style=F,l.touch=function(a,b,c){3>arguments.length&&(c=b,b=na().changedTouches);for(var d,e=0,f=b?b.length:0;e<f;++e)if((d=b[e]).identifier===c)return oa(a,d);return null},l.touches=function(a,b){null==b&&(b=na().touches);for(var c=0,d=b?b.length:0,e=Array(d);c<d;++c)e[c]=oa(a,b[c]);return e},l.window=ua,l.customEvent=function(a,b,c,d){var e=l.event;a.sourceEvent=l.event,l.event=a;try{return b.apply(c,d)}finally{l.event=e}},Object.defineProperty(l,"__esModule",{value:!0})})},{}],3:[function(a,b,c){!function(d,e){"object"==("undefined"===typeof c?"undefined":babelHelpers.typeof(c))&&void 0!==b?e(c,a("d3-time")):e(d.d3=d.d3||{},d.d3)}(this,function(aa,ba){"use strict";function ca(a){if(0<=a.y&&100>a.y){var b=new Date(-1,a.m,a.d,a.H,a.M,a.S,a.L);return b.setFullYear(a.y),b}return new Date(a.y,a.m,a.d,a.H,a.M,a.S,a.L)}function da(a){if(0<=a.y&&100>a.y){var b=new Date(Date.UTC(-1,a.m,a.d,a.H,a.M,a.S,a.L));return b.setUTCFullYear(a.y),b}return new Date(Date.UTC(a.y,a.m,a.d,a.H,a.M,a.S,a.L))}function r(a){return{y:a,m:0,d:1,H:0,M:0,S:0,L:0}}function i(i){function aa(b,d){return function(e){var f,g,h,i=[],j=-1,a=0,c=b.length;for(e instanceof Date||(e=new Date(+e));++j<c;)37===b.charCodeAt(j)&&(i.push(b.slice(a,j)),null==(g=K[f=b.charAt(++j)])?g="e"===f?" ":"0":f=b.charAt(++j),(h=d[f])&&(f=h(e,g)),i.push(f),a=j+1);return i.push(b.slice(a,j)),i.join("")}}function ba(b,c){return function(d){var e=r(1900);if(Ta(e,b,d+="",0)!=d.length)return null;if("p"in e&&(e.H=e.H%12+12*e.p),"W"in e||"U"in e){"w"in e||(e.w="W"in e?1:0);var f="Z"in e?da(r(e.y)).getUTCDay():c(r(e.y)).getDay();e.m=0,e.d="W"in e?(e.w+6)%7+7*e.W-(f+5)%7:e.w+7*e.U-(f+6)%7}return"Z"in e?(e.H+=0|e.Z/100,e.M+=e.Z%100,da(e)):c(e)}}function Ta(b,d,e,f){for(var g,h,i=0,j=d.length,a=e.length;i<j;){if(f>=a)return-1;if(37===(g=d.charCodeAt(i++))){if(g=d.charAt(i++),!(h=kb[g in K?d.charAt(i++):g])||0>(f=h(b,e,f)))return-1;}else if(g!=e.charCodeAt(f++))return-1}return f}var u=i.dateTime,Ua=i.date,Va=i.time,e=i.periods,Wa=i.days,Xa=i.shortDays,Ya=i.months,Za=i.shortMonths,$a=a(e),_a=c(e),ab=a(Wa),bb=c(Wa),cb=a(Xa),db=c(Xa),eb=a(Ya),fb=c(Ya),gb=a(Za),hb=c(Za),ib={a:function(a){return Xa[a.getDay()]},A:function(a){return Wa[a.getDay()]},b:function(a){return Za[a.getMonth()]},B:function(a){return Ya[a.getMonth()]},c:null,d:qa,e:qa,H:ra,I:sa,j:ta,L:ua,m:va,M:wa,p:function(a){return e[+(12<=a.getHours())]},S:xa,U:ya,w:za,W:Aa,x:null,X:null,y:Ba,Y:Ca,Z:Da,"%":Sa},jb={a:function(a){return Xa[a.getUTCDay()]},A:function(a){return Wa[a.getUTCDay()]},b:function(a){return Za[a.getUTCMonth()]},B:function(a){return Ya[a.getUTCMonth()]},c:null,d:Ea,e:Ea,H:Fa,I:Ga,j:Ha,L:Ia,m:Ja,M:Ka,p:function(a){return e[+(12<=a.getUTCHours())]},S:La,U:Ma,w:Na,W:Oa,x:null,X:null,y:Pa,Y:Qa,Z:Ra,"%":Sa},kb={a:function(a,b,c){var d=cb.exec(b.slice(c));return d?(a.w=db[d[0].toLowerCase()],c+d[0].length):-1},A:function(a,b,c){var d=ab.exec(b.slice(c));return d?(a.w=bb[d[0].toLowerCase()],c+d[0].length):-1},b:function(a,b,c){var d=gb.exec(b.slice(c));return d?(a.m=hb[d[0].toLowerCase()],c+d[0].length):-1},B:function(a,b,c){var d=eb.exec(b.slice(c));return d?(a.m=fb[d[0].toLowerCase()],c+d[0].length):-1},c:function(a,b,c){return Ta(a,u,b,c)},d:ja,e:ja,H:la,I:la,j:ka,L:oa,m:ia,M:ma,p:function(a,b,c){var d=$a.exec(b.slice(c));return d?(a.p=_a[d[0].toLowerCase()],c+d[0].length):-1},S:na,U:s,w:n,W:ea,x:function(a,b,c){return Ta(a,Ua,b,c)},X:function(a,b,c){return Ta(a,Va,b,c)},y:ga,Y:fa,Z:ha,"%":pa};return ib.x=aa(Ua,ib),ib.X=aa(Va,ib),ib.c=aa(u,ib),jb.x=aa(Ua,jb),jb.X=aa(Va,jb),jb.c=aa(u,jb),{format:function(a){var b=aa(a+="",ib);return b.toString=function(){return a},b},parse:function(a){var b=ba(a+="",ca);return b.toString=function(){return a},b},utcFormat:function(a){var b=aa(a+="",jb);return b.toString=function(){return a},b},utcParse:function(a){var b=ba(a,da);return b.toString=function(){return a},b}}}function o(a,b,c){var d=0>a?"-":"",e=(d?-a:a)+"",f=e.length;return d+(f<c?Array(c-f+1).join(b)+e:e)}function e(a){return a.replace(Va,"\\$&")}function a(a){return new RegExp("^(?:"+a.map(e).join("|")+")","i")}function c(a){for(var b={},c=-1,d=a.length;++c<d;)b[a[c].toLowerCase()]=c;return b}function n(a,b,c){var d=Ta.exec(b.slice(c,c+1));return d?(a.w=+d[0],c+d[0].length):-1}function s(a,b,c){var d=Ta.exec(b.slice(c));return d?(a.U=+d[0],c+d[0].length):-1}function ea(a,b,c){var d=Ta.exec(b.slice(c));return d?(a.W=+d[0],c+d[0].length):-1}function fa(a,b,c){var d=Ta.exec(b.slice(c,c+4));return d?(a.y=+d[0],c+d[0].length):-1}function ga(a,b,c){var d=Ta.exec(b.slice(c,c+2));return d?(a.y=+d[0]+(68<+d[0]?1900:2e3),c+d[0].length):-1}function ha(a,b,c){var d=/^(Z)|([+-]\d\d)(?:\:?(\d\d))?/.exec(b.slice(c,c+6));return d?(a.Z=d[1]?0:-(d[2]+(d[3]||"00")),c+d[0].length):-1}function ia(a,b,c){var d=Ta.exec(b.slice(c,c+2));return d?(a.m=d[0]-1,c+d[0].length):-1}function ja(a,b,c){var d=Ta.exec(b.slice(c,c+2));return d?(a.d=+d[0],c+d[0].length):-1}function ka(a,b,c){var d=Ta.exec(b.slice(c,c+3));return d?(a.m=0,a.d=+d[0],c+d[0].length):-1}function la(a,b,c){var d=Ta.exec(b.slice(c,c+2));return d?(a.H=+d[0],c+d[0].length):-1}function ma(a,b,c){var d=Ta.exec(b.slice(c,c+2));return d?(a.M=+d[0],c+d[0].length):-1}function na(a,b,c){var d=Ta.exec(b.slice(c,c+2));return d?(a.S=+d[0],c+d[0].length):-1}function oa(a,b,c){var d=Ta.exec(b.slice(c,c+3));return d?(a.L=+d[0],c+d[0].length):-1}function pa(a,b,c){var d=Ua.exec(b.slice(c,c+1));return d?c+d[0].length:-1}function qa(a,b){return o(a.getDate(),b,2)}function ra(a,b){return o(a.getHours(),b,2)}function sa(a,b){return o(a.getHours()%12||12,b,2)}function ta(a,b){return o(1+ba.timeDay.count(ba.timeYear(a),a),b,3)}function ua(a,b){return o(a.getMilliseconds(),b,3)}function va(a,b){return o(a.getMonth()+1,b,2)}function wa(a,b){return o(a.getMinutes(),b,2)}function xa(a,b){return o(a.getSeconds(),b,2)}function ya(a,b){return o(ba.timeSunday.count(ba.timeYear(a),a),b,2)}function za(a){return a.getDay()}function Aa(a,b){return o(ba.timeMonday.count(ba.timeYear(a),a),b,2)}function Ba(a,b){return o(a.getFullYear()%100,b,2)}function Ca(a,b){return o(a.getFullYear()%1e4,b,4)}function Da(a){var b=a.getTimezoneOffset();return(0<b?"-":(b*=-1,"+"))+o(0|b/60,"0",2)+o(b%60,"0",2)}function Ea(a,b){return o(a.getUTCDate(),b,2)}function Fa(a,b){return o(a.getUTCHours(),b,2)}function Ga(a,b){return o(a.getUTCHours()%12||12,b,2)}function Ha(a,b){return o(1+ba.utcDay.count(ba.utcYear(a),a),b,3)}function Ia(a,b){return o(a.getUTCMilliseconds(),b,3)}function Ja(a,b){return o(a.getUTCMonth()+1,b,2)}function Ka(a,b){return o(a.getUTCMinutes(),b,2)}function La(a,b){return o(a.getUTCSeconds(),b,2)}function Ma(a,b){return o(ba.utcSunday.count(ba.utcYear(a),a),b,2)}function Na(a){return a.getUTCDay()}function Oa(a,b){return o(ba.utcMonday.count(ba.utcYear(a),a),b,2)}function Pa(a,b){return o(a.getUTCFullYear()%100,b,2)}function Qa(a,b){return o(a.getUTCFullYear()%1e4,b,4)}function Ra(){return"+0000"}function Sa(){return"%"}function t(a){return u=i(a),aa.timeFormat=u.format,aa.timeParse=u.parse,aa.utcFormat=u.utcFormat,aa.utcParse=u.utcParse,u}var u,K={"-":"",_:" ",0:"0"},Ta=/^\s*\d+/,Ua=/^%/,Va=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;t({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Wa=Date.prototype.toISOString?function(a){return a.toISOString()}:aa.utcFormat("%Y-%m-%dT%H:%M:%S.%LZ"),Xa=+new Date("2000-01-01T00:00:00.000Z")?function(a){var b=new Date(a);return isNaN(b)?null:b}:aa.utcParse("%Y-%m-%dT%H:%M:%S.%LZ");aa.timeFormatDefaultLocale=t,aa.timeFormatLocale=i,aa.isoFormat=Wa,aa.isoParse=Xa,Object.defineProperty(aa,"__esModule",{value:!0})})},{"d3-time":4}],4:[function(a,b,c){!function(a,d){d("object"==("undefined"===typeof c?"undefined":babelHelpers.typeof(c))&&void 0!==b?c:a.d3=a.d3||{})}(this,function(aa){"use strict";function ba(b,c,f,g){function h(a){return b(a=new Date(+a)),a}return h.floor=h,h.ceil=function(a){return b(a=new Date(a-1)),c(a,1),b(a),a},h.round=function(a){var b=h(a),c=h.ceil(a);return a-b<c-a?b:c},h.offset=function(a,b){return c(a=new Date(+a),null==b?1:d(b)),a},h.range=function(a,f,g){var i=[];if(a=h.ceil(a),g=null==g?1:d(g),!(a<f&&0<g))return i;do i.push(new Date(+a));while((c(a,g),b(a),a<f));return i},h.filter=function(a){return ba(function(c){if(c>=c)for(;b(c),!a(c);)c.setTime(c-1)},function(b,d){if(b>=b)for(;0<=--d;)for(;c(b,1),!a(b););})},f&&(h.count=function(a,c){return ca.setTime(+a),i.setTime(+c),b(ca),b(i),d(f(ca,i))},h.every=function(a){return a=d(a),isFinite(a)&&0<a?1<a?h.filter(g?function(b){return 0==g(b)%a}:function(b){return 0==h.count(0,b)%a}):h:null}),h}function e(b){return ba(function(a){a.setDate(a.getDate()-(a.getDay()+7-b)%7),a.setHours(0,0,0,0)},function(a,b){a.setDate(a.getDate()+7*b)},function(b,d){return(d-b-(d.getTimezoneOffset()-b.getTimezoneOffset())*a)/c})}function n(a){return ba(function(b){b.setUTCDate(b.getUTCDate()-(b.getUTCDay()+7-a)%7),b.setUTCHours(0,0,0,0)},function(a,b){a.setUTCDate(a.getUTCDate()+7*b)},function(a,b){return(b-a)/c})}var ca=new Date,i=new Date,o=ba(function(){},function(a,b){a.setTime(+a+b)},function(a,b){return b-a});o.every=function(a){return a=d(a),isFinite(a)&&0<a?1<a?ba(function(b){b.setTime(d(b/a)*a)},function(b,c){b.setTime(+b+c*a)},function(b,c){return(c-b)/a}):o:null};var r=o.range,a=6e4,c=6048e5,s=ba(function(a){a.setTime(1e3*d(a/1e3))},function(a,b){a.setTime(+a+1e3*b)},function(a,b){return(b-a)/1e3},function(a){return a.getUTCSeconds()}),l=s.range,f=ba(function(b){b.setTime(d(b/a)*a)},function(b,c){b.setTime(+b+c*a)},function(b,c){return(c-b)/a},function(a){return a.getMinutes()}),h=f.range,t=ba(function(b){var c=b.getTimezoneOffset()*a%36e5;0>c&&(c+=36e5),b.setTime(36e5*d((+b-c)/36e5)+c)},function(a,b){a.setTime(+a+36e5*b)},function(a,b){return(b-a)/36e5},function(a){return a.getHours()}),m=t.range,p=ba(function(a){a.setHours(0,0,0,0)},function(a,b){a.setDate(a.getDate()+b)},function(b,c){return(c-b-(c.getTimezoneOffset()-b.getTimezoneOffset())*a)/864e5},function(a){return a.getDate()-1}),u=p.range,g=e(0),v=e(1),y=e(2),w=e(3),T=e(4),M=e(5),x=e(6),D=g.range,F=v.range,A=y.range,C=w.range,b=T.range,S=M.range,U=x.range,L=ba(function(a){a.setDate(1),a.setHours(0,0,0,0)},function(a,b){a.setMonth(a.getMonth()+b)},function(a,b){return b.getMonth()-a.getMonth()+12*(b.getFullYear()-a.getFullYear())},function(a){return a.getMonth()}),E=L.range,O=ba(function(a){a.setMonth(0,1),a.setHours(0,0,0,0)},function(a,b){a.setFullYear(a.getFullYear()+b)},function(a,b){return b.getFullYear()-a.getFullYear()},function(a){return a.getFullYear()});O.every=function(a){return isFinite(a=d(a))&&0<a?ba(function(b){b.setFullYear(d(b.getFullYear()/a)*a),b.setMonth(0,1),b.setHours(0,0,0,0)},function(b,c){b.setFullYear(b.getFullYear()+c*a)}):null};var Y=O.range,P=ba(function(a){a.setUTCSeconds(0,0)},function(b,c){b.setTime(+b+c*a)},function(b,c){return(c-b)/a},function(a){return a.getUTCMinutes()}),H=P.range,N=ba(function(a){a.setUTCMinutes(0,0,0)},function(a,b){a.setTime(+a+36e5*b)},function(a,b){return(b-a)/36e5},function(a){return a.getUTCHours()}),I=N.range,j=ba(function(a){a.setUTCHours(0,0,0,0)},function(a,b){a.setUTCDate(a.getUTCDate()+b)},function(a,b){return(b-a)/864e5},function(a){return a.getUTCDate()-1}),k=j.range,R=n(0),W=n(1),q=n(2),z=n(3),B=n(4),V=n(5),X=n(6),Z=R.range,$=W.range,J=q.range,G=z.range,Q=B.range,K=V.range,_=X.range,da=ba(function(a){a.setUTCDate(1),a.setUTCHours(0,0,0,0)},function(a,b){a.setUTCMonth(a.getUTCMonth()+b)},function(a,b){return b.getUTCMonth()-a.getUTCMonth()+12*(b.getUTCFullYear()-a.getUTCFullYear())},function(a){return a.getUTCMonth()}),ea=da.range,fa=ba(function(a){a.setUTCMonth(0,1),a.setUTCHours(0,0,0,0)},function(a,b){a.setUTCFullYear(a.getUTCFullYear()+b)},function(a,b){return b.getUTCFullYear()-a.getUTCFullYear()},function(a){return a.getUTCFullYear()});fa.every=function(a){return isFinite(a=d(a))&&0<a?ba(function(b){b.setUTCFullYear(d(b.getUTCFullYear()/a)*a),b.setUTCMonth(0,1),b.setUTCHours(0,0,0,0)},function(b,c){b.setUTCFullYear(b.getUTCFullYear()+c*a)}):null};var ga=fa.range;aa.timeInterval=ba,aa.timeMillisecond=o,aa.timeMilliseconds=r,aa.utcMillisecond=o,aa.utcMilliseconds=r,aa.timeSecond=s,aa.timeSeconds=l,aa.utcSecond=s,aa.utcSeconds=l,aa.timeMinute=f,aa.timeMinutes=h,aa.timeHour=t,aa.timeHours=m,aa.timeDay=p,aa.timeDays=u,aa.timeWeek=g,aa.timeWeeks=D,aa.timeSunday=g,aa.timeSundays=D,aa.timeMonday=v,aa.timeMondays=F,aa.timeTuesday=y,aa.timeTuesdays=A,aa.timeWednesday=w,aa.timeWednesdays=C,aa.timeThursday=T,aa.timeThursdays=b,aa.timeFriday=M,aa.timeFridays=S,aa.timeSaturday=x,aa.timeSaturdays=U,aa.timeMonth=L,aa.timeMonths=E,aa.timeYear=O,aa.timeYears=Y,aa.utcMinute=P,aa.utcMinutes=H,aa.utcHour=N,aa.utcHours=I,aa.utcDay=j,aa.utcDays=k,aa.utcWeek=R,aa.utcWeeks=Z,aa.utcSunday=R,aa.utcSundays=Z,aa.utcMonday=W,aa.utcMondays=$,aa.utcTuesday=q,aa.utcTuesdays=J,aa.utcWednesday=z,aa.utcWednesdays=G,aa.utcThursday=B,aa.utcThursdays=Q,aa.utcFriday=V,aa.utcFridays=K,aa.utcSaturday=X,aa.utcSaturdays=_,aa.utcMonth=da,aa.utcMonths=ea,aa.utcYear=fa,aa.utcYears=ga,Object.defineProperty(aa,"__esModule",{value:!0})})},{}],5:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d;!function(a){a.QUANTITATIVE="quantitative",a.ORDINAL="ordinal",a.TEMPORAL="temporal",a.NOMINAL="nominal"}(d=c.Type||(c.Type={})),c.QUANTITATIVE=d.QUANTITATIVE,c.ORDINAL=d.ORDINAL,c.TEMPORAL=d.TEMPORAL,c.NOMINAL=d.NOMINAL,c.getFullName=function(a){if(a)switch(a=a.toLowerCase()){case"q":case c.QUANTITATIVE:return"quantitative";case"t":case c.TEMPORAL:return"temporal";case"o":case c.ORDINAL:return"ordinal";case"n":case c.NOMINAL:return"nominal";}}},{}],6:[function(b,d,e){"use strict";function f(a){return 0==a%1?h.format(",")(a):h.format(",.2f")(a)}function g(b){var d=c.timeFormat(".%L"),e=c.timeFormat(":%S"),f=c.timeFormat("%I:%M"),g=c.timeFormat("%I %p"),h=c.timeFormat("%a %d"),i=c.timeFormat("%b %d"),k=c.timeFormat("%B"),a=c.timeFormat("%Y");return(j.timeSecond(b)<b?d:j.timeMinute(b)<b?e:j.timeHour(b)<b?f:j.timeDay(b)<b?g:j.timeMonth(b)<b?j.timeWeek(b)<b?h:i:j.timeYear(b)<b?k:a)(b)}Object.defineProperty(e,"__esModule",{value:!0});var h=b("d3-format"),j=b("d3-time"),c=b("d3-time-format");e.customFormat=function(a,b,d){if(void 0!==a&&null!==a&&b)switch(b){case"time":return d?c.timeFormat(d)(a):g(a);case"number":return d?h.format(d)(a):f(a);case"string":default:return a;}},e.autoFormat=function(a){return"number"==typeof a?f(a):a instanceof Date?g(a):a},e.autoNumberFormat=f,e.autoTimeFormat=g},{"d3-format":1,"d3-time":4,"d3-time-format":3}],7:[function(b,i,e){"use strict";function j(b,d){b.addEventListener("mouseover.tooltipInit",function(a,b){q(b)&&(k(),r=window.setTimeout(function(){o(a,b,d)},d.delay||h.DELAY))}),b.addEventListener("mousemove.tooltipUpdate",function(b,c){q(c)&&g&&a(b,c,d)}),b.addEventListener("mouseout.tooltipRemove",function(a,b){q(b)&&(k(),g&&c(a,b,d))})}function k(){window.clearTimeout(r),r=void 0}function o(a,b,c){var e=p.getTooltipPlaceholder(),h=d.getTooltipData(b,c);h&&0!==h.length&&(p.bindData(e,h),p.updatePosition(a,c),p.updateColorTheme(c),f.select("#vis-tooltip").style("visibility","visible"),g=!0,c.onAppear&&c.onAppear(a,b))}function a(a,b,c){q(b)&&(p.updatePosition(a,c),c.onMove&&c.onMove(a,b))}function c(a,b,c){q(b)&&(f.select("#vis-tooltip").style("visibility","hidden"),g=!1,p.clearData(),p.clearColorTheme(),p.clearPosition(),c.onDisappear&&c.onDisappear(a,b))}function q(a){return a&&a.datum&&!a.datum._facetID}function l(a){var b={};for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b}Object.defineProperty(e,"__esModule",{value:!0});var f=b("d3-selection"),h=b("./options"),d=b("./parseOption"),m=b("./supplementField"),p=b("./tooltipDisplay"),r=void 0,g=!1;e.vega=function(a,b){return void 0===b&&(b={showAllFields:!0}),j(a,l(b)),{destroy:function(){a.removeEventListener("mouseover.tooltipInit"),a.removeEventListener("mousemove.tooltipUpdate"),a.removeEventListener("mouseout.tooltipRemove"),k()}}},e.vegaLite=function(a,b,c){return void 0===c&&(c={showAllFields:!0}),c=m.supplementOptions(l(c),b),j(a,c),{destroy:function(){a.removeEventListener("mouseover.tooltipInit"),a.removeEventListener("mousemove.tooltipUpdate"),a.removeEventListener("mouseout.tooltipRemove"),k()}}}},{"./options":8,"./parseOption":9,"./supplementField":10,"./tooltipDisplay":11,"d3-selection":2}],8:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.DELAY=100},{}],9:[function(b,d,e){"use strict";function g(b,d){if("group"!==b.mark.marktype||"nested_main_group"!==b.mark.name){var e={};for(var f in b.datum)b.datum.hasOwnProperty(f)&&(e[f]=b.datum[f]);return k(e,["_id","_prev","width","height","count_start","count_end","layout_start","layout_mid","layout_end","layout_path","layout_x","layout_y"]),a(e,d.fields),c(e,d.fields),m(b.mark.marktype,e),!0===d.showAllFields?i(e,d):h(e,d)}}function h(a,b){var c=[];return b.fields.forEach(function(b){var d=b.title?b.title:b.field,e=j(a,b.field);if(void 0!==e){var f=o.customFormat(e,b.formatType,b.format)||o.autoFormat(e);c.push({title:d,value:f})}}),c}function j(a,b){var c,d=b.split("."),e=d[0];return d.shift(),a[e]&&(c=a[e],d.forEach(function(a){c[a]&&(c=c[a])})),void 0===c?void console.warn("[Tooltip] Cannot find field "+b+" in data."):c}function i(b,f){var e=[],g={};if(f&&f.fields)for(var j,k=0,i=f.fields;k<i.length;k++)j=i[k],g[j.field]=j;for(var m in b)if(b.hasOwnProperty(m)){var a=b[m],c=void 0;c=g[m]&&g[m].title?g[m].title:m;var n=void 0,l=void 0;g[m]&&(n=g[m].formatType,l=g[m].format);var h=o.customFormat(a,n,l)||o.autoFormat(a);e.push({title:c,value:h})}return e}function k(a,b){b.forEach(function(b){delete a[b]})}function a(a,b){b&&b.forEach(function(b){b.removeOriginalTemporalField&&k(a,[b.removeOriginalTemporalField])})}function c(a,b){if(b)return b.forEach(function(b){if(!0===b.bin){var d=b.field,e=d.concat("_start"),f=d.concat("_mid"),g=d.concat("_end"),h=a[e],i=a[g];if(void 0!==h&&void 0!==i){a[d]=h+"-"+i}var c=[];c.push(e,f,g),k(a,c)}}),a}function m(a,b){if("line"===a||"area"===a){var c=[];for(var d in b)b.hasOwnProperty(d)&&b[d]instanceof Date&&c.push(d);k(b,c)}}Object.defineProperty(e,"__esModule",{value:!0});var o=b("./formatFieldValue");e.getTooltipData=g,e.prepareCustomFieldsData=h,e.getValue=j,e.prepareAllFieldsData=i,e.removeFields=k,e.removeDuplicateTimeFields=a,e.combineBinFields=c,e.dropFieldsForLineArea=m},{"./formatFieldValue":6}],10:[function(b,a,d){(function(f){"use strict";function g(b,d){if(d&&b&&!(0>=b.length))if(d.aggregate){for(var e=0,f=b;e<f.length;e++)if((j=f[e]).field===d.field&&j.aggregate===d.aggregate)return j;for(var g=0,h=b;g<h.length;g++)if((j=h[g]).field===d.field&&!j.aggregate)return j}else for(var j,c=0,k=b;c<k.length;c++)if(j=k[c],j.field===d.field)return j}function h(a,b){if(b&&b.field&&a)for(var c,d=0,e=a;d<e.length;d++)if(c=e[d],c.field===b.field){if(!c.aggregate)return c;if(c.aggregate===b.aggregate||!b.aggregate)return c}}function i(b,d,g){var h=j.util.extend({},g.config);{if(b||d){!b&&d&&(b={}),b&&!d&&(d={});var k={};if(k.field=d.field?j.fieldDef.field(d):b.field,d.type===a.TEMPORAL&&d.timeUnit){var i=d.field;k.removeOriginalTemporalField=i;for(var m,f=0,n=j.spec.fieldDefs(g);f<n.length;f++)if(m=n[f],m.field===i&&!m.timeUnit){k.removeOriginalTemporalField=void 0;break}}if(h.countTitle||(h.countTitle=j.config.defaultConfig.countTitle),k.title=b.title?b.title:j.fieldDef.title(d,h),k.formatType=b.formatType?b.formatType:c[d.type],b.format)k.format=b.format;else switch(k.formatType){case"time":k.format=d.timeUnit?j.timeUnit.formatExpression(d.timeUnit,"",!1,!1).split("'")[1]:h.timeFormat||j.config.defaultConfig.timeFormat;break;case"number":k.format=h.numberFormat;}return d.bin&&(k.field=k.field.replace("_start","_range"),k.bin=!0,k.formatType="string"),k}console.error("[Tooltip] Cannot supplement a field when field and fieldDef are both empty.")}}Object.defineProperty(d,"__esModule",{value:!0});var j="undefined"==typeof window?void 0===f?null:f.vl:window.vl,a=b("vega-lite/build/src/type"),c={quantitative:"number",temporal:"time",ordinal:void 0,nominal:void 0};d.supplementOptions=function(a,b){var c=[];return!1===a.showAllFields?a.fields&&a.fields.forEach(function(a){var d=i(a,h(j.spec.fieldDefs(b),a),b);c.push(d)}):j.spec.fieldDefs(b).forEach(function(d){var e=i(g(a.fields,d),d,b);c.push(e)}),a.fields=c,a},d.getFieldOption=g,d.getFieldDef=h,d.supplementFieldOption=i}).call(this,"undefined"==typeof global?"undefined"==typeof self?"undefined"==typeof window?{}:window:self:global)},{"vega-lite/build/src/type":5}],11:[function(a,b,c){"use strict";function d(){f.select("#vis-tooltip").classed("dark-theme light-theme",!1)}Object.defineProperty(c,"__esModule",{value:!0});var f=a("d3-selection");c.getTooltipPlaceholder=function(){return f.select("#vis-tooltip").empty()?f.select("body").append("div").attr("id","vis-tooltip").attr("class","vg-tooltip"):f.select("#vis-tooltip")},c.bindData=function(a,b){a.selectAll("table").remove();var c=a.append("table").selectAll(".tooltip-row").data(b);c.exit().remove();var d=c.enter().append("tr").attr("class","tooltip-row");d.append("td").attr("class","key").text(function(a){return a.title+":"}),d.append("td").attr("class","value").text(function(a){return a.value})},c.clearData=function(){f.select("#vis-tooltip").selectAll(".tooltip-row").data([]).exit().remove()},c.updatePosition=function(a,b){var c=10,d=10;b&&b.offset&&void 0!==b.offset.x&&null!==b.offset.x&&(c=b.offset.x),b&&b.offset&&void 0!==b.offset.y&&null!==b.offset.y&&(d=b.offset.y),f.select("#vis-tooltip").style("top",function(){var b=this.getBoundingClientRect().height;return a.clientY+b+d<window.innerHeight?a.clientY+d+"px":a.clientY-b-d+"px"}).style("left",function(){var b=this.getBoundingClientRect().width;return a.clientX+b+c<window.innerWidth?a.clientX+c+"px":a.clientX-b-c+"px"})},c.clearPosition=function(){f.select("#vis-tooltip").style("top","-9999px").style("left","-9999px")},c.updateColorTheme=function(a){d(),a&&"dark"===a.colorTheme?f.select("#vis-tooltip").classed("dark-theme",!0):f.select("#vis-tooltip").classed("light-theme",!0)},c.clearColorTheme=d},{"d3-selection":2}]},{},[7])(7)});