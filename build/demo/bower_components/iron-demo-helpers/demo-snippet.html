<html><head><link rel="import" href="../polymer/polymer.html"><link rel="import" href="../marked-element/marked-element.html"><link rel="import" href="../prism-element/prism-highlighter.html"><link rel="import" href="../prism-element/prism-theme-default.html"></head><body><dom-module id="demo-snippet"><template><style include="prism-theme-default">:host{display:block;box-shadow:0 2px 2px 0 rgba(0, 0, 0, 0.14),
                    0 1px 5px 0 rgba(0, 0, 0, 0.12),
                    0 3px 1px -2px rgba(0, 0, 0, 0.2);margin-bottom:40px;@apply --demo-snippet;}.demo{display:block;border-bottom:1px solid #e0e0e0;background-color:white;margin:0;padding:20px;@apply --demo-snippet-demo;}.code-container{margin:0;background-color:#f5f5f5;font-size:13px;overflow:auto;position:relative;padding:0 20px;@apply --demo-snippet-code;}.code{padding:20px;margin:0;background-color:var(--google-grey-100);font-size:13px;overflow:auto;@apply (--demo-snippet-code);}.code > pre{margin:0;padding:0 0 10px 0;}button{position:absolute;top:0;right:0px;text-transform:uppercase;border:none;cursor:pointer;background:#e0e0e0;}</style><prism-highlighter></prism-highlighter><div class="demo"><slot id="content"></slot></div><div class="code-container"><marked-element markdown="[[_markdown]]" id="marked"><div class="code" slot="markdown-html" id="code"></div></marked-element><button id="copyButton" title="copy to clipboard" on-tap="_copyToClipboard">Copy</button></div></template><script>'use strict';Polymer({is:'demo-snippet',properties:{_markdown:{type:String}},attached:function(){this._observer=Polymer.dom(this.$.content).observeNodes(function(){this._updateMarkdown()}.bind(this))},detached:function(){this._observer&&(Polymer.dom(this.$.content).unobserveNodes(this._observer),this._observer=null)},_updateMarkdown:function(){var a=Polymer.dom(this).queryDistributedElements('template')[0];if(!a)return void(this._markdown='');var b=this.$.marked.unindent(a.innerHTML);b=b.replace(/=""/g,''),this._markdown='```\n'+b+'\n```',a.hasAttribute('is')||(Polymer.dom(this.$.content).unobserveNodes(this._observer),this._observer=null,Polymer.dom(this).appendChild(document.importNode(a.content,!0)))},_copyToClipboard:function(){var a=document.createRange();a.selectNodeContents(this.$.code);var b=window.getSelection();b.removeAllRanges(),b.addRange(a);var c=!1;try{c=document.execCommand('copy'),this.$.copyButton.textContent='done'}catch(a){console.error(a),this.$.copyButton.textContent='error'}return setTimeout(this._resetCopyButtonState.bind(this),1e3),b.removeAllRanges(),c},_resetCopyButtonState:function(){this.$.copyButton.textContent='copy'}});</script></dom-module></body></html>