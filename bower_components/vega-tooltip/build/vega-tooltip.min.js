!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).vegaTooltip=t()}}(function(){return function t(e,n,r){function i(u,a){if(!n[u]){if(!e[u]){var c="function"==typeof require&&require;if(!a&&c)return c(u,!0);if(o)return o(u,!0);var s=new Error("Cannot find module '"+u+"'");throw s.code="MODULE_NOT_FOUND",s}var l=n[u]={exports:{}};e[u][0].call(l.exports,function(t){var n=e[u][1][t];return i(n||t)},l,l.exports,t,e,n,r)}return n[u].exports}for(var o="function"==typeof require&&require,u=0;u<r.length;u++)i(r[u]);return i}({1:[function(t,e,n){!function(t,r){r("object"==typeof n&&void 0!==e?n:t.d3=t.d3||{})}(this,function(t){"use strict";function e(t){return new n(t)}function n(t){if(!(e=f.exec(t)))throw new Error("invalid format: "+t);var e,n=e[1]||" ",r=e[2]||">",i=e[3]||"-",o=e[4]||"",u=!!e[5],a=e[6]&&+e[6],c=!!e[7],s=e[8]&&+e[8].slice(1),h=e[9]||"";"n"===h?(c=!0,h="g"):l[h]||(h=""),(u||"0"===n&&"="===r)&&(u=!0,n="0",r="="),this.fill=n,this.align=r,this.sign=i,this.symbol=o,this.zero=u,this.width=a,this.comma=c,this.precision=s,this.type=h}function r(e){return h=p(e),t.format=h.format,t.formatPrefix=h.formatPrefix,h}var i,o=function(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]},u=function(t){return t=o(Math.abs(t)),t?t[1]:NaN},a=function(t,e){return function(n,r){for(var i=n.length,o=[],u=0,a=t[0],c=0;i>0&&a>0&&(c+a+1>r&&(a=Math.max(1,r-c)),o.push(n.substring(i-=a,i+a)),!((c+=a+1)>r));)a=t[u=(u+1)%t.length];return o.reverse().join(e)}},c=function(t){return function(e){return e.replace(/[0-9]/g,function(e){return t[+e]})}},s=function(t,e){var n=o(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")},l={"":function(t,e){t:for(var n,r=(t=t.toPrecision(e)).length,i=1,o=-1;i<r;++i)switch(t[i]){case".":o=n=i;break;case"0":0===o&&(o=i),n=i;break;case"e":break t;default:o>0&&(o=0)}return o>0?t.slice(0,o)+t.slice(n+1):t},"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return s(100*t,e)},r:s,s:function(t,e){var n=o(t,e);if(!n)return t+"";var r=n[0],u=n[1],a=u-(i=3*Math.max(-8,Math.min(8,Math.floor(u/3))))+1,c=r.length;return a===c?r:a>c?r+new Array(a-c+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+o(t,Math.max(0,e+a-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},f=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;e.prototype=n.prototype,n.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var h,d=function(t){return t},m=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"],p=function(t){function n(t){function n(t){var e,n,c,s=w,l=T;if("c"===_)l=M(t)+l,t="";else{var p=(t=+t)<0;if(t=M(Math.abs(t),y),p&&0==+t&&(p=!1),s=(p?"("===a?a:"-":"-"===a||"("===a?"":a)+s,l=l+("s"===_?m[8+i/3]:"")+(p&&"("===a?")":""),x)for(e=-1,n=t.length;++e<n;)if(48>(c=t.charCodeAt(e))||c>57){l=(46===c?f+t.slice(e+1):t.slice(e))+l,t=t.slice(0,e);break}}g&&!d&&(t=o(t,1/0));var D=s.length+t.length+l.length,F=D<v?new Array(v-D+1).join(r):"";switch(g&&d&&(t=o(F+t,F.length?v-l.length:1/0),F=""),u){case"<":t=s+t+l+F;break;case"=":t=s+F+t+l;break;case"^":t=F.slice(0,D=F.length>>1)+s+t+l+F.slice(D);break;default:t=F+s+t+l}return h(t)}var r=(t=e(t)).fill,u=t.align,a=t.sign,c=t.symbol,d=t.zero,v=t.width,g=t.comma,y=t.precision,_=t.type,w="$"===c?s[0]:"#"===c&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",T="$"===c?s[1]:/[%p]/.test(_)?p:"",M=l[_],x=!_||/[defgprs%]/.test(_);return y=null==y?_?6:12:/[gprs]/.test(_)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y)),n.toString=function(){return t+""},n}function r(t,r){var i=n((t=e(t),t.type="f",t)),o=3*Math.max(-8,Math.min(8,Math.floor(u(r)/3))),a=Math.pow(10,-o),c=m[8+o/3];return function(t){return i(a*t)+c}}var o=t.grouping&&t.thousands?a(t.grouping,t.thousands):d,s=t.currency,f=t.decimal,h=t.numerals?c(t.numerals):d,p=t.percent||"%";return{format:n,formatPrefix:r}};r({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var v=function(t){return Math.max(0,-u(Math.abs(t)))},g=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(u(e)/3)))-u(Math.abs(t)))},y=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,u(e)-u(t))+1};t.formatDefaultLocale=r,t.formatLocale=p,t.formatSpecifier=e,t.precisionFixed=v,t.precisionPrefix=g,t.precisionRound=y,Object.defineProperty(t,"__esModule",{value:!0})})},{}],2:[function(t,e,n){!function(t,r){r("object"==typeof n&&void 0!==e?n:t.d3=t.d3||{})}(this,function(t){"use strict";function e(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===K&&e.documentElement.namespaceURI===K?e.createElement(t):e.createElementNS(n,t)}}function n(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function r(){return new i}function i(){this._="@"+(++rt).toString(36)}function o(t,e,n){return t=u(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function u(e,n,r){return function(i){var o=t.event;t.event=i;try{e.call(this,this.__data__,n,r)}finally{t.event=o}}}function a(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}function c(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function s(t,e,n){var r=ct.hasOwnProperty(t.type)?o:u;return function(i,o,u){var a,c=this.__on,s=r(e,o,u);if(c)for(var l=0,f=c.length;l<f;++l)if((a=c[l]).type===t.type&&a.name===t.name)return this.removeEventListener(a.type,a.listener,a.capture),this.addEventListener(a.type,a.listener=s,a.capture=n),void(a.value=e);this.addEventListener(t.type,s,n),a={type:t.type,name:t.name,value:e,listener:s,capture:n},c?c.push(a):this.__on=[a]}}function l(e,n,r,i){var o=t.event;e.sourceEvent=t.event,t.event=e;try{return n.apply(r,i)}finally{t.event=o}}function f(){}function h(){return[]}function d(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function m(t,e,n,r,i,o){for(var u,a=0,c=e.length,s=o.length;a<s;++a)(u=e[a])?(u.__data__=o[a],r[a]=u):n[a]=new d(t,o[a]);for(;a<c;++a)(u=e[a])&&(i[a]=u)}function p(t,e,n,r,i,o,u){var a,c,s,l={},f=e.length,h=o.length,m=new Array(f);for(a=0;a<f;++a)(c=e[a])&&(m[a]=s=Tt+u.call(c,c.__data__,a,e),s in l?i[a]=c:l[s]=c);for(a=0;a<h;++a)(c=l[s=Tt+u.call(t,o[a],a,o)])?(r[a]=c,c.__data__=o[a],l[s]=null):n[a]=new d(t,o[a]);for(a=0;a<f;++a)(c=e[a])&&l[m[a]]===c&&(i[a]=c)}function v(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function g(t){return function(){this.removeAttribute(t)}}function y(t){return function(){this.removeAttributeNS(t.space,t.local)}}function _(t,e){return function(){this.setAttribute(t,e)}}function w(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function T(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function M(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function x(t){return function(){this.style.removeProperty(t)}}function D(t,e,n){return function(){this.style.setProperty(t,e,n)}}function F(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function A(t,e){return t.style.getPropertyValue(e)||Yt(t).getComputedStyle(t,null).getPropertyValue(e)}function C(t){return function(){delete this[t]}}function b(t,e){return function(){this[t]=e}}function S(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function U(t){return t.trim().split(/^|\s+/)}function L(t){return t.classList||new E(t)}function E(t){this._node=t,this._names=U(t.getAttribute("class")||"")}function O(t,e){for(var n=L(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Y(t,e){for(var n=L(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function P(t){return function(){O(this,t)}}function H(t){return function(){Y(this,t)}}function N(t,e){return function(){(e.apply(this,arguments)?O:Y)(this,t)}}function I(){this.textContent=""}function j(t){return function(){this.textContent=t}}function k(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function R(){this.innerHTML=""}function W(t){return function(){this.innerHTML=t}}function q(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function z(){this.nextSibling&&this.parentNode.appendChild(this)}function B(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function V(){return null}function X(){var t=this.parentNode;t&&t.removeChild(this)}function Z(t,e,n){var r=Yt(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function $(t,e){return function(){return Z(this,t,e)}}function J(t,e){return function(){return Z(this,t,e.apply(this,arguments))}}function G(t,e){this._groups=t,this._parents=e}function Q(){return new G([[document.documentElement]],Xt)}var K="http://www.w3.org/1999/xhtml",tt={svg:"http://www.w3.org/2000/svg",xhtml:K,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},et=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),tt.hasOwnProperty(e)?{space:tt[e],local:t}:t},nt=function(t){var r=et(t);return(r.local?n:e)(r)},rt=0;i.prototype=r.prototype={constructor:i,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var it=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var ot=document.documentElement;if(!ot.matches){var ut=ot.webkitMatchesSelector||ot.msMatchesSelector||ot.mozMatchesSelector||ot.oMatchesSelector;it=function(t){return function(){return ut.call(this,t)}}}}var at=it,ct={};t.event=null,"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(ct={mouseenter:"mouseover",mouseleave:"mouseout"}));var st=function(t,e,n){var r,i,o=a(t+""),u=o.length;{if(!(arguments.length<2)){for(l=e?s:c,null==n&&(n=!1),r=0;r<u;++r)this.each(l(o[r],e,n));return this}var l=this.node().__on;if(l)for(var f,h=0,d=l.length;h<d;++h)for(r=0,f=l[h];r<u;++r)if((i=o[r]).type===f.type&&i.name===f.name)return f.value}},lt=function(){for(var e,n=t.event;e=n.sourceEvent;)n=e;return n},ft=function(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]},ht=function(t){var e=lt();return e.changedTouches&&(e=e.changedTouches[0]),ft(t,e)},dt=function(t){return null==t?f:function(){return this.querySelector(t)}},mt=function(t){"function"!=typeof t&&(t=dt(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,u,a=e[i],c=a.length,s=r[i]=new Array(c),l=0;l<c;++l)(o=a[l])&&(u=t.call(o,o.__data__,l,a))&&("__data__"in o&&(u.__data__=o.__data__),s[l]=u);return new G(r,this._parents)},pt=function(t){return null==t?h:function(){return this.querySelectorAll(t)}},vt=function(t){"function"!=typeof t&&(t=pt(t));for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var u,a=e[o],c=a.length,s=0;s<c;++s)(u=a[s])&&(r.push(t.call(u,u.__data__,s,a)),i.push(u));return new G(r,i)},gt=function(t){"function"!=typeof t&&(t=at(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,u=e[i],a=u.length,c=r[i]=[],s=0;s<a;++s)(o=u[s])&&t.call(o,o.__data__,s,u)&&c.push(o);return new G(r,this._parents)},yt=function(t){return new Array(t.length)},_t=function(){return new G(this._enter||this._groups.map(yt),this._parents)};d.prototype={constructor:d,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var wt=function(t){return function(){return t}},Tt="$",Mt=function(t,e){if(!t)return d=new Array(this.size()),s=-1,this.each(function(t){d[++s]=t}),d;var n=e?p:m,r=this._parents,i=this._groups;"function"!=typeof t&&(t=wt(t));for(var o=i.length,u=new Array(o),a=new Array(o),c=new Array(o),s=0;s<o;++s){var l=r[s],f=i[s],h=f.length,d=t.call(l,l&&l.__data__,s,r),v=d.length,g=a[s]=new Array(v),y=u[s]=new Array(v);n(l,f,g,y,c[s]=new Array(h),d,e);for(var _,w,T=0,M=0;T<v;++T)if(_=g[T]){for(T>=M&&(M=T+1);!(w=y[M])&&++M<v;);_._next=w||null}}return u=new G(u,r),u._enter=a,u._exit=c,u},xt=function(){return new G(this._exit||this._groups.map(yt),this._parents)},Dt=function(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),u=new Array(r),a=0;a<o;++a)for(var c,s=e[a],l=n[a],f=s.length,h=u[a]=new Array(f),d=0;d<f;++d)(c=s[d]||l[d])&&(h[d]=c);for(;a<r;++a)u[a]=e[a];return new G(u,this._parents)},Ft=function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,u=i[o];--o>=0;)(r=i[o])&&(u&&u!==r.nextSibling&&u.parentNode.insertBefore(r,u),u=r);return this},At=function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=v);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var u,a=n[o],c=a.length,s=i[o]=new Array(c),l=0;l<c;++l)(u=a[l])&&(s[l]=u);s.sort(e)}return new G(i,this._parents).order()},Ct=function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},bt=function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t},St=function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var u=r[i];if(u)return u}return null},Ut=function(){var t=0;return this.each(function(){++t}),t},Lt=function(){return!this.node()},Et=function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],u=0,a=o.length;u<a;++u)(i=o[u])&&t.call(i,i.__data__,u,o);return this},Ot=function(t,e){var n=et(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?y:g:"function"==typeof e?n.local?M:T:n.local?w:_)(n,e))},Yt=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView},Pt=function(t,e,n){return arguments.length>1?this.each((null==e?x:"function"==typeof e?F:D)(t,e,null==n?"":n)):A(this.node(),t)},Ht=function(t,e){return arguments.length>1?this.each((null==e?C:"function"==typeof e?S:b)(t,e)):this.node()[t]};E.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Nt=function(t,e){var n=U(t+"");if(arguments.length<2){for(var r=L(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?N:e?P:H)(n,e))},It=function(t){return arguments.length?this.each(null==t?I:("function"==typeof t?k:j)(t)):this.node().textContent},jt=function(t){return arguments.length?this.each(null==t?R:("function"==typeof t?q:W)(t)):this.node().innerHTML},kt=function(){return this.each(z)},Rt=function(){return this.each(B)},Wt=function(t){var e="function"==typeof t?t:nt(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},qt=function(t,e){var n="function"==typeof t?t:nt(t),r=null==e?V:"function"==typeof e?e:dt(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},zt=function(){return this.each(X)},Bt=function(t){return arguments.length?this.property("__data__",t):this.node().__data__},Vt=function(t,e){return this.each(("function"==typeof e?J:$)(t,e))},Xt=[null];G.prototype=Q.prototype={constructor:G,select:mt,selectAll:vt,filter:gt,data:Mt,enter:_t,exit:xt,merge:Dt,order:Ft,sort:At,call:Ct,nodes:bt,node:St,size:Ut,empty:Lt,each:Et,attr:Ot,style:Pt,property:Ht,classed:Nt,text:It,html:jt,raise:kt,lower:Rt,append:Wt,insert:qt,remove:zt,datum:Bt,on:st,dispatch:Vt};var Zt=function(t){return"string"==typeof t?new G([[document.querySelector(t)]],[document.documentElement]):new G([[t]],Xt)},$t=function(t){return"string"==typeof t?new G([document.querySelectorAll(t)],[document.documentElement]):new G([null==t?[]:t],Xt)},Jt=function(t,e,n){arguments.length<3&&(n=e,e=lt().changedTouches);for(var r,i=0,o=e?e.length:0;i<o;++i)if((r=e[i]).identifier===n)return ft(t,r);return null},Gt=function(t,e){null==e&&(e=lt().touches);for(var n=0,r=e?e.length:0,i=new Array(r);n<r;++n)i[n]=ft(t,e[n]);return i};t.creator=nt,t.local=r,t.matcher=at,t.mouse=ht,t.namespace=et,t.namespaces=tt,t.select=Zt,t.selectAll=$t,t.selection=Q,t.selector=dt,t.selectorAll=pt,t.style=A,t.touch=Jt,t.touches=Gt,t.window=Yt,t.customEvent=l,Object.defineProperty(t,"__esModule",{value:!0})})},{}],3:[function(t,e,n){!function(r,i){"object"==typeof n&&void 0!==e?i(n,t("d3-time")):i(r.d3=r.d3||{},r.d3)}(this,function(t,e){"use strict";function n(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function r(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function i(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function o(t){function e(t,e){return function(n){var r,i,o,u=[],a=-1,c=0,s=t.length;for(n instanceof Date||(n=new Date(+n));++a<s;)37===t.charCodeAt(a)&&(u.push(t.slice(c,a)),null!=(i=rt[r=t.charAt(++a)])?r=t.charAt(++a):i="e"===r?" ":"0",(o=e[r])&&(r=o(n,i)),u.push(r),c=a+1);return u.push(t.slice(c,a)),u.join("")}}function o(t,e){return function(n){var o=i(1900);if(u(o,t,n+="",0)!=n.length)return null;if("p"in o&&(o.H=o.H%12+12*o.p),"W"in o||"U"in o){"w"in o||(o.w="W"in o?1:0);var a="Z"in o?r(i(o.y)).getUTCDay():e(i(o.y)).getDay();o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(a+5)%7:o.w+7*o.U-(a+6)%7}return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,r(o)):e(o)}}function u(t,e,n,r){for(var i,o,u=0,a=e.length,c=n.length;u<a;){if(r>=c)return-1;if(37===(i=e.charCodeAt(u++))){if(i=e.charAt(u++),!(o=Nt[i in rt?e.charAt(u++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function a(t,e,n){var r=Ft.exec(e.slice(n));return r?(t.p=At[r[0].toLowerCase()],n+r[0].length):-1}function K(t,e,n){var r=St.exec(e.slice(n));return r?(t.w=Ut[r[0].toLowerCase()],n+r[0].length):-1}function tt(t,e,n){var r=Ct.exec(e.slice(n));return r?(t.w=bt[r[0].toLowerCase()],n+r[0].length):-1}function et(t,e,n){var r=Ot.exec(e.slice(n));return r?(t.m=Yt[r[0].toLowerCase()],n+r[0].length):-1}function nt(t,e,n){var r=Lt.exec(e.slice(n));return r?(t.m=Et[r[0].toLowerCase()],n+r[0].length):-1}function it(t,e,n){return u(t,gt,e,n)}function ot(t,e,n){return u(t,yt,e,n)}function ut(t,e,n){return u(t,_t,e,n)}function at(t){return Mt[t.getDay()]}function ct(t){return Tt[t.getDay()]}function st(t){return Dt[t.getMonth()]}function lt(t){return xt[t.getMonth()]}function ft(t){return wt[+(t.getHours()>=12)]}function ht(t){return Mt[t.getUTCDay()]}function dt(t){return Tt[t.getUTCDay()]}function mt(t){return Dt[t.getUTCMonth()]}function pt(t){return xt[t.getUTCMonth()]}function vt(t){return wt[+(t.getUTCHours()>=12)]}var gt=t.dateTime,yt=t.date,_t=t.time,wt=t.periods,Tt=t.days,Mt=t.shortDays,xt=t.months,Dt=t.shortMonths,Ft=c(wt),At=s(wt),Ct=c(Tt),bt=s(Tt),St=c(Mt),Ut=s(Mt),Lt=c(xt),Et=s(xt),Ot=c(Dt),Yt=s(Dt),Pt={a:at,A:ct,b:st,B:lt,c:null,d:D,e:D,H:F,I:A,j:C,L:b,m:S,M:U,p:ft,S:L,U:E,w:O,W:Y,x:null,X:null,y:P,Y:H,Z:N,"%":Q},Ht={a:ht,A:dt,b:mt,B:pt,c:null,d:I,e:I,H:j,I:k,j:R,L:W,m:q,M:z,p:vt,S:B,U:V,w:X,W:Z,x:null,X:null,y:$,Y:J,Z:G,"%":Q},Nt={a:K,A:tt,b:et,B:nt,c:it,d:g,e:g,H:_,I:_,j:y,L:M,m:v,M:w,p:a,S:T,U:f,w:l,W:h,x:ot,X:ut,y:m,Y:d,Z:p,"%":x};return Pt.x=e(yt,Pt),Pt.X=e(_t,Pt),Pt.c=e(gt,Pt),Ht.x=e(yt,Ht),Ht.X=e(_t,Ht),Ht.c=e(gt,Ht),{format:function(t){var n=e(t+="",Pt);return n.toString=function(){return t},n},parse:function(t){var e=o(t+="",n);return e.toString=function(){return t},e},utcFormat:function(t){var n=e(t+="",Ht);return n.toString=function(){return t},n},utcParse:function(t){var e=o(t,r);return e.toString=function(){return t},e}}}function u(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function a(t){return t.replace(ut,"\\$&")}function c(t){return new RegExp("^(?:"+t.map(a).join("|")+")","i")}function s(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function l(t,e,n){var r=it.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function f(t,e,n){var r=it.exec(e.slice(n));return r?(t.U=+r[0],n+r[0].length):-1}function h(t,e,n){var r=it.exec(e.slice(n));return r?(t.W=+r[0],n+r[0].length):-1}function d(t,e,n){var r=it.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function m(t,e,n){var r=it.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function p(t,e,n){var r=/^(Z)|([+-]\d\d)(?:\:?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function v(t,e,n){var r=it.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function g(t,e,n){var r=it.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function y(t,e,n){var r=it.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function _(t,e,n){var r=it.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function w(t,e,n){var r=it.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function T(t,e,n){var r=it.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function M(t,e,n){var r=it.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function x(t,e,n){var r=ot.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function D(t,e){return u(t.getDate(),e,2)}function F(t,e){return u(t.getHours(),e,2)}function A(t,e){return u(t.getHours()%12||12,e,2)}function C(t,n){return u(1+e.timeDay.count(e.timeYear(t),t),n,3)}function b(t,e){return u(t.getMilliseconds(),e,3)}function S(t,e){return u(t.getMonth()+1,e,2)}function U(t,e){return u(t.getMinutes(),e,2)}function L(t,e){return u(t.getSeconds(),e,2)}function E(t,n){return u(e.timeSunday.count(e.timeYear(t),t),n,2)}function O(t){return t.getDay()}function Y(t,n){return u(e.timeMonday.count(e.timeYear(t),t),n,2)}function P(t,e){return u(t.getFullYear()%100,e,2)}function H(t,e){return u(t.getFullYear()%1e4,e,4)}function N(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+u(e/60|0,"0",2)+u(e%60,"0",2)}function I(t,e){return u(t.getUTCDate(),e,2)}function j(t,e){return u(t.getUTCHours(),e,2)}function k(t,e){return u(t.getUTCHours()%12||12,e,2)}function R(t,n){return u(1+e.utcDay.count(e.utcYear(t),t),n,3)}function W(t,e){return u(t.getUTCMilliseconds(),e,3)}function q(t,e){return u(t.getUTCMonth()+1,e,2)}function z(t,e){return u(t.getUTCMinutes(),e,2)}function B(t,e){return u(t.getUTCSeconds(),e,2)}function V(t,n){return u(e.utcSunday.count(e.utcYear(t),t),n,2)}function X(t){return t.getUTCDay()}function Z(t,n){return u(e.utcMonday.count(e.utcYear(t),t),n,2)}function $(t,e){return u(t.getUTCFullYear()%100,e,2)}function J(t,e){return u(t.getUTCFullYear()%1e4,e,4)}function G(){return"+0000"}function Q(){return"%"}function K(e){return nt=o(e),t.timeFormat=nt.format,t.timeParse=nt.parse,t.utcFormat=nt.utcFormat,t.utcParse=nt.utcParse,nt}function tt(t){return t.toISOString()}function et(t){var e=new Date(t);return isNaN(e)?null:e}var nt,rt={"-":"",_:" ",0:"0"},it=/^\s*\d+/,ot=/^%/,ut=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;K({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var at=Date.prototype.toISOString?tt:t.utcFormat("%Y-%m-%dT%H:%M:%S.%LZ"),ct=+new Date("2000-01-01T00:00:00.000Z")?et:t.utcParse("%Y-%m-%dT%H:%M:%S.%LZ");t.timeFormatDefaultLocale=K,t.timeFormatLocale=o,t.isoFormat=at,t.isoParse=ct,Object.defineProperty(t,"__esModule",{value:!0})})},{"d3-time":4}],4:[function(t,e,n){!function(t,r){r("object"==typeof n&&void 0!==e?n:t.d3=t.d3||{})}(this,function(t){"use strict";function e(t,n,r,u){function a(e){return t(e=new Date(+e)),e}return a.floor=a,a.ceil=function(e){return t(e=new Date(e-1)),n(e,1),t(e),e},a.round=function(t){var e=a(t),n=a.ceil(t);return t-e<n-t?e:n},a.offset=function(t,e){return n(t=new Date(+t),null==e?1:Math.floor(e)),t},a.range=function(e,r,i){var o=[];if(e=a.ceil(e),i=null==i?1:Math.floor(i),!(e<r&&i>0))return o;do{o.push(new Date(+e))}while(n(e,i),t(e),e<r);return o},a.filter=function(r){return e(function(e){if(e>=e)for(;t(e),!r(e);)e.setTime(e-1)},function(t,e){if(t>=t)for(;--e>=0;)for(;n(t,1),!r(t););})},r&&(a.count=function(e,n){return i.setTime(+e),o.setTime(+n),t(i),t(o),Math.floor(r(i,o))},a.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?a.filter(u?function(e){return u(e)%t==0}:function(e){return a.count(0,e)%t==0}):a:null}),a}function n(t){return e(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*c)/s})}function r(t){return e(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/s})}var i=new Date,o=new Date,u=e(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});u.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?e(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):u:null};var a=u.range,c=6e4,s=6048e5,l=e(function(t){t.setTime(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(+t+1e3*e)},function(t,e){return(e-t)/1e3},function(t){return t.getUTCSeconds()}),f=l.range,h=e(function(t){t.setTime(Math.floor(t/c)*c)},function(t,e){t.setTime(+t+e*c)},function(t,e){return(e-t)/c},function(t){return t.getMinutes()}),d=h.range,m=e(function(t){var e=t.getTimezoneOffset()*c%36e5;e<0&&(e+=36e5),t.setTime(36e5*Math.floor((+t-e)/36e5)+e)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getHours()}),p=m.range,v=e(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*c)/864e5},function(t){return t.getDate()-1}),g=v.range,y=n(0),_=n(1),w=n(2),T=n(3),M=n(4),x=n(5),D=n(6),F=y.range,A=_.range,C=w.range,b=T.range,S=M.range,U=x.range,L=D.range,E=e(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),O=E.range,Y=e(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});Y.every=function(t){return isFinite(t=Math.floor(t))&&t>0?e(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n*t)}):null};var P=Y.range,H=e(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*c)},function(t,e){return(e-t)/c},function(t){return t.getUTCMinutes()}),N=H.range,I=e(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getUTCHours()}),j=I.range,k=e(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/864e5},function(t){return t.getUTCDate()-1}),R=k.range,W=r(0),q=r(1),z=r(2),B=r(3),V=r(4),X=r(5),Z=r(6),$=W.range,J=q.range,G=z.range,Q=B.range,K=V.range,tt=X.range,et=Z.range,nt=e(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),rt=nt.range,it=e(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});it.every=function(t){return isFinite(t=Math.floor(t))&&t>0?e(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)}):null};var ot=it.range;t.timeInterval=e,t.timeMillisecond=u,t.timeMilliseconds=a,t.utcMillisecond=u,t.utcMilliseconds=a,t.timeSecond=l,t.timeSeconds=f,t.utcSecond=l,t.utcSeconds=f,t.timeMinute=h,t.timeMinutes=d,t.timeHour=m,t.timeHours=p,t.timeDay=v,t.timeDays=g,t.timeWeek=y,t.timeWeeks=F,t.timeSunday=y,t.timeSundays=F,t.timeMonday=_,t.timeMondays=A,t.timeTuesday=w,t.timeTuesdays=C,t.timeWednesday=T,t.timeWednesdays=b,t.timeThursday=M,t.timeThursdays=S,t.timeFriday=x,t.timeFridays=U,t.timeSaturday=D,t.timeSaturdays=L,t.timeMonth=E,t.timeMonths=O,t.timeYear=Y,t.timeYears=P,t.utcMinute=H,t.utcMinutes=N,t.utcHour=I,t.utcHours=j,t.utcDay=k,t.utcDays=R,t.utcWeek=W,t.utcWeeks=$,t.utcSunday=W,t.utcSundays=$,t.utcMonday=q,t.utcMondays=J,t.utcTuesday=z,t.utcTuesdays=G,t.utcWednesday=B,t.utcWednesdays=Q,t.utcThursday=V,t.utcThursdays=K,t.utcFriday=X,t.utcFridays=tt,t.utcSaturday=Z,t.utcSaturdays=et,t.utcMonth=nt,t.utcMonths=rt,t.utcYear=it,t.utcYears=ot,Object.defineProperty(t,"__esModule",{value:!0})})},{}],5:[function(t,e,n){"use strict";function r(t){if(t)switch(t=t.toLowerCase()){case"q":case n.QUANTITATIVE:return"quantitative";case"t":case n.TEMPORAL:return"temporal";case"o":case n.ORDINAL:return"ordinal";case"n":case n.NOMINAL:return"nominal"}}Object.defineProperty(n,"__esModule",{value:!0});var i;!function(t){t.QUANTITATIVE="quantitative",t.ORDINAL="ordinal",t.TEMPORAL="temporal",t.NOMINAL="nominal"}(i=n.Type||(n.Type={})),n.QUANTITATIVE=i.QUANTITATIVE,n.ORDINAL=i.ORDINAL,n.TEMPORAL=i.TEMPORAL,n.NOMINAL=i.NOMINAL,n.getFullName=r},{}],6:[function(t,e,n){"use strict";function r(t,e,n){if(void 0!==t&&null!==t&&e)switch(e){case"time":return n?s.timeFormat(n)(t):u(t);case"number":return n?a.format(n)(t):o(t);case"string":default:return t}}function i(t){return"number"==typeof t?o(t):t instanceof Date?u(t):t}function o(t){return t%1==0?a.format(",")(t):a.format(",.2f")(t)}function u(t){var e=s.timeFormat(".%L"),n=s.timeFormat(":%S"),r=s.timeFormat("%I:%M"),i=s.timeFormat("%I %p"),o=s.timeFormat("%a %d"),u=s.timeFormat("%b %d"),a=s.timeFormat("%B"),l=s.timeFormat("%Y");return(c.timeSecond(t)<t?e:c.timeMinute(t)<t?n:c.timeHour(t)<t?r:c.timeDay(t)<t?i:c.timeMonth(t)<t?c.timeWeek(t)<t?o:u:c.timeYear(t)<t?a:l)(t)}Object.defineProperty(n,"__esModule",{value:!0});var a=t("d3-format"),c=t("d3-time"),s=t("d3-time-format");n.customFormat=r,n.autoFormat=i,n.autoNumberFormat=o,n.autoTimeFormat=u},{"d3-format":1,"d3-time":4,"d3-time-format":3}],7:[function(t,e,n){"use strict";function r(t,e){return void 0===e&&(e={showAllFields:!0}),o(t,f(e)),{destroy:function(){t.removeEventListener("mouseover.tooltipInit"),t.removeEventListener("mousemove.tooltipUpdate"),t.removeEventListener("mouseout.tooltipRemove"),u()}}}function i(t,e,n){return void 0===n&&(n={showAllFields:!0}),n=p.supplementOptions(f(n),e),o(t,n),{destroy:function(){t.removeEventListener("mouseover.tooltipInit"),t.removeEventListener("mousemove.tooltipUpdate"),t.removeEventListener("mouseout.tooltipRemove"),u()}}}function o(t,e){t.addEventListener("mouseover.tooltipInit",function(t,n){l(n)&&(u(),g=window.setTimeout(function(){a(t,n,e)},e.delay||d.DELAY))}),t.addEventListener("mousemove.tooltipUpdate",function(t,n){l(n)&&y&&c(t,n,e)}),t.addEventListener("mouseout.tooltipRemove",function(t,n){l(n)&&(u(),y&&s(t,n,e))})}function u(){window.clearTimeout(g),g=void 0}function a(t,e,n){var r=v.getTooltipPlaceholder(),i=m.getTooltipData(e,n);i&&0!==i.length&&(v.bindData(r,i),v.updatePosition(t,n),v.updateColorTheme(n),h.select("#vis-tooltip").style("visibility","visible"),y=!0,n.onAppear&&n.onAppear(t,e))}function c(t,e,n){l(e)&&(v.updatePosition(t,n),n.onMove&&n.onMove(t,e))}function s(t,e,n){l(e)&&(h.select("#vis-tooltip").style("visibility","hidden"),y=!1,v.clearData(),v.clearColorTheme(),v.clearPosition(),n.onDisappear&&n.onDisappear(t,e))}function l(t){return!(!t||!t.datum)&&!t.datum._facetID}function f(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}Object.defineProperty(n,"__esModule",{value:!0});var h=t("d3-selection"),d=t("./options"),m=t("./parseOption"),p=t("./supplementField"),v=t("./tooltipDisplay"),g=void 0,y=!1;n.vega=r,n.vegaLite=i},{"./options":8,"./parseOption":9,"./supplementField":10,"./tooltipDisplay":11,"d3-selection":2}],8:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.DELAY=100},{}],9:[function(t,e,n){"use strict";function r(t,e){if("group"!==t.mark.marktype||"nested_main_group"!==t.mark.name){var n={};for(var r in t.datum)t.datum.hasOwnProperty(r)&&(n[r]=t.datum[r]);return a(n,["_id","_prev","width","height","count_start","count_end","layout_start","layout_mid","layout_end","layout_path","layout_x","layout_y"]),c(n,e.fields),s(n,e.fields),l(t.mark.marktype,n),!0===e.showAllFields?u(n,e):i(n,e)}}function i(t,e){var n=[];return e.fields.forEach(function(e){var r=e.title?e.title:e.field,i=o(t,e.field);if(void 0!==i){var u=f.customFormat(i,e.formatType,e.format)||f.autoFormat(i);n.push({title:r,value:u})}}),n}function o(t,e){var n,r=e.split("."),i=r[0];return r.shift(),t[i]&&(n=t[i],r.forEach(function(t){n[t]&&(n=n[t])})),void 0===n?void console.warn("[Tooltip] Cannot find field "+e+" in data."):n}function u(t,e){var n=[],r={};if(e&&e.fields)for(var i=0,o=e.fields;i<o.length;i++){var u=o[i];r[u.field]=u}for(var a in t)if(t.hasOwnProperty(a)){var c=t[a],s=void 0;s=r[a]&&r[a].title?r[a].title:a;var l=void 0,h=void 0;r[a]&&(l=r[a].formatType,h=r[a].format);var d=f.customFormat(c,l,h)||f.autoFormat(c);n.push({title:s,value:d})}return n}function a(t,e){e.forEach(function(e){delete t[e]})}function c(t,e){e&&e.forEach(function(e){e.removeOriginalTemporalField&&a(t,[e.removeOriginalTemporalField])})}function s(t,e){if(e)return e.forEach(function(e){if(!0===e.bin){var n=e.field,r=n.concat("_start"),i=n.concat("_mid"),o=n.concat("_end"),u=t[r],c=t[o];if(void 0!==u&&void 0!==c){var s=u+"-"+c;t[n]=s}var l=[];l.push(r,i,o),a(t,l)}}),t}function l(t,e){if("line"===t||"area"===t){var n=[];for(var r in e)e.hasOwnProperty(r)&&e[r]instanceof Date&&n.push(r);a(e,n)}}Object.defineProperty(n,"__esModule",{value:!0});var f=t("./formatFieldValue");n.getTooltipData=r,n.prepareCustomFieldsData=i,n.getValue=o,n.prepareAllFieldsData=u,n.removeFields=a,n.removeDuplicateTimeFields=c,n.combineBinFields=s,n.dropFieldsForLineArea=l},{"./formatFieldValue":6}],10:[function(t,e,n){(function(e){"use strict";function r(t,e){var n=[];return!1!==t.showAllFields?a.spec.fieldDefs(e).forEach(function(r){var o=u(i(t.fields,r),r,e);n.push(o)}):t.fields&&t.fields.forEach(function(t){var r=u(t,o(a.spec.fieldDefs(e),t),e);n.push(r)}),t.fields=n,t}function i(t,e){if(e&&t&&!(t.length<=0))if(e.aggregate){for(var n=0,r=t;n<r.length;n++)if((c=r[n]).field===e.field&&c.aggregate===e.aggregate)return c;for(var i=0,o=t;i<o.length;i++)if((c=o[i]).field===e.field&&!c.aggregate)return c}else for(var u=0,a=t;u<a.length;u++){var c=a[u];if(c.field===e.field)return c}}function o(t,e){if(e&&e.field&&t)for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i.field===e.field){if(!i.aggregate)return i;if(i.aggregate===e.aggregate||!e.aggregate)return i}}}function u(t,e,n){var r=a.util.extend({},n.config);{if(t||e){!t&&e&&(t={}),t&&!e&&(e={});var i={};if(i.field=e.field?a.fieldDef.field(e):t.field,e.type===c.TEMPORAL&&e.timeUnit){var o=e.field;i.removeOriginalTemporalField=o;for(var u=0,l=a.spec.fieldDefs(n);u<l.length;u++){var f=l[u];if(f.field===o&&!f.timeUnit){i.removeOriginalTemporalField=void 0;break}}}if(r.countTitle||(r.countTitle=a.config.defaultConfig.countTitle),i.title=t.title?t.title:a.fieldDef.title(e,r),i.formatType=t.formatType?t.formatType:s[e.type],t.format)i.format=t.format;else switch(i.formatType){case"time":i.format=e.timeUnit?a.timeUnit.formatExpression(e.timeUnit,"",!1,!1).split("'")[1]:r.timeFormat||a.config.defaultConfig.timeFormat;break;case"number":i.format=r.numberFormat}return e.bin&&(i.field=i.field.replace("_start","_range"),i.bin=!0,i.formatType="string"),i}console.error("[Tooltip] Cannot supplement a field when field and fieldDef are both empty.")}}Object.defineProperty(n,"__esModule",{value:!0});var a="undefined"!=typeof window?window.vl:void 0!==e?e.vl:null,c=t("vega-lite/build/src/type"),s={quantitative:"number",temporal:"time",ordinal:void 0,nominal:void 0};n.supplementOptions=r,n.getFieldOption=i,n.getFieldDef=o,n.supplementFieldOption=u}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"vega-lite/build/src/type":5}],11:[function(t,e,n){"use strict";function r(){return l.select("#vis-tooltip").empty()?l.select("body").append("div").attr("id","vis-tooltip").attr("class","vg-tooltip"):l.select("#vis-tooltip")}function i(t,e){t.selectAll("table").remove();var n=t.append("table").selectAll(".tooltip-row").data(e);n.exit().remove();var r=n.enter().append("tr").attr("class","tooltip-row");r.append("td").attr("class","key").text(function(t){return t.title+":"}),r.append("td").attr("class","value").text(function(t){return t.value})}function o(){l.select("#vis-tooltip").selectAll(".tooltip-row").data([]).exit().remove()}function u(t,e){var n=10,r=10;e&&e.offset&&void 0!==e.offset.x&&null!==e.offset.x&&(n=e.offset.x),e&&e.offset&&void 0!==e.offset.y&&null!==e.offset.y&&(r=e.offset.y),l.select("#vis-tooltip").style("top",function(){var e=this.getBoundingClientRect().height;return t.clientY+e+r<window.innerHeight?t.clientY+r+"px":t.clientY-e-r+"px"}).style("left",function(){var e=this.getBoundingClientRect().width;return t.clientX+e+n<window.innerWidth?t.clientX+n+"px":t.clientX-e-n+"px"})}function a(){l.select("#vis-tooltip").style("top","-9999px").style("left","-9999px")}function c(t){s(),t&&"dark"===t.colorTheme?l.select("#vis-tooltip").classed("dark-theme",!0):l.select("#vis-tooltip").classed("light-theme",!0)}function s(){l.select("#vis-tooltip").classed("dark-theme light-theme",!1)}Object.defineProperty(n,"__esModule",{value:!0});var l=t("d3-selection");n.getTooltipPlaceholder=r,n.bindData=i,n.clearData=o,n.updatePosition=u,n.clearPosition=a,n.updateColorTheme=c,n.clearColorTheme=s},{"d3-selection":2}]},{},[7])(7)});